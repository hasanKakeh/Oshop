(self.webpackChunkoshop=self.webpackChunkoshop||[]).push([[179],{8255:kt=>{function q(j){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+j+"'");throw a.code="MODULE_NOT_FOUND",a})}q.keys=()=>[],q.resolve=q,q.id=8255,kt.exports=q},7716:(kt,q,j)=>{"use strict";j.d(q,{deG:()=>gd,tb:()=>fM,AFp:()=>hM,ip1:()=>fb,CZH:()=>mv,hGG:()=>q2,z2F:()=>vb,sBO:()=>tO,Sil:()=>mb,_Vd:()=>r_,AcB:()=>mp,EJc:()=>fR,SBq:()=>Gd,qLn:()=>Jf,vpe:()=>Ku,gxx:()=>Ad,tBr:()=>Oc,XFs:()=>Rt,OlP:()=>Qi,zs3:()=>Er,IIB:()=>GF,ZZ4:()=>zw,aQg:()=>$w,soG:()=>AS,YKP:()=>nO,v3s:()=>I2,h0i:()=>a_,PXZ:()=>IS,R0b:()=>Ju,FiY:()=>Zl,r_U:()=>BF,Lbi:()=>y_,g9A:()=>pM,n_E:()=>g_,Qsj:()=>du,FYo:()=>Uw,JOm:()=>st,Tiy:()=>Z0,q3G:()=>ti,tp0:()=>ua,EAV:()=>P2,Rgc:()=>qw,dDg:()=>bM,DyG:()=>Fa,q4F:()=>uf,GfV:()=>RA,s_b:()=>iv,ifc:()=>yt,eFA:()=>wv,G48:()=>lk,Gpc:()=>de,f3M:()=>co,X6Q:()=>ER,_c5:()=>H2,VLi:()=>sk,c2e:()=>gM,zSh:()=>bl,wAp:()=>pn,vHH:()=>rt,EiD:()=>nn,mCW:()=>Nc,qzn:()=>gh,JVY:()=>rC,pB0:()=>X_,eBb:()=>Ep,L6k:()=>J_,LAX:()=>oC,cg1:()=>$i,Tjo:()=>Ck,kL8:()=>Ag,yhl:()=>mh,dqk:()=>an,sIi:()=>_g,CqO:()=>Nh,QGY:()=>Ym,F4k:()=>D0,RDi:()=>wu,AaK:()=>ye,z3N:()=>yl,qOj:()=>zp,TTD:()=>oi,_Bn:()=>Yx,xp6:()=>Op,uIk:()=>jn,Tol:()=>Hy,Gre:()=>n_,DjV:()=>k0,ekj:()=>Fd,Suo:()=>ZO,Xpm:()=>Gr,lG2:()=>ri,Yz7:()=>fi,cJS:()=>Li,oAB:()=>Le,Yjl:()=>vn,Y36:()=>Eg,_UZ:()=>b0,GkF:()=>$m,BQk:()=>zm,ynx:()=>bw,qZA:()=>tf,TgZ:()=>ef,EpF:()=>S0,n5z:()=>fd,Ikx:()=>hn,SDv:()=>Ux,QtT:()=>Wx,pQV:()=>bA,LFG:()=>sr,$8M:()=>lh,$Z:()=>Jp,NdJ:()=>Pd,CRH:()=>KO,kcU:()=>Mf,O4$:()=>dd,oxw:()=>Ny,ALo:()=>qA,lcZ:()=>fS,xi3:()=>zh,Hsn:()=>Fy,F$t:()=>Ew,Q6J:()=>zu,s9C:()=>Zm,MGl:()=>ky,VKq:()=>sb,WLB:()=>NO,kEZ:()=>hS,iGM:()=>qO,MAs:()=>Hc,CHM:()=>Cr,LSH:()=>Tp,kYT:()=>Y,Udp:()=>Xm,WFA:()=>Py,d8E:()=>Vn,YNc:()=>qp,W1O:()=>QO,_uU:()=>e_,Oqu:()=>jy,hij:()=>Vh,AsE:()=>Iw,Gf:()=>_S});var a=j(9765),Q=j(5319),Z=j(7574),Re=j(6682),Ae=j(8819);function be(p){for(let f in p)if(p[f]===be)return f;throw Error("Could not find renamed property on target object.")}function fe(p,f){for(const g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&(p[g]=f[g])}function ye(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(ye).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const f=p.toString();if(null==f)return""+f;const g=f.indexOf("\n");return-1===g?f:f.substring(0,g)}function we(p,f){return null==p||""===p?null===f?"":f:null==f||""===f?p:p+" "+f}const oe=be({__forward_ref__:be});function de(p){return p.__forward_ref__=de,p.toString=function(){return ye(this())},p}function he(p){return Ne(p)?p():p}function Ne(p){return"function"==typeof p&&p.hasOwnProperty(oe)&&p.__forward_ref__===de}class rt extends Error{constructor(f,g){super(function(p,f){return`${p?`NG0${p}: `:""}${f}`}(f,g)),this.code=f}}function xe(p){return"string"==typeof p?p:null==p?"":String(p)}function ke(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():xe(p)}function Hn(p,f){const g=f?` in ${f}`:"";throw new rt("201",`No provider for ${ke(p)} found${g}`)}function $t(p,f,g,y){throw new Error(`ASSERTION ERROR: ${p}`+(null==y?"":` [Expected=> ${g} ${y} ${f} <=Actual]`))}function fi(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function Li(p){return{providers:p.providers||[],imports:p.imports||[]}}function rn(p){return ii(p,vo)||ii(p,hr)}function ii(p,f){return p.hasOwnProperty(f)?p[f]:null}function yo(p){return p&&(p.hasOwnProperty(lt)||p.hasOwnProperty(pr))?p[lt]:null}const vo=be({\u0275prov:be}),lt=be({\u0275inj:be}),hr=be({ngInjectableDef:be}),pr=be({ngInjectorDef:be});var Rt=(()=>((Rt=Rt||{})[Rt.Default=0]="Default",Rt[Rt.Host=1]="Host",Rt[Rt.Self=2]="Self",Rt[Rt.SkipSelf=4]="SkipSelf",Rt[Rt.Optional=8]="Optional",Rt))();let en;function Wr(p){const f=en;return en=p,f}function qt(p,f,g){const y=rn(p);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:g&Rt.Optional?null:void 0!==f?f:void Hn(ye(p),"Injector")}function bn(p){return{toString:p}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),yt=(()=>((yt=yt||{})[yt.Emulated=0]="Emulated",yt[yt.None=2]="None",yt[yt.ShadowDom=3]="ShadowDom",yt))();const jt="undefined"!=typeof globalThis&&globalThis,ac="undefined"!=typeof window&&window,Qs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,an=jt||"undefined"!=typeof global&&global||ac||Qs,_e={},pe=[],ve=be({\u0275cmp:be}),Ze=be({\u0275dir:be}),Fe=be({\u0275pipe:be}),St=be({\u0275mod:be}),dn=be({\u0275loc:be}),Jn=be({\u0275fac:be}),qi=be({__NG_ELEMENT_ID__:be});let nr=0;function Gr(p){return bn(()=>{const g={},y={type:p.type,providersResolver:null,decls:p.decls,vars:p.vars,factory:null,template:p.template||null,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:p.exportAs||null,onPush:p.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:p.selectors||pe,viewQuery:p.viewQuery||null,features:p.features||null,data:p.data||{},encapsulation:p.encapsulation||yt.Emulated,id:"c",styles:p.styles||pe,_:null,setInput:null,schemas:p.schemas||null,tView:null},w=p.directives,b=p.features,D=p.pipes;return y.id+=nr++,y.inputs=Tt(p.inputs,g),y.outputs=Tt(p.outputs),b&&b.forEach(I=>I(y)),y.directiveDefs=w?()=>("function"==typeof w?w():w).map(Ce):null,y.pipeDefs=D?()=>("function"==typeof D?D():D).map(se):null,y})}function Ce(p){return qn(p)||function(p){return p[Ze]||null}(p)}function se(p){return function(p){return p[Fe]||null}(p)}const $e={};function Le(p){return bn(()=>{const f={type:p.type,bootstrap:p.bootstrap||pe,declarations:p.declarations||pe,imports:p.imports||pe,exports:p.exports||pe,transitiveCompileScopes:null,schemas:p.schemas||null,id:p.id||null};return null!=p.id&&($e[p.id]=p.type),f})}function Y(p,f){return bn(()=>{const g=Ei(p,!0);g.declarations=f.declarations||pe,g.imports=f.imports||pe,g.exports=f.exports||pe})}function Tt(p,f){if(null==p)return _e;const g={};for(const y in p)if(p.hasOwnProperty(y)){let w=p[y],b=w;Array.isArray(w)&&(b=w[1],w=w[0]),g[w]=y,f&&(f[w]=b)}return g}const ri=Gr;function vn(p){return{type:p.type,name:p.name,factory:null,pure:!1!==p.pure,onDestroy:p.type.prototype.ngOnDestroy||null}}function qn(p){return p[ve]||null}function Ei(p,f){const g=p[St]||null;if(!g&&!0===f)throw new Error(`Type ${ye(p)} does not have '\u0275mod' property.`);return g}function Bi(p){return Array.isArray(p)&&"object"==typeof p[1]}function to(p){return Array.isArray(p)&&!0===p[1]}function bf(p){return 0!=(8&p.flags)}function yu(p){return 2==(2&p.flags)}function wo(p){return 1==(1&p.flags)}function as(p){return null!==p.template}function Ds(p){return 0!=(512&p[2])}function Ts(p,f){return p.hasOwnProperty(Jn)?p[Jn]:null}class rd{constructor(f,g,y){this.previousValue=f,this.currentValue=g,this.firstChange=y}isFirstChange(){return this.firstChange}}function oi(){return od}function od(p){return p.type.prototype.ngOnChanges&&(p.setInput=no),Y_}function Y_(){const p=Xs(this),f=null==p?void 0:p.current;if(f){const g=p.previous;if(g===_e)p.previous=f;else for(let y in f)g[y]=f[y];p.current=null,this.ngOnChanges(f)}}function no(p,f,g,y){const w=Xs(p)||function(p,f){return p[Sa]=f}(p,{previous:_e,current:null}),b=w.current||(w.current={}),D=w.previous,I=this.declaredInputs[g],P=D[I];b[I]=new rd(P&&P.currentValue,f,D===_e),p[y]=f}oi.ngInherit=!0;const Sa="__ngSimpleChanges__";function Xs(p){return p[Sa]||null}const hc="http://www.w3.org/2000/svg";let pc;function wu(p){pc=p}function cl(){return void 0!==pc?pc:"undefined"!=typeof document?document:void 0}function vi(p){return!!p.listen}const ta={createRenderer:(p,f)=>cl()};function ci(p){for(;Array.isArray(p);)p=p[0];return p}function Ll(p,f){return ci(f[p])}function Lo(p,f){return ci(f[p.index])}function Ta(p,f){return p.data[f]}function Aa(p,f){return p[f]}function Mi(p,f){const g=f[p];return Bi(g)?g:g[0]}function fc(p){return 4==(4&p[2])}function Su(p){return 128==(128&p[2])}function or(p,f){return null==f?null:p[f]}function Ra(p){p[18]=0}function Gl(p,f){p[5]+=f;let g=p,y=p[3];for(;null!==y&&(1===f&&1===g[5]||-1===f&&0===g[5]);)y[5]+=f,g=y,y=y[3]}const un={lFrame:nh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function gc(){return un.bindingsEnabled}function tt(){return un.lFrame.lView}function ut(){return un.lFrame.tView}function Cr(p){return un.lFrame.contextLView=p,p[8]}function vt(){let p=Xd();for(;null!==p&&64===p.type;)p=p.parent;return p}function Xd(){return un.lFrame.currentTNode}function Rr(){const p=un.lFrame,f=p.currentTNode;return p.isParent?f:f.parent}function io(p,f){const g=un.lFrame;g.currentTNode=p,g.isParent=f}function di(){return un.lFrame.isParent}function mc(){un.lFrame.isParent=!1}function Ia(){return un.isInCheckNoChangesMode}function xa(p){un.isInCheckNoChangesMode=p}function Ki(){const p=un.lFrame;let f=p.bindingRootIndex;return-1===f&&(f=p.bindingRootIndex=p.tView.bindingStartIndex),f}function Go(){return un.lFrame.bindingIndex}function ro(){return un.lFrame.bindingIndex++}function Ir(p){const f=un.lFrame,g=f.bindingIndex;return f.bindingIndex=f.bindingIndex+p,g}function oo(p){un.lFrame.inI18n=p}function ud(p,f){const g=un.lFrame;g.bindingIndex=g.bindingRootIndex=p,Oa(f)}function Oa(p){un.lFrame.currentDirectiveIndex=p}function Bo(p){const f=un.lFrame.currentDirectiveIndex;return-1===f?null:p[f]}function eh(){return un.lFrame.currentQueryIndex}function vc(p){un.lFrame.currentQueryIndex=p}function Vl(p){const f=p[1];return 2===f.type?f.declTNode:1===f.type?p[6]:null}function cd(p,f,g){if(g&Rt.SkipSelf){let w=f,b=p;for(;!(w=w.parent,null!==w||g&Rt.Host||(w=Vl(b),null===w||(b=b[15],10&w.type))););if(null===w)return!1;f=w,p=b}const y=un.lFrame=th();return y.currentTNode=f,y.lView=p,!0}function hl(p){const f=th(),g=p[1];un.lFrame=f,f.currentTNode=g.firstChild,f.lView=p,f.tView=g,f.contextLView=p,f.bindingIndex=g.bindingStartIndex,f.inI18n=!1}function th(){const p=un.lFrame,f=null===p?null:p.child;return null===f?nh(p):f}function nh(p){const f={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=f),f}function If(){const p=un.lFrame;return un.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const ih=If;function ra(){const p=If();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function Pi(){return un.lFrame.selectedIndex}function Cc(p){un.lFrame.selectedIndex=p}function Ri(){const p=un.lFrame;return Ta(p.tView,p.selectedIndex)}function dd(){un.lFrame.currentNamespace=hc}function Mf(){un.lFrame.currentNamespace=null}function rh(p,f){for(let g=f.directiveStart,y=f.directiveEnd;g<y;g++){const b=p.data[g].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:z}=b;D&&(p.contentHooks||(p.contentHooks=[])).push(-g,D),I&&((p.contentHooks||(p.contentHooks=[])).push(g,I),(p.contentCheckHooks||(p.contentCheckHooks=[])).push(g,I)),P&&(p.viewHooks||(p.viewHooks=[])).push(-g,P),G&&((p.viewHooks||(p.viewHooks=[])).push(g,G),(p.viewCheckHooks||(p.viewCheckHooks=[])).push(g,G)),null!=z&&(p.destroyHooks||(p.destroyHooks=[])).push(g,z)}}function Rs(p,f,g){lp(p,f,3,g)}function Au(p,f,g,y){(3&p[2])===g&&lp(p,f,g,y)}function mr(p,f){let g=p[2];(3&g)===f&&(g&=2047,g+=1,p[2]=g)}function lp(p,f,g,y){const b=null!=y?y:-1,D=f.length-1;let I=0;for(let P=void 0!==y?65535&p[18]:0;P<D;P++)if("number"==typeof f[P+1]){if(I=f[P],null!=y&&I>=y)break}else f[P]<0&&(p[18]+=65536),(I<b||-1==b)&&(Jg(p,g,f,P),p[18]=(4294901760&p[18])+P+2),P++}function Jg(p,f,g,y){const w=g[y]<0,b=g[y+1],I=p[w?-g[y]:g[y]];if(w){if(p[2]>>11<p[18]>>16&&(3&p[2])===f){p[2]+=2048;try{b.call(I)}finally{}}}else try{b.call(I)}finally{}}class wc{constructor(f,g,y){this.factory=f,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=y}}function up(p,f,g){const y=vi(p);let w=0;for(;w<g.length;){const b=g[w];if("number"==typeof b){if(0!==b)break;w++;const D=g[w++],I=g[w++],P=g[w++];y?p.setAttribute(f,I,P,D):f.setAttributeNS(D,I,P)}else{const D=b,I=g[++w];Eo(D)?y&&p.setProperty(f,D,I):y?p.setAttribute(f,D,I):f.setAttribute(D,I),w++}}return w}function em(p){return 3===p||4===p||6===p}function Eo(p){return 64===p.charCodeAt(0)}function Ec(p,f){if(null!==f&&0!==f.length)if(null===p||0===p.length)p=f.slice();else{let g=-1;for(let y=0;y<f.length;y++){const w=f[y];"number"==typeof w?g=w:0===g||sh(p,g,w,null,-1===g||2===g?f[++y]:null)}}return p}function sh(p,f,g,y,w){let b=0,D=p.length;if(-1===f)D=-1;else for(;b<p.length;){const I=p[b++];if("number"==typeof I){if(I===f){D=-1;break}if(I>f){D=b-1;break}}}for(;b<p.length;){const I=p[b];if("number"==typeof I)break;if(I===g){if(null===y)return void(null!==w&&(p[b+1]=w));if(y===p[b+1])return void(p[b+2]=w)}b++,null!==y&&b++,null!==w&&b++}-1!==D&&(p.splice(D,0,f),b=D+1),p.splice(b++,0,g),null!==y&&p.splice(b++,0,y),null!==w&&p.splice(b++,0,w)}function cp(p){return-1!==p}function Is(p){return 32767&p}function cs(p,f){let g=function(p){return p>>16}(p),y=f;for(;g>0;)y=y[15],g--;return y}let Sc=!0;function Ru(p){const f=Sc;return Sc=p,f}let pp=0;function Tc(p,f){const g=Ac(p,f);if(-1!==g)return g;const y=f[1];y.firstCreatePass&&(p.injectorIndex=f.length,Ul(y.data,p),Ul(f,null),Ul(y.blueprint,null));const w=zr(p,f),b=p.injectorIndex;if(cp(w)){const D=Is(w),I=cs(w,f),P=I[1].data;for(let G=0;G<8;G++)f[b+G]=I[D+G]|P[D+G]}return f[b+8]=w,b}function Ul(p,f){p.push(0,0,0,0,0,0,0,0,f)}function Ac(p,f){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===f[p.injectorIndex+8]?-1:p.injectorIndex}function zr(p,f){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let g=0,y=null,w=f;for(;null!==w;){const b=w[1],D=b.type;if(y=2===D?b.declTNode:1===D?w[6]:null,null===y)return-1;if(g++,w=w[15],-1!==y.injectorIndex)return y.injectorIndex|g<<16}return-1}function Ho(p,f,g){!function(p,f,g){let y;"string"==typeof g?y=g.charCodeAt(0)||0:g.hasOwnProperty(qi)&&(y=g[qi]),null==y&&(y=g[qi]=pp++);const w=255&y;f.data[p+(w>>5)]|=1<<w}(p,f,g)}function Xn(p,f,g){if(g&Rt.Optional)return p;Hn(f,"NodeInjector")}function Pa(p,f,g,y){if(g&Rt.Optional&&void 0===y&&(y=null),0==(g&(Rt.Self|Rt.Host))){const w=p[9],b=Wr(void 0);try{return w?w.get(f,y,g&Rt.Optional):qt(f,y,g&Rt.Optional)}finally{Wr(b)}}return Xn(y,f,g)}function fp(p,f,g,y=Rt.Default,w){if(null!==p){const b=function(p){if("string"==typeof p)return p.charCodeAt(0)||0;const f=p.hasOwnProperty(qi)?p[qi]:void 0;return"number"==typeof f?f>=0?255&f:Ci:f}(g);if("function"==typeof b){if(!cd(f,p,y))return y&Rt.Host?Xn(w,g,y):Pa(f,g,y,w);try{const D=b(y);if(null!=D||y&Rt.Optional)return D;Hn(g)}finally{ih()}}else if("number"==typeof b){let D=null,I=Ac(p,f),P=-1,G=y&Rt.Host?f[16][6]:null;for((-1===I||y&Rt.SkipSelf)&&(P=-1===I?zr(p,f):f[I+8],-1!==P&&ao(y,!1)?(D=f[1],I=Is(P),f=cs(P,f)):I=-1);-1!==I;){const z=f[1];if(ah(b,I,z.data)){const te=Wl(I,f,g,D,y,G);if(te!==Vt)return te}P=f[I+8],-1!==P&&ao(y,f[1].data[I+8]===G)&&ah(b,I,f)?(D=z,I=Is(P),f=cs(P,f)):I=-1}}}return Pa(f,g,y,w)}const Vt={};function Ci(){return new Wi(vt(),tt())}function Wl(p,f,g,y,w,b){const D=f[1],I=D.data[p+8],z=ei(I,D,g,null==y?yu(I)&&Sc:y!=D&&0!=(3&I.type),w&Rt.Host&&b===I);return null!==z?pd(f,D,z,I):Vt}function ei(p,f,g,y,w){const b=p.providerIndexes,D=f.data,I=1048575&b,P=p.directiveStart,z=b>>20,ne=w?I+z:p.directiveEnd;for(let ge=y?I:I+z;ge<ne;ge++){const Se=D[ge];if(ge<P&&g===Se||ge>=P&&Se.type===g)return ge}if(w){const ge=D[P];if(ge&&as(ge)&&ge.type===g)return P}return null}function pd(p,f,g,y){let w=p[g];const b=f.data;if(function(p){return p instanceof wc}(w)){const D=w;D.resolving&&function(p,f){throw new rt("200",`Circular dependency in DI detected for ${p}`)}(ke(b[g]));const I=Ru(D.canSeeViewProviders);D.resolving=!0;const P=D.injectImpl?Wr(D.injectImpl):null;cd(p,y,Rt.Default);try{w=p[g]=D.factory(void 0,b,p,y),f.firstCreatePass&&g>=y.directiveStart&&function(p,f,g){const{ngOnChanges:y,ngOnInit:w,ngDoCheck:b}=f.type.prototype;if(y){const D=od(f);(g.preOrderHooks||(g.preOrderHooks=[])).push(p,D),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(p,D)}w&&(g.preOrderHooks||(g.preOrderHooks=[])).push(0-p,w),b&&((g.preOrderHooks||(g.preOrderHooks=[])).push(p,b),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(p,b))}(g,b[g],f)}finally{null!==P&&Wr(P),Ru(I),D.resolving=!1,ih()}}return w}function ah(p,f,g){return!!(g[f+(p>>5)]&1<<p)}function ao(p,f){return!(p&Rt.Self||p&Rt.Host&&f)}class Wi{constructor(f,g){this._tNode=f,this._lView=g}get(f,g,y){return fp(this._tNode,this._lView,f,y,g)}}function fd(p){return bn(()=>{const f=p.prototype.constructor,g=f[Jn]||Na(f),y=Object.prototype;let w=Object.getPrototypeOf(p.prototype).constructor;for(;w&&w!==y;){const b=w[Jn]||Na(w);if(b&&b!==g)return b;w=Object.getPrototypeOf(w)}return b=>new b})}function Na(p){return Ne(p)?()=>{const f=Na(he(p));return f&&f()}:Ts(p)}function lh(p){return function(p,f){if("class"===f)return p.classes;if("style"===f)return p.styles;const g=p.attrs;if(g){const y=g.length;let w=0;for(;w<y;){const b=g[w];if(em(b))break;if(0===b)w+=2;else if("number"==typeof b)for(w++;w<y&&"string"==typeof g[w];)w++;else{if(b===f)return g[w+1];w+=2}}}return null}(vt(),p)}const jl="__parameters__",lo="__prop__metadata__";function zl(p){return function(...g){if(p){const y=p(...g);for(const w in y)this[w]=y[w]}}}function xs(p,f,g){return bn(()=>{const y=zl(f);function w(...b){if(this instanceof w)return y.apply(this,b),this;const D=new w(...b);return I.annotation=D,I;function I(P,G,z){const te=P.hasOwnProperty(jl)?P[jl]:Object.defineProperty(P,jl,{value:[]})[jl];for(;te.length<=z;)te.push(null);return(te[z]=te[z]||[]).push(D),P}}return g&&(w.prototype=Object.create(g.prototype)),w.prototype.ngMetadataName=p,w.annotationCls=w,w})}function Iu(p,f,g,y){return bn(()=>{const w=zl(f);function b(...D){if(this instanceof b)return w.apply(this,D),this;const I=new b(...D);return function(G,z){const te=G.constructor,ne=te.hasOwnProperty(lo)?te[lo]:Object.defineProperty(te,lo,{value:{}})[lo];ne[z]=ne.hasOwnProperty(z)&&ne[z]||[],ne[z].unshift(I),y&&y(G,z,...D)}}return g&&(b.prototype=Object.create(g.prototype)),b.prototype.ngMetadataName=p,b.annotationCls=b,b})}class Qi{constructor(f,g){this._desc=f,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=fi({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gd=new Qi("AnalyzeForEntryComponents");class Lf{}const mp=Iu("ContentChildren",(p,f={})=>Object.assign({selector:p,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},f),Lf),Fa=Function;function fs(p,f){void 0===f&&(f=p);for(let g=0;g<p.length;g++){let y=p[g];Array.isArray(y)?(f===p&&(f=p.slice(0,g)),fs(y,f)):f!==p&&f.push(y)}return f}function Ke(p,f){p.forEach(g=>Array.isArray(g)?Ke(g,f):f(g))}function $l(p,f,g){f>=p.length?p.push(g):p.splice(f,0,g)}function sa(p,f){return f>=p.length-1?p.pop():p.splice(f,1)[0]}function Yl(p,f){const g=[];for(let y=0;y<p;y++)g.push(f);return g}function To(p,f,g){let y=aa(p,f);return y>=0?p[1|y]=g:(y=~y,function(p,f,g,y){let w=p.length;if(w==f)p.push(g,y);else if(1===w)p.push(y,p[0]),p[0]=g;else{for(w--,p.push(p[w-1],p[w]);w>f;)p[w]=p[w-2],w--;p[f]=g,p[f+1]=y}}(p,y,f,g)),y}function at(p,f){const g=aa(p,f);if(g>=0)return p[1|g]}function aa(p,f){return function(p,f,g){let y=0,w=p.length>>g;for(;w!==y;){const b=y+(w-y>>1),D=p[b<<g];if(f===D)return b<<g;D>f?w=b:y=b+1}return~(w<<g)}(p,f,1)}const Nn={},gi="__NG_DI_FLAG__",Xi="ngTempTokenPath",Br=/\n/gm,Or="__source",uo=be({provide:String,useValue:be});let La;function la(p){const f=La;return La=p,f}function ml(p,f=Rt.Default){if(void 0===La)throw new Error("inject() must be called from an injection context");return null===La?qt(p,void 0,f):La.get(p,f&Rt.Optional?null:void 0,f)}function sr(p,f=Rt.Default){return(en||ml)(he(p),f)}const co=sr;function br(p){const f=[];for(let g=0;g<p.length;g++){const y=he(p[g]);if(Array.isArray(y)){if(0===y.length)throw new Error("Arguments array must have arguments.");let w,b=Rt.Default;for(let D=0;D<y.length;D++){const I=y[D],P=$r(I);"number"==typeof P?-1===P?w=I.token:b|=P:w=I}f.push(sr(w,b))}else f.push(sr(y))}return f}function yd(p,f){return p[gi]=f,p.prototype[gi]=f,p}function $r(p){return p[gi]}function yp(p,f,g,y){const w=p[Xi];throw f[Or]&&w.unshift(f[Or]),p.message=function(p,f,g,y=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.substr(2):p;let w=ye(f);if(Array.isArray(f))w=f.map(ye).join(" -> ");else if("object"==typeof f){let b=[];for(let D in f)if(f.hasOwnProperty(D)){let I=f[D];b.push(D+":"+("string"==typeof I?JSON.stringify(I):ye(I)))}w=`{${b.join(", ")}}`}return`${g}${y?"("+y+")":""}[${w}]: ${p.replace(Br,"\n  ")}`}("\n"+p.message,w,g,y),p.ngTokenPath=w,p[Xi]=null,p}const Oc=yd(xs("Inject",p=>({token:p})),-1),Zl=yd(xs("Optional"),8),ua=yd(xs("SkipSelf"),4);let bp;function Pu(p){var f;return(null===(f=function(){if(void 0===bp&&(bp=null,an.trustedTypes))try{bp=an.trustedTypes.createPolicy("angular",{createHTML:p=>p,createScript:p=>p,createScriptURL:p=>p})}catch(p){}return bp}())||void 0===f?void 0:f.createHTML(p))||p}class Ga{constructor(f){this.changingThisBreaksApplicationSecurity=f}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tC extends Ga{getTypeName(){return"HTML"}}class nC extends Ga{getTypeName(){return"Style"}}class Q_ extends Ga{getTypeName(){return"Script"}}class iC extends Ga{getTypeName(){return"URL"}}class am extends Ga{getTypeName(){return"ResourceURL"}}function yl(p){return p instanceof Ga?p.changingThisBreaksApplicationSecurity:p}function gh(p,f){const g=mh(p);if(null!=g&&g!==f){if("ResourceURL"===g&&"URL"===f)return!0;throw new Error(`Required a safe ${f}, got a ${g} (see https://g.co/ng/security#xss)`)}return g===f}function mh(p){return p instanceof Ga&&p.getTypeName()||null}function rC(p){return new tC(p)}function J_(p){return new nC(p)}function Ep(p){return new Q_(p)}function oC(p){return new iC(p)}function X_(p){return new am(p)}function lm(p){const f=new sC(p);return function(){try{return!!(new window.DOMParser).parseFromString(Pu(""),"text/html")}catch(p){return!1}}()?new ey(f):f}class ey{constructor(f){this.inertDocumentHelper=f}getInertBodyElement(f){f="<body><remove></remove>"+f;try{const g=(new window.DOMParser).parseFromString(Pu(f),"text/html").body;return null===g?this.inertDocumentHelper.getInertBodyElement(f):(g.removeChild(g.firstChild),g)}catch(g){return null}}}class sC{constructor(f){if(this.defaultDoc=f,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const g=this.inertDocument.createElement("html");this.inertDocument.appendChild(g);const y=this.inertDocument.createElement("body");g.appendChild(y)}}getInertBodyElement(f){const g=this.inertDocument.createElement("template");if("content"in g)return g.innerHTML=Pu(f),g;const y=this.inertDocument.createElement("body");return y.innerHTML=Pu(f),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(f){const g=f.attributes;for(let w=g.length-1;0<w;w--){const D=g.item(w).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&f.removeAttribute(D)}let y=f.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const Uf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,um=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nc(p){return(p=String(p)).match(Uf)||p.match(um)?p:"unsafe:"+p}function Tn(p){return(p=String(p)).split(",").map(f=>Nc(f.trim())).join(", ")}function ca(p){const f={};for(const g of p.split(","))f[g]=!0;return f}function yh(...p){const f={};for(const g of p)for(const y in g)g.hasOwnProperty(y)&&(f[y]=!0);return f}const vh=ca("area,br,col,hr,img,wbr"),Sp=ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nu=ca("rp,rt"),Fu=yh(vh,yh(Sp,ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yh(Nu,ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yh(Nu,Sp)),ty=ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),O=ca("srcset"),N=yh(ty,O,ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$=ca("script,style,template");class X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(f){let g=f.firstChild,y=!0;for(;g;)if(g.nodeType===Node.ELEMENT_NODE?y=this.startElement(g):g.nodeType===Node.TEXT_NODE?this.chars(g.nodeValue):this.sanitizedSomething=!0,y&&g.firstChild)g=g.firstChild;else for(;g;){g.nodeType===Node.ELEMENT_NODE&&this.endElement(g);let w=this.checkClobberedElement(g,g.nextSibling);if(w){g=w;break}g=this.checkClobberedElement(g,g.parentNode)}return this.buf.join("")}startElement(f){const g=f.nodeName.toLowerCase();if(!Fu.hasOwnProperty(g))return this.sanitizedSomething=!0,!$.hasOwnProperty(g);this.buf.push("<"),this.buf.push(g);const y=f.attributes;for(let w=0;w<y.length;w++){const b=y.item(w),D=b.name,I=D.toLowerCase();if(!N.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=b.value;ty[I]&&(P=Nc(P)),O[I]&&(P=Tn(P)),this.buf.push(" ",D,'="',At(P),'"')}return this.buf.push(">"),!0}endElement(f){const g=f.nodeName.toLowerCase();Fu.hasOwnProperty(g)&&!vh.hasOwnProperty(g)&&(this.buf.push("</"),this.buf.push(g),this.buf.push(">"))}chars(f){this.buf.push(At(f))}checkClobberedElement(f,g){if(g&&(f.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${f.outerHTML}`);return g}}const De=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,je=/([^\#-~ |!])/g;function At(p){return p.replace(/&/g,"&amp;").replace(De,function(f){return"&#"+(1024*(f.charCodeAt(0)-55296)+(f.charCodeAt(1)-56320)+65536)+";"}).replace(je,function(f){return"&#"+f.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mt;function nn(p,f){let g=null;try{mt=mt||lm(p);let y=f?String(f):"";g=mt.getInertBodyElement(y);let w=5,b=y;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,y=b,b=g.innerHTML,g=mt.getInertBodyElement(y)}while(y!==b);return Pu((new X).sanitizeChildren(mi(g)||g))}finally{if(g){const y=mi(g)||g;for(;y.firstChild;)y.removeChild(y.firstChild)}}}function mi(p){return"content"in p&&function(p){return p.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===p.nodeName}(p)?p.content:null}var ti=(()=>((ti=ti||{})[ti.NONE=0]="NONE",ti[ti.HTML=1]="HTML",ti[ti.STYLE=2]="STYLE",ti[ti.SCRIPT=3]="SCRIPT",ti[ti.URL=4]="URL",ti[ti.RESOURCE_URL=5]="RESOURCE_URL",ti))();function Tp(p){const f=function(){const p=tt();return p&&p[12]}();return f?f.sanitize(ti.URL,p)||"":gh(p,"URL")?yl(p):Nc(xe(p))}const cE="__ngContext__";function Ps(p,f){p[cE]=f}function iy(p){const f=function(p){return p[cE]||null}(p);return f?Array.isArray(f)?f:f.lView:null}function Qf(p){return p.ngOriginalError}function ry(p,...f){p.error(...f)}class Jf{constructor(){this._console=console}handleError(f){const g=this._findOriginalError(f),y=this._findContext(f),w=(p=f)&&p.ngErrorLogger||ry;var p;w(this._console,"ERROR",f),g&&w(this._console,"ORIGINAL ERROR",g),y&&w(this._console,"ERROR CONTEXT",y)}_findContext(f){return f?f.ngDebugContext||this._findContext(Qf(f)):null}_findOriginalError(f){let g=f&&Qf(f);for(;g&&Qf(g);)g=Qf(g);return g||null}}const mE=/^>|^->|<!--|-->|--!>|<!-$/g,fC=/(<|>)/;const ie=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(an))();function Ii(p){return p instanceof Function?p():p}var st=(()=>((st=st||{})[st.Important=1]="Important",st[st.DashCase=2]="DashCase",st))();let It;function ji(p,f){return It(p,f)}function dm(p){const f=p[3];return to(f)?f[3]:f}function _C(p){return _E(p[13])}function tg(p){return _E(p[4])}function _E(p){for(;null!==p&&!to(p);)p=p[4];return p}function ng(p,f,g,y,w){if(null!=y){let b,D=!1;to(y)?b=y:Bi(y)&&(D=!0,y=y[0]);const I=ci(y);0===p&&null!==g?null==w?wC(f,g,I):Ha(f,g,I,w||null,!0):1===p&&null!==g?Ha(f,g,I,w||null,!0):2===p?fm(f,I,D):3===p&&f.destroyNode(I),null!=b&&function(p,f,g,y,w){const b=g[7];b!==ci(g)&&ng(f,p,y,b,w);for(let I=10;I<g.length;I++){const P=g[I];ly(P[1],P,p,f,y,b)}}(f,p,b,g,w)}}function vE(p,f){return vi(p)?p.createText(f):p.createTextNode(f)}function hm(p,f,g){vi(p)?p.setValue(f,g):f.textContent=g}function $o(p,f){return p.createComment(function(p){return p.replace(mE,f=>f.replace(fC,"\u200b$1\u200b"))}(f))}function On(p,f,g){return vi(p)?p.createElement(f,g):null===g?p.createElement(f):p.createElementNS(g,f)}function sy(p,f){const g=p[9],y=g.indexOf(f),w=f[3];1024&f[2]&&(f[2]&=-1025,Gl(w,-1)),g.splice(y,1)}function yC(p,f){if(p.length<=10)return;const g=10+f,y=p[g];if(y){const w=y[17];null!==w&&w!==p&&sy(w,y),f>0&&(p[g-1][4]=y[4]);const b=sa(p,10+f);!function(p,f){ly(p,f,f[11],2,null,null),f[0]=null,f[6]=null}(y[1],y);const D=b[19];null!==D&&D.detachView(b[1]),y[3]=null,y[4]=null,y[2]&=-129}return y}function vC(p,f){if(!(256&f[2])){const g=f[11];vi(g)&&g.destroyNode&&ly(p,f,g,3,null,null),function(p){let f=p[13];if(!f)return CC(p[1],p);for(;f;){let g=null;if(Bi(f))g=f[13];else{const y=f[10];y&&(g=y)}if(!g){for(;f&&!f[4]&&f!==p;)Bi(f)&&CC(f[1],f),f=f[3];null===f&&(f=p),Bi(f)&&CC(f[1],f),g=f&&f[4]}f=g}}(f)}}function CC(p,f){if(!(256&f[2])){f[2]&=-129,f[2]|=256,function(p,f){let g;if(null!=p&&null!=(g=p.destroyHooks))for(let y=0;y<g.length;y+=2){const w=f[g[y]];if(!(w instanceof wc)){const b=g[y+1];if(Array.isArray(b))for(let D=0;D<b.length;D+=2){const I=w[b[D]],P=b[D+1];try{P.call(I)}finally{}}else try{b.call(w)}finally{}}}}(p,f),function(p,f){const g=p.cleanup,y=f[7];let w=-1;if(null!==g)for(let b=0;b<g.length-1;b+=2)if("string"==typeof g[b]){const D=g[b+1],I="function"==typeof D?D(f):ci(f[D]),P=y[w=g[b+2]],G=g[b+3];"boolean"==typeof G?I.removeEventListener(g[b],P,G):G>=0?y[w=G]():y[w=-G].unsubscribe(),b+=2}else{const D=y[w=g[b+1]];g[b].call(D)}if(null!==y){for(let b=w+1;b<y.length;b++)y[b]();f[7]=null}}(p,f),1===f[1].type&&vi(f[11])&&f[11].destroy();const g=f[17];if(null!==g&&to(f[3])){g!==f[3]&&sy(g,f);const y=f[19];null!==y&&y.detachView(p)}}}function bE(p,f,g){return EE(p,f.parent,g)}function EE(p,f,g){let y=f;for(;null!==y&&40&y.type;)y=(f=y).parent;if(null===y)return g[0];if(2&y.flags){const w=p.data[y.directiveStart].encapsulation;if(w===yt.None||w===yt.Emulated)return null}return Lo(y,g)}function Ha(p,f,g,y,w){vi(p)?p.insertBefore(f,g,y,w):f.insertBefore(g,y,w)}function wC(p,f,g){vi(p)?p.appendChild(f,g):f.appendChild(g)}function ho(p,f,g,y,w){null!==y?Ha(p,f,g,y,w):wC(p,f,g)}function Ip(p,f){return vi(p)?p.parentNode(f):f.parentNode}function EC(p,f,g){return SE(p,f,g)}function xp(p,f,g){return 40&p.type?Lo(p,g):null}let ay,SE=xp;function DE(p,f){SE=p,ay=f}function ig(p,f,g,y){const w=bE(p,y,f),b=f[11],I=EC(y.parent||f[6],y,f);if(null!=w)if(Array.isArray(g))for(let P=0;P<g.length;P++)ho(b,w,g[P],I,!1);else ho(b,w,g,I,!1);void 0!==ay&&ay(b,y,f,g,w)}function pm(p,f){if(null!==f){const g=f.type;if(3&g)return Lo(f,p);if(4&g)return SC(-1,p[f.index]);if(8&g){const y=f.child;if(null!==y)return pm(p,y);{const w=p[f.index];return to(w)?SC(-1,w):ci(w)}}if(32&g)return ji(f,p)()||ci(p[f.index]);{const y=sT(p,f);return null!==y?Array.isArray(y)?y[0]:pm(dm(p[16]),y):pm(p,f.next)}}return null}function sT(p,f){return null!==f?p[16][6].projection[f.projection]:null}function SC(p,f){const g=10+p+1;if(g<f.length){const y=f[g],w=y[1].firstChild;if(null!==w)return pm(y,w)}return f[7]}function fm(p,f,g){const y=Ip(p,f);y&&function(p,f,g,y){vi(p)?p.removeChild(f,g,y):f.removeChild(g)}(p,y,f,g)}function DC(p,f,g,y,w,b,D){for(;null!=g;){const I=y[g.index],P=g.type;if(D&&0===f&&(I&&Ps(ci(I),y),g.flags|=4),64!=(64&g.flags))if(8&P)DC(p,f,g.child,y,w,b,!1),ng(f,p,w,I,b);else if(32&P){const G=ji(g,y);let z;for(;z=G();)ng(f,p,w,z,b);ng(f,p,w,I,b)}else 16&P?TE(p,f,y,g,w,b):ng(f,p,w,I,b);g=D?g.projectionNext:g.next}}function ly(p,f,g,y,w,b){DC(g,y,p.firstChild,f,w,b,!1)}function TE(p,f,g,y,w,b){const D=g[16],P=D[6].projection[y.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)ng(f,p,w,P[G],b);else DC(p,f,P,D[3],w,b,!0)}function AE(p,f,g){vi(p)?p.setAttribute(f,"style",g):f.style.cssText=g}function RE(p,f,g){vi(p)?""===g?p.removeAttribute(f,"class"):p.setAttribute(f,"class",g):f.className=g}function Ve(p,f,g){let y=p.length;for(;;){const w=p.indexOf(f,g);if(-1===w)return w;if(0===w||p.charCodeAt(w-1)<=32){const b=f.length;if(w+b===y||p.charCodeAt(w+b)<=32)return w}g=w+1}}const xE="ng-template";function OE(p,f,g){let y=0;for(;y<p.length;){let w=p[y++];if(g&&"class"===w){if(w=p[y],-1!==Ve(w.toLowerCase(),f,0))return!0}else if(1===w){for(;y<p.length&&"string"==typeof(w=p[y++]);)if(w.toLowerCase()===f)return!0;return!1}}return!1}function Ao(p){return 4===p.type&&p.value!==xE}function da(p,f,g){return f===(4!==p.type||g?p.value:xE)}function mm(p,f,g){let y=4;const w=p.attrs||[],b=function(p){for(let f=0;f<p.length;f++)if(em(p[f]))return f;return p.length}(w);let D=!1;for(let I=0;I<f.length;I++){const P=f[I];if("number"!=typeof P){if(!D)if(4&y){if(y=2|1&y,""!==P&&!da(p,P,g)||""===P&&1===f.length){if(Ua(y))return!1;D=!0}}else{const G=8&y?P:f[++I];if(8&y&&null!==p.attrs){if(!OE(p.attrs,G,g)){if(Ua(y))return!1;D=!0}continue}const te=ME(8&y?"class":P,w,Ao(p),g);if(-1===te){if(Ua(y))return!1;D=!0;continue}if(""!==G){let ne;ne=te>b?"":w[te+1].toLowerCase();const ge=8&y?ne:null;if(ge&&-1!==Ve(ge,G,0)||2&y&&G!==ne){if(Ua(y))return!1;D=!0}}}}else{if(!D&&!Ua(y)&&!Ua(P))return!1;if(D&&Ua(P))continue;D=!1,y=P|1&y}}return Ua(y)||D}function Ua(p){return 0==(1&p)}function ME(p,f,g,y){if(null===f)return-1;let w=0;if(y||!g){let b=!1;for(;w<f.length;){const D=f[w];if(D===p)return w;if(3===D||6===D)b=!0;else{if(1===D||2===D){let I=f[++w];for(;"string"==typeof I;)I=f[++w];continue}if(4===D)break;if(0===D){w+=4;continue}}w+=b?1:2}return-1}return function(p,f){let g=p.indexOf(4);if(g>-1)for(g++;g<p.length;){const y=p[g];if("number"==typeof y)return-1;if(y===f)return g;g++}return-1}(f,p)}function PE(p,f,g=!1){for(let y=0;y<f.length;y++)if(mm(p,f[y],g))return!0;return!1}function uT(p,f){e:for(let g=0;g<f.length;g++){const y=f[g];if(p.length===y.length){for(let w=0;w<p.length;w++)if(p[w]!==y[w])continue e;return!0}}return!1}function NE(p,f){return p?":not("+f.trim()+")":f}function Fs(p){let f=p[0],g=1,y=2,w="",b=!1;for(;g<p.length;){let D=p[g];if("string"==typeof D)if(2&y){const I=p[++g];w+="["+D+(I.length>0?'="'+I+'"':"")+"]"}else 8&y?w+="."+D:4&y&&(w+=" "+D);else""!==w&&!Ua(D)&&(f+=NE(b,w),w=""),y=D,b=b||!Ua(y);g++}return""!==w&&(f+=NE(b,w)),f}const An={};function Op(p){uy(ut(),tt(),Pi()+p,Ia())}function uy(p,f,g,y){if(!y)if(3==(3&f[2])){const b=p.preOrderCheckHooks;null!==b&&Rs(f,b,g)}else{const b=p.preOrderHooks;null!==b&&Au(f,b,0,g)}Cc(g)}function vm(p,f){return p<<17|f<<2}function Cl(p){return p>>17&32767}function cy(p){return 2|p}function ha(p){return(131068&p)>>2}function dy(p,f){return-131069&p|f<<2}function hy(p){return 1|p}function Bu(p,f){const g=p.contentQueries;if(null!==g)for(let y=0;y<g.length;y+=2){const w=g[y],b=g[y+1];if(-1!==b){const D=p.data[b];vc(w),D.contentQueries(2,f[b],b)}}}function lg(p,f,g,y,w,b,D,I,P,G){const z=f.blueprint.slice();return z[0]=w,z[2]=140|y,Ra(z),z[3]=z[15]=p,z[8]=g,z[10]=D||p&&p[10],z[11]=I||p&&p[11],z[12]=P||p&&p[12]||null,z[9]=G||p&&p[9]||null,z[6]=b,z[16]=2==f.type?p[16]:z,z}function Dd(p,f,g,y,w){let b=p.data[f];if(null===b)b=pa(p,f,g,y,w),un.lFrame.inI18n&&(b.flags|=64);else if(64&b.type){b.type=g,b.value=y,b.attrs=w;const D=Rr();b.injectorIndex=null===D?-1:D.injectorIndex}return io(b,!0),b}function pa(p,f,g,y,w){const b=Xd(),D=di(),P=p.data[f]=function(p,f,g,y,w,b){return{type:g,index:y,insertBeforeIndex:null,injectorIndex:f?f.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:f,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?b:b&&b.parent,g,f,y,w);return null===p.firstChild&&(p.firstChild=P),null!==b&&(D?null==b.child&&null!==P.parent&&(b.child=P):null===b.next&&(b.next=P)),P}function ug(p,f,g,y){if(0===g)return-1;const w=f.length;for(let b=0;b<g;b++)f.push(y),p.blueprint.push(y),p.data.push(null);return w}function bm(p,f,g){hl(f);try{const y=p.viewQuery;null!==y&&Im(1,y,g);const w=p.template;null!==w&&Sm(p,f,w,1,g),p.firstCreatePass&&(p.firstCreatePass=!1),p.staticContentQueries&&Bu(p,f),p.staticViewQueries&&Im(2,p.viewQuery,g);const b=p.components;null!==b&&function(p,f){for(let g=0;g<f.length;g++)vy(p,f[g])}(f,b)}catch(y){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),y}finally{f[2]&=-5,ra()}}function Em(p,f,g,y){const w=f[2];if(256==(256&w))return;hl(f);const b=Ia();try{Ra(f),function(p){un.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==g&&Sm(p,f,g,2,y);const D=3==(3&w);if(!b)if(D){const G=p.preOrderCheckHooks;null!==G&&Rs(f,G,null)}else{const G=p.preOrderHooks;null!==G&&Au(f,G,0,null),mr(f,0)}if(function(p){for(let f=_C(p);null!==f;f=tg(f)){if(!f[2])continue;const g=f[9];for(let y=0;y<g.length;y++){const w=g[y],b=w[3];0==(1024&w[2])&&Gl(b,1),w[2]|=1024}}}(f),function(p){for(let f=_C(p);null!==f;f=tg(f))for(let g=10;g<f.length;g++){const y=f[g],w=y[1];Su(y)&&Em(w,y,w.template,y[8])}}(f),null!==p.contentQueries&&Bu(p,f),!b)if(D){const G=p.contentCheckHooks;null!==G&&Rs(f,G)}else{const G=p.contentHooks;null!==G&&Au(f,G,1),mr(f,1)}!function(p,f){const g=p.hostBindingOpCodes;if(null!==g)try{for(let y=0;y<g.length;y++){const w=g[y];if(w<0)Cc(~w);else{const b=w,D=g[++y],I=g[++y];ud(D,b),I(2,f[b])}}}finally{Cc(-1)}}(p,f);const I=p.components;null!==I&&function(p,f){for(let g=0;g<f.length;g++)vT(p,f[g])}(f,I);const P=p.viewQuery;if(null!==P&&Im(2,P,y),!b)if(D){const G=p.viewCheckHooks;null!==G&&Rs(f,G)}else{const G=p.viewHooks;null!==G&&Au(f,G,2),mr(f,2)}!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),b||(f[2]&=-73),1024&f[2]&&(f[2]&=-1025,Gl(f[3],-1))}finally{ra()}}function tu(p,f,g,y){const w=f[10],b=!Ia(),D=fc(f);try{b&&!D&&w.begin&&w.begin(),D&&bm(p,f,y),Em(p,f,g,y)}finally{b&&!D&&w.end&&w.end()}}function Sm(p,f,g,y,w){const b=Pi(),D=2&y;try{Cc(-1),D&&f.length>20&&uy(p,f,20,Ia()),g(y,w)}finally{Cc(b)}}function jE(p,f,g){if(bf(f)){const w=f.directiveEnd;for(let b=f.directiveStart;b<w;b++){const D=p.data[b];D.contentQueries&&D.contentQueries(1,g[b],b)}}}function my(p,f,g){!gc()||(function(p,f,g,y){const w=g.directiveStart,b=g.directiveEnd;p.firstCreatePass||Tc(g,f),Ps(y,f);const D=g.initialInputs;for(let I=w;I<b;I++){const P=p.data[I],G=as(P);G&&WC(f,g,P);const z=pd(f,p,I,g);Ps(z,f),null!==D&&KE(0,I-w,z,P,0,D),G&&(Mi(g.index,f)[8]=z)}}(p,f,g,Lo(g,f)),128==(128&g.flags)&&function(p,f,g){const y=g.directiveStart,w=g.directiveEnd,D=g.index,I=un.lFrame.currentDirectiveIndex;try{Cc(D);for(let P=y;P<w;P++){const G=p.data[P],z=f[P];Oa(P),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Gp(G,z)}}finally{Cc(-1),Oa(I)}}(p,f,g))}function Dm(p,f,g=Lo){const y=f.localNames;if(null!==y){let w=f.index+1;for(let b=0;b<y.length;b+=2){const D=y[b+1],I=-1===D?g(f,p):p[D];p[w++]=I}}}function zE(p){const f=p.tView;return null===f||f.incompleteFirstPass?p.tView=ms(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts):f}function ms(p,f,g,y,w,b,D,I,P,G){const z=20+y,te=z+w,ne=function(p,f){const g=[];for(let y=0;y<f;y++)g.push(y<p?null:An);return g}(z,te),ge="function"==typeof G?G():G;return ne[1]={type:p,blueprint:ne,template:g,queries:null,viewQuery:I,declTNode:f,data:ne.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:P,consts:ge,incompleteFirstPass:!1}}function gT(p,f,g,y){const w=XE(f);null===g?w.push(y):(w.push(g),p.firstCreatePass&&Om(p).push(y,w.length-1))}function mT(p,f,g){for(let y in p)if(p.hasOwnProperty(y)){const w=p[y];(g=null===g?{}:g).hasOwnProperty(y)?g[y].push(f,w):g[y]=[f,w]}return g}function nu(p,f,g,y,w,b,D,I){const P=Lo(f,g);let z,G=f.inputs;!I&&null!=G&&(z=G[y])?(Wa(p,g,z,y,w),yu(f)&&function(p,f){const g=Mi(f,p);16&g[2]||(g[2]|=64)}(g,f.index)):3&f.type&&(y=function(p){return"class"===p?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p}(y),w=null!=D?D(w,f.value||"",y):w,vi(b)?b.setProperty(P,y,w):Eo(y)||(P.setProperty?P.setProperty(y,w):P[y]=w))}function Vu(p,f,g,y){let w=!1;if(gc()){const b=function(p,f,g){const y=p.directiveRegistry;let w=null;if(y)for(let b=0;b<y.length;b++){const D=y[b];PE(g,D.selectors,!1)&&(w||(w=[]),Ho(Tc(g,f),p,D.type),as(D)?(kc(p,g),w.unshift(D)):w.push(D))}return w}(p,f,g),D=null===y?null:{"":-1};if(null!==b){w=!0,li(g,p.data.length,b.length);for(let z=0;z<b.length;z++){const te=b[z];te.providersResolver&&te.providersResolver(te)}let I=!1,P=!1,G=ug(p,f,b.length,null);for(let z=0;z<b.length;z++){const te=b[z];g.mergedAttrs=Ec(g.mergedAttrs,te.hostAttrs),bh(p,g,f,G,te),Bp(G,te,D),null!==te.contentQueries&&(g.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(g.flags|=128);const ne=te.type.prototype;!I&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((p.preOrderHooks||(p.preOrderHooks=[])).push(g.index),I=!0),!P&&(ne.ngOnChanges||ne.ngDoCheck)&&((p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(g.index),P=!0),G++}!function(p,f){const y=f.directiveEnd,w=p.data,b=f.attrs,D=[];let I=null,P=null;for(let G=f.directiveStart;G<y;G++){const z=w[G],te=z.inputs,ne=null===b||Ao(f)?null:Lc(te,b);D.push(ne),I=mT(te,G,I),P=mT(z.outputs,G,P)}null!==I&&(I.hasOwnProperty("class")&&(f.flags|=16),I.hasOwnProperty("style")&&(f.flags|=32)),f.initialInputs=D,f.inputs=I,f.outputs=P}(p,g)}D&&function(p,f,g){if(f){const y=p.localNames=[];for(let w=0;w<f.length;w+=2){const b=g[f[w+1]];if(null==b)throw new rt("301",`Export of name '${f[w+1]}' not found!`);y.push(f[w],b)}}}(g,y,D)}return g.mergedAttrs=Ec(g.mergedAttrs,g.attrs),w}function ZE(p,f,g,y,w,b){const D=b.hostBindings;if(D){let I=p.hostBindingOpCodes;null===I&&(I=p.hostBindingOpCodes=[]);const P=~f.index;(function(p){let f=p.length;for(;f>0;){const g=p[--f];if("number"==typeof g&&g<0)return g}return 0})(I)!=P&&I.push(P),I.push(y,w,D)}}function Gp(p,f){null!==p.hostBindings&&p.hostBindings(1,f)}function kc(p,f){f.flags|=2,(p.components||(p.components=[])).push(f.index)}function Bp(p,f,g){if(g){if(f.exportAs)for(let y=0;y<f.exportAs.length;y++)g[f.exportAs[y]]=p;as(f)&&(g[""]=p)}}function li(p,f,g){p.flags|=1,p.directiveStart=f,p.directiveEnd=f+g,p.providerIndexes=f}function bh(p,f,g,y,w){p.data[y]=w;const b=w.factory||(w.factory=Ts(w.type)),D=new wc(b,as(w),null);p.blueprint[y]=D,g[y]=D,ZE(p,f,0,y,ug(p,g,w.hostVars,An),w)}function WC(p,f,g){const y=Lo(f,p),w=zE(g),b=p[10],D=iu(p,lg(p,w,null,g.onPush?64:16,y,f,b,b.createRenderer(y,g),null,null));p[f.index]=D}function jC(p,f,g,y,w,b,D){if(null==b)vi(p)?p.removeAttribute(f,w,g):f.removeAttribute(w);else{const I=null==D?xe(b):D(b,y||"",w);vi(p)?p.setAttribute(f,w,I,g):g?f.setAttributeNS(g,w,I):f.setAttribute(w,I)}}function KE(p,f,g,y,w,b){const D=b[f];if(null!==D){const I=y.setInput;for(let P=0;P<D.length;){const G=D[P++],z=D[P++],te=D[P++];null!==I?y.setInput(g,te,G,z):g[z]=te}}}function Lc(p,f){let g=null,y=0;for(;y<f.length;){const w=f[y];if(0!==w)if(5!==w){if("number"==typeof w)break;p.hasOwnProperty(w)&&(null===g&&(g=[]),g.push(w,p[w],f[y+1])),y+=2}else y+=2;else y+=4}return g}function zC(p,f,g,y){return new Array(p,!0,!1,f,null,0,y,g,null,null)}function vT(p,f){const g=Mi(f,p);if(Su(g)){const y=g[1];80&g[2]?Em(y,g,y.template,g[8]):g[5]>0&&Gc(g)}}function Gc(p){for(let y=_C(p);null!==y;y=tg(y))for(let w=10;w<y.length;w++){const b=y[w];if(1024&b[2]){const D=b[1];Em(D,b,D.template,b[8])}else b[5]>0&&Gc(b)}const g=p[1].components;if(null!==g)for(let y=0;y<g.length;y++){const w=Mi(g[y],p);Su(w)&&w[5]>0&&Gc(w)}}function vy(p,f){const g=Mi(f,p),y=g[1];(function(p,f){for(let g=f.length;g<p.blueprint.length;g++)f.push(p.blueprint[g])})(y,g),bm(y,g,g[8])}function iu(p,f){return p[13]?p[14][4]=f:p[13]=f,p[14]=f,f}function YC(p){for(;p;){p[2]|=64;const f=dm(p);if(Ds(p)&&!f)return p;p=f}return null}function ZC(p,f,g){const y=f[10];y.begin&&y.begin();try{Em(p,f,p.template,g)}catch(w){throw Cy(f,w),w}finally{y.end&&y.end()}}function KC(p){!function(p){for(let f=0;f<p.components.length;f++){const g=p.components[f],y=iy(g),w=y[1];tu(w,y,w.template,g)}}(p[8])}function Im(p,f,g){vc(0),f(p,g)}const JE=(()=>Promise.resolve(null))();function XE(p){return p[7]||(p[7]=[])}function Om(p){return p.cleanup||(p.cleanup=[])}function Td(p,f,g){return(null===p||as(p))&&(g=function(p){for(;Array.isArray(p);){if("object"==typeof p[1])return p;p=p[0]}return null}(g[f.index])),g[11]}function Cy(p,f){const g=p[9],y=g?g.get(Jf,null):null;y&&y.handleError(f)}function Wa(p,f,g,y,w){for(let b=0;b<g.length;){const D=g[b++],I=g[b++],P=f[D],G=p.data[D];null!==G.setInput?G.setInput(P,w,y,I):P[I]=w}}function Uu(p,f,g){const y=Ll(f,p);hm(p[11],y,g)}function Mm(p,f,g){let y=g?p.styles:null,w=g?p.classes:null,b=0;if(null!==f)for(let D=0;D<f.length;D++){const I=f[D];"number"==typeof I?b=I:1==b?w=we(w,I):2==b&&(y=we(y,I+": "+f[++D]+";"))}g?p.styles=y:p.stylesWithoutHost=y,g?p.classes=w:p.classesWithoutHost=w}const Ad=new Qi("INJECTOR",-1);class Ro{get(f,g=Nn){if(g===Nn){const y=new Error(`NullInjectorError: No provider for ${ye(f)}!`);throw y.name="NullInjectorError",y}return g}}const bl=new Qi("Set Injector scope."),Sh={},Bc={};let Vr;function JC(){return void 0===Vr&&(Vr=new Ro),Vr}function Pm(p,f=null,g=null,y){return new Vc(p,g,f||JC(),y)}class Vc{constructor(f,g,y,w=null){this.parent=y,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const b=[];g&&Ke(g,I=>this.processProvider(I,f,g)),Ke([f],I=>this.processInjectorType(I,[],b)),this.records.set(Ad,ou(void 0,this));const D=this.records.get(bl);this.scope=null!=D?D.value:null,this.source=w||("object"==typeof f?null:ye(f))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(f=>f.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(f,g=Nn,y=Rt.Default){this.assertNotDestroyed();const w=la(this),b=Wr(void 0);try{if(!(y&Rt.SkipSelf)){let I=this.records.get(f);if(void 0===I){const P=("function"==typeof(p=f)||"object"==typeof p&&p instanceof Qi)&&rn(f);I=P&&this.injectableDefInScope(P)?ou(ru(f),Sh):null,this.records.set(f,I)}if(null!=I)return this.hydrate(f,I)}return(y&Rt.Self?JC():this.parent).get(f,g=y&Rt.Optional&&g===Nn?null:g)}catch(D){if("NullInjectorError"===D.name){if((D[Xi]=D[Xi]||[]).unshift(ye(f)),w)throw D;return yp(D,f,"R3InjectorError",this.source)}throw D}finally{Wr(b),la(w)}var p}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(f=>this.get(f))}toString(){const f=[];return this.records.forEach((y,w)=>f.push(ye(w))),`R3Injector[${f.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(f,g,y){if(!(f=he(f)))return!1;let w=yo(f);const b=null==w&&f.ngModule||void 0,D=void 0===b?f:b,I=-1!==y.indexOf(D);if(void 0!==b&&(w=yo(b)),null==w)return!1;if(null!=w.imports&&!I){let z;y.push(D);try{Ke(w.imports,te=>{this.processInjectorType(te,g,y)&&(void 0===z&&(z=[]),z.push(te))})}finally{}if(void 0!==z)for(let te=0;te<z.length;te++){const{ngModule:ne,providers:ge}=z[te];Ke(ge,Se=>this.processProvider(Se,ne,ge||pe))}}this.injectorDefTypes.add(D);const P=Ts(D)||(()=>new D);this.records.set(D,ou(P,Sh));const G=w.providers;if(null!=G&&!I){const z=f;Ke(G,te=>this.processProvider(te,z,G))}return void 0!==b&&void 0!==f.providers}processProvider(f,g,y){let w=Vp(f=he(f))?f:he(f&&f.provide);const b=by(p=f)?ou(void 0,p.useValue):ou(dg(p),Sh);var p;if(Vp(f)||!0!==f.multi)this.records.get(w);else{let D=this.records.get(w);D||(D=ou(void 0,Sh,!0),D.factory=()=>br(D.multi),this.records.set(w,D)),w=f,D.multi.push(f)}this.records.set(w,b)}hydrate(f,g){return g.value===Sh&&(g.value=Bc,g.value=g.factory()),"object"==typeof g.value&&g.value&&null!==(p=g.value)&&"object"==typeof p&&"function"==typeof p.ngOnDestroy&&this.onDestroy.add(g.value),g.value;var p}injectableDefInScope(f){if(!f.providedIn)return!1;const g=he(f.providedIn);return"string"==typeof g?"any"===g||g===this.scope:this.injectorDefTypes.has(g)}}function ru(p){const f=rn(p),g=null!==f?f.factory:Ts(p);if(null!==g)return g;if(p instanceof Qi)throw new Error(`Token ${ye(p)} is missing a \u0275prov definition.`);if(p instanceof Function)return function(p){const f=p.length;if(f>0){const y=Yl(f,"?");throw new Error(`Can't resolve all parameters for ${ye(p)}: (${y.join(", ")}).`)}const g=function(p){const f=p&&(p[vo]||p[hr]);if(f){const g=function(p){if(p.hasOwnProperty("name"))return p.name;const f=(""+p).match(/^function\s*([^\s(]+)/);return null===f?"":f[1]}(p);return console.warn(`DEPRECATED: DI is instantiating a token "${g}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${g}" class.`),f}return null}(p);return null!==g?()=>g.factory(p):()=>new p}(p);throw new Error("unreachable")}function dg(p,f,g){let y;if(Vp(p)){const w=he(p);return Ts(w)||ru(w)}if(by(p))y=()=>he(p.useValue);else if(function(p){return!(!p||!p.useFactory)}(p))y=()=>p.useFactory(...br(p.deps||[]));else if(function(p){return!(!p||!p.useExisting)}(p))y=()=>sr(he(p.useExisting));else{const w=he(p&&(p.useClass||p.provide));if(!function(p){return!!p.deps}(p))return Ts(w)||ru(w);y=()=>new w(...br(p.deps))}return y}function ou(p,f,g=!1){return{factory:p,value:f,multi:g?[]:void 0}}function by(p){return null!==p&&"object"==typeof p&&uo in p}function Vp(p){return"function"==typeof p}const Ah=function(p,f,g){return function(p,f=null,g=null,y){const w=Pm(p,f,g,y);return w._resolveInjectorDefTypes(),w}({name:g},f,p,g)};let Er=(()=>{class p{static create(g,y){return Array.isArray(g)?Ah(g,y,""):Ah(g.providers,g.parent,g.name||"")}}return p.THROW_IF_NOT_FOUND=Nn,p.NULL=new Ro,p.\u0275prov=fi({token:p,providedIn:"any",factory:()=>sr(Ad)}),p.__NG_ELEMENT_ID__=-1,p})();function OT(p,f){rh(iy(p)[1],vt())}function zp(p){let f=function(p){return Object.getPrototypeOf(p.prototype).constructor}(p.type),g=!0;const y=[p];for(;f;){let w;if(as(p))w=f.\u0275cmp||f.\u0275dir;else{if(f.\u0275cmp)throw new Error("Directives cannot inherit Components");w=f.\u0275dir}if(w){if(g){y.push(w);const D=p;D.inputs=ks(p.inputs),D.declaredInputs=ks(p.declaredInputs),D.outputs=ks(p.outputs);const I=w.hostBindings;I&&Sy(p,I);const P=w.viewQuery,G=w.contentQueries;if(P&&d0(p,P),G&&MT(p,G),fe(p.inputs,w.inputs),fe(p.declaredInputs,w.declaredInputs),fe(p.outputs,w.outputs),as(w)&&w.data.animation){const z=p.data;z.animation=(z.animation||[]).concat(w.data.animation)}}const b=w.features;if(b)for(let D=0;D<b.length;D++){const I=b[D];I&&I.ngInherit&&I(p),I===zp&&(g=!1)}}f=Object.getPrototypeOf(f)}!function(p){let f=0,g=null;for(let y=p.length-1;y>=0;y--){const w=p[y];w.hostVars=f+=w.hostVars,w.hostAttrs=Ec(w.hostAttrs,g=Ec(g,w.hostAttrs))}}(y)}function ks(p){return p===_e?{}:p===pe?[]:p}function d0(p,f){const g=p.viewQuery;p.viewQuery=g?(y,w)=>{f(y,w),g(y,w)}:f}function MT(p,f){const g=p.contentQueries;p.contentQueries=g?(y,w,b)=>{f(y,w,b),g(y,w,b)}:f}function Sy(p,f){const g=p.hostBindings;p.hostBindings=g?(y,w)=>{f(y,w),g(y,w)}:f}let mg=null;function $p(){if(!mg){const p=an.Symbol;if(p&&p.iterator)mg=p.iterator;else{const f=Object.getOwnPropertyNames(Map.prototype);for(let g=0;g<f.length;++g){const y=f[g];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(mg=y)}}}return mg}class Fr{constructor(f){this.wrapped=f}static wrap(f){return new Fr(f)}static unwrap(f){return Fr.isWrapped(f)?f.wrapped:f}static isWrapped(f){return f instanceof Fr}}function _g(p){return!!Gm(p)&&(Array.isArray(p)||!(p instanceof Map)&&$p()in p)}function Gm(p){return null!==p&&("function"==typeof p||"object"==typeof p)}function au(p,f,g){return p[f]=g}function Sr(p,f,g){return!Object.is(p[f],g)&&(p[f]=g,!0)}function ja(p,f,g,y){const w=Sr(p,f,g);return Sr(p,f+1,y)||w}function jn(p,f,g,y){const w=tt();return Sr(w,ro(),f)&&(ut(),function(p,f,g,y,w,b){const D=Lo(p,f);jC(f[11],D,b,p.value,g,y,w)}(Ri(),w,p,f,g,y)),jn}function El(p,f,g,y){return Sr(p,ro(),g)?f+xe(g)+y:An}function vg(p,f,g,y,w,b,D,I,P,G){const te=function(p,f,g,y,w,b){const D=ja(p,f,g,y);return ja(p,f+2,w,b)||D}(p,Go(),g,w,D,P);return Ir(4),te?f+xe(g)+y+xe(w)+b+xe(D)+I+xe(P)+G:An}function qp(p,f,g,y,w,b,D,I){const P=tt(),G=ut(),z=p+20,te=G.firstCreatePass?function(p,f,g,y,w,b,D,I,P){const G=f.consts,z=Dd(f,p,4,D||null,or(G,I));Vu(f,g,z,or(G,P)),rh(f,z);const te=z.tViews=ms(2,z,y,w,b,f.directiveRegistry,f.pipeRegistry,null,f.schemas,G);return null!==f.queries&&(f.queries.template(f,z),te.queries=f.queries.embeddedTView(z)),z}(z,G,P,f,g,y,w,b,D):G.data[z];io(te,!1);const ne=P[11].createComment("");ig(G,P,ne,te),Ps(ne,P),iu(P,P[z]=zC(ne,P,ne,te)),wo(te)&&my(G,P,te),null!=D&&Dm(P,te,I)}function Hc(p){return Aa(un.lFrame.contextLView,20+p)}function Eg(p,f=Rt.Default){const g=tt();return null===g?sr(p,f):fp(vt(),g,he(p),f)}function Jp(){throw new Error("invalid")}function zu(p,f,g){const y=tt();return Sr(y,ro(),f)&&nu(ut(),Ri(),y,p,f,y[11],g,!1),zu}function Xp(p,f,g,y,w){const D=w?"class":"style";Wa(p,g,f.inputs[D],D,y)}function ef(p,f,g,y){const w=tt(),b=ut(),D=20+p,I=w[11],P=w[D]=On(I,f,un.lFrame.currentNamespace),G=b.firstCreatePass?function(p,f,g,y,w,b,D){const I=f.consts,G=Dd(f,p,2,w,or(I,b));return Vu(f,g,G,or(I,D)),null!==G.attrs&&Mm(G,G.attrs,!1),null!==G.mergedAttrs&&Mm(G,G.mergedAttrs,!0),null!==f.queries&&f.queries.elementStart(f,G),G}(D,b,w,0,f,g,y):b.data[D];io(G,!0);const z=G.mergedAttrs;null!==z&&up(I,P,z);const te=G.classes;null!==te&&RE(I,P,te);const ne=G.styles;null!==ne&&AE(I,P,ne),64!=(64&G.flags)&&ig(b,w,P,G),0===un.lFrame.elementDepthCount&&Ps(P,w),un.lFrame.elementDepthCount++,wo(G)&&(my(b,w,G),jE(b,G,w)),null!==y&&Dm(w,G)}function tf(){let p=vt();di()?mc():(p=p.parent,io(p,!1));const f=p;un.lFrame.elementDepthCount--;const g=ut();g.firstCreatePass&&(rh(g,p),bf(p)&&g.queries.elementEnd(p)),null!=f.classesWithoutHost&&function(p){return 0!=(16&p.flags)}(f)&&Xp(g,f,tt(),f.classesWithoutHost,!0),null!=f.stylesWithoutHost&&function(p){return 0!=(32&p.flags)}(f)&&Xp(g,f,tt(),f.stylesWithoutHost,!1)}function b0(p,f,g,y){ef(p,f,g,y),tf()}function bw(p,f,g){const y=tt(),w=ut(),b=p+20,D=w.firstCreatePass?function(p,f,g,y,w){const b=f.consts,D=or(b,y),I=Dd(f,p,8,"ng-container",D);return null!==D&&Mm(I,D,!0),Vu(f,g,I,or(b,w)),null!==f.queries&&f.queries.elementStart(f,I),I}(b,w,y,f,g):w.data[b];io(D,!0);const I=y[b]=y[11].createComment("");ig(w,y,I,D),Ps(I,y),wo(D)&&(my(w,y,D),jE(w,D,y)),null!=g&&Dm(y,D)}function zm(){let p=vt();const f=ut();di()?mc():(p=p.parent,io(p,!1)),f.firstCreatePass&&(rh(f,p),bf(p)&&f.queries.elementEnd(p))}function $m(p,f,g){bw(p,f,g),zm()}function S0(){return tt()}function Ym(p){return!!p&&"function"==typeof p.then}function D0(p){return!!p&&"function"==typeof p.subscribe}const Nh=D0;function Pd(p,f,g,y){const w=tt(),b=ut(),D=vt();return T0(b,w,w[11],D,p,f,!!g,y),Pd}function Py(p,f){const g=vt(),y=tt(),w=ut();return T0(w,y,Td(Bo(w.data),g,y),g,p,f,!1),Py}function T0(p,f,g,y,w,b,D,I){const P=wo(y),z=p.firstCreatePass&&Om(p),te=f[8],ne=XE(f);let ge=!0;if(3&y.type||I){const Oe=Lo(y,f),ft=I?I(Oe):Oe,et=ne.length,Kt=I?tn=>I(ci(tn[y.index])):y.index;if(vi(g)){let tn=null;if(!I&&P&&(tn=function(p,f,g,y){const w=p.cleanup;if(null!=w)for(let b=0;b<w.length-1;b+=2){const D=w[b];if(D===g&&w[b+1]===y){const I=f[7],P=w[b+2];return I.length>P?I[P]:null}"string"==typeof D&&(b+=2)}return null}(p,f,w,y.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=b,tn.__ngLastListenerFn__=b,ge=!1;else{b=kh(y,f,te,b,!1);const ui=g.listen(ft,w,b);ne.push(b,ui),z&&z.push(w,Kt,et,et+1)}}else b=kh(y,f,te,b,!0),ft.addEventListener(w,b,D),ne.push(b),z&&z.push(w,Kt,et,D)}else b=kh(y,f,te,b,!1);const Se=y.outputs;let Ge;if(ge&&null!==Se&&(Ge=Se[w])){const Oe=Ge.length;if(Oe)for(let ft=0;ft<Oe;ft+=2){const Ko=f[Ge[ft]][Ge[ft+1]].subscribe(b),ec=ne.length;ne.push(b,Ko),z&&z.push(w,y.index,ec,-(ec+1))}}}function Fh(p,f,g,y){try{return!1!==g(y)}catch(w){return Cy(p,w),!1}}function kh(p,f,g,y,w){return function b(D){if(D===Function)return y;const I=2&p.flags?Mi(p.index,f):f;0==(32&f[2])&&YC(I);let P=Fh(f,0,y,D),G=b.__ngNextListenerFn__;for(;G;)P=Fh(f,0,G,D)&&P,G=G.__ngNextListenerFn__;return w&&!1===P&&(D.preventDefault(),D.returnValue=!1),P}}function Ny(p=1){return function(p){return(un.lFrame.contextLView=function(p,f){for(;p>0;)f=f[15],p--;return f}(p,un.lFrame.contextLView))[8]}(p)}function nf(p,f){let g=null;const y=function(p){const f=p.attrs;if(null!=f){const g=f.indexOf(5);if(0==(1&g))return f[g+1]}return null}(p);for(let w=0;w<f.length;w++){const b=f[w];if("*"!==b){if(null===y?PE(p,b,!0):uT(y,b))return w}else g=w}return g}function Ew(p){const f=tt()[16][6];if(!f.projection){const y=f.projection=Yl(p?p.length:1,null),w=y.slice();let b=f.child;for(;null!==b;){const D=p?nf(b,p):0;null!==D&&(w[D]?w[D].projectionNext=b:y[D]=b,w[D]=b),b=b.next}}}function Fy(p,f=0,g){const y=tt(),w=ut(),b=Dd(w,20+p,16,null,g||null);null===b.projection&&(b.projection=f),mc(),64!=(64&b.flags)&&function(p,f,g){TE(f[11],0,f,g,bE(p,g,f),EC(g.parent||f[6],g,f))}(w,y,b)}function Zm(p,f,g){return ky(p,"",f,"",g),Zm}function ky(p,f,g,y,w){const b=tt(),D=El(b,f,g,y);return D!==An&&nu(ut(),Ri(),b,p,D,b[11],w,!1),ky}function R0(p,f,g,y,w){const b=p[g+1],D=null===f;let I=y?Cl(b):ha(b),P=!1;for(;0!==I&&(!1===P||D);){const z=p[I+1];$T(p[I],f)&&(P=!0,p[I+1]=y?hy(z):cy(z)),I=y?Cl(z):ha(z)}P&&(p[g+1]=y?cy(b):hy(b))}function $T(p,f){return null===p||null==f||(Array.isArray(p)?p[1]:p)===f||!(!Array.isArray(p)||"string"!=typeof f)&&aa(p,f)>=0}const zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dw(p){return p.substring(zi.key,zi.keyEnd)}function Yr(p,f){const g=zi.textEnd;return g===f?-1:(f=zi.keyEnd=function(p,f,g){for(;f<g&&p.charCodeAt(f)>32;)f++;return f}(p,zi.key=f,g),jc(p,f,g))}function jc(p,f,g){for(;f<g&&p.charCodeAt(f)<=32;)f++;return f}function Xm(p,f,g){return cu(p,f,g,!1),Xm}function Fd(p,f){return cu(p,f,null,!0),Fd}function Hy(p){Ya(To,ys,p,!0)}function ys(p,f){for(let g=function(p){return function(p){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=p.length}(p),Yr(p,jc(p,0,zi.textEnd))}(f);g>=0;g=Yr(f,g))To(p,Dw(f),!0)}function cu(p,f,g,y){const w=tt(),b=ut(),D=Ir(2);b.firstUpdatePass&&I0(b,p,D,y),f!==An&&Sr(w,D,f)&&$u(b,b.data[Pi()],w,w[11],p,w[D+1]=function(p,f){return null==p||("string"==typeof f?p+=f:"object"==typeof p&&(p=ye(yl(p)))),p}(f,g),y,D)}function Ya(p,f,g,y){const w=ut(),b=Ir(2);w.firstUpdatePass&&I0(w,null,b,y);const D=tt();if(g!==An&&Sr(D,b,g)){const I=w.data[Pi()];if(Tg(I,y)&&!Uy(w,b)){let P=y?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(g=we(P,g||"")),Xp(w,I,D,g,y)}else!function(p,f,g,y,w,b,D,I){w===An&&(w=pe);let P=0,G=0,z=0<w.length?w[0]:null,te=0<b.length?b[0]:null;for(;null!==z||null!==te;){const ne=P<w.length?w[P+1]:void 0,ge=G<b.length?b[G+1]:void 0;let Ge,Se=null;z===te?(P+=2,G+=2,ne!==ge&&(Se=te,Ge=ge)):null===te||null!==z&&z<te?(P+=2,Se=z):(G+=2,Se=te,Ge=ge),null!==Se&&$u(p,f,g,y,Se,Ge,D,I),z=P<w.length?w[P]:null,te=G<b.length?b[G]:null}}(w,I,D,D[11],D[b+1],D[b+1]=function(p,f,g){if(null==g||""===g)return pe;const y=[],w=yl(g);if(Array.isArray(w))for(let b=0;b<w.length;b++)p(y,w[b],!0);else if("object"==typeof w)for(const b in w)w.hasOwnProperty(b)&&p(y,b,w[b]);else"string"==typeof w&&f(y,w);return y}(p,f,g),y,b)}}function Uy(p,f){return f>=p.expandoStartIndex}function I0(p,f,g,y){const w=p.data;if(null===w[g+1]){const b=w[Pi()],D=Uy(p,g);Tg(b,y)&&null===f&&!D&&(f=!1),f=function(p,f,g,y){const w=Bo(p);let b=y?f.residualClasses:f.residualStyles;if(null===w)0===(y?f.classBindings:f.styleBindings)&&(g=kd(g=Rw(null,p,f,g,y),f.attrs,y),b=null);else{const D=f.directiveStylingLast;if(-1===D||p[D]!==w)if(g=Rw(w,p,f,g,y),null===b){let P=function(p,f,g){const y=g?f.classBindings:f.styleBindings;if(0!==ha(y))return p[Cl(y)]}(p,f,y);void 0!==P&&Array.isArray(P)&&(P=Rw(null,p,f,P[1],y),P=kd(P,f.attrs,y),function(p,f,g,y){p[Cl(g?f.classBindings:f.styleBindings)]=y}(p,f,y,P))}else b=function(p,f,g){let y;const w=f.directiveEnd;for(let b=1+f.directiveStylingLast;b<w;b++)y=kd(y,p[b].hostAttrs,g);return kd(y,f.attrs,g)}(p,f,y)}return void 0!==b&&(y?f.residualClasses=b:f.residualStyles=b),g}(w,b,f,y),function(p,f,g,y,w,b){let D=b?f.classBindings:f.styleBindings,I=Cl(D),P=ha(D);p[y]=g;let z,G=!1;if(Array.isArray(g)){const te=g;z=te[1],(null===z||aa(te,z)>0)&&(G=!0)}else z=g;if(w)if(0!==P){const ne=Cl(p[I+1]);p[y+1]=vm(ne,I),0!==ne&&(p[ne+1]=dy(p[ne+1],y)),p[I+1]=function(p,f){return 131071&p|f<<17}(p[I+1],y)}else p[y+1]=vm(I,0),0!==I&&(p[I+1]=dy(p[I+1],y)),I=y;else p[y+1]=vm(P,0),0===I?I=y:p[P+1]=dy(p[P+1],y),P=y;G&&(p[y+1]=cy(p[y+1])),R0(p,z,y,!0),R0(p,z,y,!1),function(p,f,g,y,w){const b=w?p.residualClasses:p.residualStyles;null!=b&&"string"==typeof f&&aa(b,f)>=0&&(g[y+1]=hy(g[y+1]))}(f,z,p,y,b),D=vm(I,P),b?f.classBindings=D:f.styleBindings=D}(w,b,f,g,D,y)}}function Rw(p,f,g,y,w){let b=null;const D=g.directiveEnd;let I=g.directiveStylingLast;for(-1===I?I=g.directiveStart:I++;I<D&&(b=f[I],y=kd(y,b.hostAttrs,w),b!==p);)I++;return null!==p&&(g.directiveStylingLast=I),y}function kd(p,f,g){const y=g?1:2;let w=-1;if(null!==f)for(let b=0;b<f.length;b++){const D=f[b];"number"==typeof D?w=D:w===y&&(Array.isArray(p)||(p=void 0===p?[]:["",p]),To(p,D,!!g||f[++b]))}return void 0===p?null:p}function $u(p,f,g,y,w,b,D,I){if(!(3&f.type))return;const P=p.data,G=P[I+1];Wy(function(p){return 1==(1&p)}(G)?P0(P,f,g,w,ha(G),D):void 0)||(Wy(b)||function(p){return 2==(2&p)}(G)&&(b=P0(P,null,g,w,I,D)),function(p,f,g,y,w){const b=vi(p);if(f)w?b?p.addClass(g,y):g.classList.add(y):b?p.removeClass(g,y):g.classList.remove(y);else{let D=-1===y.indexOf("-")?void 0:st.DashCase;if(null==w)b?p.removeStyle(g,y,D):g.style.removeProperty(y);else{const I="string"==typeof w&&w.endsWith("!important");I&&(w=w.slice(0,-10),D|=st.Important),b?p.setStyle(g,y,w,D):g.style.setProperty(y,w,I?"important":"")}}}(y,D,Ll(Pi(),g),w,b))}function P0(p,f,g,y,w,b){const D=null===f;let I;for(;w>0;){const P=p[w],G=Array.isArray(P),z=G?P[1]:P,te=null===z;let ne=g[w+1];ne===An&&(ne=te?pe:void 0);let ge=te?at(ne,y):z===y?ne:void 0;if(G&&!Wy(ge)&&(ge=at(P,y)),Wy(ge)&&(I=ge,D))return I;const Se=p[w+1];w=D?Cl(Se):ha(Se)}if(null!==f){let P=b?f.residualClasses:f.residualStyles;null!=P&&(I=at(P,y))}return I}function Wy(p){return void 0!==p}function Tg(p,f){return 0!=(p.flags&(f?16:32))}function e_(p,f=""){const g=tt(),y=ut(),w=p+20,b=y.firstCreatePass?Dd(y,w,1,f,null):y.data[w],D=g[w]=vE(g[11],f);ig(y,g,D,b),io(b,!1)}function jy(p){return Vh("",p,""),jy}function Vh(p,f,g){const y=tt(),w=El(y,p,f,g);return w!==An&&Uu(y,Pi(),w),Vh}function Iw(p,f,g,y,w){const b=tt(),D=function(p,f,g,y,w,b){const I=ja(p,Go(),g,w);return Ir(2),I?f+xe(g)+y+xe(w)+b:An}(b,p,f,g,y,w);return D!==An&&Uu(b,Pi(),D),Iw}function n_(p,f,g){Ya(To,ys,El(tt(),p,f,g),!0)}function k0(p,f,g,y,w,b,D,I,P){Ya(To,ys,vg(tt(),p,f,g,y,w,b,D,I,P),!0)}function hn(p,f,g){const y=tt();return Sr(y,ro(),f)&&nu(ut(),Ri(),y,p,f,y[11],g,!0),hn}function Vn(p,f,g){const y=tt();if(Sr(y,ro(),f)){const b=ut(),D=Ri();nu(b,D,y,p,f,Td(Bo(b.data),D,y),g,!0)}return Vn}const ni=void 0;var _r=["en",[["a","p"],["AM","PM"],ni],[["AM","PM"],ni,ni],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ni,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ni,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ni,"{1} 'at' {0}",ni],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(p){const f=Math.floor(Math.abs(p)),g=p.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===g?1:5}];let qr={};function $i(p){const f=function(p){return p.toLowerCase().replace(/_/g,"-")}(p);let g=af(f);if(g)return g;const y=f.split("-")[0];if(g=af(y),g)return g;if("en"===y)return _r;throw new Error(`Missing locale data for the locale "${p}".`)}function Ag(p){return $i(p)[pn.PluralCase]}function af(p){return p in qr||(qr[p]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[p]),qr[p]}var pn=(()=>((pn=pn||{})[pn.LocaleId=0]="LocaleId",pn[pn.DayPeriodsFormat=1]="DayPeriodsFormat",pn[pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",pn[pn.DaysFormat=3]="DaysFormat",pn[pn.DaysStandalone=4]="DaysStandalone",pn[pn.MonthsFormat=5]="MonthsFormat",pn[pn.MonthsStandalone=6]="MonthsStandalone",pn[pn.Eras=7]="Eras",pn[pn.FirstDayOfWeek=8]="FirstDayOfWeek",pn[pn.WeekendRange=9]="WeekendRange",pn[pn.DateFormat=10]="DateFormat",pn[pn.TimeFormat=11]="TimeFormat",pn[pn.DateTimeFormat=12]="DateTimeFormat",pn[pn.NumberSymbols=13]="NumberSymbols",pn[pn.NumberFormats=14]="NumberFormats",pn[pn.CurrencyCode=15]="CurrencyCode",pn[pn.CurrencySymbol=16]="CurrencySymbol",pn[pn.CurrencyName=17]="CurrencyName",pn[pn.Currencies=18]="Currencies",pn[pn.Directionality=19]="Directionality",pn[pn.PluralCase=20]="PluralCase",pn[pn.ExtraData=21]="ExtraData",pn))();const dN=["zero","one","two","few","many"],Ow="en-US",L0={marker:"element"},Ld={marker:"ICU"};var Tr=(()=>((Tr=Tr||{})[Tr.SHIFT=2]="SHIFT",Tr[Tr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Tr[Tr.COMMENT=2]="COMMENT",Tr))();let Dx=Ow;function nA(p){(function(p,f){null==p&&$t(f,p,null,"!=")})(p,"Expected localeId to be defined"),"string"==typeof p&&(Dx=p.toLowerCase().replace(/_/g,"-"))}function Tx(p,f,g){const y=f.insertBeforeIndex,w=Array.isArray(y)?y[0]:y;return null===w?xp(p,0,g):ci(g[w])}function Ax(p,f,g,y,w){const b=f.insertBeforeIndex;if(Array.isArray(b)){let D=y,I=null;if(3&f.type||(I=D,D=w),null!==D&&0==(2&f.flags))for(let P=1;P<b.length;P++)Ha(p,D,g[b[P]],I,!1)}}function rA(p,f){if(p.push(f),p.length>1)for(let g=p.length-2;g>=0;g--){const y=p[g];Mw(y)||pN(y,f)&&null===qy(y)&&Rx(y,f.index)}}function Mw(p){return!(64&p.type)}function pN(p,f){return Mw(f)||p.index>f.index}function qy(p){const f=p.insertBeforeIndex;return Array.isArray(f)?f[0]:f}function Rx(p,f){const g=p.insertBeforeIndex;Array.isArray(g)?g[0]=f:(DE(Tx,Ax),p.insertBeforeIndex=f)}function Zy(p,f){const g=p.data[f];return null===g||"string"==typeof g?null:g.hasOwnProperty("currentCaseLViewIndex")?g:g.value}function B0(p,f,g){const y=pa(p,g,64,null,null);return rA(f,y),y}function Ky(p,f){const g=f[p.currentCaseLViewIndex];return null===g?g:g<0?~g:g}function V0(p){return p>>>17}function H0(p){return(131070&p)>>>1}let Nw=0,Fw=0;function Ox(p,f,g,y){const w=g[11];let D,b=null;for(let I=0;I<f.length;I++){const P=f[I];if("string"==typeof P){const G=f[++I];null===g[G]&&(g[G]=vE(w,P))}else if("number"==typeof P)switch(1&P){case 0:const G=V0(P);let z,te;if(null===b&&(b=G,D=Ip(w,y)),G===b?(z=y,te=D):(z=null,te=ci(g[G])),null!==te){const Ge=H0(P);Ha(w,te,g[Ge],z,!1);const ft=Zy(p,Ge);if(null!==ft&&"object"==typeof ft){const et=Ky(ft,g);null!==et&&Ox(p,ft.create[et],g,g[ft.anchorIdx])}}break;case 1:const ge=f[++I],Se=f[++I];jC(w,Ll(P>>>1,g),null,null,ge,Se,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${P}"`)}else switch(P){case Ld:const G=f[++I],z=f[++I];null===g[z]&&Ps(g[z]=$o(w,G),g);break;case L0:const te=f[++I],ne=f[++I];null===g[ne]&&Ps(g[ne]=On(w,te,null),g)}}}function aA(p,f,g,y,w){for(let b=0;b<g.length;b++){const D=g[b],I=g[++b];if(D&w){let P="";for(let G=b+1;G<=b+I;G++){const z=g[G];if("string"==typeof z)P+=z;else if("number"==typeof z)if(z<0)P+=xe(f[y-z]);else{const te=z>>>2;switch(3&z){case 1:const ne=g[++G],ge=g[++G],Se=p.data[te];"string"==typeof Se?jC(f[11],f[te],null,Se,ne,P,ge):nu(p,Se,f,ne,P,f[11],ge,!1);break;case 0:const Ge=f[te];null!==Ge&&hm(f[11],Ge,P);break;case 2:gN(p,Zy(p,te),f,P);break;case 3:Mx(p,Zy(p,te),y,f)}}}}else{const P=g[b+1];if(P>0&&3==(3&P)){const z=Zy(p,P>>>2);f[z.currentCaseLViewIndex]<0&&Mx(p,z,y,f)}}b+=I}}function Mx(p,f,g,y){let w=y[f.currentCaseLViewIndex];if(null!==w){let b=Nw;w<0&&(w=y[f.currentCaseLViewIndex]=~w,b=-1),aA(p,y,f.update[w],g,b)}}function gN(p,f,g,y){const w=function(p,f){let g=p.cases.indexOf(f);if(-1===g)switch(p.type){case 1:{const y=function(p,f){const g=Ag(f)(parseInt(p,10)),y=dN[g];return void 0!==y?y:"other"}(f,Dx);g=p.cases.indexOf(y),-1===g&&"other"!==y&&(g=p.cases.indexOf("other"));break}case 0:g=p.cases.indexOf("other")}return-1===g?null:g}(f,y);if(Ky(f,g)!==w&&(lA(p,f,g),g[f.currentCaseLViewIndex]=null===w?null:~w,null!==w)){const D=g[f.anchorIdx];D&&Ox(p,f.create[w],g,D)}}function lA(p,f,g){let y=Ky(f,g);if(null!==y){const w=f.remove[y];for(let b=0;b<w.length;b++){const D=w[b];if(D>0){const I=Ll(D,g);null!==I&&fm(g[11],I)}else lA(p,Zy(p,~D),g)}}}function cA(){const p=[];let g,y,f=-1;function b(I,P){f=0;const G=Ky(I,P);y=null!==G?I.remove[G]:pe}function D(){if(f<y.length){const I=y[f++];return I>0?g[I]:(p.push(f,y),b(g[1].data[~I],g),D())}return 0===p.length?null:(y=p.pop(),f=p.pop(),D())}return function(I,P){for(g=P;p.length;)p.pop();return b(I.value,P),D}}const U0=/\ufffd(\d+):?\d*\ufffd/gi,Fx=/\ufffd(\d+)\ufffd/,kx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mN=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_N=/\uE500/g;function kw(p,f,g,y,w,b,D){const I=ug(p,y,1,null);let P=I<<Tr.SHIFT,G=Rr();f===G&&(G=null),null===G&&(P|=Tr.APPEND_EAGERLY),D&&(P|=Tr.COMMENT,function(p){void 0===It&&(It=p())}(cA)),w.push(P,null===b?"":b);const z=pa(p,I,D?32:1,null===b?"":b,null);rA(g,z);const te=z.index;return io(z,!1),null!==G&&f!==G&&function(p,f){let g=p.insertBeforeIndex;null===g?(DE(Tx,Ax),g=p.insertBeforeIndex=[null,f]):(function(p,f,g){p!=f&&$t(g,p,f,"==")}(Array.isArray(g),!0,"Expecting array here"),g.push(f))}(G,te),z}function Lx(p,f,g,y,w,b,D){const I=D.match(U0),P=kw(p,f,g,b,y,I?null:D,!1);I&&Uh(w,D,P.index,null,0,null)}function Uh(p,f,g,y,w,b){const D=p.length,I=D+1;p.push(null,null);const P=D+2,G=f.split(U0);let z=0;for(let te=0;te<G.length;te++){const ne=G[te];if(1&te){const ge=w+parseInt(ne,10);p.push(-1-ge),z|=Jy(ge)}else""!==ne&&p.push(ne)}return p.push(g<<2|(y?1:0)),y&&p.push(y,b),p[D]=z,p[I]=p.length-P,z}function Jy(p){return 1<<Math.min(p,31)}function gA(p){let f,b,g="",y=0,w=!1;for(;null!==(f=pA.exec(p));)w?f[0]===`\ufffd/*${b}\ufffd`&&(y=f.index,w=!1):(g+=p.substring(y,f.index+f[0].length),b=f[1],w=!0);return g+=p.substr(y),g}function Xy(p,f,g,y,w,b){let D=0;const I={type:w.type,currentCaseLViewIndex:ug(p,f,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function(p,f,g){p.push(Jy(f.mainBinding),2,-1-f.mainBinding,g<<2|2)})(g,w,b),function(p,f,g){const y=p.data[f];null===y?p.data[f]=g:y.value=g}(p,b,I);const P=w.values;for(let G=0;G<P.length;G++){const z=P[G],te=[];for(let ne=0;ne<z.length;ne++){const ge=z[ne];if("string"!=typeof ge){const Se=te.push(ge)-1;z[ne]=`\x3c!--\ufffd${Se}\ufffd--\x3e`}}D=zc(p,I,f,g,y,w.cases[G],z.join(""),te)|D}D&&function(p,f,g){p.push(f,1,g<<2|3)}(g,D,b)}function Lw(p){const f=[],g=[];let y=1,w=0;const b=_A(p=p.replace(kx,function(D,I,P){return y="select"===P?0:1,w=parseInt(I.substr(1),10),""}));for(let D=0;D<b.length;){let I=b[D++].trim();1===y&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&f.push(I);const P=_A(b[D++]);f.length>g.length&&g.push(P)}return{type:y,mainBinding:w,cases:f,values:g}}function _A(p){if(!p)return[];let f=0;const g=[],y=[],w=/[{}]/g;let b;for(w.lastIndex=0;b=w.exec(p);){const I=b.index;if("}"==b[0]){if(g.pop(),0==g.length){const P=p.substring(f,I);kx.test(P)?y.push(Lw(P)):y.push(P),f=I+1}}else{if(0==g.length){const P=p.substring(f,I);y.push(P),f=I+1}g.push("{")}}const D=p.substring(f);return y.push(D),y}function zc(p,f,g,y,w,b,D,I){const P=[],G=[],z=[];f.cases.push(b),f.create.push(P),f.remove.push(G),f.update.push(z);const ne=lm(cl()).getInertBodyElement(D),ge=mi(ne)||ne;return ge?yA(p,f,g,y,P,G,z,ge,w,I,0):0}function yA(p,f,g,y,w,b,D,I,P,G,z){let te=0,ne=I.firstChild;for(;ne;){const ge=ug(p,g,1,null);switch(ne.nodeType){case Node.ELEMENT_NODE:const Se=ne,Ge=Se.tagName.toLowerCase();if(Fu.hasOwnProperty(Ge)){z0(w,L0,Ge,P,ge),p.data[ge]=Ge;const Kt=Se.attributes;for(let tn=0;tn<Kt.length;tn++){const ui=Kt.item(tn),Ko=ui.name.toLowerCase();ui.value.match(U0)?N.hasOwnProperty(Ko)&&Uh(D,ui.value,ge,ui.name,0,ty[Ko]?Nc:O[Ko]?Tn:null):wN(w,ge,ui)}te=yA(p,f,g,y,w,b,D,ne,ge,G,z+1)|te,Gx(b,ge,z)}break;case Node.TEXT_NODE:const Oe=ne.textContent||"",ft=Oe.match(U0);z0(w,null,ft?"":Oe,P,ge),Gx(b,ge,z),ft&&(te=Uh(D,Oe,ge,null,0,null)|te);break;case Node.COMMENT_NODE:const et=Fx.exec(ne.textContent||"");if(et){const tn=G[parseInt(et[1],10)];z0(w,Ld,"",P,ge),Xy(p,g,y,P,tn,ge),j0(b,ge,z)}}ne=ne.nextSibling}return te}function Gx(p,f,g){0===g&&p.push(f)}function j0(p,f,g){0===g&&(p.push(~f),p.push(f))}function z0(p,f,g,y,w){null!==f&&p.push(f),p.push(g,w,function(p,f,g){return 0|f<<17|g<<1}(0,y,w))}function wN(p,f,g){p.push(f<<1|1,g.name,g.value)}function $0(p,f,g=-1){const y=ut(),w=tt(),b=20+p,D=or(y.consts,f),I=Rr();y.firstCreatePass&&function(p,f,g,y,w,b){const D=Rr(),I=[],P=[],G=[[]],z=function(p){return p.replace(_N," ")}(w=function(p,f){if(function(p){return-1===p}(f))return gA(p);{const g=p.indexOf(`:${f}\ufffd`)+2+f.toString().length,y=p.search(new RegExp(`\ufffd\\/\\*\\d+:${f}\ufffd`));return gA(p.substring(g,y))}}(w,b)).split(mN);for(let te=0;te<z.length;te++){let ne=z[te];if(0==(1&te)){const ge=_A(ne);for(let Se=0;Se<ge.length;Se++){let Ge=ge[Se];if(0==(1&Se)){const Oe=Ge;""!==Oe&&Lx(p,D,G[0],I,P,g,Oe)}else{const Oe=Ge;if("object"!=typeof Oe)throw new Error(`Unable to parse ICU expression in "${w}" message.`);Xy(p,g,P,f,Oe,kw(p,D,G[0],g,I,"",!0).index)}}}else{const ge=47===ne.charCodeAt(0),Ge=(ne.charCodeAt(ge?1:0),20+Number.parseInt(ne.substring(ge?2:1)));if(ge)G.shift(),io(Rr(),!1);else{const Oe=B0(p,G[0],Ge);G.unshift([]),io(Oe,!0)}}}p.data[y]={create:I,update:P}}(y,null===I?0:I.index,w,b,D,g);const P=y.data[b],z=EE(y,I===w[6]?null:I,w);(function(p,f,g,y){const w=p[11];for(let b=0;b<f.length;b++){const D=f[b++],I=f[b],P=(D&Tr.COMMENT)===Tr.COMMENT,G=(D&Tr.APPEND_EAGERLY)===Tr.APPEND_EAGERLY,z=D>>>Tr.SHIFT;let te=p[z];null===te&&(te=p[z]=P?w.createComment(I):vE(w,I)),G&&null!==g&&Ha(w,g,te,y,!1)}})(w,P.create,z,I&&8&I.type?w[I.index]:null),oo(!0)}function Ux(p,f,g){$0(p,f,g),oo(!1)}function bA(p){return function(p){p&&(Nw|=1<<Math.min(Fw,31)),Fw++}(Sr(tt(),ro(),p)),bA}function Wx(p){!function(p,f,g){if(Fw>0){const y=p.data[g];aA(p,f,Array.isArray(y)?y:y.update,Go()-Fw-1,Nw)}Nw=0,Fw=0}(ut(),tt(),p+20)}function EA(p,f,g,y,w){if(p=he(p),Array.isArray(p))for(let b=0;b<p.length;b++)EA(p[b],f,g,y,w);else{const b=ut(),D=tt();let I=Vp(p)?p:he(p.provide),P=dg(p);const G=vt(),z=1048575&G.providerIndexes,te=G.directiveStart,ne=G.providerIndexes>>20;if(Vp(p)||!p.multi){const ge=new wc(P,w,Eg),Se=Vw(I,f,w?z:z+ne,te);-1===Se?(Ho(Tc(G,D),b,I),SA(b,p,f.length),f.push(I),G.directiveStart++,G.directiveEnd++,w&&(G.providerIndexes+=1048576),g.push(ge),D.push(ge)):(g[Se]=ge,D[Se]=ge)}else{const ge=Vw(I,f,z+ne,te),Se=Vw(I,f,z,z+ne),Ge=ge>=0&&g[ge],Oe=Se>=0&&g[Se];if(w&&!Oe||!w&&!Ge){Ho(Tc(G,D),b,I);const ft=function(p,f,g,y,w){const b=new wc(p,g,Eg);return b.multi=[],b.index=f,b.componentProviders=0,zx(b,w,y&&!g),b}(w?AN:$x,g.length,w,y,P);!w&&Oe&&(g[Se].providerFactory=ft),SA(b,p,f.length,0),f.push(I),G.directiveStart++,G.directiveEnd++,w&&(G.providerIndexes+=1048576),g.push(ft),D.push(ft)}else SA(b,p,ge>-1?ge:Se,zx(g[w?Se:ge],P,!w&&y));!w&&y&&Oe&&g[Se].componentProviders++}}}function SA(p,f,g,y){const w=Vp(f);if(w||function(p){return!!p.useClass}(f)){const D=(f.useClass||f).prototype.ngOnDestroy;if(D){const I=p.destroyHooks||(p.destroyHooks=[]);if(!w&&f.multi){const P=I.indexOf(g);-1===P?I.push(g,[y,D]):I[P+1].push(y,D)}else I.push(g,D)}}}function zx(p,f,g){return g&&p.componentProviders++,p.multi.push(f)-1}function Vw(p,f,g,y){for(let w=g;w<y;w++)if(f[w]===p)return w;return-1}function $x(p,f,g,y){return Rg(this.multi,[])}function AN(p,f,g,y){const w=this.multi;let b;if(this.providerFactory){const D=this.providerFactory.componentProviders,I=pd(g,g[1],this.providerFactory.index,y);b=I.slice(0,D),Rg(w,b);for(let P=D;P<I.length;P++)b.push(I[P])}else b=[],Rg(w,b);return b}function Rg(p,f){for(let g=0;g<p.length;g++)f.push((0,p[g])());return f}function Yx(p,f=[]){return g=>{g.providersResolver=(y,w)=>function(p,f,g){const y=ut();if(y.firstCreatePass){const w=as(p);EA(g,y.data,y.blueprint,w,!0),EA(f,y.data,y.blueprint,w,!1)}}(y,w?w(p):p,f)}}class Hw{}const i_="ngComponent";class Zx{resolveComponentFactory(f){throw function(p){const f=Error(`No component factory found for ${ye(p)}. Did you add it to @NgModule.entryComponents?`);return f[i_]=p,f}(f)}}let r_=(()=>{class p{}return p.NULL=new Zx,p})();function tv(...p){}function nv(p,f){return new Gd(Lo(p,f))}const xN=function(){return nv(vt(),tt())};let Gd=(()=>{class p{constructor(g){this.nativeElement=g}}return p.__NG_ELEMENT_ID__=xN,p})();function AA(p){return p instanceof Gd?p.nativeElement:p}class Uw{}let du=(()=>{class p{}return p.__NG_ELEMENT_ID__=()=>q0(),p})();const q0=function(){const p=tt(),g=Mi(vt().index,p);return function(p){return p[11]}(Bi(g)?g:p)};let Z0=(()=>{class p{}return p.\u0275prov=fi({token:p,providedIn:"root",factory:()=>null}),p})();class RA{constructor(f){this.full=f,this.major=f.split(".")[0],this.minor=f.split(".")[1],this.patch=f.split(".").slice(2).join(".")}}const uf=new RA("12.2.13");class MN{constructor(){}supports(f){return _g(f)}create(f){return new IA(f)}}const PN=(p,f)=>f;class IA{constructor(f){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=f||PN}forEachItem(f){let g;for(g=this._itHead;null!==g;g=g._next)f(g)}forEachOperation(f){let g=this._itHead,y=this._removalsHead,w=0,b=null;for(;g||y;){const D=!y||g&&g.currentIndex<Jx(y,w,b)?g:y,I=Jx(D,w,b),P=D.currentIndex;if(D===y)w--,y=y._nextRemoved;else if(g=g._next,null==D.previousIndex)w++;else{b||(b=[]);const G=I-w,z=P-w;if(G!=z){for(let ne=0;ne<G;ne++){const ge=ne<b.length?b[ne]:b[ne]=0,Se=ge+ne;z<=Se&&Se<G&&(b[ne]=ge+1)}b[D.previousIndex]=z-G}}I!==P&&f(D,I,P)}}forEachPreviousItem(f){let g;for(g=this._previousItHead;null!==g;g=g._nextPrevious)f(g)}forEachAddedItem(f){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)f(g)}forEachMovedItem(f){let g;for(g=this._movesHead;null!==g;g=g._nextMoved)f(g)}forEachRemovedItem(f){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)f(g)}forEachIdentityChange(f){let g;for(g=this._identityChangesHead;null!==g;g=g._nextIdentityChange)f(g)}diff(f){if(null==f&&(f=[]),!_g(f))throw new Error(`Error trying to diff '${ye(f)}'. Only arrays and iterables are allowed`);return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let w,b,D,g=this._itHead,y=!1;if(Array.isArray(f)){this.length=f.length;for(let I=0;I<this.length;I++)b=f[I],D=this._trackByFn(I,b),null!==g&&Object.is(g.trackById,D)?(y&&(g=this._verifyReinsertion(g,b,D,I)),Object.is(g.item,b)||this._addIdentityChange(g,b)):(g=this._mismatch(g,b,D,I),y=!0),g=g._next}else w=0,function(p,f){if(Array.isArray(p))for(let g=0;g<p.length;g++)f(p[g]);else{const g=p[$p()]();let y;for(;!(y=g.next()).done;)f(y.value)}}(f,I=>{D=this._trackByFn(w,I),null!==g&&Object.is(g.trackById,D)?(y&&(g=this._verifyReinsertion(g,I,D,w)),Object.is(g.item,I)||this._addIdentityChange(g,I)):(g=this._mismatch(g,I,D,w),y=!0),g=g._next,w++}),this.length=w;return this._truncate(g),this.collection=f,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let f;for(f=this._previousItHead=this._itHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._additionsHead;null!==f;f=f._nextAdded)f.previousIndex=f.currentIndex;for(this._additionsHead=this._additionsTail=null,f=this._movesHead;null!==f;f=f._nextMoved)f.previousIndex=f.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(f,g,y,w){let b;return null===f?b=this._itTail:(b=f._prev,this._remove(f)),null!==(f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(f.item,g)||this._addIdentityChange(f,g),this._reinsertAfter(f,b,w)):null!==(f=null===this._linkedRecords?null:this._linkedRecords.get(y,w))?(Object.is(f.item,g)||this._addIdentityChange(f,g),this._moveAfter(f,b,w)):f=this._addAfter(new NN(g,y),b,w),f}_verifyReinsertion(f,g,y,w){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==b?f=this._reinsertAfter(b,f._prev,w):f.currentIndex!=w&&(f.currentIndex=w,this._addToMoves(f,w)),f}_truncate(f){for(;null!==f;){const g=f._next;this._addToRemovals(this._unlink(f)),f=g}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(f,g,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(f);const w=f._prevRemoved,b=f._nextRemoved;return null===w?this._removalsHead=b:w._nextRemoved=b,null===b?this._removalsTail=w:b._prevRemoved=w,this._insertAfter(f,g,y),this._addToMoves(f,y),f}_moveAfter(f,g,y){return this._unlink(f),this._insertAfter(f,g,y),this._addToMoves(f,y),f}_addAfter(f,g,y){return this._insertAfter(f,g,y),this._additionsTail=null===this._additionsTail?this._additionsHead=f:this._additionsTail._nextAdded=f,f}_insertAfter(f,g,y){const w=null===g?this._itHead:g._next;return f._next=w,f._prev=g,null===w?this._itTail=f:w._prev=f,null===g?this._itHead=f:g._next=f,null===this._linkedRecords&&(this._linkedRecords=new Qx),this._linkedRecords.put(f),f.currentIndex=y,f}_remove(f){return this._addToRemovals(this._unlink(f))}_unlink(f){null!==this._linkedRecords&&this._linkedRecords.remove(f);const g=f._prev,y=f._next;return null===g?this._itHead=y:g._next=y,null===y?this._itTail=g:y._prev=g,f}_addToMoves(f,g){return f.previousIndex===g||(this._movesTail=null===this._movesTail?this._movesHead=f:this._movesTail._nextMoved=f),f}_addToRemovals(f){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qx),this._unlinkedRecords.put(f),f.currentIndex=null,f._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=f,f._prevRemoved=null):(f._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=f),f}_addIdentityChange(f,g){return f.item=g,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=f:this._identityChangesTail._nextIdentityChange=f,f}}class NN{constructor(f,g){this.item=f,this.trackById=g,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FN{constructor(){this._head=null,this._tail=null}add(f){null===this._head?(this._head=this._tail=f,f._nextDup=null,f._prevDup=null):(this._tail._nextDup=f,f._prevDup=this._tail,f._nextDup=null,this._tail=f)}get(f,g){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===g||g<=y.currentIndex)&&Object.is(y.trackById,f))return y;return null}remove(f){const g=f._prevDup,y=f._nextDup;return null===g?this._head=y:g._nextDup=y,null===y?this._tail=g:y._prevDup=g,null===this._head}}class Qx{constructor(){this.map=new Map}put(f){const g=f.trackById;let y=this.map.get(g);y||(y=new FN,this.map.set(g,y)),y.add(f)}get(f,g){const w=this.map.get(f);return w?w.get(f,g):null}remove(f){const g=f.trackById;return this.map.get(g).remove(f)&&this.map.delete(g),f}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jx(p,f,g){const y=p.previousIndex;if(null===y)return y;let w=0;return g&&y<g.length&&(w=g[y]),y+f+w}class Ww{constructor(){}supports(f){return f instanceof Map||Gm(f)}create(){return new K0}}class K0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(f){let g;for(g=this._mapHead;null!==g;g=g._next)f(g)}forEachPreviousItem(f){let g;for(g=this._previousMapHead;null!==g;g=g._nextPrevious)f(g)}forEachChangedItem(f){let g;for(g=this._changesHead;null!==g;g=g._nextChanged)f(g)}forEachAddedItem(f){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)f(g)}forEachRemovedItem(f){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)f(g)}diff(f){if(f){if(!(f instanceof Map||Gm(f)))throw new Error(`Error trying to diff '${ye(f)}'. Only maps and objects are allowed`)}else f=new Map;return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let g=this._mapHead;if(this._appendAfter=null,this._forEach(f,(y,w)=>{if(g&&g.key===w)this._maybeAddToChanges(g,y),this._appendAfter=g,g=g._next;else{const b=this._getOrCreateRecordForKey(w,y);g=this._insertBeforeOrAppend(g,b)}}),g){g._prev&&(g._prev._next=null),this._removalsHead=g;for(let y=g;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(f,g){if(f){const y=f._prev;return g._next=f,g._prev=y,f._prev=g,y&&(y._next=g),f===this._mapHead&&(this._mapHead=g),this._appendAfter=f,f}return this._appendAfter?(this._appendAfter._next=g,g._prev=this._appendAfter):this._mapHead=g,this._appendAfter=g,null}_getOrCreateRecordForKey(f,g){if(this._records.has(f)){const w=this._records.get(f);this._maybeAddToChanges(w,g);const b=w._prev,D=w._next;return b&&(b._next=D),D&&(D._prev=b),w._next=null,w._prev=null,w}const y=new jw(f);return this._records.set(f,y),y.currentValue=g,this._addToAdditions(y),y}_reset(){if(this.isDirty){let f;for(this._previousMapHead=this._mapHead,f=this._previousMapHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._changesHead;null!==f;f=f._nextChanged)f.previousValue=f.currentValue;for(f=this._additionsHead;null!=f;f=f._nextAdded)f.previousValue=f.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(f,g){Object.is(g,f.currentValue)||(f.previousValue=f.currentValue,f.currentValue=g,this._addToChanges(f))}_addToAdditions(f){null===this._additionsHead?this._additionsHead=this._additionsTail=f:(this._additionsTail._nextAdded=f,this._additionsTail=f)}_addToChanges(f){null===this._changesHead?this._changesHead=this._changesTail=f:(this._changesTail._nextChanged=f,this._changesTail=f)}_forEach(f,g){f instanceof Map?f.forEach(g):Object.keys(f).forEach(y=>g(f[y],y))}}class jw{constructor(f){this.key=f,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q0(){return new zw([new MN])}let zw=(()=>{class p{constructor(g){this.factories=g}static create(g,y){if(null!=y){const w=y.factories.slice();g=g.concat(w)}return new p(g)}static extend(g){return{provide:p,useFactory:y=>p.create(g,y||Q0()),deps:[[p,new ua,new Zl]]}}find(g){const y=this.factories.find(w=>w.supports(g));if(null!=y)return y;throw new Error(`Cannot find a differ supporting object '${g}' of type '${function(p){return p.name||typeof p}(g)}'`)}}return p.\u0275prov=fi({token:p,providedIn:"root",factory:Q0}),p})();function xA(){return new $w([new Ww])}let $w=(()=>{class p{constructor(g){this.factories=g}static create(g,y){if(y){const w=y.factories.slice();g=g.concat(w)}return new p(g)}static extend(g){return{provide:p,useFactory:y=>p.create(g,y||xA()),deps:[[p,new ua,new Zl]]}}find(g){const y=this.factories.find(w=>w.supports(g));if(y)return y;throw new Error(`Cannot find a differ supporting object '${g}'`)}}return p.\u0275prov=fi({token:p,providedIn:"root",factory:xA}),p})();function Yw(p,f,g,y,w=!1){for(;null!==g;){const b=f[g.index];if(null!==b&&y.push(ci(b)),to(b))for(let I=10;I<b.length;I++){const P=b[I],G=P[1].firstChild;null!==G&&Yw(P[1],P,G,y)}const D=g.type;if(8&D)Yw(p,f,g.child,y);else if(32&D){const I=ji(g,f);let P;for(;P=I();)y.push(P)}else if(16&D){const I=sT(f,g);if(Array.isArray(I))y.push(...I);else{const P=dm(f[16]);Yw(P[1],P,I,y,!0)}}g=w?g.projectionNext:g.next}return y}class Dl{constructor(f,g){this._lView=f,this._cdRefInjectingView=g,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const f=this._lView,g=f[1];return Yw(g,f,g.firstChild,[])}get context(){return this._lView[8]}set context(f){this._lView[8]=f}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const f=this._lView[3];if(to(f)){const g=f[8],y=g?g.indexOf(this):-1;y>-1&&(yC(f,y),sa(g,y))}this._attachedToViewContainer=!1}vC(this._lView[1],this._lView)}onDestroy(f){gT(this._lView[1],this._lView,null,f)}markForCheck(){YC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ZC(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(p,f,g){xa(!0);try{ZC(p,f,g)}finally{xa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var f;this._appRef=null,ly(this._lView[1],f=this._lView,f[11],2,null,null)}attachToAppRef(f){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=f}}class eO extends Dl{constructor(f){super(f),this._view=f}detectChanges(){KC(this._view)}checkNoChanges(){!function(p){xa(!0);try{KC(p)}finally{xa(!1)}}(this._view)}get context(){return null}}const LN=function(p){return function(p,f,g){if(yu(p)&&!g){const y=Mi(p.index,f);return new Dl(y,y)}return 47&p.type?new Dl(f[16],f):null}(vt(),tt(),16==(16&p))};let tO=(()=>{class p{}return p.__NG_ELEMENT_ID__=LN,p})();const VN=[new Ww],UN=new zw([new MN]),WN=new $w(VN),zN=function(){return J0(vt(),tt())};let qw=(()=>{class p{}return p.__NG_ELEMENT_ID__=zN,p})();const $N=qw,YN=class extends $N{constructor(f,g,y){super(),this._declarationLView=f,this._declarationTContainer=g,this.elementRef=y}createEmbeddedView(f){const g=this._declarationTContainer.tViews,y=lg(this._declarationLView,g,f,16,null,g.declTNode,null,null,null,null);y[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(y[19]=b.createEmbeddedView(g)),bm(g,y,f),new Dl(y)}};function J0(p,f){return 4&p.type?new YN(f,p,nv(p,f)):null}class a_{}class nO{}const KN=function(){return oO(vt(),tt())};let iv=(()=>{class p{}return p.__NG_ELEMENT_ID__=KN,p})();const QN=iv,OA=class extends QN{constructor(f,g,y){super(),this._lContainer=f,this._hostTNode=g,this._hostLView=y}get element(){return nv(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const f=zr(this._hostTNode,this._hostLView);if(cp(f)){const g=cs(f,this._hostLView),y=Is(f);return new Wi(g[1].data[y+8],g)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(f){const g=rO(this._lContainer);return null!==g&&g[f]||null}get length(){return this._lContainer.length-10}createEmbeddedView(f,g,y){const w=f.createEmbeddedView(g||{});return this.insert(w,y),w}createComponent(f,g,y,w,b){const D=y||this.parentInjector;if(!b&&null==f.ngModule&&D){const P=D.get(a_,null);P&&(b=P)}const I=f.create(D,w,void 0,b);return this.insert(I.hostView,g),I}insert(f,g){const y=f._lView,w=y[1];if(to(y[3])){const z=this.indexOf(f);if(-1!==z)this.detach(z);else{const te=y[3],ne=new OA(te,te[6],te[3]);ne.detach(ne.indexOf(f))}}const b=this._adjustIndex(g),D=this._lContainer;!function(p,f,g,y){const w=10+y,b=g.length;y>0&&(g[w-1][4]=f),y<b-10?(f[4]=g[w],$l(g,10+y,f)):(g.push(f),f[4]=null),f[3]=g;const D=f[17];null!==D&&g!==D&&function(p,f){const g=p[9];f[16]!==f[3][3][16]&&(p[2]=!0),null===g?p[9]=[f]:g.push(f)}(D,f);const I=f[19];null!==I&&I.insertView(p),f[2]|=128}(w,y,D,b);const I=SC(b,D),P=y[11],G=Ip(P,D[7]);return null!==G&&function(p,f,g,y,w,b){y[0]=w,y[6]=f,ly(p,y,g,1,w,b)}(w,D[6],P,y,G,I),f.attachToViewContainerRef(),$l(MA(D),b,f),f}move(f,g){return this.insert(f,g)}indexOf(f){const g=rO(this._lContainer);return null!==g?g.indexOf(f):-1}remove(f){const g=this._adjustIndex(f,-1),y=yC(this._lContainer,g);y&&(sa(MA(this._lContainer),g),vC(y[1],y))}detach(f){const g=this._adjustIndex(f,-1),y=yC(this._lContainer,g);return y&&null!=sa(MA(this._lContainer),g)?new Dl(y):null}_adjustIndex(f,g=0){return null==f?this.length+g:f}};function rO(p){return p[8]}function MA(p){return p[8]||(p[8]=[])}function oO(p,f){let g;const y=f[p.index];if(to(y))g=y;else{let w;if(8&p.type)w=ci(y);else{const b=f[11];w=b.createComment("");const D=Lo(p,f);Ha(b,Ip(b,D),w,function(p,f){return vi(p)?p.nextSibling(f):f.nextSibling}(b,D),!1)}f[p.index]=g=zC(y,f,w,p),iu(f,g)}return new OA(g,p,f)}const p_={};class zA extends r_{constructor(f){super(),this.ngModule=f}resolveComponentFactory(f){const g=qn(f);return new $A(g,this.ngModule)}}function RO(p){const f=[];for(let g in p)p.hasOwnProperty(g)&&f.push({propName:p[g],templateName:g});return f}const bF=new Qi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ie});class $A extends Hw{constructor(f,g){super(),this.componentDef=f,this.ngModule=g,this.componentType=f.type,this.selector=f.selectors.map(Fs).join(","),this.ngContentSelectors=f.ngContentSelectors?f.ngContentSelectors:[],this.isBoundToModule=!!g}get inputs(){return RO(this.componentDef.inputs)}get outputs(){return RO(this.componentDef.outputs)}create(f,g,y,w){const b=(w=w||this.ngModule)?function(p,f){return{get:(g,y,w)=>{const b=p.get(g,p_,w);return b!==p_||y===p_?b:f.get(g,y,w)}}}(f,w.injector):f,D=b.get(Uw,ta),I=b.get(Z0,null),P=D.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",z=y?function(p,f,g){if(vi(p))return p.selectRootElement(f,g===yt.ShadowDom);let y="string"==typeof f?p.querySelector(f):f;return y.textContent="",y}(P,y,this.componentDef.encapsulation):On(D.createRenderer(null,this.componentDef),G,function(p){const f=p.toLowerCase();return"svg"===f?hc:"math"===f?"http://www.w3.org/1998/MathML/":null}(G)),te=this.componentDef.onPush?576:528,ne=function(p,f){return{components:[],scheduler:p||ie,clean:JE,playerHandler:f||null,flags:0}}(),ge=ms(0,null,null,1,0,null,null,null,null,null),Se=lg(null,ge,ne,te,null,null,D,P,I,b);let Ge,Oe;hl(Se);try{const ft=function(p,f,g,y,w,b){const D=g[1];g[20]=p;const P=Dd(D,20,2,"#host",null),G=P.mergedAttrs=f.hostAttrs;null!==G&&(Mm(P,G,!0),null!==p&&(up(w,p,G),null!==P.classes&&RE(w,p,P.classes),null!==P.styles&&AE(w,p,P.styles)));const z=y.createRenderer(p,f),te=lg(g,zE(f),null,f.onPush?64:16,g[20],P,y,z,b||null,null);return D.firstCreatePass&&(Ho(Tc(P,g),D,f.type),kc(D,P),li(P,g.length,1)),iu(g,te),g[20]=te}(z,this.componentDef,Se,D,P);if(z)if(y)up(P,z,["ng-version",uf.full]);else{const{attrs:et,classes:Kt}=function(p){const f=[],g=[];let y=1,w=2;for(;y<p.length;){let b=p[y];if("string"==typeof b)2===w?""!==b&&f.push(b,p[++y]):8===w&&g.push(b);else{if(!Ua(w))break;w=b}y++}return{attrs:f,classes:g}}(this.componentDef.selectors[0]);et&&up(P,z,et),Kt&&Kt.length>0&&RE(P,z,Kt.join(" "))}if(Oe=Ta(ge,20),void 0!==g){const et=Oe.projection=[];for(let Kt=0;Kt<this.ngContentSelectors.length;Kt++){const tn=g[Kt];et.push(null!=tn?Array.from(tn):null)}}Ge=function(p,f,g,y,w){const b=g[1],D=function(p,f,g){const y=vt();p.firstCreatePass&&(g.providersResolver&&g.providersResolver(g),bh(p,y,f,ug(p,f,1,null),g));const w=pd(f,p,y.directiveStart,y);Ps(w,f);const b=Lo(y,f);return b&&Ps(b,f),w}(b,g,f);if(y.components.push(D),p[8]=D,w&&w.forEach(P=>P(D,f)),f.contentQueries){const P=vt();f.contentQueries(1,D,P.directiveStart)}const I=vt();return!b.firstCreatePass||null===f.hostBindings&&null===f.hostAttrs||(Cc(I.index),ZE(g[1],I,0,I.directiveStart,I.directiveEnd,f),Gp(f,D)),D}(ft,this.componentDef,Se,ne,[OT]),bm(ge,Se,null)}finally{ra()}return new wi(this.componentType,Ge,nv(Oe,Se),Se,Oe)}}class wi extends class{}{constructor(f,g,y,w,b){super(),this.location=y,this._rootLView=w,this._tNode=b,this.instance=g,this.hostView=this.changeDetectorRef=new eO(w),this.componentType=f}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(f){this.hostView.onDestroy(f)}}const lv=new Map;class dS extends a_{constructor(f,g){super(),this._parent=g,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zA(this);const y=Ei(f),w=f[dn]||null;w&&nA(w),this._bootstrapComponents=Ii(y.bootstrap),this._r3Injector=Pm(f,g,[{provide:a_,useValue:this},{provide:r_,useValue:this.componentFactoryResolver}],ye(f)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(f)}get(f,g=Er.THROW_IF_NOT_FOUND,y=Rt.Default){return f===Er||f===a_||f===Ad?this:this._r3Injector.get(f,g,y)}destroy(){const f=this._r3Injector;!f.destroyed&&f.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(f){this.destroyCbs.push(f)}}class f_ extends nO{constructor(f){super(),this.moduleType=f,null!==Ei(f)&&function(p){const f=new Set;!function g(y){const w=Ei(y,!0),b=w.id;null!==b&&(function(p,f,g){if(f&&f!==g)throw new Error(`Duplicate module registered for ${p} - ${ye(f)} vs ${ye(f.name)}`)}(b,lv.get(b),y),lv.set(b,y));const D=Ii(w.imports);for(const I of D)f.has(I)||(f.add(I),g(I))}(p)}(f)}create(f){return new dS(this.moduleType,f)}}function sb(p,f,g,y){return LO(tt(),Ki(),p,f,g,y)}function NO(p,f,g,y,w){return GO(tt(),Ki(),p,f,g,y,w)}function hS(p,f,g,y,w,b){return function(p,f,g,y,w,b,D,I){const P=f+g;return function(p,f,g,y,w){const b=ja(p,f,g,y);return Sr(p,f+2,w)||b}(p,P,w,b,D)?au(p,P+3,I?y.call(I,w,b,D):y(w,b,D)):Pg(p,P+3)}(tt(),Ki(),p,f,g,y,w,b)}function Pg(p,f){const g=p[f];return g===An?void 0:g}function LO(p,f,g,y,w,b){const D=f+g;return Sr(p,D,w)?au(p,D+1,b?y.call(b,w):y(w)):Pg(p,D+1)}function GO(p,f,g,y,w,b,D){const I=f+g;return ja(p,I,w,b)?au(p,I+2,D?y.call(D,w,b):y(w,b)):Pg(p,I+2)}function qA(p,f){const g=ut();let y;const w=p+20;g.firstCreatePass?(y=function(p,f){if(f)for(let g=f.length-1;g>=0;g--){const y=f[g];if(p===y.name)return y}throw new rt("302",`The pipe '${p}' could not be found!`)}(f,g.pipeRegistry),g.data[w]=y,y.onDestroy&&(g.destroyHooks||(g.destroyHooks=[])).push(w,y.onDestroy)):y=g.data[w];const b=y.factory||(y.factory=Ts(y.type)),D=Wr(Eg);try{const I=Ru(!1),P=b();return Ru(I),function(p,f,g,y){g>=p.data.length&&(p.data[g]=null,p.blueprint[g]=null),f[g]=y}(g,tt(),w,P),P}finally{Wr(D)}}function fS(p,f,g){const y=p+20,w=tt(),b=Aa(w,y);return Zc(w,lb(w,y)?LO(w,Ki(),f,b.transform,g,b):b.transform(g))}function zh(p,f,g,y){const w=p+20,b=tt(),D=Aa(b,w);return Zc(b,lb(b,w)?GO(b,Ki(),f,D.transform,g,y,D):D.transform(g,y))}function lb(p,f){return p[1].data[f].pure}function Zc(p,f){return Fr.isWrapped(f)&&(f=Fr.unwrap(f),p[Go()]=An),f}function KA(p){return f=>{setTimeout(p,void 0,f)}}const Ku=class extends a.xQ{constructor(f=!1){super(),this.__isAsync=f}emit(f){super.next(f)}subscribe(f,g,y){var w,b,D;let I=f,P=g||(()=>null),G=y;if(f&&"object"==typeof f){const te=f;I=null===(w=te.next)||void 0===w?void 0:w.bind(te),P=null===(b=te.error)||void 0===b?void 0:b.bind(te),G=null===(D=te.complete)||void 0===D?void 0:D.bind(te)}this.__isAsync&&(P=KA(P),I&&(I=KA(I)),G&&(G=KA(G)));const z=super.subscribe({next:I,error:P,complete:G});return f instanceof Q.w&&f.add(z),z}};function zO(){return this._results[$p()]()}class g_{constructor(f=!1){this._emitDistinctChangesOnly=f,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const g=$p(),y=g_.prototype;y[g]||(y[g]=zO)}get changes(){return this._changes||(this._changes=new Ku)}get(f){return this._results[f]}map(f){return this._results.map(f)}filter(f){return this._results.filter(f)}find(f){return this._results.find(f)}reduce(f,g){return this._results.reduce(f,g)}forEach(f){this._results.forEach(f)}some(f){return this._results.some(f)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(f,g){const y=this;y.dirty=!1;const w=fs(f);(this._changesDetected=!function(p,f,g){if(p.length!==f.length)return!1;for(let y=0;y<p.length;y++){let w=p[y],b=f[y];if(g&&(w=g(w),b=g(b)),b!==w)return!1}return!0}(y._results,w,g))&&(y._results=w,y.length=w.length,y.last=w[this.length-1],y.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class JA{constructor(f){this.queryList=f,this.matches=null}clone(){return new JA(this.queryList)}setDirty(){this.queryList.setDirty()}}class cv{constructor(f=[]){this.queries=f}createEmbeddedView(f){const g=f.queries;if(null!==g){const y=null!==f.contentQueries?f.contentQueries[0]:g.length,w=[];for(let b=0;b<y;b++){const D=g.getByIndex(b);w.push(this.queries[D.indexInDeclarationView].clone())}return new cv(w)}return null}insertView(f){this.dirtyQueriesWithMatches(f)}detachView(f){this.dirtyQueriesWithMatches(f)}dirtyQueriesWithMatches(f){for(let g=0;g<this.queries.length;g++)null!==yS(f,g).matches&&this.queries[g].setDirty()}}class XA{constructor(f,g,y=null){this.predicate=f,this.flags=g,this.read=y}}class eR{constructor(f=[]){this.queries=f}elementStart(f,g){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(f,g)}elementEnd(f){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(f)}embeddedTView(f){let g=null;for(let y=0;y<this.length;y++){const w=null!==g?g.length:0,b=this.getByIndex(y).embeddedTView(f,w);b&&(b.indexInDeclarationView=y,null!==g?g.push(b):g=[b])}return null!==g?new eR(g):null}template(f,g){for(let y=0;y<this.queries.length;y++)this.queries[y].template(f,g)}getByIndex(f){return this.queries[f]}get length(){return this.queries.length}track(f){this.queries.push(f)}}class tR{constructor(f,g=-1){this.metadata=f,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(f,g){this.isApplyingToNode(g)&&this.matchTNode(f,g)}elementEnd(f){this._declarationNodeIndex===f.index&&(this._appliesToNextNode=!1)}template(f,g){this.elementStart(f,g)}embeddedTView(f,g){return this.isApplyingToNode(f)?(this.crossesNgTemplate=!0,this.addMatch(-f.index,g),new tR(this.metadata)):null}isApplyingToNode(f){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const g=this._declarationNodeIndex;let y=f.parent;for(;null!==y&&8&y.type&&y.index!==g;)y=y.parent;return g===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(f,g){const y=this.metadata.predicate;if(Array.isArray(y))for(let w=0;w<y.length;w++){const b=y[w];this.matchTNodeWithReadOption(f,g,AF(g,b)),this.matchTNodeWithReadOption(f,g,ei(g,f,b,!1,!1))}else y===qw?4&g.type&&this.matchTNodeWithReadOption(f,g,-1):this.matchTNodeWithReadOption(f,g,ei(g,f,y,!1,!1))}matchTNodeWithReadOption(f,g,y){if(null!==y){const w=this.metadata.read;if(null!==w)if(w===Gd||w===iv||w===qw&&4&g.type)this.addMatch(g.index,-2);else{const b=ei(g,f,w,!1,!1);null!==b&&this.addMatch(g.index,b)}else this.addMatch(g.index,y)}}addMatch(f,g){null===this.matches?this.matches=[f,g]:this.matches.push(f,g)}}function AF(p,f){const g=p.localNames;if(null!==g)for(let y=0;y<g.length;y+=2)if(g[y]===f)return g[y+1];return null}function ub(p,f,g,y){return-1===g?function(p,f){return 11&p.type?nv(p,f):4&p.type?J0(p,f):null}(f,p):-2===g?function(p,f,g){return g===Gd?nv(f,p):g===qw?J0(f,p):g===iv?oO(f,p):void 0}(p,f,y):pd(p,p[1],g,f)}function iR(p,f,g,y){const w=f[19].queries[y];if(null===w.matches){const b=p.data,D=g.matches,I=[];for(let P=0;P<D.length;P+=2){const G=D[P];I.push(G<0?null:ub(f,b[G],D[P+1],g.metadata.read))}w.matches=I}return w.matches}function mS(p,f,g,y){const w=p.queries.getByIndex(g),b=w.matches;if(null!==b){const D=iR(p,f,w,g);for(let I=0;I<b.length;I+=2){const P=b[I];if(P>0)y.push(D[I/2]);else{const G=b[I+1],z=f[-P];for(let te=10;te<z.length;te++){const ne=z[te];ne[17]===ne[3]&&mS(ne[1],ne,G,y)}if(null!==z[9]){const te=z[9];for(let ne=0;ne<te.length;ne++){const ge=te[ne];mS(ge[1],ge,G,y)}}}}}return y}function qO(p){const f=tt(),g=ut(),y=eh();vc(y+1);const w=yS(g,y);if(p.dirty&&fc(f)===(2==(2&w.metadata.flags))){if(null===w.matches)p.reset([]);else{const b=w.crossesNgTemplate?mS(g,f,y,[]):iR(g,f,w,y);p.reset(b,AA),p.notifyOnChanges()}return!0}return!1}function _S(p,f,g){const y=ut();y.firstCreatePass&&(cb(y,new XA(p,f,g),-1),2==(2&f)&&(y.staticViewQueries=!0)),rR(y,tt(),f)}function ZO(p,f,g,y){const w=ut();if(w.firstCreatePass){const b=vt();cb(w,new XA(f,g,y),b.index),function(p,f){const g=p.contentQueries||(p.contentQueries=[]);f!==(g.length?g[g.length-1]:-1)&&g.push(p.queries.length-1,f)}(w,p),2==(2&g)&&(w.staticContentQueries=!0)}rR(w,tt(),g)}function KO(){return p=tt(),f=eh(),p[19].queries[f].queryList;var p,f}function rR(p,f,g){const y=new g_(4==(4&g));gT(p,f,y,y.destroy),null===f[19]&&(f[19]=new cv),f[19].queries.push(new JA(y))}function cb(p,f,g){null===p.queries&&(p.queries=new eR),p.queries.track(new tR(f,g))}function yS(p,f){return p.queries.getByIndex(f)}function QO(p,f){return J0(p,f)}const GF=Iu("Input",p=>({bindingPropertyName:p})),BF=Iu("Output",p=>({bindingPropertyName:p})),fb=new Qi("Application Initializer");let mv=(()=>{class p{constructor(g){this.appInits=g,this.resolve=tv,this.reject=tv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,w)=>{this.resolve=y,this.reject=w})}runInitializers(){if(this.initialized)return;const g=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const b=this.appInits[w]();if(Ym(b))g.push(b);else if(Nh(b)){const D=new Promise((I,P)=>{b.subscribe({complete:I,error:P})});g.push(D)}}Promise.all(g).then(()=>{y()}).catch(w=>{this.reject(w)}),0===g.length&&y(),this.initialized=!0}}return p.\u0275fac=function(g){return new(g||p)(sr(fb,8))},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();const hM=new Qi("AppId"),pR={provide:hM,useFactory:function(){return`${TS()}${TS()}${TS()}`},deps:[]};function TS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pM=new Qi("Platform Initializer"),y_=new Qi("Platform ID"),fM=new Qi("appBootstrapListener");let gM=(()=>{class p{log(g){console.log(g)}warn(g){console.warn(g)}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();const AS=new Qi("LocaleId"),fR=new Qi("DefaultCurrencyCode");class yv{constructor(f,g){this.ngModuleFactory=f,this.componentFactories=g}}const mR=function(p){return new f_(p)},_R=mR,JF=function(p){return Promise.resolve(mR(p))},yR=function(p){const f=mR(p),y=Ii(Ei(p).declarations).reduce((w,b)=>{const D=qn(b);return D&&w.push(new $A(D)),w},[]);return new yv(f,y)},vR=yR,mM=function(p){return Promise.resolve(yR(p))};let mb=(()=>{class p{constructor(){this.compileModuleSync=_R,this.compileModuleAsync=JF,this.compileModuleAndAllComponentsSync=vR,this.compileModuleAndAllComponentsAsync=mM}clearCache(){}clearCacheFor(g){}getModuleId(g){}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();const _M=(()=>Promise.resolve(0))();function CR(p){"undefined"==typeof Zone?_M.then(()=>{p&&p.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",p)}class Ju{constructor({enableLongStackTrace:f=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ku(!1),this.onMicrotaskEmpty=new Ku(!1),this.onStable=new Ku(!1),this.onError=new Ku(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),f&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!y&&g,w.shouldCoalesceRunChangeDetection=y,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function(){let p=an.requestAnimationFrame,f=an.cancelAnimationFrame;if("undefined"!=typeof Zone&&p&&f){const g=p[Zone.__symbol__("OriginalDelegate")];g&&(p=g);const y=f[Zone.__symbol__("OriginalDelegate")];y&&(f=y)}return{nativeRequestAnimationFrame:p,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function(p){const f=()=>{!function(p){p.isCheckStableRunning||-1!==p.lastRequestAnimationFrameId||(p.lastRequestAnimationFrameId=p.nativeRequestAnimationFrame.call(an,()=>{p.fakeTopEventTask||(p.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{p.lastRequestAnimationFrameId=-1,_b(p),p.isCheckStableRunning=!0,wR(p),p.isCheckStableRunning=!1},void 0,()=>{},()=>{})),p.fakeTopEventTask.invoke()}),_b(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,y,w,b,D,I)=>{try{return vM(p),g.invokeTask(w,b,D,I)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||p.shouldCoalesceRunChangeDetection)&&f(),CM(p)}},onInvoke:(g,y,w,b,D,I,P)=>{try{return vM(p),g.invoke(w,b,D,I,P)}finally{p.shouldCoalesceRunChangeDetection&&f(),CM(p)}},onHasTask:(g,y,w,b)=>{g.hasTask(w,b),y===w&&("microTask"==b.change?(p._hasPendingMicrotasks=b.microTask,_b(p),wR(p)):"macroTask"==b.change&&(p.hasPendingMacrotasks=b.macroTask))},onHandleError:(g,y,w,b)=>(g.handleError(w,b),p.runOutsideAngular(()=>p.onError.emit(b)),!1)})}(w)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ju.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ju.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(f,g,y){return this._inner.run(f,g,y)}runTask(f,g,y,w){const b=this._inner,D=b.scheduleEventTask("NgZoneEvent: "+w,f,yM,tv,tv);try{return b.runTask(D,g,y)}finally{b.cancelTask(D)}}runGuarded(f,g,y){return this._inner.runGuarded(f,g,y)}runOutsideAngular(f){return this._outer.run(f)}}const yM={};function wR(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function _b(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&-1!==p.lastRequestAnimationFrameId)}function vM(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function CM(p){p._nesting--,wR(p)}class wM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ku,this.onMicrotaskEmpty=new Ku,this.onStable=new Ku,this.onError=new Ku}run(f,g,y){return f.apply(g,y)}runGuarded(f,g,y){return f.apply(g,y)}runOutsideAngular(f){return f()}runTask(f,g,y,w){return f.apply(g,y)}}let bM=(()=>{class p{constructor(g){this._ngZone=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ju.assertNotInAngularZone(),CR(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())CR(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb(this._didWork)}this._didWork=!1});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(g)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,y,w){let b=-1;y&&y>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==b),g(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:g,timeoutId:b,updateCb:w})}whenStable(g,y,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,y,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(g,y,w){return[]}}return p.\u0275fac=function(g){return new(g||p)(sr(Ju))},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})(),ok=(()=>{class p{constructor(){this._applications=new Map,bR.addToWindow(this)}registerApplication(g,y){this._applications.set(g,y)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,y=!0){return bR.findTestabilityInTree(this,g,y)}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();class yb{addToWindow(f){}findTestabilityInTree(f,g,y){return null}}function sk(p){bR=p}let bR=new yb,Fg=!0,ak=!1;function ER(){return ak=!0,Fg}function lk(){if(ak)throw new Error("Cannot enable prod mode after platform setup.");Fg=!1}let $h;const RS=new Qi("AllowMultipleToken");class IS{constructor(f,g){this.name=f,this.token=g}}function wv(p,f,g=[]){const y=`Platform: ${f}`,w=new Qi(y);return(b=[])=>{let D=cf();if(!D||D.injector.get(RS,!1))if(p)p(g.concat(b).concat({provide:w,useValue:!0}));else{const I=g.concat(b).concat({provide:w,useValue:!0},{provide:bl,useValue:"platform"});!function(p){if($h&&!$h.destroyed&&!$h.injector.get(RS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$h=p.get(ck);const f=p.get(pM,null);f&&f.forEach(g=>g())}(Er.create({providers:I,name:y}))}return function(p){const f=cf();if(!f)throw new Error("No platform exists!");if(!f.injector.get(p,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return f}(w)}}function cf(){return $h&&!$h.destroyed?$h:null}let ck=(()=>{class p{constructor(g){this._injector=g,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(g,y){const I=function(p,f){let g;return g="noop"===p?new wM:("zone.js"===p?void 0:p)||new Ju({enableLongStackTrace:ER(),shouldCoalesceEventChangeDetection:!!(null==f?void 0:f.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==f?void 0:f.ngZoneRunCoalescing)}),g}(y?y.ngZone:void 0,{ngZoneEventCoalescing:y&&y.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:y&&y.ngZoneRunCoalescing||!1}),P=[{provide:Ju,useValue:I}];return I.run(()=>{const G=Er.create({providers:P,parent:this.injector,name:g.moduleType.name}),z=g.create(G),te=z.injector.get(Jf,null);if(!te)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return I.runOutsideAngular(()=>{const ne=I.onError.subscribe({next:ge=>{te.handleError(ge)}});z.onDestroy(()=>{EM(this._modules,z),ne.unsubscribe()})}),function(p,f,g){try{const y=g();return Ym(y)?y.catch(w=>{throw f.runOutsideAngular(()=>p.handleError(w)),w}):y}catch(y){throw f.runOutsideAngular(()=>p.handleError(y)),y}}(te,I,()=>{const ne=z.injector.get(mv);return ne.runInitializers(),ne.donePromise.then(()=>(nA(z.injector.get(AS,Ow)||Ow),this._moduleDoBootstrap(z),z))})})}bootstrapModule(g,y=[]){const w=dk({},y);return function(p,f,g){const y=new f_(g);return Promise.resolve(y)}(0,0,g).then(b=>this.bootstrapModuleFactory(b,w))}_moduleDoBootstrap(g){const y=g.injector.get(vb);if(g._bootstrapComponents.length>0)g._bootstrapComponents.forEach(w=>y.bootstrap(w));else{if(!g.instance.ngDoBootstrap)throw new Error(`The module ${ye(g.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);g.instance.ngDoBootstrap(y)}this._modules.push(g)}onDestroy(g){this._destroyListeners.push(g)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g()),this._destroyed=!0}get destroyed(){return this._destroyed}}return p.\u0275fac=function(g){return new(g||p)(sr(Er))},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();function dk(p,f){return Array.isArray(f)?f.reduce(dk,p):Object.assign(Object.assign({},p),f)}let vb=(()=>{class p{constructor(g,y,w,b,D){this._zone=g,this._injector=y,this._exceptionHandler=w,this._componentFactoryResolver=b,this._initStatus=D,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new Z.y(G=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{G.next(this._stable),G.complete()})}),P=new Z.y(G=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Ju.assertNotInAngularZone(),CR(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,G.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{Ju.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{G.next(!1)}))});return()=>{z.unsubscribe(),te.unsubscribe()}});this.isStable=(0,Re.T)(I,P.pipe((0,Ae.B)()))}bootstrap(g,y){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let w;w=g instanceof Hw?g:this._componentFactoryResolver.resolveComponentFactory(g),this.componentTypes.push(w.componentType);const b=function(p){return p.isBoundToModule}(w)?void 0:this._injector.get(a_),I=w.create(Er.NULL,[],y||w.selector,b),P=I.location.nativeElement,G=I.injector.get(bM,null),z=G&&I.injector.get(ok);return G&&z&&z.registerApplication(P,G),I.onDestroy(()=>{this.detachView(I.hostView),EM(this.components,I),z&&z.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let g of this._views)g.detectChanges()}catch(g){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(g))}finally{this._runningTick=!1}}attachView(g){const y=g;this._views.push(y),y.attachToAppRef(this)}detachView(g){const y=g;EM(this._views,y),y.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g),this._injector.get(fM,[]).concat(this._bootstrapListeners).forEach(w=>w(g))}ngOnDestroy(){this._views.slice().forEach(g=>g.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return p.\u0275fac=function(g){return new(g||p)(sr(Ju),sr(Er),sr(Jf),sr(r_),sr(mv))},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();function EM(p,f){const g=p.indexOf(f);g>-1&&p.splice(g,1)}class I2{}class O2{}const M2={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let P2=(()=>{class p{constructor(g,y){this._compiler=g,this._config=y||M2}load(g){return this.loadAndCompile(g)}loadAndCompile(g){let[y,w]=g.split("#");return void 0===w&&(w="default"),j(8255)(y).then(b=>b[w]).then(b=>MS(b,y,w)).then(b=>this._compiler.compileModuleAsync(b))}loadFactory(g){let[y,w]=g.split("#"),b="NgFactory";return void 0===w&&(w="default",b=""),j(8255)(this._config.factoryPathPrefix+y+this._config.factoryPathSuffix).then(D=>D[w+b]).then(D=>MS(D,y,w))}}return p.\u0275fac=function(g){return new(g||p)(sr(mb),sr(O2,8))},p.\u0275prov=fi({token:p,factory:p.\u0275fac}),p})();function MS(p,f,g){if(!p)throw new Error(`Cannot find '${g}' in '${f}'`);return p}const Ck=function(p){return null},H2=wv(null,"core",[{provide:y_,useValue:"unknown"},{provide:ck,deps:[Er]},{provide:ok,deps:[]},{provide:gM,deps:[]}]),$2=[{provide:vb,useClass:vb,deps:[Ju,Er,Jf,r_,mv]},{provide:bF,deps:[Ju],useFactory:function(p){let f=[];return p.onStable.subscribe(()=>{for(;f.length;)f.pop()()}),function(g){f.push(g)}}},{provide:mv,useClass:mv,deps:[[new Zl,fb]]},{provide:mb,useClass:mb,deps:[]},pR,{provide:zw,useFactory:function(){return UN},deps:[]},{provide:$w,useFactory:function(){return WN},deps:[]},{provide:AS,useFactory:function(p){return nA(p=p||"undefined"!=typeof $localize&&$localize.locale||Ow),p},deps:[[new Oc(AS),new Zl,new ua]]},{provide:fR,useValue:"USD"}];let q2=(()=>{class p{constructor(g){}}return p.\u0275fac=function(g){return new(g||p)(sr(vb))},p.\u0275mod=Le({type:p}),p.\u0275inj=Li({providers:$2}),p})()},8939:(kt,q,j)=>{"use strict";j.d(q,{hO:()=>Ne,xv:()=>we,Dh:()=>ye,GT:()=>be,cc:()=>Xe,on:()=>oe,pX:()=>Ae});var a=j(7716),Q=j(7841),Z=j(4278);kt=j.hmd(kt);const Re=["ngOnDestroy"],Ae=(xe,ke,pt,Ot={})=>new Proxy(xe,{get:(Ln,Hn)=>pt.runOutsideAngular(()=>{var ai;if(xe[Hn])return(null===(ai=null==Ot?void 0:Ot.spy)||void 0===ai?void 0:ai.get)&&Ot.spy.get(Hn,xe[Hn]),xe[Hn];if(Re.indexOf(Hn)>-1)return()=>{};const Wt=ke.toPromise().then(Oi=>{const gn=Oi&&Oi[Hn];return"function"==typeof gn?gn.bind(Oi):gn&&gn.then?gn.then(fn=>pt.run(()=>fn)):pt.run(()=>gn)});return new Proxy(()=>{},{get:(Oi,gn)=>Wt[gn],apply:(Oi,gn,fn)=>Wt.then(In=>{var Ft;const Qn=In&&In(...fn);return(null===(Ft=null==Ot?void 0:Ot.spy)||void 0===Ft?void 0:Ft.apply)&&Ot.spy.apply(Hn,fn,Qn),Qn})})})}),be=(xe,ke)=>{ke.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Ot=>{Object.defineProperty(xe.prototype,Ot,Object.getOwnPropertyDescriptor(pt.prototype||pt,Ot))})})};class fe{constructor(ke){return ke}}const ye=new a.OlP("angularfire2.app.options"),we=new a.OlP("angularfire2.app.name");function oe(xe,ke,pt){const Ln="object"==typeof pt&&pt||{};Ln.name=Ln.name||"string"==typeof pt&&pt||"[DEFAULT]";const ai=Q.Z.apps.filter(Wt=>Wt&&Wt.name===Ln.name)[0]||ke.runOutsideAngular(()=>Q.Z.initializeApp(xe,Ln));try{JSON.stringify(xe)!==JSON.stringify(ai.options)&&de("error",`${ai.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Wt){}return new fe(ai)}const de=(xe,...ke)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[xe](...ke)},he={provide:fe,useFactory:oe,deps:[ye,a.R0b,[new a.FiY,we]]};let Ne=(()=>{class xe{constructor(pt){Q.Z.registerVersion("angularfire",Z.q4.full,"core"),Q.Z.registerVersion("angularfire",Z.q4.full,"app-compat"),Q.Z.registerVersion("angular",a.q4F.full,pt.toString())}static initializeApp(pt,Ot){return{ngModule:xe,providers:[{provide:ye,useValue:pt},{provide:we,useValue:Ot}]}}}return xe.\u0275fac=function(pt){return new(pt||xe)(a.LFG(a.Lbi))},xe.\u0275mod=a.oAB({type:xe}),xe.\u0275inj=a.cJS({providers:[he]}),xe})();function Xe(xe,ke,pt,Ot,Ln){const[,Hn,ai]=globalThis.\u0275AngularfireInstanceCache.find(Wt=>Wt[0]===xe)||[];if(Hn)return function(xe,ke){try{return xe.toString()===ke.toString()}catch(pt){return xe===ke}}(Ln,ai)||(Ue("error",`${ke} was already initialized on the ${pt} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:Ln,was:ai})),Hn;{const Wt=Ot();return globalThis.\u0275AngularfireInstanceCache.push([xe,Wt,Ln]),Wt}}const qe=!!kt.hot,Ue=(xe,...ke)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[xe](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4278:(kt,q,j)=>{"use strict";j.d(q,{q4:()=>ch,iC:()=>at,HU:()=>Rc,vb:()=>$l,JM:()=>Ke});var a=j(7716),Q=j(2329),Z=j(8239),Re=j(8026),Ae=j(3854),be=j(3910),fe=j(5422),ye=j(6676);const we="@firebase/installations",he="w:0.5.3",Ne="FIS_v2",ke=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pt(L){return L instanceof Ae.ZR&&L.code.includes("request-failed")}function Ot({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function Ln(L){return{token:L.token,requestStatus:2,expiresIn:In(L.expiresIn),creationTime:Date.now()}}function Hn(L,B){return ai.apply(this,arguments)}function ai(){return(ai=(0,Z.Z)(function*(L,B){const ue=(yield B.json()).error;return ke.create("request-failed",{requestName:L,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function Wt({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function Oi(L,{refreshToken:B}){const J=Wt(L);return J.append("Authorization",function(L){return`${Ne} ${L}`}(B)),J}function gn(L){return fn.apply(this,arguments)}function fn(){return(fn=(0,Z.Z)(function*(L){const B=yield L();return B.status>=500&&B.status<600?L():B})).apply(this,arguments)}function In(L){return Number(L.replace("s","000"))}function Qn(L,B){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,Z.Z)(function*(L,{fid:B}){const J=Ot(L),Be={method:"POST",headers:Wt(L),body:JSON.stringify({fid:B,authVersion:Ne,appId:L.appId,sdkVersion:he})},it=yield gn(()=>fetch(J,Be));if(it.ok){const xt=yield it.json();return{fid:xt.fid||B,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Ln(xt.authToken)}}throw yield Hn("Create Installation",it)})).apply(this,arguments)}function al(L){return new Promise(B=>{setTimeout(B,L)})}const Es=/^[cdef][\w-]{21}$/;function Un(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const J=function(L){return function(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return Es.test(J)?J:""}catch(L){return""}}function qs(L){return`${L.appName}!${L.appId}`}const Zs=new Map;function Po(L,B){const J=qs(L);Li(J,B),function(L,B){const J=(!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=L=>{Li(L.data.key,L.data.fid)}),ii);J&&J.postMessage({key:L,fid:B}),0===Zs.size&&ii&&(ii.close(),ii=null)}(J,B)}function Li(L,B){const J=Zs.get(L);if(J)for(const ue of J)ue(B)}let ii=null;const lt="firebase-installations-store";let hr=null;function pr(){return hr||(hr=(0,ye.openDb)("firebase-installations-database",1,L=>{switch(L.oldVersion){case 0:L.createObjectStore(lt)}})),hr}function Rt(L,B){return en.apply(this,arguments)}function en(){return(en=(0,Z.Z)(function*(L,B){const J=qs(L),Te=(yield pr()).transaction(lt,"readwrite"),Be=Te.objectStore(lt),it=yield Be.get(J);return yield Be.put(B,J),yield Te.complete,(!it||it.fid!==B.fid)&&Po(L,B.fid),B})).apply(this,arguments)}function Ai(L){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,Z.Z)(function*(L){const B=qs(L),ue=(yield pr()).transaction(lt,"readwrite");yield ue.objectStore(lt).delete(B),yield ue.complete})).apply(this,arguments)}function qt(L,B){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,Z.Z)(function*(L,B){const J=qs(L),Te=(yield pr()).transaction(lt,"readwrite"),Be=Te.objectStore(lt),it=yield Be.get(J),xt=B(it);return void 0===xt?yield Be.delete(J):yield Be.put(xt,J),yield Te.complete,xt&&(!it||it.fid!==xt.fid)&&Po(L,xt.fid),xt})).apply(this,arguments)}function bn(L){return En.apply(this,arguments)}function En(){return(En=(0,Z.Z)(function*(L){let B;const J=yield qt(L,ue=>{const Te=Lr(ue),Be=Gn(L,Te);return B=Be.registrationPromise,Be.installationEntry});return""===J.fid?{installationEntry:yield B}:{installationEntry:J,registrationPromise:B}})).apply(this,arguments)}function Lr(L){return an(L||{fid:Un(),registrationStatus:0})}function Gn(L,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(ke.create("app-offline"))};const J={fid:B.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:J,registrationPromise:function(L,B){return jt.apply(this,arguments)}(L,J)}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:ac(L)}:{installationEntry:B}}function jt(){return(jt=(0,Z.Z)(function*(L,B){try{return Rt(L,yield Qn(L,B))}catch(J){throw pt(J)&&409===J.customData.serverCode?yield Ai(L):yield Rt(L,{fid:B.fid,registrationStatus:0}),J}})).apply(this,arguments)}function ac(L){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,Z.Z)(function*(L){let B=yield Jt(L);for(;1===B.registrationStatus;)yield al(100),B=yield Jt(L);if(0===B.registrationStatus){const{installationEntry:J,registrationPromise:ue}=yield bn(L);return ue||J}return B})).apply(this,arguments)}function Jt(L){return qt(L,B=>{if(!B)throw ke.create("installation-not-found");return an(B)})}function an(L){return function(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function ll(L,B){return _e.apply(this,arguments)}function _e(){return(_e=(0,Z.Z)(function*({appConfig:L,platformLoggerProvider:B},J){const ue=pe(L,J),Te=Oi(L,J),Be=B.getImmediate({optional:!0});Be&&Te.append("x-firebase-client",Be.getPlatformInfoString());const xt={method:"POST",headers:Te,body:JSON.stringify({installation:{sdkVersion:he}})},bt=yield gn(()=>fetch(ue,xt));if(bt.ok)return Ln(yield bt.json());throw yield Hn("Generate Auth Token",bt)})).apply(this,arguments)}function pe(L,{fid:B}){return`${Ot(L)}/${B}/authTokens:generate`}function ve(L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,Z.Z)(function*(L,B=!1){let J;const ue=yield qt(L.appConfig,Be=>{if(!nr(Be))throw ke.create("not-registered");const it=Be.authToken;if(!B&&Gr(it))return Be;if(1===it.requestStatus)return J=Fe(L,B),Be;{if(!navigator.onLine)throw ke.create("app-offline");const xt=Ce(Be);return J=Jn(L,xt),xt}});return J?yield J:ue.authToken})).apply(this,arguments)}function Fe(L,B){return St.apply(this,arguments)}function St(){return(St=(0,Z.Z)(function*(L,B){let J=yield dn(L.appConfig);for(;1===J.authToken.requestStatus;)yield al(100),J=yield dn(L.appConfig);const ue=J.authToken;return 0===ue.requestStatus?ve(L,B):ue})).apply(this,arguments)}function dn(L){return qt(L,B=>{if(!nr(B))throw ke.create("not-registered");return function(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Jn(L,B){return qi.apply(this,arguments)}function qi(){return(qi=(0,Z.Z)(function*(L,B){try{const J=yield ll(L,B),ue=Object.assign(Object.assign({},B),{authToken:J});return yield Rt(L.appConfig,ue),J}catch(J){if(!pt(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const ue=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield Rt(L.appConfig,ue)}else yield Ai(L.appConfig);throw J}})).apply(this,arguments)}function nr(L){return void 0!==L&&2===L.registrationStatus}function Gr(L){return 2===L.requestStatus&&!function(L){const B=Date.now();return B<L.creationTime||L.creationTime+L.expiresIn<B+36e5}(L)}function Ce(L){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:B})}function Le(){return(Le=(0,Z.Z)(function*(L){const B=L,{installationEntry:J,registrationPromise:ue}=yield bn(B.appConfig);return ue?ue.catch(console.error):ve(B).catch(console.error),J.fid})).apply(this,arguments)}function Tt(){return(Tt=(0,Z.Z)(function*(L,B=!1){const J=L;return yield ri(J.appConfig),(yield ve(J,B)).token})).apply(this,arguments)}function ri(L){return vn.apply(this,arguments)}function vn(){return(vn=(0,Z.Z)(function*(L){const{registrationPromise:B}=yield bn(L);B&&(yield B)})).apply(this,arguments)}function Bt(L){return ke.create("missing-app-config-values",{valueName:L})}const No="installations";(0,Re._registerComponent)(new be.wA(No,L=>{const B=L.getProvider("app").getImmediate();return{app:B,appConfig:function(L){if(!L||!L.options)throw Bt("App Configuration");if(!L.name)throw Bt("App Name");const B=["projectId","apiKey","appId"];for(const J of B)if(!L.options[J])throw Bt(J);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(B),platformLoggerProvider:(0,Re._getProvider)(B,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Re._registerComponent)(new be.wA("installations-internal",L=>{const B=L.getProvider("app").getImmediate(),J=(0,Re._getProvider)(B,No).getImmediate();return{getId:()=>function(L){return Le.apply(this,arguments)}(J),getToken:Te=>function(L){return Tt.apply(this,arguments)}(J,Te)}},"PRIVATE")),(0,Re.registerVersion)(we,"0.5.3"),(0,Re.registerVersion)(we,"0.5.3","esm2017");const rs="@firebase/remote-config",vr=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wo{constructor(B,J,ue,Te){this.client=B,this.storage=J,this.storageCache=ue,this.logger=Te}isCachedDataFresh(B,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-J,Te=ue<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${Te}.`),Te}fetch(B){var J=this;return(0,Z.Z)(function*(){const[ue,Te]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Te&&J.isCachedDataFresh(B.cacheMaxAgeMillis,ue))return Te;B.eTag=Te&&Te.eTag;const Be=yield J.client.fetch(B),it=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Be.status&&it.push(J.storage.setLastSuccessfulFetchResponse(Be)),yield Promise.all(it),Be})()}}function as(L=navigator){return L.languages&&L.languages[0]||L.language}class Ds{constructor(B,J,ue,Te,Be,it){this.firebaseInstallations=B,this.sdkVersion=J,this.namespace=ue,this.projectId=Te,this.apiKey=Be,this.appId=it}fetch(B){var J=this;return(0,Z.Z)(function*(){const[ue,Te]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},bt={sdk_version:J.sdkVersion,app_instance_id:ue,app_instance_id_token:Te,app_id:J.appId,language_code:as()},Nn={method:"POST",headers:xt,body:JSON.stringify(bt)},gi=fetch(it,Nn),Xi=new Promise((uo,La)=>{B.signal.addEventListener(()=>{const la=new Error("The operation was aborted.");la.name="AbortError",La(la)})});let gs;try{yield Promise.race([gi,Xi]),gs=yield gi}catch(uo){let La="fetch-client-network";throw"AbortError"===uo.name&&(La="fetch-timeout"),vr.create(La,{originalErrorMessage:uo.message})}let Br=gs.status;const xc=gs.headers.get("ETag")||void 0;let Or,Ou;if(200===gs.status){let uo;try{uo=yield gs.json()}catch(La){throw vr.create("fetch-client-parse",{originalErrorMessage:La.message})}Or=uo.entries,Ou=uo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ou?Br=500:"NO_CHANGE"===Ou?Br=304:("NO_TEMPLATE"===Ou||"EMPTY_CONFIG"===Ou)&&(Or={}),304!==Br&&200!==Br)throw vr.create("fetch-status",{httpStatus:Br});return{status:Br,eTag:xc,config:Or}})()}}class ls{constructor(B,J){this.client=B,this.storage=J}fetch(B){var J=this;return(0,Z.Z)(function*(){const ue=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(B,ue)})()}attemptFetch(B,{throttleEndTimeMillis:J,backoffCount:ue}){var Te=this;return(0,Z.Z)(function*(){yield function(L,B){return new Promise((J,ue)=>{const Te=Math.max(B-Date.now(),0),Be=setTimeout(J,Te);L.addEventListener(()=>{clearTimeout(Be),ue(vr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,J);try{const Be=yield Te.client.fetch(B);return yield Te.storage.deleteThrottleMetadata(),Be}catch(Be){if(!function(L){if(!(L instanceof Ae.ZR&&L.customData))return!1;const B=Number(L.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Be))throw Be;const it={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(ue),backoffCount:ue+1};return yield Te.storage.setThrottleMetadata(it),Te.attemptFetch(B,it)}})()}}class $_{constructor(B,J,ue,Te,Be){this.app=B,this._client=J,this._storageCache=ue,this._storage=Te,this._logger=Be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ko(L,B){const J=L.target.error||void 0;return vr.create(B,{originalErrorMessage:J&&J.message})}const dc="app_namespace_store";class jr{constructor(B,J,ue,Te=function(){return new Promise((L,B)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ue=>{B(ko(ue,"storage-open"))},J.onsuccess=ue=>{L(ue.target.result)},J.onupgradeneeded=ue=>{const Te=ue.target.result;switch(ue.oldVersion){case 0:Te.createObjectStore(dc,{keyPath:"compositeKey"})}}}catch(J){B(vr.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=B,this.appName=J,this.namespace=ue,this.openDbPromise=Te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var J=this;return(0,Z.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((Te,Be)=>{const xt=ue.transaction([dc],"readonly").objectStore(dc),bt=J.createCompositeKey(B);try{const Nn=xt.get(bt);Nn.onerror=gi=>{Be(ko(gi,"storage-get"))},Nn.onsuccess=gi=>{const Xi=gi.target.result;Te(Xi?Xi.value:void 0)}}catch(Nn){Be(vr.create("storage-get",{originalErrorMessage:Nn&&Nn.message}))}})})()}set(B,J){var ue=this;return(0,Z.Z)(function*(){const Te=yield ue.openDbPromise;return new Promise((Be,it)=>{const bt=Te.transaction([dc],"readwrite").objectStore(dc),Nn=ue.createCompositeKey(B);try{const gi=bt.put({compositeKey:Nn,value:J});gi.onerror=Xi=>{it(ko(Xi,"storage-set"))},gi.onsuccess=()=>{Be()}}catch(gi){it(vr.create("storage-set",{originalErrorMessage:gi&&gi.message}))}})})()}delete(B){var J=this;return(0,Z.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((Te,Be)=>{const xt=ue.transaction([dc],"readwrite").objectStore(dc),bt=J.createCompositeKey(B);try{const Nn=xt.delete(bt);Nn.onerror=gi=>{Be(ko(gi,"storage-delete"))},Nn.onsuccess=()=>{Te()}}catch(Nn){Be(vr.create("storage-delete",{originalErrorMessage:Nn&&Nn.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Df{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,Z.Z)(function*(){const J=B.storage.getLastFetchStatus(),ue=B.storage.getLastSuccessfulFetchTimestampMillis(),Te=B.storage.getActiveConfig(),Be=yield J;Be&&(B.lastFetchStatus=Be);const it=yield ue;it&&(B.lastSuccessfulFetchTimestampMillis=it);const xt=yield Te;xt&&(B.activeConfig=xt)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Kd(){return vu.apply(this,arguments)}function vu(){return(vu=(0,Z.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch(L){return!1}})).apply(this,arguments)}(0,Re._registerComponent)(new be.wA("remote-config",function(B,{instanceIdentifier:J}){const ue=B.getProvider("app").getImmediate(),Te=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw vr.create("registration-window");if(!(0,Ae.hl)())throw vr.create("indexed-db-unavailable");const{projectId:Be,apiKey:it,appId:xt}=ue.options;if(!Be)throw vr.create("registration-project-id");if(!it)throw vr.create("registration-api-key");if(!xt)throw vr.create("registration-app-id");const bt=new jr(xt,ue.name,J=J||"firebase"),Nn=new Df(bt),gi=new fe.Yd(rs);gi.logLevel=fe.in.ERROR;const Xi=new Ds(Te,Re.SDK_VERSION,J,Be,it,xt),gs=new ls(Xi,bt),Br=new wo(gs,bt,Nn,gi),xc=new $_(ue,Br,Nn,bt,gi);return function(L){const B=(0,Ae.m9)(L);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(xc),xc},"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(rs,"0.3.2"),(0,Re.registerVersion)(rs,"0.3.2","esm2017");const Cu="/firebase-messaging-sw.js",op="/firebase-cloud-messaging-push-scope",id="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ts="google.c.a.c_id",rd="google.c.a.c_l",oi="google.c.a.ts",od="google.c.a.e";var no=(()=>{return(L=no||(no={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",no;var L})();function Sa(L){const B=new Uint8Array(L);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xs(L){const J=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(J),Te=new Uint8Array(ue.length);for(let Be=0;Be<ue.length;++Be)Te[Be]=ue.charCodeAt(Be);return Te}const ea="fcm_token_details_db",Da="fcm_token_object_Store";function bo(L){return hc.apply(this,arguments)}function hc(){return(hc=(0,Z.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Be=>Be.name).includes(ea))return null;let B=null;return(yield(0,ye.openDb)(ea,5,function(){var ue=(0,Z.Z)(function*(Te){var Be;if(Te.oldVersion<2||!Te.objectStoreNames.contains(Da))return;const it=Te.transaction.objectStore(Da),xt=yield it.index("fcmSenderId").get(L);if(yield it.clear(),xt)if(2===Te.oldVersion){const bt=xt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;B={token:bt.fcmToken,createTime:null!==(Be=bt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Sa(bt.vapidKey)}}}else if(3===Te.oldVersion){const bt=xt;B={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Sa(bt.auth),p256dh:Sa(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Sa(bt.vapidKey)}}}else if(4===Te.oldVersion){const bt=xt;B={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Sa(bt.auth),p256dh:Sa(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Sa(bt.vapidKey)}}}});return function(Te){return ue.apply(this,arguments)}}())).close(),yield(0,ye.deleteDb)(ea),yield(0,ye.deleteDb)("fcm_vapid_details_db"),yield(0,ye.deleteDb)("undefined"),us(B)?B:null})).apply(this,arguments)}function us(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:B}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const cl="firebase-messaging-store";let sp=null;function vi(){return sp||(sp=(0,ye.openDb)("firebase-messaging-database",1,L=>{switch(L.oldVersion){case 0:L.createObjectStore(cl)}})),sp}function bu(L){return ta.apply(this,arguments)}function ta(){return(ta=(0,Z.Z)(function*(L){const B=Ll(L),ue=yield(yield vi()).transaction(cl).objectStore(cl).get(B);if(ue)return ue;{const Te=yield bo(L.appConfig.senderId);if(Te)return yield na(L,Te),Te}})).apply(this,arguments)}function na(L,B){return ci.apply(this,arguments)}function ci(){return(ci=(0,Z.Z)(function*(L,B){const J=Ll(L),Te=(yield vi()).transaction(cl,"readwrite");return yield Te.objectStore(cl).put(B,J),yield Te.complete,B})).apply(this,arguments)}function Eu(L){return sd.apply(this,arguments)}function sd(){return(sd=(0,Z.Z)(function*(L){const B=Ll(L),ue=(yield vi()).transaction(cl,"readwrite");yield ue.objectStore(cl).delete(B),yield ue.complete})).apply(this,arguments)}function Ll({appConfig:L}){return L.appId}const gr=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ta(L,B){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,Z.Z)(function*(L,B){const J=yield Ra(L),ue=un(B),Te={method:"POST",headers:J,body:JSON.stringify(ue)};let Be;try{Be=yield(yield fetch(or(L.appConfig),Te)).json()}catch(it){throw gr.create("token-subscribe-failed",{errorInfo:it})}if(Be.error)throw gr.create("token-subscribe-failed",{errorInfo:Be.error.message});if(!Be.token)throw gr.create("token-subscribe-no-token");return Be.token})).apply(this,arguments)}function Mi(L,B){return fc.apply(this,arguments)}function fc(){return(fc=(0,Z.Z)(function*(L,B){const J=yield Ra(L),ue=un(B.subscriptionOptions),Te={method:"PATCH",headers:J,body:JSON.stringify(ue)};let Be;try{Be=yield(yield fetch(`${or(L.appConfig)}/${B.token}`,Te)).json()}catch(it){throw gr.create("token-update-failed",{errorInfo:it})}if(Be.error)throw gr.create("token-update-failed",{errorInfo:Be.error.message});if(!Be.token)throw gr.create("token-update-no-token");return Be.token})).apply(this,arguments)}function Su(L,B){return As.apply(this,arguments)}function As(){return(As=(0,Z.Z)(function*(L,B){const ue={method:"DELETE",headers:yield Ra(L)};try{const Be=yield(yield fetch(`${or(L.appConfig)}/${B}`,ue)).json();if(Be.error)throw gr.create("token-unsubscribe-failed",{errorInfo:Be.error.message})}catch(Te){throw gr.create("token-unsubscribe-failed",{errorInfo:Te})}})).apply(this,arguments)}function or({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function Ra(L){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,Z.Z)(function*({appConfig:L,installations:B}){const J=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function un({p256dh:L,auth:B,endpoint:J,vapidKey:ue}){const Te={web:{endpoint:J,auth:B,p256dh:L}};return ue!==id&&(Te.web.applicationPubKey=ue),Te}const ad=6048e5;function ap(L){return ld.apply(this,arguments)}function ld(){return(ld=(0,Z.Z)(function*(L){const B=yield Cr(L.swRegistration,L.vapidKey),J={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:B.endpoint,auth:Sa(B.getKey("auth")),p256dh:Sa(B.getKey("p256dh"))},ue=yield bu(L.firebaseDependencies);if(ue){if(Xd(ue.subscriptionOptions,J))return Date.now()>=ue.createTime+ad?Jd(L,{token:ue.token,createTime:Date.now(),subscriptionOptions:J}):ue.token;try{yield Su(L.firebaseDependencies,ue.token)}catch(Te){console.warn(Te)}return tt(L.firebaseDependencies,J)}return tt(L.firebaseDependencies,J)})).apply(this,arguments)}function Rf(L){return gc.apply(this,arguments)}function gc(){return(gc=(0,Z.Z)(function*(L){const B=yield bu(L.firebaseDependencies);B&&(yield Su(L.firebaseDependencies,B.token),yield Eu(L.firebaseDependencies));const J=yield L.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function Jd(L,B){return dl.apply(this,arguments)}function dl(){return(dl=(0,Z.Z)(function*(L,B){try{const J=yield Mi(L.firebaseDependencies,B),ue=Object.assign(Object.assign({},B),{token:J,createTime:Date.now()});return yield na(L.firebaseDependencies,ue),J}catch(J){throw yield Rf(L),J}})).apply(this,arguments)}function tt(L,B){return ut.apply(this,arguments)}function ut(){return(ut=(0,Z.Z)(function*(L,B){const ue={token:yield Ta(L,B),createTime:Date.now(),subscriptionOptions:B};return yield na(L,ue),ue.token})).apply(this,arguments)}function Cr(L,B){return vt.apply(this,arguments)}function vt(){return(vt=(0,Z.Z)(function*(L,B){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xs(B)})})).apply(this,arguments)}function Xd(L,B){return B.vapidKey===L.vapidKey&&B.endpoint===L.endpoint&&B.auth===L.auth&&B.p256dh===L.p256dh}function Rr(L){const B={from:L.from,collapseKey:L.collapse_key,messageId:L.fcm_message_id};return function(L,B){if(!B.notification)return;L.notification={};const J=B.notification.title;J&&(L.notification.title=J);const ue=B.notification.body;ue&&(L.notification.body=ue);const Te=B.notification.image;Te&&(L.notification.image=Te)}(B,L),function(L,B){!B.data||(L.data=B.data)}(B,L),function(L,B){if(!B.fcmOptions)return;L.fcmOptions={};const J=B.fcmOptions.link;J&&(L.fcmOptions.link=J);const ue=B.fcmOptions.analytics_label;ue&&(L.fcmOptions.analyticsLabel=ue)}(B,L),B}function Du(L){return"object"==typeof L&&!!L&&Ts in L}function _c(L,B){const J=[];for(let ue=0;ue<L.length;ue++)J.push(L.charAt(ue)),ue<B.length&&J.push(B.charAt(ue));return J.join("")}function xa(L){return gr.create("missing-app-config-values",{valueName:L})}_c("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_c("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ki{constructor(B,J,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Te=function(L){if(!L||!L.options)throw xa("App Configuration Object");if(!L.name)throw xa("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:J}=L;for(const ue of B)if(!J[ue])throw xa(ue);return{appName:L.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:Te,installations:J,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Go(L){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,Z.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(Cu,{scope:op}),L.swRegistration.update().catch(()=>{})}catch(B){throw gr.create("failed-service-worker-registration",{browserErrorMessage:B.message})}})).apply(this,arguments)}function ro(L,B){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Z.Z)(function*(L,B){if(!B&&!L.swRegistration&&(yield Go(L)),B||!L.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");L.swRegistration=B}})).apply(this,arguments)}function yc(L,B){return oo.apply(this,arguments)}function oo(){return(oo=(0,Z.Z)(function*(L,B){B?L.vapidKey=B:L.vapidKey||(L.vapidKey=id)})).apply(this,arguments)}function ia(){return(ia=(0,Z.Z)(function*(L,B){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield yc(L,null==B?void 0:B.vapidKey),yield ro(L,null==B?void 0:B.serviceWorkerRegistration),ap(L)})).apply(this,arguments)}function Oa(L,B,J){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,Z.Z)(function*(L,B,J){const ue=eh(B);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:J[Ts],message_name:J[rd],message_time:J[oi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eh(L){switch(L){case no.NOTIFICATION_CLICKED:return"notification_open";case no.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vl(){return(Vl=(0,Z.Z)(function*(L,B){const J=B.data;if(!J.isFirebaseMessaging)return;L.onMessageHandler&&J.messageType===no.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(Rr(J)):L.onMessageHandler.next(Rr(J)));const ue=J.data;Du(ue)&&"1"===ue[od]&&(yield Oa(L,J.messageType,ue))})).apply(this,arguments)}const cd="@firebase/messaging";function ih(){return ra.apply(this,arguments)}function ra(){return(ra=(0,Z.Z)(function*(){return"undefined"!=typeof window&&(0,Ae.hl)()&&(yield(0,Ae.eu)())&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Re._registerComponent)(new be.wA("messaging",L=>{const B=new Ki(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function(L,B){return Vl.apply(this,arguments)}(B,J)),B},"PUBLIC")),(0,Re._registerComponent)(new be.wA("messaging-internal",L=>{const B=L.getProvider("messaging").getImmediate();return{getToken:ue=>function(L,B){return ia.apply(this,arguments)}(B,ue)}},"PRIVATE")),(0,Re.registerVersion)(cd,"0.9.3"),(0,Re.registerVersion)(cd,"0.9.3","esm2017");const pl="analytics",Pf="firebase_id",Rs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Au="https://www.googletagmanager.com/gtag/js",mr=new fe.Yd("@firebase/analytics");function lp(L){return Promise.all(L.map(B=>B.catch(J=>J)))}function Jg(L,B){const J=document.createElement("script");J.src=`${Au}?l=${L}&id=${B}`,J.async=!0,document.head.appendChild(J)}function wc(L,B,J,ue,Te,Be){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,Z.Z)(function*(L,B,J,ue,Te,Be){const it=ue[Te];try{if(it)yield B[it];else{const bt=(yield lp(J)).find(Nn=>Nn.measurementId===Te);bt&&(yield B[bt.appId])}}catch(xt){mr.error(xt)}L("config",Te,Be)})).apply(this,arguments)}function bc(L,B,J,ue,Te){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,Z.Z)(function*(L,B,J,ue,Te){try{let Be=[];if(Te&&Te.send_to){let it=Te.send_to;Array.isArray(it)||(it=[it]);const xt=yield lp(J);for(const bt of it){const Nn=xt.find(Xi=>Xi.measurementId===bt),gi=Nn&&B[Nn.appId];if(!gi){Be=[];break}Be.push(gi)}}0===Be.length&&(Be=Object.values(B)),yield Promise.all(Be),L("event",ue,Te||{})}catch(Be){mr.error(Be)}})).apply(this,arguments)}function Vo(){const L=window.document.getElementsByTagName("script");for(const B of Object.values(L))if(B.src&&B.src.includes(Au))return B;return null}const oa=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ec=new class{constructor(B={},J=1e3){this.throttleMetadata=B,this.intervalMillis=J}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,J){this.throttleMetadata[B]=J}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function sh(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function cp(L){return Is.apply(this,arguments)}function Is(){return(Is=(0,Z.Z)(function*(L){var B;const{appId:J,apiKey:ue}=L,Te={method:"GET",headers:sh(ue)},Be=Rs.replace("{app-id}",J),it=yield fetch(Be,Te);if(200!==it.status&&304!==it.status){let xt="";try{const bt=yield it.json();(null===(B=bt.error)||void 0===B?void 0:B.message)&&(xt=bt.error.message)}catch(bt){}throw oa.create("config-fetch-failed",{httpStatus:it.status,responseMessage:xt})}return it.json()})).apply(this,arguments)}function hd(L){return cs.apply(this,arguments)}function cs(){return(cs=(0,Z.Z)(function*(L,B=Ec,J){const{appId:ue,apiKey:Te,measurementId:Be}=L.options;if(!ue)throw oa.create("no-app-id");if(!Te){if(Be)return{measurementId:Be,appId:ue};throw oa.create("no-api-key")}const it=B.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xt=new hp;return setTimeout((0,Z.Z)(function*(){xt.abort()}),void 0!==J?J:6e4),Sc({appId:ue,apiKey:Te,measurementId:Be},it,xt,B)})).apply(this,arguments)}function Sc(L,B,J){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,Z.Z)(function*(L,{throttleEndTimeMillis:B,backoffCount:J},ue,Te=Ec){const{appId:Be,measurementId:it}=L;try{yield q_(ue,B)}catch(xt){if(it)return mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${xt.message}]`),{appId:Be,measurementId:it};throw xt}try{const xt=yield cp(L);return Te.deleteThrottleMetadata(Be),xt}catch(xt){if(!dp(xt)){if(Te.deleteThrottleMetadata(Be),it)return mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${xt.message}]`),{appId:Be,measurementId:it};throw xt}const bt=503===Number(xt.customData.httpStatus)?(0,Ae.$s)(J,Te.intervalMillis,30):(0,Ae.$s)(J,Te.intervalMillis),Nn={throttleEndTimeMillis:Date.now()+bt,backoffCount:J+1};return Te.setThrottleMetadata(Be,Nn),mr.debug(`Calling attemptFetch again in ${bt} millis`),Sc(L,Nn,ue,Te)}})).apply(this,arguments)}function q_(L,B){return new Promise((J,ue)=>{const Te=Math.max(B-Date.now(),0),Be=setTimeout(J,Te);L.addEventListener(()=>{clearTimeout(Be),ue(oa.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function dp(L){if(!(L instanceof Ae.ZR&&L.customData))return!1;const B=Number(L.customData.httpStatus);return 429===B||500===B||503===B||504===B}class hp{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}function pp(){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,Z.Z)(function*(){if(!(0,Ae.hl)())return mr.warn(oa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(L){return mr.warn(oa.create("indexeddb-unavailable",{errorInfo:L}).message),!1}return!0})).apply(this,arguments)}function Ul(){return(Ul=(0,Z.Z)(function*(L,B,J,ue,Te,Be,it){var xt;const bt=hd(L);bt.then(Br=>{J[Br.measurementId]=Br.appId,L.options.measurementId&&Br.measurementId!==L.options.measurementId&&mr.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${Br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Br=>mr.error(Br)),B.push(bt);const Nn=pp().then(Br=>{if(Br)return ue.getId()}),[gi,Xi]=yield Promise.all([bt,Nn]);Vo()||Jg(Be,gi.measurementId),Te("js",new Date);const gs=null!==(xt=null==it?void 0:it.config)&&void 0!==xt?xt:{};return gs.origin="firebase",gs.update=!0,null!=Xi&&(gs[Pf]=Xi),Te("config",gi.measurementId,gs),gi.measurementId})).apply(this,arguments)}class Ac{constructor(B){this.app=B}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},Ho=[];const so={};let fp,Vt,Xn="dataLayer",Ci=!1;function pd(L,B,J){!function(){const L=[];if((0,Ae.ru)()&&L.push("This is a browser extension environment."),(0,Ae.zI)()||L.push("Cookies are not available."),L.length>0){const B=L.map((ue,Te)=>`(${Te+1}) ${ue}`).join(" "),J=oa.create("invalid-analytics-context",{errorInfo:B});mr.warn(J.message)}}();const ue=L.options.appId;if(!ue)throw oa.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw oa.create("no-api-key");mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[ue])throw oa.create("already-exists",{id:ue});if(!Ci){!function(L){let B=[];Array.isArray(window[L])?B=window[L]:window[L]=B}(Xn);const{wrappedGtag:Be,gtagCore:it}=function(L,B,J,ue,Te){let Be=function(...it){window[ue].push(arguments)};return window[Te]&&"function"==typeof window[Te]&&(Be=window[Te]),window[Te]=function(L,B,J,ue){function Be(){return(Be=(0,Z.Z)(function*(it,xt,bt){try{"event"===it?yield bc(L,B,J,xt,bt):"config"===it?yield wc(L,B,J,ue,xt,bt):L("set",xt)}catch(Nn){mr.error(Nn)}})).apply(this,arguments)}return function(it,xt,bt){return Be.apply(this,arguments)}}(Be,L,B,J),{gtagCore:Be,wrappedGtag:window[Te]}}(zr,Ho,so,Xn,"gtag");Vt=Be,fp=it,Ci=!0}return zr[ue]=function(L,B,J,ue,Te,Be,it){return Ul.apply(this,arguments)}(L,Ho,so,B,fp,Xn,J),new Ac(L)}function ah(){return(ah=(0,Z.Z)(function*(L,B,J,ue,Te){if(Te&&Te.global)L("event",J,ue);else{const Be=yield B;L("event",J,Object.assign(Object.assign({},ue),{send_to:Be}))}})).apply(this,arguments)}function xs(){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,Z.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch(L){return!1}})).apply(this,arguments)}const gd="@firebase/analytics";(0,Re._registerComponent)(new be.wA(pl,(B,{options:J})=>pd(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,Re._registerComponent)(new be.wA("analytics-internal",function(B){try{const J=B.getProvider(pl).getImmediate();return{logEvent:(ue,Te,Be)=>function(L,B,J,ue){L=(0,Ae.m9)(L),function(L,B,J,ue,Te){return ah.apply(this,arguments)}(Vt,zr[L.app.options.appId],B,J,ue).catch(Te=>mr.error(Te))}(J,ue,Te,Be)}}catch(J){throw oa.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,Re.registerVersion)(gd,"0.7.3"),(0,Re.registerVersion)(gd,"0.7.3","esm2017");var xr=j(7771),mp=j(3637),Pt=j(8307),Os=j(9673),Uo=j(9746);const ch=new a.GfV("7.1.1"),xu="__angularfire_symbol__analyticsIsSupported",Do="__angularfire_symbol__remoteConfigIsSupported",Fa="__angularfire_symbol__messagingIsSupported";function Ke(L,B,J){if(B){if(1===B.length)return B[0];const Be=B.filter(it=>it.app===J);if(1===Be.length)return Be[0]}return J.container.getProvider(L).getImmediate({optional:!0})}globalThis[xu]||(globalThis[xu]=xs().then(L=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=L)),globalThis[Fa]||(globalThis[Fa]=ih().then(L=>globalThis.__angularfire_symbol__messagingIsSupportedValue=L)),globalThis[Do]||(globalThis[Do]=Kd().then(L=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=L));const $l=(L,B)=>{const J=B?[B]:(0,Q.C6)(),ue=[];return J.forEach(Te=>{Te.container.getProvider(L).instances.forEach(it=>{ue.includes(it)||ue.push(it)})}),ue};function sa(){}class Yl{constructor(B,J=xr.N){this.zone=B,this.delegate=J}now(){return this.delegate.now()}schedule(B,J,ue){const Te=this.zone;return this.delegate.schedule(function(it){Te.runGuarded(()=>{B.apply(this,[it])})},J,ue)}}class md{constructor(B){this.zone=B,this.task=null}call(B,J){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa)),J.pipe((0,Pt.b)({next:ue,complete:ue,error:ue})).subscribe(B).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rc=(()=>{class L{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Yl(Zone.current)),this.insideAngular=J.run(()=>new Yl(Zone.current,mp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(J){return new(J||L)(a.LFG(a.R0b))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function ql(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function at(L){return ql(),function(L){return function(J){return(J=J.lift(new md(L.ngZone))).pipe((0,Os.R)(L.outsideAngular),(0,Uo.QV)(L.insideAngular))}}(ql())(L)}},7354:(kt,q,j)=>{"use strict";j.d(q,{$:()=>oo,A:()=>Un,E:()=>bf,G:()=>cc,I:()=>no,K:()=>ln,L:()=>ta,M:()=>sd,N:()=>Ll,P:()=>Be,Q:()=>Lo,R:()=>_p,T:()=>Eu,U:()=>Mi,V:()=>fc,W:()=>Gl,X:()=>io,Y:()=>mc,Z:()=>_c,_:()=>Go,a:()=>Vt,a0:()=>ia,a1:()=>Bo,a2:()=>vc,a3:()=>cd,a4:()=>th,a5:()=>If,a6:()=>ih,a7:()=>xf,a8:()=>Tu,a9:()=>dd,aA:()=>Kl,aB:()=>Gf,aC:()=>Bi,aG:()=>ei,aJ:()=>Ta,aa:()=>Mf,ab:()=>Pf,ae:()=>Au,af:()=>lp,ag:()=>Jg,aj:()=>Rf,ak:()=>oa,am:()=>Ru,an:()=>Tc,ao:()=>Pn,ap:()=>pr,aq:()=>nd,ar:()=>os,as:()=>ii,at:()=>_h,au:()=>bp,av:()=>dr,aw:()=>lt,ax:()=>en,ay:()=>fr,az:()=>rm,b:()=>Pa,c:()=>xc,d:()=>La,e:()=>Ou,f:()=>Zl,g:()=>hh,h:()=>Z_,i:()=>mp,j:()=>Xv,k:()=>ca,l:()=>aa,m:()=>Sp,o:()=>bs,r:()=>gl,s:()=>To,u:()=>ue,z:()=>Zs});var a=j(8239),Q=j(3854),Z=j(8026);function fe(O,S){var R={};for(var N in O)Object.prototype.hasOwnProperty.call(O,N)&&S.indexOf(N)<0&&(R[N]=O[N]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(N=Object.getOwnPropertySymbols(O);$<N.length;$++)S.indexOf(N[$])<0&&Object.prototype.propertyIsEnumerable.call(O,N[$])&&(R[N[$]]=O[N[$]])}return R}var Qn=j(5422),Lt=j(3910);const bs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Un={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Zs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Po=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fi=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Li=new Qn.Yd("@firebase/auth");function rn(O,...S){Li.logLevel<=Qn.in.ERROR&&Li.error(`Auth (${Z.SDK_VERSION}): ${O}`,...S)}function ii(O,...S){throw vo(O,...S)}function dr(O,...S){return vo(O,...S)}function Ks(O,S,R){const N=Object.assign(Object.assign({},Po()),{[S]:R});return new Q.LL("auth","Firebase",N).create(S,{appName:O.name})}function yo(O,S,R){if(!(S instanceof R))throw R.name!==S.constructor.name&&ii(O,"argument-error"),Ks(O,"argument-error",`Type of ${S.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vo(O,...S){if("string"!=typeof O){const R=S[0],N=[...S.slice(1)];return N[0]&&(N[0].appName=O.name),O._errorFactory.create(R,...N)}return fi.create(O,...S)}function lt(O,S,...R){if(!O)throw vo(S,...R)}function hr(O){const S="INTERNAL ASSERTION FAILED: "+O;throw rn(S),new Error(S)}function pr(O,S){O||hr(S)}const Rt=new Map;function en(O){pr(O instanceof Function,"Expected a class definition");let S=Rt.get(O);return S?(pr(S instanceof O,"Instance stored in cache mismatched with class"),S):(S=new O,Rt.set(O,S),S)}function qt(){var O;return"undefined"!=typeof self&&(null===(O=self.location)||void 0===O?void 0:O.href)||""}function Qt(){return"http:"===bn()||"https:"===bn()}function bn(){var O;return"undefined"!=typeof self&&(null===(O=self.location)||void 0===O?void 0:O.protocol)||null}class Gn{constructor(S,R){this.shortDelay=S,this.longDelay=R,pr(R>S,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qt()||(0,Q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yt(O,S){pr(O.emulator,"Emulator should always be set here");const{url:R}=O.emulator;return S?`${R}${S.startsWith("/")?S.slice(1):S}`:R}class jt{static initialize(S,R,N){this.fetchImpl=S,R&&(this.headersImpl=R),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ac={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qs=new Gn(3e4,6e4);function Jt(O,S){return O.tenantId&&!S.tenantId?Object.assign(Object.assign({},S),{tenantId:O.tenantId}):S}function an(O,S,R,N){return bi.apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(O,S,R,N,$={}){return ll(O,$,()=>{let X={},De={};N&&("GET"===S?De=N:X={body:JSON.stringify(N)});const je=(0,Q.xO)(Object.assign({key:O.config.apiKey},De)).slice(1),At=new(jt.headers());return At.set("Content-Type","application/json"),At.set("X-Client-Version",O._getSdkClientVersion()),O.languageCode&&At.set("X-Firebase-Locale",O.languageCode),jt.fetch()(Ze(O,O.config.apiHost,R,je),Object.assign({method:S,headers:At,referrerPolicy:"no-referrer"},X))})})).apply(this,arguments)}function ll(O,S,R){return _e.apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(O,S,R){O._canInitEmulator=!1;const N=Object.assign(Object.assign({},ac),S);try{const $=new Fe(O),X=yield Promise.race([R(),$.promise]);$.clearNetworkTimeout();const De=yield X.json();if("needConfirmation"in De)throw St(O,"account-exists-with-different-credential",De);if(X.ok&&!("errorMessage"in De))return De;{const je=X.ok?De.errorMessage:De.error.message,[At,mt]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw St(O,"credential-already-in-use",De);if("EMAIL_EXISTS"===At)throw St(O,"email-already-in-use",De);const nn=N[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(mt)throw Ks(O,nn,mt);ii(O,nn)}}catch($){if($ instanceof Q.ZR)throw $;ii(O,"network-request-failed")}})).apply(this,arguments)}function pe(O,S,R,N){return ve.apply(this,arguments)}function ve(){return(ve=(0,a.Z)(function*(O,S,R,N,$={}){const X=yield an(O,S,R,N,$);return"mfaPendingCredential"in X&&ii(O,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Ze(O,S,R,N){const $=`${S}${R}?${N}`;return O.config.emulator?yt(O.config,$):`${O.config.apiScheme}://${$}`}class Fe{constructor(S){this.auth=S,this.timer=null,this.promise=new Promise((R,N)=>{this.timer=setTimeout(()=>N(dr(this.auth,"timeout")),Qs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function St(O,S,R){const N={appName:O.name};R.email&&(N.email=R.email),R.phoneNumber&&(N.phoneNumber=R.phoneNumber);const $=dr(O,S,N);return $.customData._tokenResponse=R,$}function Jn(){return(Jn=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:delete",S)})).apply(this,arguments)}function qi(O,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Gr(O,S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:lookup",S)})).apply(this,arguments)}function Ce(O){if(O)try{const S=new Date(Number(O));if(!isNaN(S.getTime()))return S.toUTCString()}catch(S){}}function Le(){return(Le=(0,a.Z)(function*(O,S=!1){const R=(0,Q.m9)(O),N=yield R.getIdToken(S),$=Tt(N);lt($&&$.exp&&$.auth_time&&$.iat,R.auth,"internal-error");const X="object"==typeof $.firebase?$.firebase:void 0,De=null==X?void 0:X.sign_in_provider;return{claims:$,token:N,authTime:Ce(Y($.auth_time)),issuedAtTime:Ce(Y($.iat)),expirationTime:Ce(Y($.exp)),signInProvider:De||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(O){return 1e3*Number(O)}function Tt(O){const[S,R,N]=O.split(".");if(void 0===S||void 0===R||void 0===N)return rn("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,Q.tV)(R);return $?JSON.parse($):(rn("Failed to decode base64 JWT payload"),null)}catch($){return rn("Caught error parsing JWT payload as JSON",$),null}}function vn(O,S){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(O,S,R=!1){if(R)return S;try{return yield S}catch(N){throw N instanceof Q.ZR&&Gi(N)&&O.auth.currentUser===O&&(yield O.auth.signOut()),N}})).apply(this,arguments)}function Gi({code:O}){return"auth/user-disabled"===O||"auth/user-token-expired"===O}class mn{constructor(S){this.user=S,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(S){var R;if(S){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const $=(null!==(R=this.user.stsTokenManager.expirationTime)&&void 0!==R?R:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(S=!1){var R=this;if(!this.isRunning)return;const N=this.getInterval(S);this.timerId=setTimeout((0,a.Z)(function*(){yield R.iteration()}),N)}iteration(){var S=this;return(0,a.Z)(function*(){try{yield S.user.getIdToken(!0)}catch(R){return void("auth/network-request-failed"===R.code&&S.schedule(!0))}S.schedule()})()}}class Ei{constructor(S,R){this.createdAt=S,this.lastLoginAt=R,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ce(this.lastLoginAt),this.creationTime=Ce(this.createdAt)}_copy(S){this.createdAt=S.createdAt,this.lastLoginAt=S.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ee(O){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(O){var S;const R=O.auth,N=yield O.getIdToken(),$=yield vn(O,Gr(R,{idToken:N}));lt(null==$?void 0:$.users.length,R,"internal-error");const X=$.users[0];O._notifyReloadListener(X);const De=(null===(S=X.providerUserInfo)||void 0===S?void 0:S.length)?No(X.providerUserInfo):[],je=Bt(O.providerData,De),nn=!!O.isAnonymous&&!(O.email&&X.passwordHash||(null==je?void 0:je.length)),mi={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:je,metadata:new Ei(X.createdAt,X.lastLoginAt),isAnonymous:nn};Object.assign(O,mi)})).apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(O){const S=(0,Q.m9)(O);yield Ee(S),yield S.auth._persistUserIfCurrent(S),S.auth._notifyListenersIfCurrent(S)})).apply(this,arguments)}function Bt(O,S){return[...O.filter(N=>!S.some($=>$.providerId===N.providerId)),...S]}function No(O){return O.map(S=>{var{providerId:R}=S,N=fe(S,["providerId"]);return{providerId:R,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function Cn(){return(Cn=(0,a.Z)(function*(O,S){const R=yield ll(O,{},()=>{const N=(0,Q.xO)({grant_type:"refresh_token",refresh_token:S}).slice(1),{tokenApiHost:$,apiKey:X}=O.config,De=Ze(O,$,"/v1/token",`key=${X}`);return jt.fetch()(De,{method:"POST",headers:{"X-Client-Version":O._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:N})});return{accessToken:R.access_token,expiresIn:R.expires_in,refreshToken:R.refresh_token}})).apply(this,arguments)}class is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(S){lt(S.idToken,"internal-error"),lt(void 0!==S.idToken,"internal-error"),lt(void 0!==S.refreshToken,"internal-error");const R="expiresIn"in S&&void 0!==S.expiresIn?Number(S.expiresIn):function(O){const S=Tt(O);return lt(S,"internal-error"),lt(void 0!==S.exp,"internal-error"),lt(void 0!==S.iat,"internal-error"),Number(S.exp)-Number(S.iat)}(S.idToken);this.updateTokensAndExpiration(S.idToken,S.refreshToken,R)}getToken(S,R=!1){var N=this;return(0,a.Z)(function*(){return lt(!N.accessToken||N.refreshToken,S,"user-token-expired"),R||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(S,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(S,R){var N=this;return(0,a.Z)(function*(){const{accessToken:$,refreshToken:X,expiresIn:De}=yield function(O,S){return Cn.apply(this,arguments)}(S,R);N.updateTokensAndExpiration($,X,Number(De))})()}updateTokensAndExpiration(S,R,N){this.refreshToken=R||null,this.accessToken=S||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(S,R){const{refreshToken:N,accessToken:$,expirationTime:X}=R,De=new is;return N&&(lt("string"==typeof N,"internal-error",{appName:S}),De.refreshToken=N),$&&(lt("string"==typeof $,"internal-error",{appName:S}),De.accessToken=$),X&&(lt("number"==typeof X,"internal-error",{appName:S}),De.expirationTime=X),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(S){this.accessToken=S.accessToken,this.refreshToken=S.refreshToken,this.expirationTime=S.expirationTime}_clone(){return Object.assign(new is,this.toJSON())}_performRefresh(){return hr("not implemented")}}function Si(O,S){lt("string"==typeof O||void 0===O,"internal-error",{appName:S})}class rs{constructor(S){var{uid:R,auth:N,stsTokenManager:$}=S,X=fe(S,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=R,this.auth=N,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.metadata=new Ei(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(S){var R=this;return(0,a.Z)(function*(){const N=yield vn(R,R.stsTokenManager.getToken(R.auth,S));return lt(N,R.auth,"internal-error"),R.accessToken!==N&&(R.accessToken=N,yield R.auth._persistUserIfCurrent(R),R.auth._notifyListenersIfCurrent(R)),N})()}getIdTokenResult(S){return function(O){return Le.apply(this,arguments)}(this,S)}reload(){return function(O){return xn.apply(this,arguments)}(this)}_assign(S){this!==S&&(lt(this.uid===S.uid,this.auth,"internal-error"),this.displayName=S.displayName,this.photoURL=S.photoURL,this.email=S.email,this.emailVerified=S.emailVerified,this.phoneNumber=S.phoneNumber,this.isAnonymous=S.isAnonymous,this.tenantId=S.tenantId,this.providerData=S.providerData.map(R=>Object.assign({},R)),this.metadata._copy(S.metadata),this.stsTokenManager._assign(S.stsTokenManager))}_clone(S){return new rs(Object.assign(Object.assign({},this),{auth:S,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(S){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=S,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(S){this.reloadListener?this.reloadListener(S):this.reloadUserInfo=S}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(S,R=!1){var N=this;return(0,a.Z)(function*(){let $=!1;S.idToken&&S.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(S),$=!0),R&&(yield Ee(N)),yield N.auth._persistUserIfCurrent(N),$&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var S=this;return(0,a.Z)(function*(){const R=yield S.getIdToken();return yield vn(S,function(O,S){return Jn.apply(this,arguments)}(S.auth,{idToken:R})),S.stsTokenManager.clearRefreshToken(),S.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(S=>Object.assign({},S)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(S,R){var N,$,X,De,je,At,mt,nn;const mi=null!==(N=R.displayName)&&void 0!==N?N:void 0,Vi=null!==($=R.email)&&void 0!==$?$:void 0,ti=null!==(X=R.phoneNumber)&&void 0!==X?X:void 0,ku=null!==(De=R.photoURL)&&void 0!==De?De:void 0,jf=null!==(je=R.tenantId)&&void 0!==je?je:void 0,Tp=null!==(At=R._redirectEventId)&&void 0!==At?At:void 0,zf=null!==(mt=R.createdAt)&&void 0!==mt?mt:void 0,ny=null!==(nn=R.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Ap,emailVerified:$f,isAnonymous:Yf,providerData:qf,stsTokenManager:Zf}=R;lt(Ap&&Zf,S,"internal-error");const cm=is.fromJSON(this.name,Zf);lt("string"==typeof Ap,S,"internal-error"),Si(mi,S.name),Si(Vi,S.name),lt("boolean"==typeof $f,S,"internal-error"),lt("boolean"==typeof Yf,S,"internal-error"),Si(ti,S.name),Si(ku,S.name),Si(jf,S.name),Si(Tp,S.name),Si(zf,S.name),Si(ny,S.name);const bd=new rs({uid:Ap,auth:S,email:Vi,emailVerified:$f,displayName:mi,isAnonymous:Yf,photoURL:ku,phoneNumber:ti,tenantId:jf,stsTokenManager:cm,createdAt:zf,lastLoginAt:ny});return qf&&Array.isArray(qf)&&(bd.providerData=qf.map(zo=>Object.assign({},zo))),Tp&&(bd._redirectEventId=Tp),bd}static _fromIdTokenResponse(S,R,N=!1){return(0,a.Z)(function*(){const $=new is;$.updateFromServerResponse(R);const X=new rs({uid:R.localId,auth:S,stsTokenManager:$,isAnonymous:N});return yield Ee(X),X})()}}const ln=(()=>{class O{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(R,N){var $=this;return(0,a.Z)(function*(){$.storage[R]=N})()}_get(R){var N=this;return(0,a.Z)(function*(){const $=N.storage[R];return void 0===$?null:$})()}_remove(R){var N=this;return(0,a.Z)(function*(){delete N.storage[R]})()}_addListener(R,N){}_removeListener(R,N){}}return O.type="NONE",O})();function fr(O,S,R){return`firebase:${O}:${S}:${R}`}class Fo{constructor(S,R,N){this.persistence=S,this.auth=R,this.userKey=N;const{config:$,name:X}=this.auth;this.fullUserKey=fr(this.userKey,$.apiKey,X),this.fullPersistenceKey=fr("persistence",$.apiKey,X),this.boundEventHandler=R._onStorageEvent.bind(R),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(S){return this.persistence._set(this.fullUserKey,S.toJSON())}getCurrentUser(){var S=this;return(0,a.Z)(function*(){const R=yield S.persistence._get(S.fullUserKey);return R?rs._fromJSON(S.auth,R):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(S){var R=this;return(0,a.Z)(function*(){if(R.persistence===S)return;const N=yield R.getCurrentUser();return yield R.removeCurrentUser(),R.persistence=S,N?R.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(S,R,N="authUser"){return(0,a.Z)(function*(){if(!R.length)return new Fo(en(ln),S,N);const $=(yield Promise.all(R.map(function(){var mt=(0,a.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return mt.apply(this,arguments)}}()))).filter(mt=>mt);let X=$[0]||en(ln);const De=fr(N,S.config.apiKey,S.name);let je=null;for(const mt of R)try{const nn=yield mt._get(De);if(nn){const mi=rs._fromJSON(S,nn);mt!==X&&(je=mi),X=mt;break}}catch(nn){}const At=$.filter(mt=>mt._shouldAllowMigration);return X._shouldAllowMigration&&At.length?(X=At[0],je&&(yield X._set(De,je.toJSON())),yield Promise.all(R.map(function(){var mt=(0,a.Z)(function*(nn){if(nn!==X)try{yield nn._remove(De)}catch(mi){}});return function(nn){return mt.apply(this,arguments)}}())),new Fo(X,S,N)):new Fo(X,S,N)})()}}function vr(O){const S=O.toLowerCase();if(S.includes("opera/")||S.includes("opr/")||S.includes("opios/"))return"Opera";if(ul(S))return"IEMobile";if(S.includes("msie")||S.includes("trident/"))return"IE";if(S.includes("edge/"))return"Edge";if(lc(S))return"Firefox";if(S.includes("silk/"))return"Silk";if(on(S))return"Blackberry";if(tp(S))return"Webos";if(ir(S))return"Safari";if((S.includes("chrome/")||Co(S))&&!S.includes("edge/"))return"Chrome";if(os(S))return"Android";{const N=O.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==N?void 0:N.length))return N[1]}return"Other"}function lc(O=(0,Q.z$)()){return/firefox\//i.test(O)}function ir(O=(0,Q.z$)()){const S=O.toLowerCase();return S.includes("safari/")&&!S.includes("chrome/")&&!S.includes("crios/")&&!S.includes("android")}function Co(O=(0,Q.z$)()){return/crios\//i.test(O)}function ul(O=(0,Q.z$)()){return/iemobile/i.test(O)}function os(O=(0,Q.z$)()){return/android/i.test(O)}function on(O=(0,Q.z$)()){return/blackberry/i.test(O)}function tp(O=(0,Q.z$)()){return/webos/i.test(O)}function nd(O=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(O)}function Pn(O=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(O)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(O)}function Js(O=(0,Q.z$)()){return nd(O)||os(O)||tp(O)||on(O)||/windows phone/i.test(O)||ul(O)}function rr(O,S=[]){let R;switch(O){case"Browser":R=vr((0,Q.z$)());break;case"Worker":R=`${vr((0,Q.z$)())}-${O}`;break;default:R=O}const N=S.length?S.join(","):"FirebaseCore-web";return`${R}/JsCore/${Z.SDK_VERSION}/${N}`}class ae{constructor(S,R){this.app=S,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new to(this),this.idTokenSubscription=new to(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=S.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(S,R){var N=this;return R&&(this._popupRedirectResolver=en(R)),this._initializationPromise=this.queue((0,a.Z)(function*(){var $,X;N._deleted||(N.persistenceManager=yield Fo.create(N,S),!N._deleted&&((null===($=N._popupRedirectResolver)||void 0===$?void 0:$._shouldInitProactively)&&(yield N._popupRedirectResolver._initialize(N)),yield N.initializeCurrentUser(R),N.lastNotifiedUid=(null===(X=N.currentUser)||void 0===X?void 0:X.uid)||null,!N._deleted&&(N._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var S=this;return(0,a.Z)(function*(){if(S._deleted)return;const R=yield S.assertedPersistence.getCurrentUser();if(S.currentUser||R){if(S.currentUser&&R&&S.currentUser.uid===R.uid)return S._currentUser._assign(R),void(yield S.currentUser.getIdToken());yield S._updateCurrentUser(R)}})()}initializeCurrentUser(S){var R=this;return(0,a.Z)(function*(){var N;let $=yield R.assertedPersistence.getCurrentUser();if(S&&R.config.authDomain){yield R.getOrInitRedirectPersistenceManager();const X=null===(N=R.redirectUser)||void 0===N?void 0:N._redirectEventId,De=null==$?void 0:$._redirectEventId,je=yield R.tryRedirectSignIn(S);(!X||X===De)&&(null==je?void 0:je.user)&&($=je.user)}return $?$._redirectEventId?(lt(R._popupRedirectResolver,R,"argument-error"),yield R.getOrInitRedirectPersistenceManager(),R.redirectUser&&R.redirectUser._redirectEventId===$._redirectEventId?R.directlySetCurrentUser($):R.reloadAndSetCurrentUserOrClear($)):R.reloadAndSetCurrentUserOrClear($):R.directlySetCurrentUser(null)})()}tryRedirectSignIn(S){var R=this;return(0,a.Z)(function*(){let N=null;try{N=yield R._popupRedirectResolver._completeRedirectFn(R,S,!0)}catch($){yield R._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(S){var R=this;return(0,a.Z)(function*(){try{yield Ee(S)}catch(N){if("auth/network-request-failed"!==N.code)return R.directlySetCurrentUser(null)}return R.directlySetCurrentUser(S)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const O=navigator;return O.languages&&O.languages[0]||O.language||null}()}_delete(){var S=this;return(0,a.Z)(function*(){S._deleted=!0})()}updateCurrentUser(S){var R=this;return(0,a.Z)(function*(){const N=S?(0,Q.m9)(S):null;return N&&lt(N.auth.config.apiKey===R.config.apiKey,R,"invalid-user-token"),R._updateCurrentUser(N&&N._clone(R))})()}_updateCurrentUser(S){var R=this;return(0,a.Z)(function*(){if(!R._deleted)return S&&lt(R.tenantId===S.tenantId,R,"tenant-id-mismatch"),R.queue((0,a.Z)(function*(){yield R.directlySetCurrentUser(S),R.notifyAuthListeners()}))})()}signOut(){var S=this;return(0,a.Z)(function*(){return(S.redirectPersistenceManager||S._popupRedirectResolver)&&(yield S._setRedirectUser(null)),S._updateCurrentUser(null)})()}setPersistence(S){var R=this;return this.queue((0,a.Z)(function*(){yield R.assertedPersistence.setPersistence(en(S))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(S){this._errorFactory=new Q.LL("auth","Firebase",S())}onAuthStateChanged(S,R,N){return this.registerStateListener(this.authStateSubscription,S,R,N)}onIdTokenChanged(S,R,N){return this.registerStateListener(this.idTokenSubscription,S,R,N)}toJSON(){var S;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(S=this._currentUser)||void 0===S?void 0:S.toJSON()}}_setRedirectUser(S,R){var N=this;return(0,a.Z)(function*(){const $=yield N.getOrInitRedirectPersistenceManager(R);return null===S?$.removeCurrentUser():$.setCurrentUser(S)})()}getOrInitRedirectPersistenceManager(S){var R=this;return(0,a.Z)(function*(){if(!R.redirectPersistenceManager){const N=S&&en(S)||R._popupRedirectResolver;lt(N,R,"argument-error"),R.redirectPersistenceManager=yield Fo.create(R,[en(N._redirectPersistence)],"redirectUser"),R.redirectUser=yield R.redirectPersistenceManager.getCurrentUser()}return R.redirectPersistenceManager})()}_redirectUserForId(S){var R=this;return(0,a.Z)(function*(){var N,$;return R._isInitialized&&(yield R.queue((0,a.Z)(function*(){}))),(null===(N=R._currentUser)||void 0===N?void 0:N._redirectEventId)===S?R._currentUser:(null===($=R.redirectUser)||void 0===$?void 0:$._redirectEventId)===S?R.redirectUser:null})()}_persistUserIfCurrent(S){var R=this;return(0,a.Z)(function*(){if(S===R.currentUser)return R.queue((0,a.Z)(function*(){return R.directlySetCurrentUser(S)}))})()}_notifyListenersIfCurrent(S){S===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var S,R;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(R=null===(S=this.currentUser)||void 0===S?void 0:S.uid)&&void 0!==R?R:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(S,R,N,$){if(this._deleted)return()=>{};const X="function"==typeof R?R:R.next.bind(R),De=this._isInitialized?Promise.resolve():this._initializationPromise;return lt(De,this,"internal-error"),De.then(()=>X(this.currentUser)),"function"==typeof R?S.addObserver(R,N,$):S.addObserver(R)}directlySetCurrentUser(S){var R=this;return(0,a.Z)(function*(){R.currentUser&&R.currentUser!==S&&(R._currentUser._stopProactiveRefresh(),S&&R.isProactiveRefreshEnabled&&S._startProactiveRefresh()),R.currentUser=S,S?yield R.assertedPersistence.setCurrentUser(S):yield R.assertedPersistence.removeCurrentUser()})()}queue(S){return this.operations=this.operations.then(S,S),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(S){!S||this.frameworks.includes(S)||(this.frameworks.push(S),this.frameworks.sort(),this.clientVersion=rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Bi(O){return(0,Q.m9)(O)}class to{constructor(S){this.auth=S,this.observer=null,this.addObserver=(0,Q.ne)(R=>this.observer=R)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bf(O,S,R){const N=Bi(O);lt(N._canInitEmulator,N,"emulator-config-failed"),lt(/^https?:\/\//.test(S),N,"invalid-emulator-scheme");const $=!!(null==R?void 0:R.disableWarnings),X=yu(S),{host:De,port:je}=function(O){const S=yu(O),R=/(\/\/)?([^?#/]+)/.exec(O.substr(S.length));if(!R)return{host:"",port:null};const N=R[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(N);if($){const X=$[1];return{host:X,port:as(N.substr(X.length+1))}}{const[X,De]=N.split(":");return{host:X,port:as(De)}}}(S);N.config.emulator={url:`${X}//${De}${null===je?"":`:${je}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:De,port:je,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function(){function O(){const S=document.createElement("p"),R=S.style;S.innerText="Running in emulator mode. Do not use with production credentials.",R.position="fixed",R.width="100%",R.backgroundColor="#ffffff",R.border=".1em solid #000000",R.color="#b50000",R.bottom="0px",R.left="0px",R.margin="0px",R.zIndex="10000",R.textAlign="center",S.classList.add("firebase-emulator-warning"),document.body.appendChild(S)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",O):O())}()}function yu(O){const S=O.indexOf(":");return S<0?"":O.substr(0,S+1)}function as(O){if(!O)return null;const S=Number(O);return isNaN(S)?null:S}class cc{constructor(S,R){this.providerId=S,this.signInMethod=R}toJSON(){return hr("not implemented")}_getIdTokenResponse(S){return hr("not implemented")}_linkToIdToken(S,R){return hr("not implemented")}_getReauthenticationResolver(S){return hr("not implemented")}}function np(O,S){return ls.apply(this,arguments)}function ls(){return(ls=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:resetPassword",Jt(O,S))})).apply(this,arguments)}function ip(O,S){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function $_(O,S){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:update",Jt(O,S))})).apply(this,arguments)}function Ef(){return(Ef=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithPassword",Jt(O,S))})).apply(this,arguments)}function rp(O,S){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:sendOobCode",Jt(O,S))})).apply(this,arguments)}function jr(O,S){return Df.apply(this,arguments)}function Df(){return(Df=(0,a.Z)(function*(O,S){return rp(O,S)})).apply(this,arguments)}function Qg(O,S){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,a.Z)(function*(O,S){return rp(O,S)})).apply(this,arguments)}function Zd(O,S){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,a.Z)(function*(O,S){return rp(O,S)})).apply(this,arguments)}function vu(O,S){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,a.Z)(function*(O,S){return rp(O,S)})).apply(this,arguments)}function id(){return(id=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithEmailLink",Jt(O,S))})).apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithEmailLink",Jt(O,S))})).apply(this,arguments)}class rd extends cc{constructor(S,R,N,$=null){super("password",N),this._email=S,this._password=R,this._tenantId=$}static _fromEmailAndPassword(S,R){return new rd(S,R,"password")}static _fromEmailAndCode(S,R,N=null){return new rd(S,R,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(S){const R="string"==typeof S?JSON.parse(S):S;if((null==R?void 0:R.email)&&(null==R?void 0:R.password)){if("password"===R.signInMethod)return this._fromEmailAndPassword(R.email,R.password);if("emailLink"===R.signInMethod)return this._fromEmailAndCode(R.email,R.password,R.tenantId)}return null}_getIdTokenResponse(S){var R=this;return(0,a.Z)(function*(){switch(R.signInMethod){case"password":return function(O,S){return Ef.apply(this,arguments)}(S,{returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function(O,S){return id.apply(this,arguments)}(S,{email:R._email,oobCode:R._password});default:ii(S,"internal-error")}})()}_linkToIdToken(S,R){var N=this;return(0,a.Z)(function*(){switch(N.signInMethod){case"password":return ip(S,{idToken:R,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function(O,S){return Ts.apply(this,arguments)}(S,{idToken:R,email:N._email,oobCode:N._password});default:ii(S,"internal-error")}})()}_getReauthenticationResolver(S){return this._getIdTokenResponse(S)}}function oi(O,S){return od.apply(this,arguments)}function od(){return(od=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithIdp",Jt(O,S))})).apply(this,arguments)}class no extends cc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(S){const R=new no(S.providerId,S.signInMethod);return S.idToken||S.accessToken?(S.idToken&&(R.idToken=S.idToken),S.accessToken&&(R.accessToken=S.accessToken),S.nonce&&!S.pendingToken&&(R.nonce=S.nonce),S.pendingToken&&(R.pendingToken=S.pendingToken)):S.oauthToken&&S.oauthTokenSecret?(R.accessToken=S.oauthToken,R.secret=S.oauthTokenSecret):ii("argument-error"),R}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(S){const R="string"==typeof S?JSON.parse(S):S,{providerId:N,signInMethod:$}=R,X=fe(R,["providerId","signInMethod"]);if(!N||!$)return null;const De=new no(N,$);return De.idToken=X.idToken||void 0,De.accessToken=X.accessToken||void 0,De.secret=X.secret,De.nonce=X.nonce,De.pendingToken=X.pendingToken||null,De}_getIdTokenResponse(S){return oi(S,this.buildRequest())}_linkToIdToken(S,R){const N=this.buildRequest();return N.idToken=R,oi(S,N)}_getReauthenticationResolver(S){const R=this.buildRequest();return R.autoCreate=!1,oi(S,R)}buildRequest(){const S={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)S.pendingToken=this.pendingToken;else{const R={};this.idToken&&(R.id_token=this.idToken),this.accessToken&&(R.access_token=this.accessToken),this.secret&&(R.oauth_token_secret=this.secret),R.providerId=this.providerId,this.nonce&&!this.pendingToken&&(R.nonce=this.nonce),S.postBody=(0,Q.xO)(R)}return S}}function Sa(O,S){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:sendVerificationCode",Jt(O,S))})).apply(this,arguments)}function Qd(){return(Qd=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithPhoneNumber",Jt(O,S))})).apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(O,S){const R=yield pe(O,"POST","/v1/accounts:signInWithPhoneNumber",Jt(O,S));if(R.temporaryProof)throw St(O,"account-exists-with-different-credential",R);return R})).apply(this,arguments)}const hc={USER_NOT_FOUND:"user-not-found"};function pc(){return(pc=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithPhoneNumber",Jt(O,Object.assign(Object.assign({},S),{operation:"REAUTH"})),hc)})).apply(this,arguments)}class wu extends cc{constructor(S){super("phone","phone"),this.params=S}static _fromVerification(S,R){return new wu({verificationId:S,verificationCode:R})}static _fromTokenResponse(S,R){return new wu({phoneNumber:S,temporaryProof:R})}_getIdTokenResponse(S){return function(O,S){return Qd.apply(this,arguments)}(S,this._makeVerificationRequest())}_linkToIdToken(S,R){return function(O,S){return bo.apply(this,arguments)}(S,Object.assign({idToken:R},this._makeVerificationRequest()))}_getReauthenticationResolver(S){return function(O,S){return pc.apply(this,arguments)}(S,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:S,phoneNumber:R,verificationId:N,verificationCode:$}=this.params;return S&&R?{temporaryProof:S,phoneNumber:R}:{sessionInfo:N,code:$}}toJSON(){const S={providerId:this.providerId};return this.params.phoneNumber&&(S.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(S.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(S.verificationCode=this.params.verificationCode),this.params.verificationId&&(S.verificationId=this.params.verificationId),S}static fromJSON(S){"string"==typeof S&&(S=JSON.parse(S));const{verificationId:R,verificationCode:N,phoneNumber:$,temporaryProof:X}=S;return N||R||$||X?new wu({verificationId:R,verificationCode:N,phoneNumber:$,temporaryProof:X}):null}}class vi{constructor(S){var R,N,$,X,De,je;const At=(0,Q.zd)((0,Q.pd)(S)),mt=null!==(R=At.apiKey)&&void 0!==R?R:null,nn=null!==(N=At.oobCode)&&void 0!==N?N:null,mi=function(O){switch(O){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=At.mode)&&void 0!==$?$:null);lt(mt&&nn&&mi,"argument-error"),this.apiKey=mt,this.operation=mi,this.code=nn,this.continueUrl=null!==(X=At.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(De=At.languageCode)&&void 0!==De?De:null,this.tenantId=null!==(je=At.tenantId)&&void 0!==je?je:null}static parseLink(S){const R=function(O){const S=(0,Q.zd)((0,Q.pd)(O)).link,R=S?(0,Q.zd)((0,Q.pd)(S)).deep_link_id:null,N=(0,Q.zd)((0,Q.pd)(O)).deep_link_id;return(N?(0,Q.zd)((0,Q.pd)(N)).link:null)||N||R||S||O}(S);try{return new vi(R)}catch(N){return null}}}let ta=(()=>{class O{constructor(){this.providerId=O.PROVIDER_ID}static credential(R,N){return rd._fromEmailAndPassword(R,N)}static credentialWithLink(R,N){const $=vi.parseLink(N);return lt($,"argument-error"),rd._fromEmailAndCode(R,$.code,$.tenantId)}}return O.PROVIDER_ID="password",O.EMAIL_PASSWORD_SIGN_IN_METHOD="password",O.EMAIL_LINK_SIGN_IN_METHOD="emailLink",O})();class na{constructor(S){this.providerId=S,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(S){this.defaultLanguageCode=S}setCustomParameters(S){return this.customParameters=S,this}getCustomParameters(){return this.customParameters}}class ci extends na{constructor(){super(...arguments),this.scopes=[]}addScope(S){return this.scopes.includes(S)||this.scopes.push(S),this}getScopes(){return[...this.scopes]}}class Eu extends ci{static credentialFromJSON(S){const R="string"==typeof S?JSON.parse(S):S;return lt("providerId"in R&&"signInMethod"in R,"argument-error"),no._fromParams(R)}credential(S){return this._credential(Object.assign(Object.assign({},S),{nonce:S.rawNonce}))}_credential(S){return lt(S.idToken||S.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},S),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(S){return Eu.oauthCredentialFromTaggedObject(S)}static credentialFromError(S){return Eu.oauthCredentialFromTaggedObject(S.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthIdToken:R,oauthAccessToken:N,oauthTokenSecret:$,pendingToken:X,nonce:De,providerId:je}=S;if(!N&&!$&&!R&&!X||!je)return null;try{return new Eu(je)._credential({idToken:R,accessToken:N,nonce:De,pendingToken:X})}catch(At){return null}}}let sd=(()=>{class O extends ci{constructor(){super("facebook.com")}static credential(R){return no._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.FACEBOOK_SIGN_IN_METHOD,accessToken:R})}static credentialFromResult(R){return O.credentialFromTaggedObject(R)}static credentialFromError(R){return O.credentialFromTaggedObject(R.customData||{})}static credentialFromTaggedObject({_tokenResponse:R}){if(!R||!("oauthAccessToken"in R)||!R.oauthAccessToken)return null;try{return O.credential(R.oauthAccessToken)}catch(N){return null}}}return O.FACEBOOK_SIGN_IN_METHOD="facebook.com",O.PROVIDER_ID="facebook.com",O})(),Ll=(()=>{class O extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(R,N){return no._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GOOGLE_SIGN_IN_METHOD,idToken:R,accessToken:N})}static credentialFromResult(R){return O.credentialFromTaggedObject(R)}static credentialFromError(R){return O.credentialFromTaggedObject(R.customData||{})}static credentialFromTaggedObject({_tokenResponse:R}){if(!R)return null;const{oauthIdToken:N,oauthAccessToken:$}=R;if(!N&&!$)return null;try{return O.credential(N,$)}catch(X){return null}}}return O.GOOGLE_SIGN_IN_METHOD="google.com",O.PROVIDER_ID="google.com",O})(),Lo=(()=>{class O extends ci{constructor(){super("github.com")}static credential(R){return no._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GITHUB_SIGN_IN_METHOD,accessToken:R})}static credentialFromResult(R){return O.credentialFromTaggedObject(R)}static credentialFromError(R){return O.credentialFromTaggedObject(R.customData||{})}static credentialFromTaggedObject({_tokenResponse:R}){if(!R||!("oauthAccessToken"in R)||!R.oauthAccessToken)return null;try{return O.credential(R.oauthAccessToken)}catch(N){return null}}}return O.GITHUB_SIGN_IN_METHOD="github.com",O.PROVIDER_ID="github.com",O})();class Ta extends cc{constructor(S,R){super(S,S),this.pendingToken=R}_getIdTokenResponse(S){return oi(S,this.buildRequest())}_linkToIdToken(S,R){const N=this.buildRequest();return N.idToken=R,oi(S,N)}_getReauthenticationResolver(S){const R=this.buildRequest();return R.autoCreate=!1,oi(S,R)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(S){const R="string"==typeof S?JSON.parse(S):S,{providerId:N,signInMethod:$,pendingToken:X}=R;return N&&$&&X&&N===$?new Ta(N,X):null}static _create(S,R){return new Ta(S,R)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mi extends na{constructor(S){lt(S.startsWith("saml."),"argument-error"),super(S)}static credentialFromResult(S){return Mi.samlCredentialFromTaggedObject(S)}static credentialFromError(S){return Mi.samlCredentialFromTaggedObject(S.customData||{})}static credentialFromJSON(S){const R=Ta.fromJSON(S);return lt(R,"argument-error"),R}static samlCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{pendingToken:R,providerId:N}=S;if(!R||!N)return null;try{return Ta._create(N,R)}catch($){return null}}}let fc=(()=>{class O extends ci{constructor(){super("twitter.com")}static credential(R,N){return no._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.TWITTER_SIGN_IN_METHOD,oauthToken:R,oauthTokenSecret:N})}static credentialFromResult(R){return O.credentialFromTaggedObject(R)}static credentialFromError(R){return O.credentialFromTaggedObject(R.customData||{})}static credentialFromTaggedObject({_tokenResponse:R}){if(!R)return null;const{oauthAccessToken:N,oauthTokenSecret:$}=R;if(!N||!$)return null;try{return O.credential(N,$)}catch(X){return null}}}return O.TWITTER_SIGN_IN_METHOD="twitter.com",O.PROVIDER_ID="twitter.com",O})();function Su(O,S){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signUp",Jt(O,S))})).apply(this,arguments)}class or{constructor(S){this.user=S.user,this.providerId=S.providerId,this._tokenResponse=S._tokenResponse,this.operationType=S.operationType}static _fromIdTokenResponse(S,R,N,$=!1){return(0,a.Z)(function*(){const X=yield rs._fromIdTokenResponse(S,N,$),De=Ra(N);return new or({user:X,providerId:De,_tokenResponse:N,operationType:R})})()}static _forOperation(S,R,N){return(0,a.Z)(function*(){yield S._updateTokensIfNecessary(N,!0);const $=Ra(N);return new or({user:S,providerId:$,_tokenResponse:N,operationType:R})})()}}function Ra(O){return O.providerId?O.providerId:"phoneNumber"in O?"phone":null}function Gl(O){return un.apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(O){var S;const R=Bi(O);if(yield R._initializationPromise,null===(S=R.currentUser)||void 0===S?void 0:S.isAnonymous)return new or({user:R.currentUser,providerId:null,operationType:"signIn"});const N=yield Su(R,{returnSecureToken:!0}),$=yield or._fromIdTokenResponse(R,"signIn",N,!0);return yield R._updateCurrentUser($.user),$})).apply(this,arguments)}class ad extends Q.ZR{constructor(S,R,N,$){var X;super(R.code,R.message),this.operationType=N,this.user=$,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:S.name,tenantId:null!==(X=S.tenantId)&&void 0!==X?X:void 0,_serverResponse:R.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(S,R,N,$){return new ad(S,R,N,$)}}function ap(O,S,R,N){return("reauthenticate"===S?R._getReauthenticationResolver(O):R._getIdTokenResponse(O)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?ad._fromErrorAndOperation(O,X,S,N):X})}function ld(O){return new Set(O.map(({providerId:S})=>S).filter(S=>!!S))}function Rf(O,S){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.Z)(function*(O,S){const R=(0,Q.m9)(O);yield tt(!0,R,S);const{providerUserInfo:N}=yield qi(R.auth,{idToken:yield R.getIdToken(),deleteProvider:[S]}),$=ld(N||[]);return R.providerData=R.providerData.filter(X=>$.has(X.providerId)),$.has("phone")||(R.phoneNumber=null),yield R.auth._persistUserIfCurrent(R),R})).apply(this,arguments)}function Jd(O,S){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(O,S,R=!1){const N=yield vn(O,S._linkToIdToken(O.auth,yield O.getIdToken()),R);return or._forOperation(O,"link",N)})).apply(this,arguments)}function tt(O,S,R){return ut.apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(O,S,R){yield Ee(S);const $=!1===O?"provider-already-linked":"no-such-provider";lt(ld(S.providerData).has(R)===O,S.auth,$)})).apply(this,arguments)}function Cr(O,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(O,S,R=!1){const{auth:N}=O,$="reauthenticate";try{const X=yield vn(O,ap(N,$,S,O),R);lt(X.idToken,N,"internal-error");const De=Tt(X.idToken);lt(De,N,"internal-error");const{sub:je}=De;return lt(O.uid===je,N,"user-mismatch"),or._forOperation(O,$,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&ii(N,"user-mismatch"),X}})).apply(this,arguments)}function Xd(O,S){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(O,S,R=!1){const N="signIn",$=yield ap(O,N,S),X=yield or._fromIdTokenResponse(O,N,$);return R||(yield O._updateCurrentUser(X.user)),X})).apply(this,arguments)}function io(O,S){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(O,S){return Xd(Bi(O),S)})).apply(this,arguments)}function mc(O,S){return Du.apply(this,arguments)}function Du(){return(Du=(0,a.Z)(function*(O,S){const R=(0,Q.m9)(O);return yield tt(!1,R,S.providerId),Jd(R,S)})).apply(this,arguments)}function _c(O,S){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(O,S){return Cr((0,Q.m9)(O),S)})).apply(this,arguments)}function xa(O,S){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(O,S){return pe(O,"POST","/v1/accounts:signInWithCustomToken",Jt(O,S))})).apply(this,arguments)}function Go(O,S){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,a.Z)(function*(O,S){const R=Bi(O),N=yield xa(R,{token:S,returnSecureToken:!0}),$=yield or._fromIdTokenResponse(R,"signIn",N);return yield R._updateCurrentUser($.user),$})).apply(this,arguments)}class ro{constructor(S,R){this.factorId=S,this.uid=R.mfaEnrollmentId,this.enrollmentTime=new Date(R.enrolledAt).toUTCString(),this.displayName=R.displayName}static _fromServerResponse(S,R){return"phoneInfo"in R?Ir._fromServerResponse(S,R):ii(S,"internal-error")}}class Ir extends ro{constructor(S){super("phone",S),this.phoneNumber=S.phoneInfo}static _fromServerResponse(S,R){return new Ir(R)}}function yc(O,S,R){var N;lt((null===(N=R.url)||void 0===N?void 0:N.length)>0,O,"invalid-continue-uri"),lt(void 0===R.dynamicLinkDomain||R.dynamicLinkDomain.length>0,O,"invalid-dynamic-link-domain"),S.continueUrl=R.url,S.dynamicLinkDomain=R.dynamicLinkDomain,S.canHandleCodeInApp=R.handleCodeInApp,R.iOS&&(lt(R.iOS.bundleId.length>0,O,"missing-ios-bundle-id"),S.iOSBundleId=R.iOS.bundleId),R.android&&(lt(R.android.packageName.length>0,O,"missing-android-pkg-name"),S.androidInstallApp=R.android.installApp,S.androidMinimumVersionCode=R.android.minimumVersion,S.androidPackageName=R.android.packageName)}function oo(O,S,R){return ud.apply(this,arguments)}function ud(){return(ud=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O),$={requestType:"PASSWORD_RESET",email:S};R&&yc(N,$,R),yield Qg(N,$)})).apply(this,arguments)}function ia(O,S,R){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(O,S,R){yield np((0,Q.m9)(O),{oobCode:S,newPassword:R})})).apply(this,arguments)}function Bo(O,S){return eh.apply(this,arguments)}function eh(){return(eh=(0,a.Z)(function*(O,S){yield $_((0,Q.m9)(O),{oobCode:S})})).apply(this,arguments)}function vc(O,S){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(O,S){const R=(0,Q.m9)(O),N=yield np(R,{oobCode:S}),$=N.requestType;switch(lt($,R,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":lt(N.newEmail,R,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":lt(N.mfaInfo,R,"internal-error");default:lt(N.email,R,"internal-error")}let X=null;return N.mfaInfo&&(X=ro._fromServerResponse(Bi(R),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:X},operation:$}})).apply(this,arguments)}function cd(O,S){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(O,S){const{data:R}=yield vc((0,Q.m9)(O),S);return R.email})).apply(this,arguments)}function th(O,S,R){return nh.apply(this,arguments)}function nh(){return(nh=(0,a.Z)(function*(O,S,R){const N=Bi(O),$=yield Su(N,{returnSecureToken:!0,email:S,password:R}),X=yield or._fromIdTokenResponse(N,"signIn",$);return yield N._updateCurrentUser(X.user),X})).apply(this,arguments)}function If(O,S,R){return io((0,Q.m9)(O),ta.credential(S,R))}function ih(O,S,R){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O),$={requestType:"EMAIL_SIGNIN",email:S};lt(R.handleCodeInApp,N,"argument-error"),R&&yc(N,$,R),yield Zd(N,$)})).apply(this,arguments)}function xf(O,S){const R=vi.parseLink(S);return"EMAIL_SIGNIN"===(null==R?void 0:R.operation)}function Tu(O,S,R){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O),$=ta.credentialWithLink(S,R||qt());return lt($._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),io(N,$)})).apply(this,arguments)}function Cc(O,S){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:createAuthUri",Jt(O,S))})).apply(this,arguments)}function dd(O,S){return Of.apply(this,arguments)}function Of(){return(Of=(0,a.Z)(function*(O,S){const N={identifier:S,continueUri:Qt()?qt():"http://localhost"},{signinMethods:$}=yield Cc((0,Q.m9)(O),N);return $||[]})).apply(this,arguments)}function Mf(O,S){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(O,S){const R=(0,Q.m9)(O),$={requestType:"VERIFY_EMAIL",idToken:yield O.getIdToken()};S&&yc(R.auth,$,S);const{email:X}=yield jr(R.auth,$);X!==O.email&&(yield O.reload())})).apply(this,arguments)}function Pf(O,S,R){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield O.getIdToken(),newEmail:S};R&&yc(N.auth,X,R);const{email:De}=yield vu(N.auth,X);De!==O.email&&(yield O.reload())})).apply(this,arguments)}function rh(O,S){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(O,S){return an(O,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Au(O,S){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(O,{displayName:S,photoURL:R}){if(void 0===S&&void 0===R)return;const N=(0,Q.m9)(O),X={idToken:yield N.getIdToken(),displayName:S,photoUrl:R,returnSecureToken:!0},De=yield vn(N,rh(N.auth,X));N.displayName=De.displayName||null,N.photoURL=De.photoUrl||null;const je=N.providerData.find(({providerId:At})=>"password"===At);je&&(je.displayName=N.displayName,je.photoURL=N.photoURL),yield N._updateTokensIfNecessary(De)})).apply(this,arguments)}function lp(O,S){return fl((0,Q.m9)(O),S,null)}function Jg(O,S){return fl((0,Q.m9)(O),null,S)}function fl(O,S,R){return wc.apply(this,arguments)}function wc(){return(wc=(0,a.Z)(function*(O,S,R){const{auth:N}=O,X={idToken:yield O.getIdToken(),returnSecureToken:!0};S&&(X.email=S),R&&(X.password=R);const De=yield vn(O,ip(N,X));yield O._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class bc{constructor(S,R,N={}){this.isNewUser=S,this.providerId=R,this.profile=N}}class Ui extends bc{constructor(S,R,N,$){super(S,R,N),this.username=$}}class Hl extends bc{constructor(S,R){super(S,"facebook.com",R)}}class oh extends Ui{constructor(S,R){super(S,"github.com",R,"string"==typeof(null==R?void 0:R.login)?null==R?void 0:R.login:null)}}class Vo extends bc{constructor(S,R){super(S,"google.com",R)}}class Xg extends Ui{constructor(S,R,N){super(S,"twitter.com",R,N)}}function oa(O){const{user:S,_tokenResponse:R}=O;return S.isAnonymous&&!R?{providerId:null,isNewUser:!1,profile:null}:function(O){var S,R;if(!O)return null;const{providerId:N}=O,$=O.rawUserInfo?JSON.parse(O.rawUserInfo):{},X=O.isNewUser||"identitytoolkit#SignupNewUserResponse"===O.kind;if(!N&&(null==O?void 0:O.idToken)){const De=null===(R=null===(S=Tt(O.idToken))||void 0===S?void 0:S.firebase)||void 0===R?void 0:R.sign_in_provider;if(De)return new bc(X,"anonymous"!==De&&"custom"!==De?De:null)}if(!N)return null;switch(N){case"facebook.com":return new Hl(X,$);case"github.com":return new oh(X,$);case"google.com":return new Vo(X,$);case"twitter.com":return new Xg(X,$,O.screenName||null);case"custom":case"anonymous":return new bc(X,null);default:return new bc(X,N,$)}}(R)}class cs{constructor(S,R){this.type=S,this.credential=R}static _fromIdtoken(S){return new cs("enroll",S)}static _fromMfaPendingCredential(S){return new cs("signin",S)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(S){var R,N;if(null==S?void 0:S.multiFactorSession){if(null===(R=S.multiFactorSession)||void 0===R?void 0:R.pendingCredential)return cs._fromMfaPendingCredential(S.multiFactorSession.pendingCredential);if(null===(N=S.multiFactorSession)||void 0===N?void 0:N.idToken)return cs._fromIdtoken(S.multiFactorSession.idToken)}return null}}class Sc{constructor(S,R,N){this.session=S,this.hints=R,this.signInResolver=N}static _fromError(S,R){const N=Bi(S),$=R.customData._serverResponse,X=($.mfaInfo||[]).map(je=>ro._fromServerResponse(N,je));lt($.mfaPendingCredential,N,"internal-error");const De=cs._fromMfaPendingCredential($.mfaPendingCredential);return new Sc(De,X,function(){var je=(0,a.Z)(function*(At){const mt=yield At._process(N,De);delete $.mfaInfo,delete $.mfaPendingCredential;const nn=Object.assign(Object.assign({},$),{idToken:mt.idToken,refreshToken:mt.refreshToken});switch(R.operationType){case"signIn":const mi=yield or._fromIdTokenResponse(N,R.operationType,nn);return yield N._updateCurrentUser(mi.user),mi;case"reauthenticate":return lt(R.user,N,"internal-error"),or._forOperation(R.user,R.operationType,nn);default:ii(N,"internal-error")}});return function(At){return je.apply(this,arguments)}}())}resolveSignIn(S){var R=this;return(0,a.Z)(function*(){return R.signInResolver(S)})()}}function Ru(O,S){var R;const N=(0,Q.m9)(O),$=S;return lt(S.customData.operationType,N,"argument-error"),lt(null===(R=$.customData._serverResponse)||void 0===R?void 0:R.mfaPendingCredential,N,"argument-error"),Sc._fromError(N,$)}function q_(O,S){return an(O,"POST","/v2/accounts/mfaEnrollment:start",Jt(O,S))}class pp{constructor(S){this.user=S,this.enrolledFactors=[],S._onReload(R=>{R.mfaInfo&&(this.enrolledFactors=R.mfaInfo.map(N=>ro._fromServerResponse(S.auth,N)))})}static _fromUser(S){return new pp(S)}getSession(){var S=this;return(0,a.Z)(function*(){return cs._fromIdtoken(yield S.user.getIdToken())})()}enroll(S,R){var N=this;return(0,a.Z)(function*(){const $=S,X=yield N.getSession(),De=yield vn(N.user,$._process(N.user.auth,X,R));return yield N.user._updateTokensIfNecessary(De),N.user.reload()})()}unenroll(S){var R=this;return(0,a.Z)(function*(){const N="string"==typeof S?S:S.uid,$=yield R.user.getIdToken(),X=yield vn(R.user,function(O,S){return an(O,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(O,S))}(R.user.auth,{idToken:$,mfaEnrollmentId:N}));R.enrolledFactors=R.enrolledFactors.filter(({uid:De})=>De!==N),yield R.user._updateTokensIfNecessary(X);try{yield R.user.reload()}catch(De){if("auth/user-token-expired"!==De.code)throw De}})()}}const Dc=new WeakMap;function Tc(O){const S=(0,Q.m9)(O);return Dc.has(S)||Dc.set(S,pp._fromUser(S)),Dc.get(S)}const Ul="__sak";class Ac{constructor(S,R){this.storageRetriever=S,this.type=R}_isAvailable(){try{return this.storage?(this.storage.setItem(Ul,"1"),this.storage.removeItem(Ul),Promise.resolve(!0)):Promise.resolve(!1)}catch(S){return Promise.resolve(!1)}}_set(S,R){return this.storage.setItem(S,JSON.stringify(R)),Promise.resolve()}_get(S){const R=this.storage.getItem(S);return Promise.resolve(R?JSON.parse(R):null)}_remove(S){return this.storage.removeItem(S),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pa=(()=>{class O extends Ac{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(R,N)=>this.onStorageEvent(R,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const O=(0,Q.z$)();return ir(O)||nd(O)}()&&function(){try{return!(!window||window===window.top)}catch(O){return!1}}(),this.fallbackToPolling=Js(),this._shouldAllowMigration=!0}forAllChangedKeys(R){for(const N of Object.keys(this.listeners)){const $=this.storage.getItem(N),X=this.localCache[N];$!==X&&R(N,X,$)}}onStorageEvent(R,N=!1){if(!R.key)return void this.forAllChangedKeys((je,At,mt)=>{this.notifyListeners(je,mt)});const $=R.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem($);if(R.newValue!==je)null!==R.newValue?this.storage.setItem($,R.newValue):this.storage.removeItem($);else if(this.localCache[$]===R.newValue&&!N)return}const X=()=>{const je=this.storage.getItem($);!N&&this.localCache[$]===je||this.notifyListeners($,je)},De=this.storage.getItem($);(0,Q.w1)()&&10===document.documentMode&&De!==R.newValue&&R.newValue!==R.oldValue?setTimeout(X,10):X()}notifyListeners(R,N){this.localCache[R]=N;const $=this.listeners[R];if($)for(const X of Array.from($))X(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((R,N,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:R,oldValue:N,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(R,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[R]||(this.listeners[R]=new Set,this.localCache[R]=this.storage.getItem(R)),this.listeners[R].add(N)}_removeListener(R,N){this.listeners[R]&&(this.listeners[R].delete(N),0===this.listeners[R].size&&delete this.listeners[R]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(R,N){var $=()=>super._set,X=this;return(0,a.Z)(function*(){yield $().call(X,R,N),X.localCache[R]=JSON.stringify(N)})()}_get(R){var N=()=>super._get,$=this;return(0,a.Z)(function*(){const X=yield N().call($,R);return $.localCache[R]=JSON.stringify(X),X})()}_remove(R){var N=()=>super._remove,$=this;return(0,a.Z)(function*(){yield N().call($,R),delete $.localCache[R]})()}}return O.type="LOCAL",O})(),Vt=(()=>{class O extends Ac{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(R,N){}_removeListener(R,N){}}return O.type="SESSION",O})();let Wl=(()=>{class O{constructor(R){this.eventTarget=R,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(R){const N=this.receivers.find(X=>X.isListeningto(R));if(N)return N;const $=new O(R);return this.receivers.push($),$}isListeningto(R){return this.eventTarget===R}handleEvent(R){var N=this;return(0,a.Z)(function*(){const $=R,{eventId:X,eventType:De,data:je}=$.data,At=N.handlersMap[De];if(!(null==At?void 0:At.size))return;$.ports[0].postMessage({status:"ack",eventId:X,eventType:De});const mt=Array.from(At).map(function(){var mi=(0,a.Z)(function*(Vi){return Vi($.origin,je)});return function(Vi){return mi.apply(this,arguments)}}()),nn=yield function(O){return Promise.all(O.map(function(){var S=(0,a.Z)(function*(R){try{return{fulfilled:!0,value:yield R}}catch(N){return{fulfilled:!1,reason:N}}});return function(R){return S.apply(this,arguments)}}()))}(mt);$.ports[0].postMessage({status:"done",eventId:X,eventType:De,response:nn})})()}_subscribe(R,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[R]||(this.handlersMap[R]=new Set),this.handlersMap[R].add(N)}_unsubscribe(R,N){this.handlersMap[R]&&N&&this.handlersMap[R].delete(N),(!N||0===this.handlersMap[R].size)&&delete this.handlersMap[R],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return O.receivers=[],O})();function ei(O="",S=10){let R="";for(let N=0;N<S;N++)R+=Math.floor(10*Math.random());return O+R}class pd{constructor(S){this.target=S,this.handlers=new Set}removeMessageHandler(S){S.messageChannel&&(S.messageChannel.port1.removeEventListener("message",S.onMessage),S.messageChannel.port1.close()),this.handlers.delete(S)}_send(S,R,N=50){var $=this;return(0,a.Z)(function*(){const X="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let De,je;return new Promise((At,mt)=>{const nn=ei("",20);X.port1.start();const mi=setTimeout(()=>{mt(new Error("unsupported_event"))},N);je={messageChannel:X,onMessage(Vi){const ti=Vi;if(ti.data.eventId===nn)switch(ti.data.status){case"ack":clearTimeout(mi),De=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),At(ti.data.response);break;default:clearTimeout(mi),clearTimeout(De),mt(new Error("invalid_response"))}}},$.handlers.add(je),X.port1.addEventListener("message",je.onMessage),$.target.postMessage({eventType:S,eventId:nn,data:R},[X.port2])}).finally(()=>{je&&$.removeMessageHandler(je)})})()}}function wr(){return window}function ao(){return void 0!==wr().WorkerGlobalScope&&"function"==typeof wr().importScripts}function fd(){return(fd=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(O){return null}})).apply(this,arguments)}const ds="firebaseLocalStorageDb",lo="firebaseLocalStorage",hs="fbase_key";class zl{constructor(S){this.request=S}toPromise(){return new Promise((S,R)=>{this.request.addEventListener("success",()=>{S(this.request.result)}),this.request.addEventListener("error",()=>{R(this.request.error)})})}}function xs(O,S){return O.transaction([lo],S?"readwrite":"readonly").objectStore(lo)}function gp(){const O=indexedDB.open(ds,1);return new Promise((S,R)=>{O.addEventListener("error",()=>{R(O.error)}),O.addEventListener("upgradeneeded",()=>{const N=O.result;try{N.createObjectStore(lo,{keyPath:hs})}catch($){R($)}}),O.addEventListener("success",(0,a.Z)(function*(){const N=O.result;N.objectStoreNames.contains(lo)?S(N):(N.close(),yield function(){const O=indexedDB.deleteDatabase(ds);return new zl(O).toPromise()}(),S(yield gp()))}))})}function So(O,S,R){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,a.Z)(function*(O,S,R){const N=xs(O,!0).put({[hs]:S,value:R});return new zl(N).toPromise()})).apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(O,S){const R=xs(O,!1).get(S),N=yield new zl(R).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function gd(O,S){const R=xs(O,!0).delete(S);return new zl(R).toPromise()}const mp=(()=>{class O{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var R=this;return(0,a.Z)(function*(){return R.db||(R.db=yield gp()),R.db})()}_withRetries(R){var N=this;return(0,a.Z)(function*(){let $=0;for(;;)try{const X=yield N._openDb();return yield R(X)}catch(X){if($++>3)throw X;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var R=this;return(0,a.Z)(function*(){return ao()?R.initializeReceiver():R.initializeSender()})()}initializeReceiver(){var R=this;return(0,a.Z)(function*(){R.receiver=Wl._getInstance(ao()?self:null),R.receiver._subscribe("keyChanged",function(){var N=(0,a.Z)(function*($,X){return{keyProcessed:(yield R._poll()).includes(X.key)}});return function($,X){return N.apply(this,arguments)}}()),R.receiver._subscribe("ping",function(){var N=(0,a.Z)(function*($,X){return["keyChanged"]});return function($,X){return N.apply(this,arguments)}}())})()}initializeSender(){var R=this;return(0,a.Z)(function*(){var N,$;if(R.activeServiceWorker=yield function(){return fd.apply(this,arguments)}(),!R.activeServiceWorker)return;R.sender=new pd(R.activeServiceWorker);const X=yield R.sender._send("ping",{},800);!X||(null===(N=X[0])||void 0===N?void 0:N.fulfilled)&&(null===($=X[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(R.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(R){var N=this;return(0,a.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function(){var O;return(null===(O=null==navigator?void 0:navigator.serviceWorker)||void 0===O?void 0:O.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:R},N.serviceWorkerReceiverAvailable?800:50)}catch($){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const R=yield gp();return yield So(R,Ul,"1"),yield gd(R,Ul),!0}catch(R){}return!1})()}_withPendingWrite(R){var N=this;return(0,a.Z)(function*(){N.pendingWrites++;try{yield R()}finally{N.pendingWrites--}})()}_set(R,N){var $=this;return(0,a.Z)(function*(){return $._withPendingWrite((0,a.Z)(function*(){return yield $._withRetries(X=>So(X,R,N)),$.localCache[R]=N,$.notifyServiceWorker(R)}))})()}_get(R){var N=this;return(0,a.Z)(function*(){const $=yield N._withRetries(X=>function(O,S){return Qi.apply(this,arguments)}(X,R));return N.localCache[R]=$,$})()}_remove(R){var N=this;return(0,a.Z)(function*(){return N._withPendingWrite((0,a.Z)(function*(){return yield N._withRetries($=>gd($,R)),delete N.localCache[R],N.notifyServiceWorker(R)}))})()}_poll(){var R=this;return(0,a.Z)(function*(){const N=yield R._withRetries(De=>{const je=xs(De,!1).getAll();return new zl(je).toPromise()});if(!N)return[];if(0!==R.pendingWrites)return[];const $=[],X=new Set;for(const{fbase_key:De,value:je}of N)X.add(De),JSON.stringify(R.localCache[De])!==JSON.stringify(je)&&(R.notifyListeners(De,je),$.push(De));for(const De of Object.keys(R.localCache))R.localCache[De]&&!X.has(De)&&(R.notifyListeners(De,null),$.push(De));return $})()}notifyListeners(R,N){this.localCache[R]=N;const $=this.listeners[R];if($)for(const X of Array.from($))X(N)}startPolling(){var R=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return R._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(R,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[R]||(this.listeners[R]=new Set,this._get(R)),this.listeners[R].add(N)}_removeListener(R,N){this.listeners[R]&&(this.listeners[R].delete(N),0===this.listeners[R].size&&delete this.listeners[R]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return O.type="LOCAL",O})();function Pt(O,S){return an(O,"POST","/v2/accounts/mfaSignIn:start",Jt(O,S))}function ch(){return(ch=(0,a.Z)(function*(O){return(yield an(O,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xu(O){return new Promise((S,R)=>{const N=document.createElement("script");N.setAttribute("src",O),N.onload=S,N.onerror=$=>{const X=dr("internal-error");X.customData=$,R(X)},N.type="text/javascript",N.charset="UTF-8",function(){var O,S;return null!==(S=null===(O=document.getElementsByTagName("head"))||void 0===O?void 0:O[0])&&void 0!==S?S:document}().appendChild(N)})}function ps(O){return`__${O}${Math.floor(1e6*Math.random())}`}const Fa=1e12;class ka{constructor(S){this.auth=S,this.counter=Fa,this._widgets=new Map}render(S,R){const N=this.counter;return this._widgets.set(N,new Jv(S,this.auth.name,R||{})),this.counter++,N}reset(S){var R;const N=S||Fa;null===(R=this._widgets.get(N))||void 0===R||R.delete(),this._widgets.delete(N)}getResponse(S){var R;return(null===(R=this._widgets.get(S||Fa))||void 0===R?void 0:R.getResponse())||""}execute(S){var R=this;return(0,a.Z)(function*(){var N;return null===(N=R._widgets.get(S||Fa))||void 0===N||N.execute(),""})()}}class Jv{constructor(S,R,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof S?document.getElementById(S):S;lt($,"argument-error",{appName:R}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(O){const S=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<50;N++)S.push(R.charAt(Math.floor(Math.random()*R.length)));return S.join("")}();const{callback:S,"expired-callback":R}=this.params;if(S)try{S(this.responseToken)}catch(N){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,R)try{R()}catch(N){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fs=ps("rcb"),Ke=new Gn(3e4,6e4);class sa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wr().grecaptcha}load(S,R=""){return lt((O=R).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(O),S,"argument-error"),this.shouldResolveImmediately(R)?Promise.resolve(wr().grecaptcha):new Promise((N,$)=>{const X=wr().setTimeout(()=>{$(dr(S,"network-request-failed"))},Ke.get());wr()[fs]=()=>{wr().clearTimeout(X),delete wr()[fs];const je=wr().grecaptcha;if(!je)return void $(dr(S,"internal-error"));const At=je.render;je.render=(mt,nn)=>{const mi=At(mt,nn);return this.counter++,mi},this.hostLanguage=R,N(je)},xu(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:fs,render:"explicit",hl:R})}`).catch(()=>{clearTimeout(X),$(dr(S,"internal-error"))})});var O}clearedOneInstance(){this.counter--}shouldResolveImmediately(S){return!!wr().grecaptcha&&(S===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class md{load(S){return(0,a.Z)(function*(){return new ka(S)})()}clearedOneInstance(){}}const Rc="recaptcha",ql={theme:"light",type:"image"};class _p{constructor(S,R=Object.assign({},ql),N){this.parameters=R,this.type=Rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bi(N),this.isInvisible="invisible"===this.parameters.size,lt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof S?document.getElementById(S):S;lt($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new md:new sa,this.validateStartingState()}verify(){var S=this;return(0,a.Z)(function*(){S.assertNotDestroyed();const R=yield S.render(),N=S.getAssertedRecaptcha();return N.getResponse(R)||new Promise(X=>{const De=je=>{!je||(S.tokenChangeListeners.delete(De),X(je))};S.tokenChangeListeners.add(De),S.isInvisible&&N.execute(R)})})()}render(){try{this.assertNotDestroyed()}catch(S){return Promise.reject(S)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(S=>{throw this.renderPromise=null,S})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(S=>{this.container.removeChild(S)})}validateStartingState(){lt(!this.parameters.sitekey,this.auth,"argument-error"),lt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),lt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(S){return R=>{if(this.tokenChangeListeners.forEach(N=>N(R)),"function"==typeof S)S(R);else if("string"==typeof S){const N=wr()[S];"function"==typeof N&&N(R)}}}assertNotDestroyed(){lt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var S=this;return(0,a.Z)(function*(){if(yield S.init(),!S.widgetId){let R=S.container;if(!S.isInvisible){const N=document.createElement("div");R.appendChild(N),R=N}S.widgetId=S.getAssertedRecaptcha().render(R,S.parameters)}return S.widgetId})()}init(){var S=this;return(0,a.Z)(function*(){lt(Qt()&&!ao(),S.auth,"internal-error"),yield function(){let O=null;return new Promise(S=>{"complete"!==document.readyState?(O=()=>S(),window.addEventListener("load",O)):S()}).catch(S=>{throw O&&window.removeEventListener("load",O),S})}(),S.recaptcha=yield S._recaptchaLoader.load(S.auth,S.auth.languageCode||void 0);const R=yield function(O){return ch.apply(this,arguments)}(S.auth);lt(R,S.auth,"internal-error"),S.parameters.sitekey=R})()}getAssertedRecaptcha(){return lt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ic{constructor(S,R){this.verificationId=S,this.onConfirmation=R}confirm(S){const R=wu._fromVerification(this.verificationId,S);return this.onConfirmation(R)}}function To(O,S,R){return at.apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(O,S,R){const N=Bi(O),$=yield B(N,S,(0,Q.m9)(R));return new Ic($,X=>io(N,X))})).apply(this,arguments)}function aa(O,S,R){return _d.apply(this,arguments)}function _d(){return(_d=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O);yield tt(!1,N,"phone");const $=yield B(N.auth,S,(0,Q.m9)(R));return new Ic($,X=>mc(N,X))})).apply(this,arguments)}function gl(O,S,R){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O),$=yield B(N.auth,S,(0,Q.m9)(R));return new Ic($,X=>_c(N,X))})).apply(this,arguments)}function B(O,S,R){return J.apply(this,arguments)}function J(){return(J=(0,a.Z)(function*(O,S,R){var N;const $=yield R.verify();try{let X;if(lt("string"==typeof $,O,"argument-error"),lt(R.type===Rc,O,"argument-error"),X="string"==typeof S?{phoneNumber:S}:S,"session"in X){const De=X.session;if("phoneNumber"in X)return lt("enroll"===De.type,O,"internal-error"),(yield q_(O,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{lt("signin"===De.type,O,"internal-error");const je=(null===(N=X.multiFactorHint)||void 0===N?void 0:N.uid)||X.multiFactorUid;return lt(je,O,"missing-multi-factor-info"),(yield Pt(O,{mfaPendingCredential:De.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield Sa(O,{phoneNumber:X.phoneNumber,recaptchaToken:$});return De}}finally{R._reset()}})).apply(this,arguments)}function ue(O,S){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(O,S){yield Jd((0,Q.m9)(O),S)})).apply(this,arguments)}let Be=(()=>{class O{constructor(R){this.providerId=O.PROVIDER_ID,this.auth=Bi(R)}verifyPhoneNumber(R,N){return B(this.auth,R,(0,Q.m9)(N))}static credential(R,N){return wu._fromVerification(R,N)}static credentialFromResult(R){return O.credentialFromTaggedObject(R)}static credentialFromError(R){return O.credentialFromTaggedObject(R.customData||{})}static credentialFromTaggedObject({_tokenResponse:R}){if(!R)return null;const{phoneNumber:N,temporaryProof:$}=R;return N&&$?wu._fromTokenResponse(N,$):null}}return O.PROVIDER_ID="phone",O.PHONE_SIGN_IN_METHOD="phone",O})();function it(O,S){return S?en(S):(lt(O._popupRedirectResolver,O,"argument-error"),O._popupRedirectResolver)}class xt extends cc{constructor(S){super("custom","custom"),this.params=S}_getIdTokenResponse(S){return oi(S,this._buildIdpRequest())}_linkToIdToken(S,R){return oi(S,this._buildIdpRequest(R))}_getReauthenticationResolver(S){return oi(S,this._buildIdpRequest())}_buildIdpRequest(S){const R={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return S&&(R.idToken=S),R}}function bt(O){return Xd(O.auth,new xt(O),O.bypassAuthState)}function Nn(O){const{auth:S,user:R}=O;return lt(R,S,"internal-error"),Cr(R,new xt(O),O.bypassAuthState)}function gi(O){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(O){const{auth:S,user:R}=O;return lt(R,S,"internal-error"),Jd(R,new xt(O),O.bypassAuthState)})).apply(this,arguments)}class gs{constructor(S,R,N,$,X=!1){this.auth=S,this.resolver=N,this.user=$,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(R)?R:[R]}execute(){var S=this;return new Promise(function(){var R=(0,a.Z)(function*(N,$){S.pendingPromise={resolve:N,reject:$};try{S.eventManager=yield S.resolver._initialize(S.auth),yield S.onExecution(),S.eventManager.registerConsumer(S)}catch(X){S.reject(X)}});return function(N,$){return R.apply(this,arguments)}}())}onAuthEvent(S){var R=this;return(0,a.Z)(function*(){const{urlResponse:N,sessionId:$,postBody:X,tenantId:De,error:je,type:At}=S;if(je)return void R.reject(je);const mt={auth:R.auth,requestUri:N,sessionId:$,tenantId:De||void 0,postBody:X||void 0,user:R.user,bypassAuthState:R.bypassAuthState};try{R.resolve(yield R.getIdpTask(At)(mt))}catch(nn){R.reject(nn)}})()}onError(S){this.reject(S)}getIdpTask(S){switch(S){case"signInViaPopup":case"signInViaRedirect":return bt;case"linkViaPopup":case"linkViaRedirect":return gi;case"reauthViaPopup":case"reauthViaRedirect":return Nn;default:ii(this.auth,"internal-error")}}resolve(S){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(S),this.unregisterAndCleanUp()}reject(S){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(S),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Br=new Gn(2e3,1e4);function xc(O,S,R){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(O,S,R){const N=Bi(O);yo(O,S,na);const $=it(N,R);return new ml(N,"signInViaPopup",S,$).executeNotNull()})).apply(this,arguments)}function Ou(O,S,R){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O);yo(N.auth,S,na);const $=it(N.auth,R);return new ml(N.auth,"reauthViaPopup",S,$,N).executeNotNull()})).apply(this,arguments)}function La(O,S,R){return la.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O);yo(N.auth,S,na);const $=it(N.auth,R);return new ml(N.auth,"linkViaPopup",S,$,N).executeNotNull()})).apply(this,arguments)}let ml=(()=>{class O extends gs{constructor(R,N,$,X,De){super(R,N,X,De),this.provider=$,this.authWindow=null,this.pollId=null,O.currentPopupAction&&O.currentPopupAction.cancel(),O.currentPopupAction=this}executeNotNull(){var R=this;return(0,a.Z)(function*(){const N=yield R.execute();return lt(N,R.auth,"internal-error"),N})()}onExecution(){var R=this;return(0,a.Z)(function*(){pr(1===R.filter.length,"Popup operations only handle one event");const N=ei();R.authWindow=yield R.resolver._openPopup(R.auth,R.provider,R.filter[0],N),R.authWindow.associatedEvent=N,R.resolver._originValidation(R.auth).catch($=>{R.reject($)}),R.resolver._isIframeWebStorageSupported(R.auth,$=>{$||R.reject(dr(R.auth,"web-storage-unsupported"))}),R.pollUserCancellation()})()}get eventId(){var R;return(null===(R=this.authWindow)||void 0===R?void 0:R.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,O.currentPopupAction=null}pollUserCancellation(){const R=()=>{var N,$;this.pollId=(null===($=null===(N=this.authWindow)||void 0===N?void 0:N.window)||void 0===$?void 0:$.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(R,Br.get())};R()}}return O.currentPopupAction=null,O})();const Ms=new Map;class co extends gs{constructor(S,R,N=!1){super(S,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],R,void 0,N),this.eventId=null}execute(){var S=()=>super.execute,R=this;return(0,a.Z)(function*(){let N=Ms.get(R.auth._key());if(!N){try{const X=(yield function(O,S){return yd.apply(this,arguments)}(R.resolver,R.auth))?yield S().call(R):null;N=()=>Promise.resolve(X)}catch($){N=()=>Promise.reject($)}Ms.set(R.auth._key(),N)}return R.bypassAuthState||Ms.set(R.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(S){var R=()=>super.onAuthEvent,N=this;return(0,a.Z)(function*(){if("signInViaRedirect"===S.type)return R().call(N,S);if("unknown"!==S.type){if(S.eventId){const $=yield N.auth._redirectUserForId(S.eventId);if($)return N.user=$,R().call(N,S);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function yd(){return(yd=(0,a.Z)(function*(O,S){const R=Oc(S),N=vp(O);if(!(yield N._isAvailable()))return!1;const $="true"===(yield N._get(R));return yield N._remove(R),$})).apply(this,arguments)}function $r(O,S){return yp.apply(this,arguments)}function yp(){return(yp=(0,a.Z)(function*(O,S){return vp(O)._set(Oc(S),"true")})).apply(this,arguments)}function Gf(){Ms.clear()}function vp(O){return en(O._redirectPersistence)}function Oc(O){return fr("pendingRedirect",O.config.apiKey,O.name)}function Zl(O,S,R){return function(O,S,R){return ua.apply(this,arguments)}(O,S,R)}function ua(){return(ua=(0,a.Z)(function*(O,S,R){const N=Bi(O);yo(O,S,na);const $=it(N,R);return yield $r($,N),$._openRedirect(N,S,"signInViaRedirect")})).apply(this,arguments)}function Z_(O,S,R){return function(O,S,R){return Mu.apply(this,arguments)}(O,S,R)}function Mu(){return(Mu=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O);yo(N.auth,S,na);const $=it(N.auth,R);yield $r($,N.auth);const X=yield im(N);return $._openRedirect(N.auth,S,"reauthViaRedirect",X)})).apply(this,arguments)}function hh(O,S,R){return function(O,S,R){return nm.apply(this,arguments)}(O,S,R)}function nm(){return(nm=(0,a.Z)(function*(O,S,R){const N=(0,Q.m9)(O);yo(N.auth,S,na);const $=it(N.auth,R);yield tt(!1,N,S.providerId),yield $r($,N.auth);const X=yield im(N);return $._openRedirect(N.auth,S,"linkViaRedirect",X)})).apply(this,arguments)}function Xv(O,S){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,a.Z)(function*(O,S){return yield Bi(O)._initializationPromise,Kl(O,S,!1)})).apply(this,arguments)}function Kl(O,S){return wp.apply(this,arguments)}function wp(){return(wp=(0,a.Z)(function*(O,S,R=!1){const N=Bi(O),$=it(N,S),De=yield new co(N,$,R).execute();return De&&!R&&(delete De.user._redirectEventId,yield N._persistUserIfCurrent(De.user),yield N._setRedirectUser(null,S)),De})).apply(this,arguments)}function im(O){return vd.apply(this,arguments)}function vd(){return(vd=(0,a.Z)(function*(O){const S=ei(`${O.uid}:::`);return O._redirectEventId=S,yield O.auth._setRedirectUser(O),yield O.auth._persistUserIfCurrent(O),S})).apply(this,arguments)}class rm{constructor(S){this.auth=S,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(S){this.consumers.add(S),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,S)&&(this.sendToConsumer(this.queuedRedirectEvent,S),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(S){this.consumers.delete(S)}onEvent(S){if(this.hasEventBeenHandled(S))return!1;let R=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(S,N)&&(R=!0,this.sendToConsumer(S,N),this.saveEventToCache(S))}),this.hasHandledPotentialRedirect||!function(O){switch(O.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return om(O);default:return!1}}(S)||(this.hasHandledPotentialRedirect=!0,R||(this.queuedRedirectEvent=S,R=!0)),R}sendToConsumer(S,R){var N;if(S.error&&!om(S)){const $=(null===(N=S.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";R.onError(dr(this.auth,$))}else R.onAuthEvent(S)}isEventForConsumer(S,R){const N=null===R.eventId||!!S.eventId&&S.eventId===R.eventId;return R.filter.includes(S.type)&&N}hasEventBeenHandled(S){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wd(S))}saveEventToCache(S){this.cachedEventUids.add(wd(S)),this.lastProcessedEventTime=Date.now()}}function wd(O){return[O.type,O.eventId,O.sessionId,O.tenantId].filter(S=>S).join("-")}function om({type:O,error:S}){return"unknown"===O&&"auth/no-auth-event"===(null==S?void 0:S.code)}function bp(O){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,a.Z)(function*(O,S={}){return an(O,"GET","/v1/projects",S)})).apply(this,arguments)}const Pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_l=/^https?/;function Ql(){return(Ql=(0,a.Z)(function*(O){if(O.config.emulator)return;const{authorizedDomains:S}=yield bp(O);for(const R of S)try{if(Vf(R))return}catch(N){}ii(O,"unauthorized-domain")})).apply(this,arguments)}function Vf(O){const S=qt(),{protocol:R,hostname:N}=new URL(S);if(O.startsWith("chrome-extension://")){const De=new URL(O);return""===De.hostname&&""===N?"chrome-extension:"===R&&O.replace("chrome-extension://","")===S.replace("chrome-extension://",""):"chrome-extension:"===R&&De.hostname===N}if(!_l.test(R))return!1;if(Pu.test(O))return N===O;const $=O.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(N)}const sm=new Gn(3e4,6e4);function ph(){const O=wr().___jsl;if(null==O?void 0:O.H)for(const S of Object.keys(O.H))if(O.H[S].r=O.H[S].r||[],O.H[S].L=O.H[S].L||[],O.H[S].r=[...O.H[S].L],O.CP)for(let R=0;R<O.CP.length;R++)O.CP[R]=null}let fh=null;function Ga(O){return fh=fh||function(O){return new Promise((S,R)=>{var N,$,X;function De(){ph(),gapi.load("gapi.iframes",{callback:()=>{S(gapi.iframes.getContext())},ontimeout:()=>{ph(),R(dr(O,"network-request-failed"))},timeout:sm.get()})}if(null===($=null===(N=wr().gapi)||void 0===N?void 0:N.iframes)||void 0===$?void 0:$.Iframe)S(gapi.iframes.getContext());else{if(!(null===(X=wr().gapi)||void 0===X?void 0:X.load)){const je=ps("iframefcb");return wr()[je]=()=>{gapi.load?De():R(dr(O,"network-request-failed"))},xu(`https://apis.google.com/js/api.js?onload=${je}`)}De()}}).catch(S=>{throw fh=null,S})}(O),fh}const tC=new Gn(5e3,15e3),iC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},am=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yl(O){const S=O.config;lt(S.authDomain,O,"auth-domain-config-required");const R=S.emulator?yt(S,"emulator/auth/iframe"):`https://${O.config.authDomain}/__/auth/iframe`,N={apiKey:S.apiKey,appName:O.name,v:Z.SDK_VERSION},$=am.get(O.config.apiHost);$&&(N.eid=$);const X=O._getFrameworks();return X.length&&(N.fw=X.join(",")),`${R}?${(0,Q.xO)(N).slice(1)}`}function mh(){return(mh=(0,a.Z)(function*(O){const S=yield Ga(O),R=wr().gapi;return lt(R,O,"internal-error"),S.open({where:document.body,url:yl(O),messageHandlersFilter:R.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iC,dontclear:!0},N=>new Promise(function(){var $=(0,a.Z)(function*(X,De){yield N.restyle({setHideOnLeave:!1});const je=dr(O,"network-request-failed"),At=wr().setTimeout(()=>{De(je)},tC.get());function mt(){wr().clearTimeout(At),X(N)}N.ping(mt).then(mt,()=>{De(je)})});return function(X,De){return $.apply(this,arguments)}}()))})).apply(this,arguments)}const rC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lm{constructor(S){this.window=S,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(S){}}}function _h(O,S,R,N,$,X){lt(O.config.authDomain,O,"auth-domain-config-required"),lt(O.config.apiKey,O,"invalid-api-key");const De={apiKey:O.config.apiKey,appName:O.name,authType:R,redirectUrl:N,v:Z.SDK_VERSION,eventId:$};if(S instanceof na){S.setDefaultLanguage(O.languageCode),De.providerId=S.providerId||"",(0,Q.xb)(S.getCustomParameters())||(De.customParameters=JSON.stringify(S.getCustomParameters()));for(const[At,mt]of Object.entries(X||{}))De[At]=mt}if(S instanceof ci){const At=S.getScopes().filter(mt=>""!==mt);At.length>0&&(De.scopes=At.join(","))}O.tenantId&&(De.tid=O.tenantId);const je=De;for(const At of Object.keys(je))void 0===je[At]&&delete je[At];return`${function({config:O}){return O.emulator?yt(O,"emulator/auth/handler"):`https://${O.authDomain}/__/auth/handler`}(O)}?${(0,Q.xO)(je).slice(1)}`}const Nc="webStorageSupport",ca=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vt,this._completeRedirectFn=Kl}_openPopup(S,R,N,$){var X=this;return(0,a.Z)(function*(){var De;pr(null===(De=X.eventManagers[S._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const je=_h(S,R,N,qt(),$);return function(O,S,R,N=500,$=600){const X=Math.max((window.screen.availHeight-$)/2,0).toString(),De=Math.max((window.screen.availWidth-N)/2,0).toString();let je="";const At=Object.assign(Object.assign({},rC),{width:N.toString(),height:$.toString(),top:X,left:De}),mt=(0,Q.z$)().toLowerCase();R&&(je=Co(mt)?"_blank":R),lc(mt)&&(S=S||"http://localhost",At.scrollbars="yes");const nn=Object.entries(At).reduce((Vi,[ti,ku])=>`${Vi}${ti}=${ku},`,"");if(function(O=(0,Q.z$)()){var S;return nd(O)&&!!(null===(S=window.navigator)||void 0===S?void 0:S.standalone)}(mt)&&"_self"!==je)return function(O,S){const R=document.createElement("a");R.href=O,R.target=S;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),R.dispatchEvent(N)}(S||"",je),new lm(null);const mi=window.open(S||"",je,nn);lt(mi,O,"popup-blocked");try{mi.focus()}catch(Vi){}return new lm(mi)}(S,je,ei())})()}_openRedirect(S,R,N,$){var X=this;return(0,a.Z)(function*(){return yield X._originValidation(S),O=_h(S,R,N,qt(),$),wr().location.href=O,new Promise(()=>{});var O})()}_initialize(S){const R=S._key();if(this.eventManagers[R]){const{manager:$,promise:X}=this.eventManagers[R];return $?Promise.resolve($):(pr(X,"If manager is not set, promise should be"),X)}const N=this.initAndGetManager(S);return this.eventManagers[R]={promise:N},N}initAndGetManager(S){var R=this;return(0,a.Z)(function*(){const N=yield function(O){return mh.apply(this,arguments)}(S),$=new rm(S);return N.register("authEvent",X=>(lt(null==X?void 0:X.authEvent,S,"invalid-auth-event"),{status:$.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),R.eventManagers[S._key()]={manager:$},R.iframes[S._key()]=N,$})()}_isIframeWebStorageSupported(S,R){this.iframes[S._key()].send(Nc,{type:Nc},$=>{var X;const De=null===(X=null==$?void 0:$[0])||void 0===X?void 0:X[Nc];void 0!==De&&R(!!De),ii(S,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(S){const R=S._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function(O){return Ql.apply(this,arguments)}(S)),this.originValidationPromises[R]}get _shouldInitProactively(){return Js()||ir()||nd()}};class vh extends class{constructor(S){this.factorId=S}_process(S,R,N){switch(R.type){case"enroll":return this._finalizeEnroll(S,R.credential,N);case"signin":return this._finalizeSignIn(S,R.credential);default:return hr("unexpected MultiFactorSessionType")}}}{constructor(S){super("phone"),this.credential=S}static _fromCredential(S){return new vh(S)}_finalizeEnroll(S,R,N){return function(O,S){return an(O,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(O,S))}(S,{idToken:R,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(S,R){return function(O,S){return an(O,"POST","/v2/accounts/mfaSignIn:finalize",Jt(O,S))}(S,{mfaPendingCredential:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sp=(()=>{class O{constructor(){}static assertion(R){return vh._fromCredential(R)}}return O.FACTOR_ID="phone",O})();var O,Nu="@firebase/auth";class Wf{constructor(S){this.auth=S,this.internalListeners=new Map}getUid(){var S;return this.assertAuthConfigured(),(null===(S=this.auth.currentUser)||void 0===S?void 0:S.uid)||null}getToken(S){var R=this;return(0,a.Z)(function*(){return R.assertAuthConfigured(),yield R.auth._initializationPromise,R.auth.currentUser?{accessToken:yield R.auth.currentUser.getIdToken(S)}:null})()}addAuthTokenListener(S){if(this.assertAuthConfigured(),this.internalListeners.has(S))return;const R=this.auth.onIdTokenChanged(N=>{var $;S((null===($=N)||void 0===$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(S,R),this.updateProactiveRefresh()}removeAuthTokenListener(S){this.assertAuthConfigured();const R=this.internalListeners.get(S);!R||(this.internalListeners.delete(S),R(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}O="Browser",(0,Z._registerComponent)(new Lt.wA("auth",(S,{options:R})=>{const N=S.getProvider("app").getImmediate(),{apiKey:$,authDomain:X}=N.options;return(De=>{lt($&&!$.includes(":"),"invalid-api-key",{appName:De.name}),lt(!(null==X?void 0:X.includes(":")),"argument-error",{appName:De.name});const je={apiKey:$,authDomain:X,clientPlatform:O,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rr(O)},At=new ae(De,je);return function(O,S){const R=(null==S?void 0:S.persistence)||[],N=(Array.isArray(R)?R:[R]).map(en);(null==S?void 0:S.errorMap)&&O._updateErrorMap(S.errorMap),O._initializeWithPersistence(N,null==S?void 0:S.popupRedirectResolver)}(At,R),At})(N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((S,R,N)=>{S.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new Lt.wA("auth-internal",S=>{const R=Bi(S.getProvider("auth").getImmediate());return new Wf(R)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(Nu,"0.19.1",void 0),(0,Z.registerVersion)(Nu,"0.19.1","esm2017")},3854:(kt,q,j)=>{"use strict";j.d(q,{BH:()=>Ne,LL:()=>Lt,ZR:()=>Qn,gQ:()=>lt,zI:()=>fn,hu:()=>Q,g5:()=>Z,US:()=>be,tV:()=>we,h$:()=>fe,$s:()=>Jt,r3:()=>fi,Sg:()=>Xe,ne:()=>hr,p$:()=>oe,vZ:()=>ii,ZB:()=>de,gK:()=>qt,pd:()=>vo,m9:()=>ll,z$:()=>rt,GJ:()=>Po,jU:()=>xe,ru:()=>ke,d:()=>Ot,xb:()=>Li,w1:()=>Ln,hl:()=>Oi,uI:()=>qe,UG:()=>Ue,Yr:()=>ai,b$:()=>pt,G6:()=>Wt,Mn:()=>Hn,w9:()=>Zs,cI:()=>Es,UI:()=>rn,xO:()=>Ks,zd:()=>yo,DV:()=>Fl,ug:()=>Gn,dS:()=>Lr,Pz:()=>Ss,Dv:()=>Wr,Wj:()=>bn,lb:()=>En,eu:()=>gn});const Q=function(_e,pe){if(!_e)throw Z(pe)},Z=function(_e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+_e)},Re=function(_e){const pe=[];let ve=0;for(let Ze=0;Ze<_e.length;Ze++){let Fe=_e.charCodeAt(Ze);Fe<128?pe[ve++]=Fe:Fe<2048?(pe[ve++]=Fe>>6|192,pe[ve++]=63&Fe|128):55296==(64512&Fe)&&Ze+1<_e.length&&56320==(64512&_e.charCodeAt(Ze+1))?(Fe=65536+((1023&Fe)<<10)+(1023&_e.charCodeAt(++Ze)),pe[ve++]=Fe>>18|240,pe[ve++]=Fe>>12&63|128,pe[ve++]=Fe>>6&63|128,pe[ve++]=63&Fe|128):(pe[ve++]=Fe>>12|224,pe[ve++]=Fe>>6&63|128,pe[ve++]=63&Fe|128)}return pe},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,pe){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ve=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let Fe=0;Fe<_e.length;Fe+=3){const St=_e[Fe],dn=Fe+1<_e.length,Jn=dn?_e[Fe+1]:0,qi=Fe+2<_e.length,nr=qi?_e[Fe+2]:0;let Ce=(15&Jn)<<2|nr>>6,se=63&nr;qi||(se=64,dn||(Ce=64)),Ze.push(ve[St>>2],ve[(3&St)<<4|Jn>>4],ve[Ce],ve[se])}return Ze.join("")},encodeString(_e,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(_e):this.encodeByteArray(Re(_e),pe)},decodeString(_e,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(_e):function(_e){const pe=[];let ve=0,Ze=0;for(;ve<_e.length;){const Fe=_e[ve++];if(Fe<128)pe[Ze++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const St=_e[ve++];pe[Ze++]=String.fromCharCode((31&Fe)<<6|63&St)}else if(Fe>239&&Fe<365){const qi=((7&Fe)<<18|(63&_e[ve++])<<12|(63&_e[ve++])<<6|63&_e[ve++])-65536;pe[Ze++]=String.fromCharCode(55296+(qi>>10)),pe[Ze++]=String.fromCharCode(56320+(1023&qi))}else{const St=_e[ve++],dn=_e[ve++];pe[Ze++]=String.fromCharCode((15&Fe)<<12|(63&St)<<6|63&dn)}}return pe.join("")}(this.decodeStringToByteArray(_e,pe))},decodeStringToByteArray(_e,pe){this.init_();const ve=pe?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let Fe=0;Fe<_e.length;){const St=ve[_e.charAt(Fe++)],Jn=Fe<_e.length?ve[_e.charAt(Fe)]:0;++Fe;const nr=Fe<_e.length?ve[_e.charAt(Fe)]:64;++Fe;const Ie=Fe<_e.length?ve[_e.charAt(Fe)]:64;if(++Fe,null==St||null==Jn||null==nr||null==Ie)throw Error();Ze.push(St<<2|Jn>>4),64!==nr&&(Ze.push(Jn<<4&240|nr>>2),64!==Ie&&Ze.push(nr<<6&192|Ie))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},fe=function(_e){const pe=Re(_e);return be.encodeByteArray(pe,!0)},ye=function(_e){return fe(_e).replace(/\./g,"")},we=function(_e){try{return be.decodeString(_e,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function oe(_e){return de(void 0,_e)}function de(_e,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return pe}for(const ve in pe)!pe.hasOwnProperty(ve)||!he(ve)||(_e[ve]=de(_e[ve],pe[ve]));return _e}function he(_e){return"__proto__"!==_e}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,ve)=>{this.resolve=pe,this.reject=ve})}wrapCallback(pe){return(ve,Ze)=>{ve?this.reject(ve):this.resolve(Ze),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(ve):pe(ve,Ze))}}}function Xe(_e,pe){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=pe||"demo-project",Fe=_e.iat||0,St=_e.sub||_e.user_id;if(!St)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dn=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:St,user_id:St,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(dn)),""].join(".")}function rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function Ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(_e){return!1}}function xe(){return"object"==typeof self&&self.self===self}function ke(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ot(){return rt().indexOf("Electron/")>=0}function Ln(){const _e=rt();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function Hn(){return rt().indexOf("MSAppHost/")>=0}function ai(){return!1}function Wt(){return!Ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oi(){return"object"==typeof indexedDB}function gn(){return new Promise((_e,pe)=>{try{let ve=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(Ze);Fe.onsuccess=()=>{Fe.result.close(),ve||self.indexedDB.deleteDatabase(Ze),_e(!0)},Fe.onupgradeneeded=()=>{ve=!1},Fe.onerror=()=>{var St;pe((null===(St=Fe.error)||void 0===St?void 0:St.message)||"")}}catch(ve){pe(ve)}})}function fn(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qn extends Error{constructor(pe,ve,Ze){super(ve),this.code=pe,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(pe,ve,Ze){this.service=pe,this.serviceName=ve,this.errors=Ze}create(pe,...ve){const Ze=ve[0]||{},Fe=`${this.service}/${pe}`,St=this.errors[pe],dn=St?function(_e,pe){return _e.replace(bs,(ve,Ze)=>{const Fe=pe[Ze];return null!=Fe?String(Fe):`<${Ze}?>`})}(St,Ze):"Error";return new Qn(Fe,`${this.serviceName}: ${dn} (${Fe}).`,Ze)}}const bs=/\{\$([^}]+)}/g;function Es(_e){return JSON.parse(_e)}function Ss(_e){return JSON.stringify(_e)}const Un=function(_e){let pe={},ve={},Ze={},Fe="";try{const St=_e.split(".");pe=Es(we(St[0])||""),ve=Es(we(St[1])||""),Fe=St[2],Ze=ve.d||{},delete ve.d}catch(St){}return{header:pe,claims:ve,data:Ze,signature:Fe}},Zs=function(_e){const ve=Un(_e).claims;return!!ve&&"object"==typeof ve&&ve.hasOwnProperty("iat")},Po=function(_e){const pe=Un(_e).claims;return"object"==typeof pe&&!0===pe.admin};function fi(_e,pe){return Object.prototype.hasOwnProperty.call(_e,pe)}function Fl(_e,pe){if(Object.prototype.hasOwnProperty.call(_e,pe))return _e[pe]}function Li(_e){for(const pe in _e)if(Object.prototype.hasOwnProperty.call(_e,pe))return!1;return!0}function rn(_e,pe,ve){const Ze={};for(const Fe in _e)Object.prototype.hasOwnProperty.call(_e,Fe)&&(Ze[Fe]=pe.call(ve,_e[Fe],Fe,_e));return Ze}function ii(_e,pe){if(_e===pe)return!0;const ve=Object.keys(_e),Ze=Object.keys(pe);for(const Fe of ve){if(!Ze.includes(Fe))return!1;const St=_e[Fe],dn=pe[Fe];if(dr(St)&&dr(dn)){if(!ii(St,dn))return!1}else if(St!==dn)return!1}for(const Fe of Ze)if(!ve.includes(Fe))return!1;return!0}function dr(_e){return null!==_e&&"object"==typeof _e}function Ks(_e){const pe=[];for(const[ve,Ze]of Object.entries(_e))Array.isArray(Ze)?Ze.forEach(Fe=>{pe.push(encodeURIComponent(ve)+"="+encodeURIComponent(Fe))}):pe.push(encodeURIComponent(ve)+"="+encodeURIComponent(Ze));return pe.length?"&"+pe.join("&"):""}function yo(_e){const pe={};return _e.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[Fe,St]=Ze.split("=");pe[decodeURIComponent(Fe)]=decodeURIComponent(St)}}),pe}function vo(_e){const pe=_e.indexOf("?");if(!pe)return"";const ve=_e.indexOf("#",pe);return _e.substring(pe,ve>0?ve:void 0)}class lt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let pe=1;pe<this.blockSize;++pe)this.pad_[pe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(pe,ve){ve||(ve=0);const Ze=this.W_;if("string"==typeof pe)for(let Ie=0;Ie<16;Ie++)Ze[Ie]=pe.charCodeAt(ve)<<24|pe.charCodeAt(ve+1)<<16|pe.charCodeAt(ve+2)<<8|pe.charCodeAt(ve+3),ve+=4;else for(let Ie=0;Ie<16;Ie++)Ze[Ie]=pe[ve]<<24|pe[ve+1]<<16|pe[ve+2]<<8|pe[ve+3],ve+=4;for(let Ie=16;Ie<80;Ie++){const Ce=Ze[Ie-3]^Ze[Ie-8]^Ze[Ie-14]^Ze[Ie-16];Ze[Ie]=4294967295&(Ce<<1|Ce>>>31)}let nr,Gr,Fe=this.chain_[0],St=this.chain_[1],dn=this.chain_[2],Jn=this.chain_[3],qi=this.chain_[4];for(let Ie=0;Ie<80;Ie++){Ie<40?Ie<20?(nr=Jn^St&(dn^Jn),Gr=1518500249):(nr=St^dn^Jn,Gr=1859775393):Ie<60?(nr=St&dn|Jn&(St|dn),Gr=2400959708):(nr=St^dn^Jn,Gr=3395469782);const Ce=(Fe<<5|Fe>>>27)+nr+qi+Gr+Ze[Ie]&4294967295;qi=Jn,Jn=dn,dn=4294967295&(St<<30|St>>>2),St=Fe,Fe=Ce}this.chain_[0]=this.chain_[0]+Fe&4294967295,this.chain_[1]=this.chain_[1]+St&4294967295,this.chain_[2]=this.chain_[2]+dn&4294967295,this.chain_[3]=this.chain_[3]+Jn&4294967295,this.chain_[4]=this.chain_[4]+qi&4294967295}update(pe,ve){if(null==pe)return;void 0===ve&&(ve=pe.length);const Ze=ve-this.blockSize;let Fe=0;const St=this.buf_;let dn=this.inbuf_;for(;Fe<ve;){if(0===dn)for(;Fe<=Ze;)this.compress_(pe,Fe),Fe+=this.blockSize;if("string"==typeof pe){for(;Fe<ve;)if(St[dn]=pe.charCodeAt(Fe),++dn,++Fe,dn===this.blockSize){this.compress_(St),dn=0;break}}else for(;Fe<ve;)if(St[dn]=pe[Fe],++dn,++Fe,dn===this.blockSize){this.compress_(St),dn=0;break}}this.inbuf_=dn,this.total_+=ve}digest(){const pe=[];let ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Fe=this.blockSize-1;Fe>=56;Fe--)this.buf_[Fe]=255&ve,ve/=256;this.compress_(this.buf_);let Ze=0;for(let Fe=0;Fe<5;Fe++)for(let St=24;St>=0;St-=8)pe[Ze]=this.chain_[Fe]>>St&255,++Ze;return pe}}function hr(_e,pe){const ve=new pr(_e,pe);return ve.subscribe.bind(ve)}class pr{constructor(pe,ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(()=>{pe(this)}).catch(Ze=>{this.error(Ze)})}next(pe){this.forEachObserver(ve=>{ve.next(pe)})}error(pe){this.forEachObserver(ve=>{ve.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,ve,Ze){let Fe;if(void 0===pe&&void 0===ve&&void 0===Ze)throw new Error("Missing Observer.");Fe=function(_e,pe){if("object"!=typeof _e||null===_e)return!1;for(const ve of["next","error","complete"])if(ve in _e&&"function"==typeof _e[ve])return!0;return!1}(pe)?pe:{next:pe,error:ve,complete:Ze},void 0===Fe.next&&(Fe.next=Ai),void 0===Fe.error&&(Fe.error=Ai),void 0===Fe.complete&&(Fe.complete=Ai);const St=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch(dn){}}),this.observers.push(Fe),St}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let ve=0;ve<this.observers.length;ve++)this.sendOne(ve,pe)}sendOne(pe,ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{ve(this.observers[pe])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}const Wr=function(_e,pe,ve,Ze){let Fe;if(Ze<pe?Fe="at least "+pe:Ze>ve&&(Fe=0===ve?"none":"no more than "+ve),Fe)throw new Error(_e+" failed: Was called with "+Ze+(1===Ze?" argument.":" arguments.")+" Expects "+Fe+".")};function qt(_e,pe){return`${_e} failed: ${pe} argument `}function bn(_e,pe,ve,Ze){if((!Ze||ve)&&"function"!=typeof ve)throw new Error(qt(_e,pe)+"must be a valid function.")}function En(_e,pe,ve,Ze){if((!Ze||ve)&&("object"!=typeof ve||null===ve))throw new Error(qt(_e,pe)+"must be a valid context object.")}const Lr=function(_e){const pe=[];let ve=0;for(let Ze=0;Ze<_e.length;Ze++){let Fe=_e.charCodeAt(Ze);if(Fe>=55296&&Fe<=56319){const St=Fe-55296;Ze++,Q(Ze<_e.length,"Surrogate pair missing trail surrogate."),Fe=65536+(St<<10)+(_e.charCodeAt(Ze)-56320)}Fe<128?pe[ve++]=Fe:Fe<2048?(pe[ve++]=Fe>>6|192,pe[ve++]=63&Fe|128):Fe<65536?(pe[ve++]=Fe>>12|224,pe[ve++]=Fe>>6&63|128,pe[ve++]=63&Fe|128):(pe[ve++]=Fe>>18|240,pe[ve++]=Fe>>12&63|128,pe[ve++]=Fe>>6&63|128,pe[ve++]=63&Fe|128)}return pe},Gn=function(_e){let pe=0;for(let ve=0;ve<_e.length;ve++){const Ze=_e.charCodeAt(ve);Ze<128?pe++:Ze<2048?pe+=2:Ze>=55296&&Ze<=56319?(pe+=4,ve++):pe+=3}return pe};function Jt(_e,pe=1e3,ve=2){const Ze=pe*Math.pow(ve,_e),Fe=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+Fe)}function ll(_e){return _e&&_e._delegate?_e._delegate:_e}},2107:(kt,q)=>{"use strict";function a(d){return null==d||""===d?null:d}function Q(d,o){return void 0===o&&(o=!1),null!=d&&(""!==d||o)}function Z(d){return!Q(d)}function Re(d){return null==d||0===d.length}function Ae(d){return null!=d&&"function"==typeof d.toString?d.toString():null}function be(d){if(void 0!==d){if(null===d||""===d)return null;if("number"==typeof d)return isNaN(d)?void 0:d;var o=parseInt(d,10);return isNaN(o)?void 0:o}}function fe(d){if(void 0!==d)return null!==d&&""!==d&&("boolean"==typeof d?d:/true/i.test(d))}function he(d,o,r){if(null==d)return null;if(!Array.isArray(d))return he(Ne(d),o,r);for(var u=d,c=null,_=0;_<u.length;_++){var C=u[_];if("string"==typeof o){if(C[o]===r){c=C;break}}else if(o(C)){c=C;break}}return c}function Ne(d){if(d instanceof Set||d instanceof Map){var o=[];return d.forEach(function(r){return o.push(r)}),o}return Object.keys(d).map(function(r){return d[r]})}var Xe=Object.freeze({__proto__:null,makeNull:a,exists:Q,missing:Z,missingOrEmpty:Re,toStringOrNull:Ae,attrToNumber:be,attrToBoolean:fe,attrToString:function(d){if(null!=d&&""!==d)return d},referenceCompare:function(d,o){return null==d&&null==o||!(null==d&&null!=o||null!=d&&null==o)&&d===o},jsonEquals:function(d,o){return(d?JSON.stringify(d):null)===(o?JSON.stringify(o):null)},defaultComparator:function(d,o,r){void 0===r&&(r=!1);var s=null==d,u=null==o;if(d&&d.toNumber&&(d=d.toNumber()),o&&o.toNumber&&(o=o.toNumber()),s&&u)return 0;if(s)return-1;if(u)return 1;function c(_,C){return _>C?1:_<C?-1:0}if("string"!=typeof d||!r)return c(d,o);try{return d.localeCompare(o)}catch(_){return c(d,o)}},find:he,values:Ne}),rt=function(){function d(){this.existingKeys={}}return d.prototype.addExistingKeys=function(o){for(var r=0;r<o.length;r++)this.existingKeys[o[r]]=!0},d.prototype.getUniqueKey=function(o,r){o=Ae(o);for(var s=0;;){var u=void 0;if(o?(u=o,0!==s&&(u+="_"+s)):r?(u=r,0!==s&&(u+="_"+s)):u=""+s,!this.existingKeys[u])return this.existingKeys[u]=!0,u;s++}},d}();function qe(){for(var d=[],o=0;o<arguments.length;o++)d[o]=arguments[o];for(var r=0;r<d.length;r++){var s=d[r];if(Q(s))return s}return null}function ke(d){if(d&&d.length)return d[d.length-1]}function pt(d,o,r){return null==d&&null==o||null!=d&&null!=o&&d.length===o.length&&Ss(d,function(s,u){return r?r(s,o[u]):o[u]===s})}function Hn(d){return d.sort(function(o,r){return o-r})}function Wt(d,o){var r=d.indexOf(o);r>=0&&d.splice(r,1)}function Oi(d,o){$t(o,function(r){return Wt(d,r)})}function gn(d,o,r){d.splice(r,0,o)}function In(d,o,r){Oi(d,o),$t(o.slice().reverse(),function(s){return gn(d,s,r)})}function Ft(d,o){return d.indexOf(o)>-1}function Lt(d,o){null==o||null==d||$t(o,function(r){return d.push(r)})}function bs(d,o){for(var r=0;r<d.length;r++)if(o(d[r],r,d))return r;return-1}function Ss(d,o){if(null==d)return!0;for(var r=0;r<d.length;r++)if(!o(d[r],r))return!1;return!0}function Un(d,o){if(null==d)return!1;for(var r=0;r<d.length;r++)if(o(d[r],r))return!0;return!1}function $t(d,o){if(null!=d)for(var r=0;r<d.length;r++)o(d[r],r)}function Zs(d,o){if(null==d)return null;for(var r=[],s=0;s<d.length;s++)r.push(o(d[s],s));return r}function Po(d,o){if(null==d)return null;for(var r=[],s=0;s<d.length;s++)o(d[s],s)&&r.push(d[s]);return r}var Li=Object.freeze({__proto__:null,firstExistingValue:qe,anyExists:function(d){return d&&null!=qe(d)},existsAndNotEmpty:function(d){return null!=d&&d.length>0},last:ke,areEqual:pt,compareArrays:function(d,o){return pt(d,o)},shallowCompare:function(d,o){return pt(d,o)},sortNumerically:Hn,removeRepeatsFromArray:function(d,o){if(d)for(var r=d.length-2;r>=0;r--)d[r]===o&&d[r+1]===o&&d.splice(r+1,1)},removeFromArray:Wt,removeAllFromArray:Oi,insertIntoArray:gn,insertArrayIntoArray:function(d,o,r){if(null!=d&&null!=o)for(var s=o.length-1;s>=0;s--)gn(d,o[s],r)},moveInArray:In,includes:Ft,flatten:function(d){return[].concat.apply([],d)},pushAll:Lt,toStrings:function(d){return Zs(d,Ae)},findIndex:bs,fill:function(d,o,r,s){void 0===o&&(o=null),void 0===r&&(r=0),void 0===s&&(s=d.length);for(var u=r;u<s;u++)d[u]=o;return d},every:Ss,some:Un,forEach:$t,forEachReverse:function(d,o){if(null!=d)for(var r=d.length-1;r>=0;r--)o(d[r],r)},map:Zs,filter:Po,reduce:function(d,o,r){if(null==d||null==r)return null;for(var s=r,u=0;u<d.length;u++)s=o(s,d[u],u);return s},forEachSnapshotFirst:function(d,o){d&&d.slice(0).forEach(o)}});function rn(d,o){null!=d&&(Array.isArray(d)?$t(d,function(r,s){return o(""+s,r)}):$t(Object.keys(d),function(r){return o(r,d[r])}))}function ii(d){for(var o={},r=Object.keys(d),s=0;s<r.length;s++){var u=r[s];o[u]=d[u]}return o}function Ks(d,o){if(d){var r=d,s={};return Object.keys(r).forEach(function(u){if(!(o&&o.indexOf(u)>=0)){var c=r[u],_=Gn(c)&&c.constructor===Object;s[u]=_?Ks(c):c}}),s}}function yo(d,o){return d[o]}function vo(d,o,r){d[o]=r}function hr(d,o,r,s){var u=yo(d,r);void 0!==u&&vo(o,r,s?s(u):u)}function pr(d){var o={};return d.filter(function(r){return null!=r}).forEach(function(r){$t(Object.keys(r),function(s){return o[s]=null})}),Object.keys(o)}function Rt(d){if(!d)return[];var o=Object;if("function"==typeof o.values)return o.values(d);var r=[];for(var s in d)d.hasOwnProperty(s)&&d.propertyIsEnumerable(s)&&r.push(d[s]);return r}function en(d,o,r,s){void 0===r&&(r=!0),void 0===s&&(s=!1),Q(o)&&rn(o,function(u,c){var _=d[u];_!==c&&(s&&null==_&&null!=c&&"object"==typeof c&&c.constructor===Object&&(d[u]=_={}),Gn(c)&&Gn(_)&&!Array.isArray(_)?en(_,c,r,s):(r||void 0!==c)&&(d[u]=c))})}function Ai(d){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return $t(o,function(s){return rn(s,function(u,c){return d[u]=c})}),d}function En(d,o,r){if(o&&d){if(!r)return d[o];for(var s=o.split("."),u=d,c=0;c<s.length;c++){if(null==u)return;u=u[s[c]]}return u}}function Lr(d,o){Object.keys(d).forEach(function(u){"object"==typeof d[u]&&(d[u]=void 0)});var r=Object.getPrototypeOf(d),s={};Object.keys(r).forEach(function(u){"function"==typeof r[u]&&(s[u]={value:function(){console.warn("AG Grid: "+o+" function "+u+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(d,s)}function Gn(d){return"object"==typeof d&&null!==d}var yt=Object.freeze({__proto__:null,iterateObject:rn,cloneObject:ii,deepCloneObject:function(d){return JSON.parse(JSON.stringify(d))},deepCloneDefinition:Ks,getProperty:yo,setProperty:vo,copyPropertiesIfPresent:function(d,o){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];$t(r,function(u){return hr(d,o,u)})},copyPropertyIfPresent:hr,getAllKeysInObjects:pr,getAllValuesInObject:Rt,mergeDeep:en,assign:Ai,missingOrEmptyObject:function(d){return Z(d)||0===Object.keys(d).length},get:function(d,o,r){if(null==d)return r;for(var s=o.split("."),u=d;s.length>1;)if(null==(u=u[s.shift()]))return r;var c=u[s[0]];return null!=c?c:r},set:function(d,o,r){if(null!=d){for(var s=o.split("."),u=d;s.length>1;)if(null==(u=u[s.shift()]))return;u[s[0]]=r}},deepFreeze:function bn(d){return Object.freeze(d),$t(Ne(d),function(o){(Gn(o)||"function"==typeof o)&&bn(o)}),d},getValueUsingField:En,removeAllReferences:Lr,isNonNullObject:Gn}),jt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ac=/([^\s,]+)/g,Qs={};function Jt(d,o){Qs[o]||(d(),Qs[o]=!0)}function an(d){if(d.name)return d.name;var o=/function\s+([^\(]+)/.exec(d.toString());return o&&2===o.length?o[1].trim():null}function ll(d){return!!(d&&d.constructor&&d.call&&d.apply)}function _e(d){Fe(d,400)}var pe=[],ve=!1;function Ze(d){pe.push(d),!ve&&(ve=!0,window.setTimeout(function(){var o=pe.slice();pe.length=0,ve=!1,o.forEach(function(r){return r()})},0))}function Fe(d,o){void 0===o&&(o=0),d.length>0&&window.setTimeout(function(){return d.forEach(function(r){return r()})},o)}function St(d,o,r){var s;return void 0===r&&(r=!1),function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var _=this,C=r&&!s;window.clearTimeout(s),s=window.setTimeout(function(){s=null,r||d.apply(_,u)},o),C&&d.apply(_,u)}}function dn(d,o,r,s){void 0===r&&(r=100);var u=(new Date).getTime(),c=null,_=!1,C=function(){var A=(new Date).getTime()-u>r;(d()||A)&&(o(),_=!0,null!=c&&(window.clearInterval(c),c=null),A&&s&&console.warn(s))};C(),_||(c=window.setInterval(C,10))}function qi(d){d&&d()}var nr=Object.freeze({__proto__:null,doOnce:Jt,getFunctionName:an,getFunctionParameters:function(d){var o=d.toString().replace(jt,"");return o.slice(o.indexOf("(")+1,o.indexOf(")")).match(ac)||[]},isFunction:ll,executeInAWhile:_e,executeNextVMTurn:Ze,executeAfter:Fe,debounce:St,waitUntil:dn,compose:function(){for(var d=[],o=0;o<arguments.length;o++)d[o]=arguments[o];return function(r){return d.reduce(function(s,u){return u(s)},r)}},callIfPresent:qi}),Gr=function(){function d(o,r){if(this.beanWrappers={},this.destroyed=!1,o&&o.beanClasses){this.contextParams=o,this.logger=r,this.logger.log(">> creating ag-Application Context"),this.createBeans();var s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}}return d.prototype.getBeanInstances=function(){return Ne(this.beanWrappers).map(function(o){return o.beanInstance})},d.prototype.createBean=function(o,r){if(!o)throw Error("Can't wire to bean since it is null");return this.wireBeans([o],r),o},d.prototype.wireBeans=function(o,r){this.autoWireBeans(o),this.methodWireBeans(o),this.callLifeCycleMethods(o,"preConstructMethods"),Q(r)&&o.forEach(r),this.callLifeCycleMethods(o,"postConstructMethods")},d.prototype.createBeans=function(){var o=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),rn(this.beanWrappers,function(s,u){var c;u.bean.__agBeanMetaData&&u.bean.__agBeanMetaData.autowireMethods&&u.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=u.bean.__agBeanMetaData.autowireMethods.agConstructor);var _=o.getBeansForParameters(c,u.bean.name),C=function(d,o){var r=[null].concat(o);return new(d.bind.apply(d,r))}(u.bean,_);u.beanInstance=C});var r=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+r)},d.prototype.createBeanWrapper=function(o){var r=o.__agBeanMetaData;if(!r){var s;return s=o.prototype.constructor?an(o.prototype.constructor):""+o,void console.error("Context item "+s+" is not a bean")}this.beanWrappers[r.beanName]={bean:o,beanInstance:null,beanName:r.beanName}},d.prototype.autoWireBeans=function(o){var r=this;o.forEach(function(s){r.forEachMetaDataInHierarchy(s,function(u,c){var _=u.agClassAttributes;!_||_.forEach(function(C){var A=r.lookupBeanInstance(c,C.beanName,C.optional);s[C.attributeName]=A})})})},d.prototype.methodWireBeans=function(o){var r=this;o.forEach(function(s){r.forEachMetaDataInHierarchy(s,function(u,c){rn(u.autowireMethods,function(_,C){if("agConstructor"!==_){var A=r.getBeansForParameters(C,c);s[_].apply(s,A)}})})})},d.prototype.forEachMetaDataInHierarchy=function(o,r){for(var s=Object.getPrototypeOf(o);null!=s;){var u=s.constructor;u.hasOwnProperty("__agBeanMetaData")&&r(u.__agBeanMetaData,this.getBeanName(u)),s=Object.getPrototypeOf(s)}},d.prototype.getBeanName=function(o){if(o.__agBeanMetaData&&o.__agBeanMetaData.beanName)return o.__agBeanMetaData.beanName;var r=o.toString();return r.substring(9,r.indexOf("("))},d.prototype.getBeansForParameters=function(o,r){var s=this,u=[];return o&&rn(o,function(c,_){var C=s.lookupBeanInstance(r,_);u[Number(c)]=C}),u},d.prototype.lookupBeanInstance=function(o,r,s){if(void 0===s&&(s=!1),"context"===r)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(r))return this.contextParams.providedBeanInstances[r];var u=this.beanWrappers[r];return u?u.beanInstance:(s||console.error("AG Grid: unable to find bean reference "+r+" while initialising "+o),null)},d.prototype.callLifeCycleMethods=function(o,r){var s=this;o.forEach(function(u){return s.callLifeCycleMethodsOnBean(u,r)})},d.prototype.callLifeCycleMethodsOnBean=function(o,r,s){var u={};this.forEachMetaDataInHierarchy(o,function(_){var C=_[r];C&&C.forEach(function(A){A!=s&&(u[A]=!0)})}),Object.keys(u).forEach(function(_){return o[_]()})},d.prototype.getBean=function(o){return this.lookupBeanInstance("getBean",o,!0)},d.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var o=this.getBeanInstances();this.destroyBeans(o),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},d.prototype.destroyBean=function(o){!o||this.destroyBeans([o])},d.prototype.destroyBeans=function(o){var r=this;return o?(o.forEach(function(s){r.callLifeCycleMethodsOnBean(s,"preDestroyMethods","destroy"),"function"==typeof s.destroy&&s.destroy()}),[]):[]},d}();function Ce(d,o,r){var s=qn(d.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(o)}function se(d,o,r){var s=qn(d.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(o)}function $e(d,o,r){var s=qn(d.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(o)}function Le(d){return function(o){qn(o).beanName=d}}function Y(d){return function(o,r,s){ri(o,d,!1,0,r,null)}}function Tt(d){return function(o,r,s){ri(o,d,!0,0,r,null)}}function ri(d,o,r,s,u,c){if(null!==o)if("number"!=typeof c){var _=qn(d.constructor);_.agClassAttributes||(_.agClassAttributes=[]),_.agClassAttributes.push({attributeName:u,beanName:o,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function vn(d){return function(o,r,s){var c,u="function"==typeof o?o:o.constructor;if("number"==typeof s){var _=void 0;r?(c=qn(u),_=r):(c=qn(u),_="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[_]||(c.autowireMethods[_]={}),c.autowireMethods[_][s]=d}}}function qn(d){return d.hasOwnProperty("__agBeanMetaData")||(d.__agBeanMetaData={}),d.__agBeanMetaData}var d,Gi=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},mn=function(d,o){return function(r,s){o(r,s,d)}},Ei=function(){function d(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return d.prototype.setBeans=function(o,r,s,u){if(void 0===u&&(u=null),this.frameworkOverrides=s,u){var c=r.useAsyncEvents();this.addGlobalListener(u,c)}},d.prototype.getListeners=function(o,r,s){var u=r?this.allAsyncListeners:this.allSyncListeners,c=u.get(o);return!c&&s&&(c=new Set,u.set(o,c)),c},d.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},d.prototype.addEventListener=function(o,r,s){void 0===s&&(s=!1),this.getListeners(o,s,!0).add(r)},d.prototype.removeEventListener=function(o,r,s){void 0===s&&(s=!1);var u=this.getListeners(o,s,!1);u&&(u.delete(r),0===u.size)&&(s?this.allAsyncListeners:this.allSyncListeners).delete(o)},d.prototype.addGlobalListener=function(o,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).add(o)},d.prototype.removeGlobalListener=function(o,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).delete(o)},d.prototype.dispatchEvent=function(o){this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0},d.prototype.dispatchEventOnce=function(o){this.firedEvents[o.type]||this.dispatchEvent(o)},d.prototype.dispatchToListeners=function(o,r){var s=this,u=o.type,_=this.getListeners(u,r,!1);_&&_.forEach(function(x){r?s.dispatchAsync(function(){return x(o)}):x(o)}),(r?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(A){r?s.dispatchAsync(function(){return s.frameworkOverrides.dispatchEvent(u,function(){return A(u,o)},!0)}):s.frameworkOverrides.dispatchEvent(u,function(){return A(u,o)},!0)})},d.prototype.dispatchAsync=function(o){this.asyncFunctionsQueue.push(o),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},d.prototype.flushAsyncQueue=function(){this.scheduled=!1;var o=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],o.forEach(function(r){return r()})},Gi([mn(0,vn("loggerFactory")),mn(1,vn("gridOptionsWrapper")),mn(2,vn("frameworkOverrides")),mn(3,vn("globalEventListener"))],d.prototype,"setBeans",null),Gi([Le("eventService")],d)}(),Ee=function(){function d(){}return d.ROW_BUFFER_SIZE=10,d.LAYOUT_INTERVAL=500,d.BATCH_WAIT_MILLIS=50,d.EXPORT_TYPE_DRAG_COPY="dragCopy",d.EXPORT_TYPE_CLIPBOARD="clipboard",d.EXPORT_TYPE_EXCEL="excel",d.EXPORT_TYPE_CSV="csv",d.ROW_MODEL_TYPE_INFINITE="infinite",d.ROW_MODEL_TYPE_VIEWPORT="viewport",d.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",d.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",d.ALWAYS="always",d.ONLY_WHEN_GROUPING="onlyWhenGrouping",d.PINNED_TOP="top",d.PINNED_BOTTOM="bottom",d.DOM_LAYOUT_NORMAL="normal",d.DOM_LAYOUT_PRINT="print",d.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",d.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",d.SOURCE_PASTE="paste",d.PINNED_RIGHT="right",d.PINNED_LEFT="left",d.SORT_ASC="asc",d.SORT_DESC="desc",d.INPUT_SELECTOR="input, select, button, textarea",d.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",d.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",d}();(d=q.GXE||(q.GXE={})).CommunityCoreModule="@ag-grid-community/core",d.CommunityAllModules="@ag-grid-community/all",d.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",d.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",d.CsvExportModule="@ag-grid-community/csv-export",d.EnterpriseCoreModule="@ag-grid-enterprise/core",d.EnterpriseAllModules="@ag-grid-enterprise/all",d.RowGroupingModule="@ag-grid-enterprise/row-grouping",d.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",d.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",d.MenuModule="@ag-grid-enterprise/menu",d.SetFilterModule="@ag-grid-enterprise/set-filter",d.MultiFilterModule="@ag-grid-enterprise/multi-filter",d.StatusBarModule="@ag-grid-enterprise/status-bar",d.SideBarModule="@ag-grid-enterprise/side-bar",d.RangeSelectionModule="@ag-grid-enterprise/range-selection",d.MasterDetailModule="@ag-grid-enterprise/master-detail",d.RichSelectModule="@ag-grid-enterprise/rich-select",d.GridChartsModule="@ag-grid-enterprise/charts",d.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",d.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",d.ExcelExportModule="@ag-grid-enterprise/excel-export",d.ClipboardModule="@ag-grid-enterprise/clipboard",d.SparklinesModule="@ag-grid-enterprise/sparklines",d.AngularModule="@ag-grid-community/angular",d.ReactModule="@ag-grid-community/react",d.VueModule="@ag-grid-community/vue",d.PolymerModule="@ag-grid-community/polymer";var Gt=function(){function d(){}return d.register=function(o,r){void 0===r&&(r=!0),d.modulesMap[o.moduleName]=o,void 0===d.moduleBased?d.moduleBased=r:d.moduleBased!==r&&Jt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},d.registerModules=function(o,r){void 0===r&&(r=!0),o&&o.forEach(function(s){return d.register(s,r)})},d.assertRegistered=function(o,r){if(this.isRegistered(o))return!0;var u="AG Grid: unable to use "+r+" as module "+o+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/";return Jt(function(){console.warn(u)},r+o),!1},d.isRegistered=function(o){return!!d.modulesMap[o]},d.getRegisteredModules=function(){return Ne(d.modulesMap)},d.isPackageBased=function(){return!d.moduleBased},d.modulesMap={},d}(),wt=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},xn=0,Bt=function(){function d(o,r,s,u){this.instanceId=xn++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Ei,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=r,this.colId=s,this.primary=u,this.setState(o)}return d.prototype.getInstanceId=function(){return this.instanceId},d.prototype.setState=function(o){void 0!==o.sort?(o.sort===Ee.SORT_ASC||o.sort===Ee.SORT_DESC)&&(this.sort=o.sort):(o.initialSort===Ee.SORT_ASC||o.initialSort===Ee.SORT_DESC)&&(this.sort=o.initialSort);var r=be(o.sortIndex),s=be(o.initialSortIndex);void 0!==r?null!==r&&(this.sortIndex=r):null!==s&&(this.sortIndex=s);var u=fe(o.hide),c=fe(o.initialHide);this.visible=void 0!==u?!u:!c,this.setPinned(void 0!==o.pinned?o.pinned:o.initialPinned);var _=be(o.flex),C=be(o.initialFlex);void 0!==_?this.flex=_:void 0!==C&&(this.flex=C)},d.prototype.setColDef=function(o,r){this.colDef=o,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation()},d.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},d.prototype.setParent=function(o){this.parent=o},d.prototype.getParent=function(){return this.parent},d.prototype.setOriginalParent=function(o){this.originalParent=o},d.prototype.getOriginalParent=function(){return this.originalParent},d.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},d.prototype.initDotNotation=function(){var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=Q(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=Q(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o},d.prototype.initMinAndMaxWidths=function(){var o=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(o),this.maxWidth=this.columnUtils.calculateColMaxWidth(o)},d.prototype.resetActualWidth=function(o){void 0===o&&(o="api");var r=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(r,o,!0)},d.prototype.isEmptyGroup=function(){return!1},d.prototype.isRowGroupDisplayed=function(o){return!(Z(this.colDef)||Z(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==o)},d.prototype.isPrimary=function(){return this.primary},d.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},d.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},d.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},d.prototype.validate=function(){var o=this.colDef;function r(_,C,A){Jt(function(){A?console.warn(_,A):Jt(function(){return console.warn(_)},C)},C)}this.gridOptionsWrapper.isRowModelDefault()&&!Gt.isRegistered(q.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(_){Q(o[_])&&(Gt.isPackageBased()?r("AG Grid: "+_+" is only valid in ag-grid-enterprise, your column definition should not have "+_,"ColumnRowGroupingMissing"+_):r("AG Grid: "+_+" is only valid with AG Grid Enterprise Module "+q.GXE.RowGroupingModule+" - your column definition should not have "+_,"ColumnRowGroupingMissing"+_))}),Gt.isRegistered(q.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(Gt.isPackageBased()?r("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):r("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+q.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(_){Q(o[_])&&r("AG Grid: "+_+" is not possible when doing tree data, your column definition should not have "+_,"TreeDataCannotRowGroup")}),Q(this.colDef.width)&&"number"!=typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),o.pinnedRowCellRenderer&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererParams&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererFramework&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowValueGetter&&r("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},d.prototype.addEventListener=function(o,r){this.eventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.eventService.removeEventListener(o,r)},d.prototype.createColumnFunctionCallbackParams=function(o){return{node:o,data:o.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},d.prototype.isSuppressNavigable=function(o){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var r=this.createColumnFunctionCallbackParams(o);return(0,this.colDef.suppressNavigable)(r)}return!1},d.prototype.isCellEditable=function(o){return!(o.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(o,this.colDef.editable)},d.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},d.prototype.isRowDrag=function(o){return this.isColumnFunc(o,this.colDef.rowDrag)},d.prototype.isDndSource=function(o){return this.isColumnFunc(o,this.colDef.dndSource)},d.prototype.isCellCheckboxSelection=function(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)},d.prototype.isSuppressPaste=function(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)},d.prototype.isResizable=function(){return!0===this.colDef.resizable},d.prototype.isColumnFunc=function(o,r){return"boolean"==typeof r?r:"function"==typeof r&&r(this.createColumnFunctionCallbackParams(o))},d.prototype.setMoving=function(o,r){void 0===r&&(r="api"),this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_MOVING_CHANGED,r))},d.prototype.createColumnEvent=function(o,r){return{api:this.gridApi,columnApi:this.columnApi,type:o,column:this,columns:[this],source:r}},d.prototype.isMoving=function(){return this.moving},d.prototype.getSort=function(){return this.sort},d.prototype.setSort=function(o,r){void 0===r&&(r="api"),this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_SORT_CHANGED,r)))},d.prototype.setMenuVisible=function(o,r){void 0===r&&(r="api"),this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_MENU_VISIBLE_CHANGED,r)))},d.prototype.isMenuVisible=function(){return this.menuVisible},d.prototype.isSortAscending=function(){return this.sort===Ee.SORT_ASC},d.prototype.isSortDescending=function(){return this.sort===Ee.SORT_DESC},d.prototype.isSortNone=function(){return Z(this.sort)},d.prototype.isSorting=function(){return Q(this.sort)},d.prototype.getSortIndex=function(){return this.sortIndex},d.prototype.setSortIndex=function(o){this.sortIndex=o},d.prototype.setAggFunc=function(o){this.aggFunc=o},d.prototype.getAggFunc=function(){return this.aggFunc},d.prototype.getLeft=function(){return this.left},d.prototype.getOldLeft=function(){return this.oldLeft},d.prototype.getRight=function(){return this.left+this.actualWidth},d.prototype.setLeft=function(o,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_LEFT_CHANGED,r)))},d.prototype.isFilterActive=function(){return this.filterActive},d.prototype.setFilterActive=function(o,r,s){void 0===r&&(r="api"),this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_FILTER_ACTIVE_CHANGED,r)));var u=this.createColumnEvent(d.EVENT_FILTER_CHANGED,r);s&&en(u,s),this.eventService.dispatchEvent(u)},d.prototype.setPinned=function(o){this.pinned=!0===o||o===Ee.PINNED_LEFT?Ee.PINNED_LEFT:o===Ee.PINNED_RIGHT?Ee.PINNED_RIGHT:null},d.prototype.setFirstRightPinned=function(o,r){void 0===r&&(r="api"),this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_FIRST_RIGHT_PINNED_CHANGED,r)))},d.prototype.setLastLeftPinned=function(o,r){void 0===r&&(r="api"),this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_LAST_LEFT_PINNED_CHANGED,r)))},d.prototype.isFirstRightPinned=function(){return this.firstRightPinned},d.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},d.prototype.isPinned=function(){return this.pinned===Ee.PINNED_LEFT||this.pinned===Ee.PINNED_RIGHT},d.prototype.isPinnedLeft=function(){return this.pinned===Ee.PINNED_LEFT},d.prototype.isPinnedRight=function(){return this.pinned===Ee.PINNED_RIGHT},d.prototype.getPinned=function(){return this.pinned},d.prototype.setVisible=function(o,r){void 0===r&&(r="api");var s=!0===o;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_VISIBLE_CHANGED,r)))},d.prototype.isVisible=function(){return this.visible},d.prototype.getColDef=function(){return this.colDef},d.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},d.prototype.getColId=function(){return this.colId},d.prototype.getId=function(){return this.getColId()},d.prototype.getUniqueId=function(){return this.getId()},d.prototype.getDefinition=function(){return this.colDef},d.prototype.getActualWidth=function(){return this.actualWidth},d.prototype.createBaseColDefParams=function(o){return{node:o,data:o.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},d.prototype.getColSpan=function(o){if(Z(this.colDef.colSpan))return 1;var r=this.createBaseColDefParams(o),s=this.colDef.colSpan(r);return Math.max(s,1)},d.prototype.getRowSpan=function(o){if(Z(this.colDef.rowSpan))return 1;var r=this.createBaseColDefParams(o),s=this.colDef.rowSpan(r);return Math.max(s,1)},d.prototype.setActualWidth=function(o,r,s){void 0===r&&(r="api"),void 0===s&&(s=!1),null!=this.minWidth&&(o=Math.max(o,this.minWidth)),null!=this.maxWidth&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&"flex"!==r&&"gridInitializing"!==r&&(this.flex=null),s||this.fireColumnWidthChangedEvent(r))},d.prototype.fireColumnWidthChangedEvent=function(o){this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_WIDTH_CHANGED,o))},d.prototype.isGreaterThanMax=function(o){return null!=this.maxWidth&&o>this.maxWidth},d.prototype.getMinWidth=function(){return this.minWidth},d.prototype.getMaxWidth=function(){return this.maxWidth},d.prototype.getFlex=function(){return this.flex||0},d.prototype.setFlex=function(o){this.flex!==o&&(this.flex=o)},d.prototype.setMinimum=function(o){void 0===o&&(o="api"),Q(this.minWidth)&&this.setActualWidth(this.minWidth,o)},d.prototype.setRowGroupActive=function(o,r){void 0===r&&(r="api"),this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_ROW_GROUP_CHANGED,r)))},d.prototype.isRowGroupActive=function(){return this.rowGroupActive},d.prototype.setPivotActive=function(o,r){void 0===r&&(r="api"),this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_PIVOT_CHANGED,r)))},d.prototype.isPivotActive=function(){return this.pivotActive},d.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},d.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},d.prototype.setValueActive=function(o,r){void 0===r&&(r="api"),this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_VALUE_CHANGED,r)))},d.prototype.isValueActive=function(){return this.aggregationActive},d.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},d.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},d.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},d.prototype.getMenuTabs=function(o){var r=this.getColDef().menuTabs;return null==r&&(r=o),r},d.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},d.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},d.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},d.EVENT_MOVING_CHANGED="movingChanged",d.EVENT_LEFT_CHANGED="leftChanged",d.EVENT_WIDTH_CHANGED="widthChanged",d.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",d.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",d.EVENT_VISIBLE_CHANGED="visibleChanged",d.EVENT_FILTER_CHANGED="filterChanged",d.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",d.EVENT_SORT_CHANGED="sortChanged",d.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",d.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",d.EVENT_PIVOT_CHANGED="columnPivotChanged",d.EVENT_VALUE_CHANGED="columnValueChanged",wt([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),wt([Y("columnUtils")],d.prototype,"columnUtils",void 0),wt([Y("columnApi")],d.prototype,"columnApi",void 0),wt([Y("gridApi")],d.prototype,"gridApi",void 0),wt([Y("context")],d.prototype,"context",void 0),wt([se],d.prototype,"initialise",null),d}(),Zi=function(){function d(o,r,s,u){this.displayedChildren=[],this.localEventService=new Ei,this.groupId=r,this.instanceId=s,this.originalColumnGroup=o,this.pinned=u}return d.createUniqueId=function(o,r){return o+"_"+r},d.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},d.prototype.getParent=function(){return this.parent},d.prototype.setParent=function(o){this.parent=o},d.prototype.getUniqueId=function(){return d.createUniqueId(this.groupId,this.instanceId)},d.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},d.prototype.isMoving=function(){var o=this.getOriginalColumnGroup().getLeafColumns();return!(!o||0===o.length)&&o.every(function(r){return r.isMoving()})},d.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(u){u instanceof d&&u.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var r=ke(this.displayedChildren).getLeft();this.setLeft(r)}else{var s=this.displayedChildren[0].getLeft();this.setLeft(s)}else this.setLeft(null)},d.prototype.getLeft=function(){return this.left},d.prototype.getOldLeft=function(){return this.oldLeft},d.prototype.setLeft=function(o){this.oldLeft=o,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(d.EVENT_LEFT_CHANGED)))},d.prototype.getPinned=function(){return this.pinned},d.prototype.createAgEvent=function(o){return{type:o}},d.prototype.addEventListener=function(o,r){this.localEventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.localEventService.removeEventListener(o,r)},d.prototype.getGroupId=function(){return this.groupId},d.prototype.getInstanceId=function(){return this.instanceId},d.prototype.isChildInThisGroupDeepSearch=function(o){var r=!1;return this.children.forEach(function(s){o===s&&(r=!0),s instanceof d&&s.isChildInThisGroupDeepSearch(o)&&(r=!0)}),r},d.prototype.getActualWidth=function(){var o=0;return this.displayedChildren&&this.displayedChildren.forEach(function(r){o+=r.getActualWidth()}),o},d.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var o=!1;return this.displayedChildren.forEach(function(r){r.isResizable()&&(o=!0)}),o},d.prototype.getMinWidth=function(){var o=0;return this.displayedChildren.forEach(function(r){o+=r.getMinWidth()||0}),o},d.prototype.addChild=function(o){this.children||(this.children=[]),this.children.push(o)},d.prototype.getDisplayedChildren=function(){return this.displayedChildren},d.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},d.prototype.getDisplayedLeafColumns=function(){var o=[];return this.addDisplayedLeafColumns(o),o},d.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},d.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},d.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},d.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},d.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},d.prototype.setExpanded=function(o){this.originalColumnGroup.setExpanded(o)},d.prototype.addDisplayedLeafColumns=function(o){this.displayedChildren.forEach(function(r){r instanceof Bt?o.push(r):r instanceof d&&r.addDisplayedLeafColumns(o)})},d.prototype.addLeafColumns=function(o){this.children.forEach(function(r){r instanceof Bt?o.push(r):r instanceof d&&r.addLeafColumns(o)})},d.prototype.getChildren=function(){return this.children},d.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},d.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},d.prototype.getPaddingLevel=function(){var o=this.getParent();return this.isPadding()&&o&&o.isPadding()?1+o.getPaddingLevel():0},d.prototype.calculateDisplayedColumns=function(){var o=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!r||!r.originalColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(d.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(u){if(!(u instanceof d)||u.displayedChildren&&u.displayedChildren.length)switch(u.getColumnGroupShow()){case d.HEADER_GROUP_SHOW_OPEN:r.originalColumnGroup.isExpanded()&&o.displayedChildren.push(u);break;case d.HEADER_GROUP_SHOW_CLOSED:r.originalColumnGroup.isExpanded()||o.displayedChildren.push(u);break;default:o.displayedChildren.push(u)}}),this.localEventService.dispatchEvent(this.createAgEvent(d.EVENT_DISPLAYED_CHILDREN_CHANGED))},d.HEADER_GROUP_SHOW_OPEN="open",d.HEADER_GROUP_SHOW_CLOSED="closed",d.EVENT_LEFT_CHANGED="leftChanged",d.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),d}(),Cn=function(){function d(o,r,s,u){this.localEventService=new Ei,this.expandable=!1,this.colGroupDef=o,this.groupId=r,this.expanded=!!o&&!!o.openByDefault,this.padding=s,this.level=u}return d.prototype.setOriginalParent=function(o){this.originalParent=o},d.prototype.getOriginalParent=function(){return this.originalParent},d.prototype.getLevel=function(){return this.level},d.prototype.isVisible=function(){return!!this.children&&this.children.some(function(o){return o.isVisible()})},d.prototype.isPadding=function(){return this.padding},d.prototype.setExpanded=function(o){this.expanded=void 0!==o&&o,this.localEventService.dispatchEvent({type:d.EVENT_EXPANDED_CHANGED})},d.prototype.isExpandable=function(){return this.expandable},d.prototype.isExpanded=function(){return this.expanded},d.prototype.getGroupId=function(){return this.groupId},d.prototype.getId=function(){return this.getGroupId()},d.prototype.setChildren=function(o){this.children=o},d.prototype.getChildren=function(){return this.children},d.prototype.getColGroupDef=function(){return this.colGroupDef},d.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},d.prototype.addLeafColumns=function(o){!this.children||this.children.forEach(function(r){r instanceof Bt?o.push(r):r instanceof d&&r.addLeafColumns(o)})},d.prototype.getColumnGroupShow=function(){var o=this.colGroupDef;if(o)return o.columnGroupShow},d.prototype.setupExpandable=function(){var o=this;this.setExpandable(),this.getLeafColumns().forEach(function(r){return r.addEventListener(Bt.EVENT_VISIBLE_CHANGED,o.onColumnVisibilityChanged.bind(o))})},d.prototype.setExpandable=function(){if(!this.isPadding()){for(var o=!1,r=!1,s=!1,u=this.findChildrenRemovingPadding(),c=0,_=u.length;c<_;c++){var C=u[c];if(C.isVisible()){var A=C.getColumnGroupShow();A===Zi.HEADER_GROUP_SHOW_OPEN?(o=!0,s=!0):A===Zi.HEADER_GROUP_SHOW_CLOSED?(r=!0,s=!0):(o=!0,r=!0)}}var x=o&&r&&s;this.expandable!==x&&(this.expandable=x,this.localEventService.dispatchEvent({type:d.EVENT_EXPANDABLE_CHANGED}))}},d.prototype.findChildrenRemovingPadding=function(){var o=[],r=function(s){s.forEach(function(u){u instanceof d&&u.isPadding()?r(u.children):o.push(u)})};return r(this.children),o},d.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},d.prototype.addEventListener=function(o,r){this.localEventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.localEventService.removeEventListener(o,r)},d.EVENT_EXPANDED_CHANGED="expandedChanged",d.EVENT_EXPANDABLE_CHANGED="expandableChanged",d}(),is={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Si="__ag_Grid_Stop_Propagation",rs=["touchstart","touchend","touchmove","touchcancel"],kl={};function ln(d){d[Si]=!0}function fr(d){return!0===d[Si]}var Fo=function(){var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r){if("boolean"==typeof kl[r])return kl[r];var s=document.createElement(d[r]||"div"),u=(r="on"+r)in s;return u||(s.setAttribute(r,"return;"),u="function"==typeof s[r]),kl[r]=u}}();function vr(d,o,r){for(var s=ir(o);s;){var u=d.getDomData(s,r);if(u)return u;s=s.parentElement}return null}function ir(d){return d.target||d.srcElement}function Co(d,o){return!(!o||!d)&&on(o).indexOf(d)>=0}function ul(d){for(var o=[],r=ir(d);r;)o.push(r),r=r.parentElement;return o}function on(d){var o=d;return o.deepPath?o.deepPath():o.path?o.path:o.composedPath?o.composedPath():o.__agGridEventPath?o.__agGridEventPath:ul(d)}function tp(d,o,r,s){var u=Ft(rs,r);d&&d.addEventListener&&d.addEventListener(o,r,s,u?{passive:!0}:void 0)}var nd=Object.freeze({__proto__:null,stopPropagationForAgGrid:ln,isStopPropagationForAgGrid:fr,isEventSupported:Fo,getCtrlForEvent:vr,addChangeListener:function(d,o){d.addEventListener("changed",o),d.addEventListener("paste",o),d.addEventListener("input",o),d.addEventListener("keydown",o),d.addEventListener("keyup",o)},getTarget:ir,isElementInEventPath:Co,createEventPath:ul,addAgGridEventPath:function(d){d.__agGridEventPath=on(d)},getEventPath:on,addSafePassiveEventListener:tp}),Pn=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ot=function(){function d(){var o=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!o.destroyed}}return d.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},d.prototype.getContext=function(){return this.context},d.prototype.destroy=function(){this.destroyFunctions.forEach(function(o){return o()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:d.EVENT_DESTROYED})},d.prototype.addEventListener=function(o,r){this.localEventService||(this.localEventService=new Ei),this.localEventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.localEventService&&this.localEventService.removeEventListener(o,r)},d.prototype.dispatchEventAsync=function(o){var r=this;window.setTimeout(function(){return r.dispatchEvent(o)},0)},d.prototype.dispatchEvent=function(o){this.localEventService&&this.localEventService.dispatchEvent(o)},d.prototype.addManagedListener=function(o,r,s){var u=this;if(!this.destroyed){o instanceof HTMLElement?tp(this.getFrameworkOverrides(),o,r,s):o.addEventListener(r,s);var c=function(){return o.removeEventListener(r,s),u.destroyFunctions=u.destroyFunctions.filter(function(_){return _!==c}),null};return this.destroyFunctions.push(c),c}},d.prototype.addDestroyFunc=function(o){this.isAlive()?this.destroyFunctions.push(o):o()},d.prototype.createManagedBean=function(o,r){var s=this.createBean(o,r);return this.addDestroyFunc(this.destroyBean.bind(this,o,r)),s},d.prototype.createBean=function(o,r,s){return(r||this.getContext()).createBean(o,s)},d.prototype.destroyBean=function(o,r){return(r||this.getContext()).destroyBean(o)},d.prototype.destroyBeans=function(o,r){var s=this;return o&&$t(o,function(u){return s.destroyBean(u,r)}),[]},d.EVENT_DESTROYED="destroyed",Pn([Y("frameworkOverrides")],d.prototype,"frameworkOverrides",void 0),Pn([Y("context")],d.prototype,"context",void 0),Pn([Y("eventService")],d.prototype,"eventService",void 0),Pn([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Pn([$e],d.prototype,"destroy",null),d}(),uc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Js=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ss=function(d,o){return function(r,s){o(r,s,d)}},rr=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return uc(o,d),o.prototype.setBeans=function(r){this.logger=r.create("ColumnFactory")},o.prototype.createColumnTree=function(r,s,u){var c=new rt,_=this.extractExistingTreeData(u),C=_.existingCols,A=_.existingGroups;c.addExistingKeys(_.existingColKeys);var k=this.recursivelyCreateColumns(r,0,s,C,c,A),W=this.findMaxDept(k,0);this.logger.log("Number of levels for grouped columns is "+W);var ee=this.balanceColumnTree(k,0,W,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,ee,function(ce,Me){ce instanceof Cn&&ce.setupExpandable(),ce.setOriginalParent(Me)}),{columnTree:ee,treeDept:W}},o.prototype.extractExistingTreeData=function(r){var s=[],u=[],c=[];return r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(_){if(_ instanceof Cn)u.push(_);else{var A=_;c.push(A.getId()),s.push(A)}}),{existingCols:s,existingGroups:u,existingColKeys:c}},o.prototype.createForAutoGroups=function(r,s){var u=this,c=[];return r.forEach(function(_){var C=u.createAutoGroupTreeItem(s,_);c.push(C)}),c},o.prototype.createAutoGroupTreeItem=function(r,s){for(var c=s,_=this.findDepth(r)-1;_>=0;_--){var C=new Cn(null,"FAKE_PATH_"+s.getId()+"}_"+_,!0,_);this.context.createBean(C),C.setChildren([c]),c.setOriginalParent(C),c=C}return c},o.prototype.findDepth=function(r){for(var s=0,u=r;u&&u[0]&&u[0]instanceof Cn;)s++,u=u[0].getChildren();return s},o.prototype.balanceColumnTree=function(r,s,u,c){for(var _=[],C=0;C<r.length;C++){var A=r[C];if(A instanceof Cn){var x=A,k=this.balanceColumnTree(x.getChildren(),s+1,u,c);x.setChildren(k),_.push(x)}else{for(var W=void 0,ee=void 0,le=u-1;le>=s;le--){var ce=c.getUniqueKey(null,null),Me=this.createMergedColGroupDef(null),He=new Cn(Me,ce,!0,s);this.context.createBean(He),ee&&ee.setChildren([He]),ee=He,W||(W=ee)}if(W&&ee){if(_.push(W),r.some(function(nt){return nt instanceof Cn})){ee.setChildren([A]);continue}ee.setChildren(r);break}_.push(A)}}return _},o.prototype.findMaxDept=function(r,s){for(var u=s,c=0;c<r.length;c++){var _=r[c];if(_ instanceof Cn){var A=this.findMaxDept(_.getChildren(),s+1);u<A&&(u=A)}}return u},o.prototype.recursivelyCreateColumns=function(r,s,u,c,_,C){var A=this,x=[];return r&&r.forEach(function(k){var W;W=A.isColumnGroup(k)?A.createColumnGroup(u,k,s,c,_,C):A.createColumn(u,k,c,_),x.push(W)}),x},o.prototype.createColumnGroup=function(r,s,u,c,_,C){var A=this.createMergedColGroupDef(s),x=_.getUniqueKey(A.groupId||null,null),k=new Cn(A,x,!1,u);this.context.createBean(k);var W=this.findExistingGroup(s,C);W&&W.isExpanded()&&k.setExpanded(!0);var ee=this.recursivelyCreateColumns(A.children,u+1,r,c,_,C);return k.setChildren(ee),k},o.prototype.createMergedColGroupDef=function(r){var s={};return Ai(s,this.gridOptionsWrapper.getDefaultColGroupDef()),Ai(s,r),this.checkForDeprecatedItems(s),s},o.prototype.createColumn=function(r,s,u,c){var _=this.mergeColDefs(s);this.checkForDeprecatedItems(_);var C=this.findExistingColumn(s,u);if(C)C.setColDef(_,s),this.applyColumnState(C,_);else{var A=c.getUniqueKey(_.colId,_.field);C=new Bt(_,s,A,r),this.context.createBean(C)}return C},o.prototype.applyColumnState=function(r,s){var u=be(s.flex);if(void 0!==u&&r.setFlex(u),r.getFlex()<=0){var _=be(s.width);if(null!=_)r.setActualWidth(_);else{var C=r.getActualWidth();r.setActualWidth(C)}}void 0!==s.sort&&r.setSort(s.sort==Ee.SORT_ASC||s.sort==Ee.SORT_DESC?s.sort:void 0);var A=be(s.sortIndex);void 0!==A&&r.setSortIndex(A);var x=fe(s.hide);void 0!==x&&r.setVisible(!x),void 0!==s.pinned&&r.setPinned(s.pinned)},o.prototype.findExistingColumn=function(r,s){var u=he(s,function(c){var _=c.getUserProvidedColDef();if(!_)return!1;var A=null!=r.field;return null!=r.colId?c.getId()===r.colId:A?_.field===r.field:_===r});return s&&u&&Wt(s,u),u},o.prototype.findExistingGroup=function(r,s){var u=he(s,function(c){return!(!c.getColGroupDef()||null==r.groupId||c.getId()!==r.groupId)});return u&&Wt(s,u),u},o.prototype.mergeColDefs=function(r){var s={},u=this.gridOptionsWrapper.getDefaultColDef();en(s,u,!1,!0);var c=r.type;return c||(c=u&&u.type),c&&this.assignColumnTypes(c,s),en(s,r,!1,!0),s},o.prototype.assignColumnTypes=function(r,s){var u=[];if(r instanceof Array)r.some(function(A){return"string"!=typeof A})?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):u=r;else{if("string"!=typeof r)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");u=r.split(",")}var _=Ai({},is);rn(this.gridOptionsWrapper.getColumnTypes()||{},function(A,x){A in _?console.warn("AG Grid: the column type '"+A+"' is a default column type and cannot be overridden."):_[A]=x}),u.forEach(function(A){var x=_[A.trim()];x?en(s,x,!1,!0):console.warn("ag-grid: colDef.type '"+A+"' does not correspond to defined gridOptions.columnTypes")})},o.prototype.checkForDeprecatedItems=function(r){if(r){var s=r;void 0!==s.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==s.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(s.suppressRowGroup||s.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),s.displayName&&(console.warn("ag-grid: Found displayName "+s.displayName+", please use headerName instead, displayName is deprecated."),s.headerName=s.displayName)}},o.prototype.isColumnGroup=function(r){return void 0!==r.children},Js([Y("columnUtils")],o.prototype,"columnUtils",void 0),Js([ss(0,vn("loggerFactory"))],o.prototype,"setBeans",null),Js([Le("columnFactory")],o)}(ot),ae=function(){function d(){}return d.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",d.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",d.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",d.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",d.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",d.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",d.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",d.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",d.EVENT_COLUMN_MOVED="columnMoved",d.EVENT_COLUMN_VISIBLE="columnVisible",d.EVENT_COLUMN_PINNED="columnPinned",d.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",d.EVENT_COLUMN_RESIZED="columnResized",d.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",d.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",d.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",d.EVENT_ROW_GROUP_OPENED="rowGroupOpened",d.EVENT_ROW_DATA_CHANGED="rowDataChanged",d.EVENT_ROW_DATA_UPDATED="rowDataUpdated",d.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",d.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",d.EVENT_CHART_CREATED="chartCreated",d.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",d.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",d.EVENT_CHART_DESTROYED="chartDestroyed",d.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",d.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",d.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",d.EVENT_MODEL_UPDATED="modelUpdated",d.EVENT_PASTE_START="pasteStart",d.EVENT_PASTE_END="pasteEnd",d.EVENT_FILL_START="fillStart",d.EVENT_FILL_END="fillEnd",d.EVENT_CELL_CLICKED="cellClicked",d.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",d.EVENT_CELL_MOUSE_DOWN="cellMouseDown",d.EVENT_CELL_CONTEXT_MENU="cellContextMenu",d.EVENT_CELL_VALUE_CHANGED="cellValueChanged",d.EVENT_ROW_VALUE_CHANGED="rowValueChanged",d.EVENT_CELL_FOCUSED="cellFocused",d.EVENT_ROW_SELECTED="rowSelected",d.EVENT_SELECTION_CHANGED="selectionChanged",d.EVENT_CELL_KEY_DOWN="cellKeyDown",d.EVENT_CELL_KEY_PRESS="cellKeyPress",d.EVENT_CELL_MOUSE_OVER="cellMouseOver",d.EVENT_CELL_MOUSE_OUT="cellMouseOut",d.EVENT_FILTER_CHANGED="filterChanged",d.EVENT_FILTER_MODIFIED="filterModified",d.EVENT_FILTER_OPENED="filterOpened",d.EVENT_SORT_CHANGED="sortChanged",d.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",d.EVENT_ROW_CLICKED="rowClicked",d.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",d.EVENT_GRID_READY="gridReady",d.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",d.EVENT_VIEWPORT_CHANGED="viewportChanged",d.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",d.EVENT_FIRST_DATA_RENDERED="firstDataRendered",d.EVENT_DRAG_STARTED="dragStarted",d.EVENT_DRAG_STOPPED="dragStopped",d.EVENT_CHECKBOX_CHANGED="checkboxChanged",d.EVENT_ROW_EDITING_STARTED="rowEditingStarted",d.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",d.EVENT_CELL_EDITING_STARTED="cellEditingStarted",d.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",d.EVENT_BODY_SCROLL="bodyScroll",d.EVENT_BODY_SCROLL_END="bodyScrollEnd",d.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",d.EVENT_PAGINATION_CHANGED="paginationChanged",d.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",d.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",d.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",d.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",d.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",d.EVENT_FLASH_CELLS="flashCells",d.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",d.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",d.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",d.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",d.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",d.EVENT_ROW_DRAG_ENTER="rowDragEnter",d.EVENT_ROW_DRAG_MOVE="rowDragMove",d.EVENT_ROW_DRAG_LEAVE="rowDragLeave",d.EVENT_ROW_DRAG_END="rowDragEnd",d.EVENT_POPUP_TO_FRONT="popupToFront",d.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",d.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",d.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",d.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",d.EVENT_KEYBOARD_FOCUS="keyboardFocus",d.EVENT_MOUSE_FOCUS="mouseFocus",d.EVENT_STORE_UPDATED="storeUpdated",d}(),Bi=function(){function d(){this.existingIds={}}return d.prototype.getInstanceIdForKey=function(o){var s,r=this.existingIds[o];return this.existingIds[o]=s="number"!=typeof r?0:r+1,s},d}(),to=/[&<>"']/g,bf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wo(d,o){if(o=Math.floor(o),0===d.length||0===o)return"";var r=d.length*o;for(o=Math.floor(Math.log(o)/Math.log(2));o;)d+=d,o--;return d+d.substring(0,r-d.length)}function as(d,o,r){return d.length>o?d:((o-=d.length)>r.length&&(r+=wo(r,o/r.length)),r.slice(0,o)+d)}function Ds(d){return null==d?null:d.replace(/([A-Z])/g,function(o){return"-"+o[0].toLowerCase()})}function cc(d){return null==d?null:d.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()})}function np(d){return d[0].toUpperCase()+d.substr(1).toLowerCase()}function ls(d){return null==d?null:d.toString().toString().replace(to,function(o){return bf[o]})}function ip(d){return d&&null!=d?d.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(s){return s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")}).join(" "):null}function Ea(d,o){return d===o||null!=d&&d.slice(0,o.length)===o}var $_=Object.freeze({__proto__:null,utf8_encode:function(d){var o=String.fromCharCode;function u(W,ee){return o(W>>ee&63|128)}function c(W){if(W>=0&&W<=31&&10!==W)return"_x"+as(W.toString(16).toUpperCase(),4,"0")+"_";if(0==(4294967168&W))return o(W);var ce="";return 0==(4294965248&W)?ce=o(W>>6&31|192):0==(4294901760&W)?(function(W){if(W>=55296&&W<=57343)throw Error("Lone surrogate U+"+W.toString(16).toUpperCase()+" is not a scalar value")}(W),ce=o(W>>12&15|224),ce+=u(W,6)):0==(4292870144&W)&&(ce=o(W>>18&7|240),ce+=u(W,12),ce+=u(W,6)),ce+o(63&W|128)}for(var _=function(W){var ee=[];if(!W)return[];for(var Me,He,le=W.length,ce=0;ce<le;)(Me=W.charCodeAt(ce++))>=55296&&Me<=56319&&ce<le?56320==(64512&(He=W.charCodeAt(ce++)))?ee.push(((1023&Me)<<10)+(1023&He)+65536):(ee.push(Me),ce--):ee.push(Me);return ee}(d),C=_.length,A=-1,k="";++A<C;)k+=c(_[A]);return k},stringRepeat:wo,padStart:as,camelCaseToHyphen:Ds,hyphenToCamelCase:cc,capitalise:np,escapeString:ls,camelCaseToHumanText:ip,startsWith:Ea});function ko(d){var o=new Map;return d.forEach(function(r){return o.set(r[0],r[1])}),o}var rp=Object.freeze({__proto__:null,convertToMap:ko,mapById:function(d,o){var r=new Map;return d.forEach(function(s){return r.set(o(s),s)}),r},keys:function(d){var o=[];return d.forEach(function(r,s){return o.push(s)}),o}}),Sf=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jr=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Df=function(d,o){return function(r,s){o(r,s,d)}},Tf=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.primaryHeaderRowCount=0,r.secondaryHeaderRowCount=0,r.secondaryColumnsPresent=!1,r.gridHeaderRowCount=0,r.displayedColumnsLeft=[],r.displayedColumnsRight=[],r.displayedColumnsCenter=[],r.displayedColumns=[],r.displayedColumnsAndGroupsMap={},r.viewportColumns=[],r.viewportColumnsCenter=[],r.autoHeightActiveAtLeastOnce=!1,r.rowGroupColumns=[],r.valueColumns=[],r.pivotColumns=[],r.ready=!1,r.autoGroupsNeedBuilding=!1,r.forceRecreateAutoGroups=!1,r.pivotMode=!1,r.bodyWidth=0,r.leftWidth=0,r.rightWidth=0,r.bodyWidthDirty=!0,r.colDefVersion=0,r.flexColsCalculatedAtLestOnce=!1,r}return Sf(o,d),o.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var r=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},o.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},o.prototype.getColDefVersion=function(){return this.colDefVersion},o.prototype.setColumnDefs=function(r,s){var u=this;void 0===s&&(s="api");var c=!!this.columnDefs;this.colDefVersion++;var _=this.compareColumnStatesAndRaiseEvents(s);this.columnDefs=r,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var C=this.primaryColumns,x=this.columnFactory.createColumnTree(r,!0,this.primaryColumnTree);this.primaryColumnTree=x.columnTree,this.primaryHeaderRowCount=x.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(k){return u.primaryColumnsMap[k.getId()]=k}),this.extractRowGroupColumns(s,C),this.extractPivotColumns(s,C),this.extractValueColumns(s,C),this.ready=!0,this.updateGridColumns(),c&&this.gridColsArePrimary&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(s),this.checkViewportColumns(),this.dispatchEverythingChanged(s),_(),this.dispatchNewColumnsLoaded()},o.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:ae.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.dispatchEverythingChanged=function(r){void 0===r&&(r="api"),this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:r})},o.prototype.orderGridColumnsLikePrimary=function(){var r=this,s=this.primaryColumns;!s||this.gridColumns.sort(function(u,c){var _=s.indexOf(u),C=s.indexOf(c),A=_>=0,x=C>=0;return A&&x?_-C:A?1:x?-1:r.gridColumns.indexOf(u)-r.gridColumns.indexOf(c)})},o.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},o.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},o.prototype.getDisplayedColumnsStartingAt=function(r){for(var s=r,u=[];null!=s;)u.push(s),s=this.getDisplayedColAfter(s);return u},o.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var r=this.viewportColumns.map(function(c){return c.getId()}).join("#");this.extractViewport(),r!==this.viewportColumns.map(function(c){return c.getId()}).join("#")&&this.eventService.dispatchEvent({type:ae.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.setViewportPosition=function(r,s){(r!==this.scrollWidth||s!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=s,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},o.prototype.isPivotMode=function(){return this.pivotMode},o.prototype.isPivotSettingAllowed=function(r){return!r||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},o.prototype.setPivotMode=function(r,s){void 0===s&&(s="api"),r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getSecondaryPivotColumn=function(r,s){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var u=this.getPrimaryColumn(s),c=null;return this.secondaryColumns.forEach(function(_){var C=_.getColDef().pivotKeys,A=_.getColDef().pivotValueColumn;pt(C,r)&&A===u&&(c=_)}),c},o.prototype.setBeans=function(r){this.logger=r.create("columnModel")},o.prototype.setFirstRightAndLastLeftPinned=function(r){var s,u;this.gridOptionsWrapper.isEnableRtl()?(s=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,u=this.displayedColumnsRight?ke(this.displayedColumnsRight):null):(s=this.displayedColumnsLeft?ke(this.displayedColumnsLeft):null,u=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===s,r),c.setFirstRightPinned(c===u,r)})},o.prototype.autoSizeColumns=function(r,s,u){var c=this;void 0===u&&(u="api"),this.animationFrameService.flushAllFrames();var _=[],C=-1;for(null==s&&(s=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==C;)C=0,this.actionOnGridColumns(r,function(A){if(_.indexOf(A)>=0)return!1;var x=c.autoWidthCalculator.getPreferredWidthForColumn(A,s);if(x>0){var k=c.normaliseColumnWidth(A,x);A.setActualWidth(k,u),_.push(A),C++}return!0},u);this.fireColumnResizedEvent(_,!0,"autosizeColumns")},o.prototype.fireColumnResizedEvent=function(r,s,u,c){void 0===c&&(c=null),r&&r.length&&this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:c,finished:s,api:this.gridApi,columnApi:this.columnApi,source:u})},o.prototype.autoSizeColumn=function(r,s,u){void 0===u&&(u="api"),r&&this.autoSizeColumns([r],s,u)},o.prototype.autoSizeAllColumns=function(r,s){void 0===s&&(s="api");var u=this.getAllDisplayedColumns();this.autoSizeColumns(u,r,s)},o.prototype.getColumnsFromTree=function(r){var s=[],u=function(c){for(var _=0;_<c.length;_++){var C=c[_];C instanceof Bt?s.push(C):C instanceof Cn&&u(C.getChildren())}};return u(r),s},o.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},o.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},o.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},o.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},o.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},o.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},o.prototype.isColumnDisplayed=function(r){return this.getAllDisplayedColumns().indexOf(r)>=0},o.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},o.prototype.getViewportColumns=function(){return this.viewportColumns},o.prototype.getDisplayedLeftColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft},o.prototype.getDisplayedRightColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight},o.prototype.getDisplayedColumnsForRow=function(r,s,u,c){for(var x,_=[],C=null,A=function(W){var nt,ee=s[W],le=s.length-W,ce=Math.min(ee.getColSpan(r),le),Me=[ee];if(ce>1){for(var He=ce-1,ht=1;ht<=He;ht++)Me.push(s[W+ht]);W+=He}u?(nt=!1,Me.forEach(function(_t){u(_t)&&(nt=!0)})):nt=!0,nt&&(0===_.length&&C&&c&&c(ee)&&_.push(C),_.push(ee)),C=ee,x=W},k=0;k<s.length;k++)A(k),k=x;return _},o.prototype.getViewportCenterColumnsForRow=function(r){var s=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,c,function(_){var C=_.getLeft();return Q(C)&&C>s.viewportLeft})},o.prototype.getAriaColumnIndex=function(r){return this.getAllGridColumns().indexOf(r)+1},o.prototype.isColumnInViewport=function(r){if(r.getColDef().autoHeight)return!0;var s=r.getLeft()||0,u=s+r.getActualWidth(),c=this.viewportLeft-200,_=this.viewportRight+200;return!(s<c&&u<c||s>_&&u>_)},o.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},o.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},o.prototype.updatePrimaryColumnList=function(r,s,u,c,_,C){var A=this;if(void 0===C&&(C="api"),r&&!Re(r)){var x=!1;r.forEach(function(W){var ee=A.getPrimaryColumn(W);if(ee){if(u){if(s.indexOf(ee)>=0)return;s.push(ee)}else{if(s.indexOf(ee)<0)return;Wt(s,ee)}c(ee),x=!0}}),x&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(C),this.eventService.dispatchEvent({type:_,columns:s,column:1===s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:C}))}},o.prototype.setRowGroupColumns=function(r,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),s)},o.prototype.setRowGroupActive=function(r,s,u){r!==s.isRowGroupActive()&&(s.setRowGroupActive(r,u),!r&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&s.setVisible(!0,u))},o.prototype.addRowGroupColumn=function(r,s){void 0===s&&(s="api"),r&&this.addRowGroupColumns([r],s)},o.prototype.addRowGroupColumns=function(r,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),ae.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumns=function(r,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),ae.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumn=function(r,s){void 0===s&&(s="api"),r&&this.removeRowGroupColumns([r],s)},o.prototype.addPivotColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!0,function(u){return u.setPivotActive(!0,s)},ae.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.setPivotColumns=function(r,s){void 0===s&&(s="api"),this.setPrimaryColumnList(r,this.pivotColumns,ae.EVENT_COLUMN_PIVOT_CHANGED,function(u,c){c.setPivotActive(u,s)},s)},o.prototype.addPivotColumn=function(r,s){void 0===s&&(s="api"),this.addPivotColumns([r],s)},o.prototype.removePivotColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!1,function(u){return u.setPivotActive(!1,s)},ae.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.removePivotColumn=function(r,s){void 0===s&&(s="api"),this.removePivotColumns([r],s)},o.prototype.setPrimaryColumnList=function(r,s,u,c,_){var C=this;s.length=0,Q(r)&&r.forEach(function(A){var x=C.getPrimaryColumn(A);x&&s.push(x)}),(this.primaryColumns||[]).forEach(function(A){var x=s.indexOf(A)>=0;c(x,A)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(_),this.fireColumnEvent(u,s,_)},o.prototype.setValueColumns=function(r,s){void 0===s&&(s="api"),this.setPrimaryColumnList(r,this.valueColumns,ae.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),s)},o.prototype.setValueActive=function(r,s,u){if(r!==s.isValueActive()&&(s.setValueActive(r,u),r&&!s.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(s);s.setAggFunc(c)}},o.prototype.addValueColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),ae.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.addValueColumn=function(r,s){void 0===s&&(s="api"),r&&this.addValueColumns([r],s)},o.prototype.removeValueColumn=function(r,s){void 0===s&&(s="api"),this.removeValueColumns([r],s)},o.prototype.removeValueColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),ae.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.normaliseColumnWidth=function(r,s){var u=r.getMinWidth();Q(u)&&s<u&&(s=u);var c=r.getMaxWidth();return Q(c)&&r.isGreaterThanMax(s)&&(s=c),s},o.prototype.getPrimaryOrGridColumn=function(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)},o.prototype.setColumnWidths=function(r,s,u,c){var _=this;void 0===c&&(c="api");var C=[];r.forEach(function(A){var x=_.getPrimaryOrGridColumn(A.key);if(x&&(C.push({width:A.newWidth,ratios:[1],columns:[x]}),"shift"===_.gridOptionsWrapper.getColResizeDefault()&&(s=!s),s)){var W=_.getDisplayedColAfter(x);if(!W)return;var ee=x.getActualWidth()-A.newWidth,le=W.getActualWidth()+ee;C.push({width:le,ratios:[1],columns:[W]})}}),0!==C.length&&this.resizeColumnSets(C,u,c)},o.prototype.checkMinAndMaxWidthsForSet=function(r){var u=r.width,c=0,_=0,C=!0;return r.columns.forEach(function(k){var W=k.getMinWidth();c+=W||0;var ee=k.getMaxWidth();Q(ee)&&ee>0?_+=ee:C=!1}),u>=c&&(!C||u<=_)},o.prototype.resizeColumnSets=function(r,s,u){var c=this;if(!r||r.every(function(le){return c.checkMinAndMaxWidthsForSet(le)})){var A=[],x=[];r.forEach(function(le){var ce=le.width,Me=le.columns,He=le.ratios,ht={},nt={};Me.forEach(function(hn){return x.push(hn)});for(var Qe=!0,_t=0,Zt=function(){if(++_t>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Qe=!1;var hn=[],Vn=0,ni=ce;Me.forEach(function(_r,qr){nt[_r.getId()]?ni-=ht[_r.getId()]:(hn.push(_r),Vn+=He[qr])});var hi=1/Vn;hn.forEach(function(_r,qr){var $i;qr===hn.length-1?$i=ni:($i=Math.round(He[qr]*ce*hi),ni-=$i);var xw=_r.getMinWidth(),Ag=_r.getMaxWidth();Q(xw)&&$i<xw?($i=xw,nt[_r.getId()]=!0,Qe=!0):Q(Ag)&&Ag>0&&$i>Ag&&($i=Ag,nt[_r.getId()]=!0,Qe=!0),ht[_r.getId()]=$i})};Qe&&"break"!==Zt(););Me.forEach(function(hn){var Vn=ht[hn.getId()];hn.getActualWidth()!==Vn&&(hn.setActualWidth(Vn,u),A.push(hn))})});var k=A.length>0,W=this.refreshFlexedColumns({resizingCols:x,skipSetLeft:!0});k&&(this.setLeftValues(u),this.updateBodyWidths(),this.checkViewportColumns());var ee=x.concat(W);(k||s)&&this.fireColumnResizedEvent(ee,s,u,W)}else s&&this.fireColumnResizedEvent(r&&r.length>0?r[0].columns:null,s,u)},o.prototype.setColumnAggFunc=function(r,s,u){if(void 0===u&&(u="api"),r){var c=this.getPrimaryColumn(r);!c||(c.setAggFunc(s),this.fireColumnEvent(ae.EVENT_COLUMN_VALUE_CHANGED,[c],u))}},o.prototype.fireColumnEvent=function(r,s,u){this.eventService.dispatchEvent({type:r,columns:s,column:s&&1==s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:u})},o.prototype.moveRowGroupColumn=function(r,s,u){void 0===u&&(u="api");var c=this.rowGroupColumns[r];this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(s,0,c),this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:u})},o.prototype.moveColumns=function(r,s,u){if(void 0===u&&(u="api"),this.columnAnimationService.start(),s>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+s),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var c=this.getGridColumns(r);!this.doesMovePassRules(c,s)||(In(this.gridColumns,c,s),this.updateDisplayedColumns(u),this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_MOVED,columns:c,column:1===c.length?c[0]:null,toIndex:s,api:this.gridApi,columnApi:this.columnApi,source:u}),this.columnAnimationService.finish())},o.prototype.doesMovePassRules=function(r,s){var u=this.gridColumns.slice();return In(u,r,s),!(!this.doesMovePassMarryChildren(u)||!this.doesMovePassLockedPositions(u))},o.prototype.sortColumnsLikeGridColumns=function(r){var s=this;!r||r.length<=1||r.filter(function(c){return s.gridColumns.indexOf(c)<0}).length>0||r.sort(function(c,_){return s.gridColumns.indexOf(c)-s.gridColumns.indexOf(_)})},o.prototype.doesMovePassLockedPositions=function(r){var s=!1,u=!0;return r.forEach(function(c){c.getColDef().lockPosition?s&&(u=!1):s=!0}),u},o.prototype.doesMovePassMarryChildren=function(r){var s=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof Cn){var c=u,_=c.getColGroupDef();if(_&&_.marryChildren){var A=[];c.getLeafColumns().forEach(function(le){var ce=r.indexOf(le);A.push(ce)}),Math.max.apply(Math,A)-Math.min.apply(Math,A)>c.getLeafColumns().length-1&&(s=!1)}}}),s},o.prototype.moveColumn=function(r,s,u){void 0===u&&(u="api"),this.moveColumns([r],s,u)},o.prototype.moveColumnByIndex=function(r,s,u){void 0===u&&(u="api"),this.moveColumn(this.gridColumns[r],s,u)},o.prototype.getColumnDefs=function(){var r=this;if(this.primaryColumns){var s=this.primaryColumns.slice();return this.gridColsArePrimary?s.sort(function(u,c){return r.gridColumns.indexOf(u)-r.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&s.sort(function(u,c){return r.lastPrimaryOrder.indexOf(u)-r.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(s,this.rowGroupColumns,this.pivotColumns)}},o.prototype.getBodyContainerWidth=function(){return this.bodyWidth},o.prototype.getContainerWidth=function(r){switch(r){case Ee.PINNED_LEFT:return this.leftWidth;case Ee.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},o.prototype.updateBodyWidths=function(){var r=this.getWidthOfColsInList(this.displayedColumnsCenter),s=this.getWidthOfColsInList(this.displayedColumnsLeft),u=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==s||this.rightWidth!==u)&&(this.bodyWidth=r,this.leftWidth=s,this.rightWidth=u,this.eventService.dispatchEvent({type:ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},o.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},o.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},o.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},o.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},o.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},o.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},o.prototype.getDisplayedColumns=function(r){switch(r){case Ee.PINNED_LEFT:return this.getDisplayedLeftColumns();case Ee.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},o.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},o.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},o.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},o.prototype.getAllGridColumns=function(){return this.gridColumns},o.prototype.isEmpty=function(){return Re(this.gridColumns)},o.prototype.isRowGroupEmpty=function(){return Re(this.rowGroupColumns)},o.prototype.setColumnVisible=function(r,s,u){void 0===u&&(u="api"),this.setColumnsVisible([r],s,u)},o.prototype.setColumnsVisible=function(r,s,u){var c=this;void 0===s&&(s=!1),void 0===u&&(u="api"),this.columnAnimationService.start(),this.actionOnGridColumns(r,function(_){return _.isVisible()!==s&&(_.setVisible(s,u),!0)},u,function(){return{type:ae.EVENT_COLUMN_VISIBLE,visible:s,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:u}}),this.columnAnimationService.finish()},o.prototype.setColumnPinned=function(r,s,u){void 0===u&&(u="api"),r&&this.setColumnsPinned([r],s,u)},o.prototype.setColumnsPinned=function(r,s,u){var _,c=this;void 0===u&&(u="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),_=!0===s||s===Ee.PINNED_LEFT?Ee.PINNED_LEFT:s===Ee.PINNED_RIGHT?Ee.PINNED_RIGHT:null,this.actionOnGridColumns(r,function(C){return C.getPinned()!==_&&(C.setPinned(_),!0)},u,function(){return{type:ae.EVENT_COLUMN_PINNED,pinned:_,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:u}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},o.prototype.actionOnGridColumns=function(r,s,u,c){var _=this;if(!Re(r)){var C=[];if(r.forEach(function(x){var k=_.getGridColumn(x);k&&!1!==s(k)&&C.push(k)}),C.length&&(this.updateDisplayedColumns(u),Q(c)&&c)){var A=c();A.columns=C,A.column=1===C.length?C[0]:null,this.eventService.dispatchEvent(A)}}},o.prototype.getDisplayedColBefore=function(r){var s=this.getAllDisplayedColumns(),u=s.indexOf(r);return u>0?s[u-1]:null},o.prototype.getDisplayedColAfter=function(r){var s=this.getAllDisplayedColumns(),u=s.indexOf(r);return u<s.length-1?s[u+1]:null},o.prototype.getDisplayedGroupAfter=function(r){return this.getDisplayedGroupAtDirection(r,"After")},o.prototype.getDisplayedGroupBefore=function(r){return this.getDisplayedGroupAtDirection(r,"Before")},o.prototype.getDisplayedGroupAtDirection=function(r,s){for(var u=r.getOriginalColumnGroup().getLevel()+r.getPaddingLevel(),c=r.getDisplayedLeafColumns(),_="After"===s?ke(c):c[0],C="getDisplayedCol"+s;;){var A=this[C](_);if(!A)return null;var x=this.getColumnGroupAtLevel(A,u);if(x!==r)return x}},o.prototype.getColumnGroupAtLevel=function(r,s){for(var u=r.getParent();!(u.getOriginalColumnGroup().getLevel()+u.getPaddingLevel()<=s);)u=u.getParent();return u},o.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},o.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},o.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var r=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&Q(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(s){return r.push(s)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(s){return r.push(s)}),r},o.prototype.createStateItemFromColumn=function(r){var s=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,u=r.isPivotActive()?this.pivotColumns.indexOf(r):null,c=r.isValueActive()?r.getAggFunc():null,_=null!=r.getSort()?r.getSort():null,C=null!=r.getSortIndex()?r.getSortIndex():null,A=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:_,sortIndex:C,aggFunc:c,rowGroup:r.isRowGroupActive(),rowGroupIndex:s,pivot:r.isPivotActive(),pivotIndex:u,flex:A}},o.prototype.getColumnState=function(){if(Z(this.primaryColumns)||!this.isAlive())return[];var s=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(s),s},o.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},o.prototype.orderColumnStateList=function(r){var s=ko(this.gridColumns.map(function(u,c){return[u.getColId(),c]}));r.sort(function(u,c){return(s.has(u.colId)?s.get(u.colId):-1)-(s.has(c.colId)?s.get(c.colId):-1)})},o.prototype.resetColumnState=function(r){void 0===r&&(r="api");var s=this.getColumnsFromTree(this.primaryColumnTree),u=[],c=1e3,_=1e3,C=[];this.groupAutoColumns&&(C=C.concat(this.groupAutoColumns)),s&&(C=C.concat(s)),C.forEach(function(A){var x=function(hn,Vn){return null!=hn?hn:null!=Vn?Vn:null},k=A.getColDef(),W=x(k.sort,k.initialSort),ee=x(k.sortIndex,k.initialSortIndex),le=x(k.hide,k.initialHide),ce=x(k.pinned,k.initialPinned),Me=x(k.width,k.initialWidth),He=x(k.flex,k.initialFlex),ht=x(k.rowGroupIndex,k.initialRowGroupIndex),nt=x(k.rowGroup,k.initialRowGroup);null==ht&&(null==nt||0==nt)&&(ht=null,nt=null);var Qe=x(k.pivotIndex,k.initialPivotIndex),_t=x(k.pivot,k.initialPivot);null==Qe&&(null==_t||0==_t)&&(Qe=null,_t=null);var Zt=x(k.aggFunc,k.initialAggFunc),zn={colId:A.getColId(),sort:W,sortIndex:ee,hide:le,pinned:ce,width:Me,flex:He,rowGroup:nt,rowGroupIndex:ht,pivot:_t,pivotIndex:Qe,aggFunc:Zt};Z(ht)&&nt&&(zn.rowGroupIndex=c++),Z(Qe)&&_t&&(zn.pivotIndex=_++),u.push(zn)}),this.applyColumnState({state:u,applyOrder:!0},r)},o.prototype.applyColumnState=function(r,s){var u=this;if(void 0===s&&(s="api"),Re(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var c=this.compareColumnStatesAndRaiseEvents(s);this.autoGroupsNeedBuilding=!0;var _=this.primaryColumns.slice(),C=!0,A={},x={},k=[],W=this.rowGroupColumns.slice(),ee=this.pivotColumns.slice();r.state&&r.state.forEach(function(He){var nt=He.colId||"";if(Ea(nt,Ee.GROUP_AUTO_COLUMN_ID))k.push(He);else{var _t=u.getPrimaryColumn(nt);_t?(u.syncColumnWithStateItem(_t,He,r.defaultState,A,x,!1,s),Wt(_,_t)):C=!1}});var le=function(He){return u.syncColumnWithStateItem(He,null,r.defaultState,A,x,!1,s)};_.forEach(le);var ce=function(He,ht,nt,Qe){var _t=He[nt.getId()],Zt=He[Qe.getId()],zn=null!=_t,hn=null!=Zt;if(zn&&hn)return _t-Zt;if(zn)return-1;if(hn)return 1;var Vn=ht.indexOf(nt),ni=ht.indexOf(Qe),hi=Vn>=0;return hi&&ni>=0?Vn-ni:hi?-1:1};this.rowGroupColumns.sort(ce.bind(this,A,W)),this.pivotColumns.sort(ce.bind(this,x,ee)),this.updateGridColumns();var Me=this.groupAutoColumns?this.groupAutoColumns.slice():[];return k.forEach(function(He){var ht=u.getAutoColumn(He.colId);Wt(Me,ht),u.syncColumnWithStateItem(ht,He,r.defaultState,null,null,!0,s)}),Me.forEach(le),this.applyOrderAfterApplyState(r),this.updateDisplayedColumns(s),this.dispatchEverythingChanged(s),c(),this.columnAnimationService.finish(),C},o.prototype.applyOrderAfterApplyState=function(r){if(this.gridColsArePrimary&&r.applyOrder&&r.state){var s=[],u={},c={};if(this.gridColumns.forEach(function(_){return c[_.getId()]=_}),r.state.forEach(function(_){if(_.colId&&!u[_.colId]){var C=c[_.colId];C&&(s.push(C),u[_.colId]=!0)}}),this.gridColumns.forEach(function(_){u[_.getColId()]||s.push(_)}),s=this.putFixedColumnsFirst(s),!this.doesMovePassMarryChildren(s))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=s}},o.prototype.compareColumnStatesAndRaiseEvents=function(r){var s=this;if(!this.columnDefs)return function(){};var c={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},_=this.getColumnState(),C={};return _.forEach(function(A){C[A.colId]=A}),function(){if(!s.gridOptionsWrapper.isSuppressColumnStateEvents()){var A=s.getPrimaryAndAutoGroupCols(),x=function(nt,Qe,_t,Zt){pt(Qe.map(Zt),_t.map(Zt))||s.eventService.dispatchEvent({type:nt,columns:_t,column:1===_t.length?_t[0]:null,api:s.gridApi,columnApi:s.columnApi,source:r})},k=function(nt){var Qe=[];return(A||[]).forEach(function(_t){var Zt=C[_t.getColId()];Zt&&nt(Zt,_t)&&Qe.push(_t)}),Qe},W=function(nt){return nt.getColId()};x(ae.EVENT_COLUMN_ROW_GROUP_CHANGED,c.rowGroupColumns,s.rowGroupColumns,W),x(ae.EVENT_COLUMN_PIVOT_CHANGED,c.pivotColumns,s.pivotColumns,W),k(function(nt,Qe){var _t=null!=nt.aggFunc,Zt=_t!=Qe.isValueActive(),zn=_t&&nt.aggFunc!=Qe.getAggFunc();return Zt||zn}).length>0&&s.fireColumnEvent(ae.EVENT_COLUMN_VALUE_CHANGED,s.valueColumns,r),s.fireColumnResizedEvent(k(function(nt,Qe){return nt.width!=Qe.getActualWidth()}),!0,r),s.raiseColumnPinnedEvent(k(function(nt,Qe){return nt.pinned!=Qe.getPinned()}),r),s.raiseColumnVisibleEvent(k(function(nt,Qe){return nt.hide==Qe.isVisible()}),r),k(function(nt,Qe){return nt.sort!=Qe.getSort()||nt.sortIndex!=Qe.getSortIndex()}).length>0&&s.sortController.dispatchSortChangedEvents(),s.raiseColumnMovedEvent(_,r)}}},o.prototype.raiseColumnPinnedEvent=function(r,s){if(r.length){var u=1===r.length?r[0]:null,c=this.getCommonValue(r,function(C){return C.getPinned()});this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_PINNED,pinned:null!=c?c:null,columns:r,column:u,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.getCommonValue=function(r,s){if(r&&0!=r.length){for(var u=s(r[0]),c=1;c<r.length;c++)if(u!==s(r[c]))return;return u}},o.prototype.raiseColumnVisibleEvent=function(r,s){if(r.length){var u=1===r.length?r[0]:null,c=this.getCommonValue(r,function(C){return C.isVisible()});this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_VISIBLE,visible:c,columns:r,column:u,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.raiseColumnMovedEvent=function(r,s){var u=this,c=this.getColumnState(),_={};c.forEach(function(ee){return _[ee.colId]=ee});var C={};r.forEach(function(ee){_[ee.colId]&&(C[ee.colId]=!0)});var A=Po(r,function(ee){return C[ee.colId]}),x=Po(c,function(ee){return C[ee.colId]}),k=[];x.forEach(function(ee,le){var ce=A&&A[le];if(ce&&ce.colId!==ee.colId){var Me=u.getGridColumn(ce.colId);Me&&k.push(Me)}}),k.length&&this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_MOVED,columns:k,column:null,api:this.gridApi,columnApi:this.columnApi,source:s})},o.prototype.syncColumnWithStateItem=function(r,s,u,c,_,C,A){if(r){var x=function(ni,hi){var _r=s,qr=u,Yu={value1:void 0,value2:void 0},$i=!1;return _r&&(void 0!==_r[ni]&&(Yu.value1=_r[ni],$i=!0),Q(hi)&&void 0!==_r[hi]&&(Yu.value2=_r[hi],$i=!0)),!$i&&qr&&(void 0!==qr[ni]&&(Yu.value1=qr[ni]),Q(hi)&&void 0!==qr[hi]&&(Yu.value2=qr[hi])),Yu},k=x("hide").value1;void 0!==k&&r.setVisible(!k,A);var W=x("pinned").value1;void 0!==W&&r.setPinned(W);var ee=this.columnUtils.calculateColMinWidth(r.getColDef()),le=x("flex").value1;if(void 0!==le&&r.setFlex(le),r.getFlex()<=0){var Me=x("width").value1;null!=Me&&null!=ee&&Me>=ee&&r.setActualWidth(Me,A)}var He=x("sort").value1;void 0!==He&&r.setSort(He===Ee.SORT_DESC||He===Ee.SORT_ASC?He:void 0);var ht=x("sortIndex").value1;if(void 0!==ht&&r.setSortIndex(ht),!C){var nt=x("aggFunc").value1;void 0!==nt&&("string"==typeof nt?(r.setAggFunc(nt),r.isValueActive()||(r.setValueActive(!0,A),this.valueColumns.push(r))):(Q(nt)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,A),Wt(this.valueColumns,r))));var Qe=x("rowGroup","rowGroupIndex"),_t=Qe.value1,Zt=Qe.value2;(void 0!==_t||void 0!==Zt)&&("number"==typeof Zt||_t?(r.isRowGroupActive()||(r.setRowGroupActive(!0,A),this.rowGroupColumns.push(r)),c&&"number"==typeof Zt&&(c[r.getId()]=Zt)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,A),Wt(this.rowGroupColumns,r)));var zn=x("pivot","pivotIndex"),hn=zn.value1,Vn=zn.value2;(void 0!==hn||void 0!==Vn)&&("number"==typeof Vn||hn?(r.isPivotActive()||(r.setPivotActive(!0,A),this.pivotColumns.push(r)),_&&"number"==typeof Vn&&(_[r.getId()]=Vn)):r.isPivotActive()&&(r.setPivotActive(!1,A),Wt(this.pivotColumns,r)))}}},o.prototype.getGridColumns=function(r){return this.getColumns(r,this.getGridColumn.bind(this))},o.prototype.getColumns=function(r,s){var u=[];return r&&r.forEach(function(c){var _=s(c);_&&u.push(_)}),u},o.prototype.getColumnWithValidation=function(r){if(null==r)return null;var s=this.getGridColumn(r);return s||console.warn("AG Grid: could not find column "+r),s},o.prototype.getPrimaryColumn=function(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null},o.prototype.getGridColumn=function(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)},o.prototype.getColumn=function(r,s,u){if(!r)return null;if("string"==typeof r&&u[r])return u[r];for(var c=0;c<s.length;c++)if(this.columnsMatch(s[c],r))return s[c];return this.getAutoColumn(r)},o.prototype.getAutoColumn=function(r){var s=this;return this.groupAutoColumns&&Q(this.groupAutoColumns)&&!Z(this.groupAutoColumns)?he(this.groupAutoColumns,function(u){return s.columnsMatch(u,r)}):null},o.prototype.columnsMatch=function(r,s){var u=r===s,c=r.getColDef()===s,_=r.getColId()==s;return u||c||_},o.prototype.getDisplayNameForColumn=function(r,s,u){if(void 0===u&&(u=!1),!r)return null;var c=this.getHeaderName(r.getColDef(),r,null,null,s);return u?this.wrapHeaderNameWithAggFunc(r,c):c},o.prototype.getDisplayNameForOriginalColumnGroup=function(r,s,u){var c=s?s.getColGroupDef():null;return c?this.getHeaderName(c,null,r,s,u):null},o.prototype.getDisplayNameForColumnGroup=function(r,s){return this.getDisplayNameForOriginalColumnGroup(r,r.getOriginalColumnGroup(),s)},o.prototype.getHeaderName=function(r,s,u,c,_){var C=r.headerValueGetter;if(C){var A={colDef:r,column:s,columnGroup:u,originalColumnGroup:c,location:_,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof C?C(A):"string"==typeof C?this.expressionService.evaluate(C,A):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?ip(r.field):""},o.prototype.wrapHeaderNameWithAggFunc=function(r,s){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return s;var C,u=r.getColDef().pivotValueColumn,_=null;if(Q(u))_=u?u.getAggFunc():null,C=!0;else{var A=r.isValueActive(),x=this.pivotMode||!this.isRowGroupEmpty();A&&x?(_=r.getAggFunc(),C=!0):C=!1}if(C){var k="string"==typeof _?_:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(k,k)+"("+s+")"}return s},o.prototype.getColumnGroup=function(r,s){if(!r)return null;if(r instanceof Zi)return r;var u=this.getAllDisplayedTrees(),c="number"==typeof s,_=null;return this.columnUtils.depthFirstAllColumnTreeSearch(u,function(C){if(C instanceof Zi){var A=C;(c?r===A.getGroupId()&&s===A.getInstanceId():r===A.getGroupId())&&(_=A)}}),_},o.prototype.isReady=function(){return this.ready},o.prototype.extractValueColumns=function(r,s){this.valueColumns=this.extractColumns(s,this.valueColumns,function(u,c){return u.setValueActive(c,r)},function(){},function(){},function(u){var c=u.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(u){return null!=u.initialAggFunc&&""!=u.initialAggFunc}),this.valueColumns.forEach(function(u){var c=u.getColDef();null!=c.aggFunc&&""!=c.aggFunc?u.setAggFunc(c.aggFunc):u.getAggFunc()||u.setAggFunc(c.initialAggFunc)})},o.prototype.extractRowGroupColumns=function(r,s){this.rowGroupColumns=this.extractColumns(s,this.rowGroupColumns,function(u,c){return u.setRowGroupActive(c,r)},function(u){return u.rowGroupIndex},function(u){return u.initialRowGroupIndex},function(u){return u.rowGroup},function(u){return u.initialRowGroup})},o.prototype.extractColumns=function(r,s,u,c,_,C,A){void 0===r&&(r=[]),void 0===s&&(s=[]);var x=[],k=[];(this.primaryColumns||[]).forEach(function(le){var ce=r.indexOf(le)<0,Me=le.getColDef(),He=fe(C(Me)),ht=fe(A(Me)),nt=be(c(Me)),Qe=be(_(Me));(void 0!==He?He:void 0!==nt?null!==nt&&nt>=0:ce?void 0!==ht?ht:void 0!==Qe&&null!=Qe&&Qe>=0:s.indexOf(le)>=0)&&((ce?null!=nt||null!=Qe:null!=nt)?x.push(le):k.push(le))});var W=function(le){var ce=c(le.getColDef()),Me=_(le.getColDef());return null!=ce?ce:Me};x.sort(function(le,ce){var Me=W(le),He=W(ce);return Me===He?0:Me<He?-1:1});var ee=[].concat(x);return s.forEach(function(le){k.indexOf(le)>=0&&ee.push(le)}),k.forEach(function(le){ee.indexOf(le)<0&&ee.push(le)}),s.forEach(function(le){ee.indexOf(le)<0&&u(le,!1)}),ee.forEach(function(le){s.indexOf(le)<0&&u(le,!0)}),ee},o.prototype.extractPivotColumns=function(r,s){this.pivotColumns=this.extractColumns(s,this.pivotColumns,function(u,c){return u.setPivotActive(c,r)},function(u){return u.pivotIndex},function(u){return u.initialPivotIndex},function(u){return u.pivot},function(u){return u.initialPivot})},o.prototype.resetColumnGroupState=function(r){void 0===r&&(r="api");var s=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(u){if(u instanceof Cn){var c=u.getColGroupDef(),_={groupId:u.getGroupId(),open:c?c.openByDefault:void 0};s.push(_)}}),this.setColumnGroupState(s,r)},o.prototype.getColumnGroupState=function(){var r=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(s){if(s instanceof Cn){var u=s;r.push({groupId:u.getGroupId(),open:u.isExpanded()})}}),r},o.prototype.setColumnGroupState=function(r,s){var u=this;void 0===s&&(s="api"),this.columnAnimationService.start();var c=[];r.forEach(function(_){var A=_.open,x=u.getOriginalColumnGroup(_.groupId);!x||x.isExpanded()!==A&&(u.logger.log("columnGroupOpened("+x.getGroupId()+","+A+")"),x.setExpanded(A),c.push(x))}),this.updateGroupsAndDisplayedColumns(s),this.setFirstRightAndLastLeftPinned(s),c.forEach(function(_){u.eventService.dispatchEvent({type:ae.EVENT_COLUMN_GROUP_OPENED,columnGroup:_,api:u.gridApi,columnApi:u.columnApi})}),this.columnAnimationService.finish()},o.prototype.setColumnGroupOpened=function(r,s,u){var c;void 0===u&&(u="api"),c=r instanceof Cn?r.getId():r||"",this.setColumnGroupState([{groupId:c,open:s}],u)},o.prototype.getOriginalColumnGroup=function(r){if(r instanceof Cn)return r;"string"!=typeof r&&console.error("AG Grid: group key must be a string");var s=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof Cn){var c=u;c.getId()===r&&(s=c)}}),s},o.prototype.calculateColumnsForDisplay=function(){var r=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(u){var c=r.groupAutoColumns&&Ft(r.groupAutoColumns,u),_=r.valueColumns&&Ft(r.valueColumns,u);return c||_}:function(u){return r.groupAutoColumns&&Ft(r.groupAutoColumns,u)||u.isVisible()})},o.prototype.checkColSpanActiveInCols=function(r){var s=!1;return r.forEach(function(u){Q(u.getColDef().colSpan)&&(s=!0)}),s},o.prototype.calculateColumnsForGroupDisplay=function(){var r=this;this.groupDisplayColumns=[];var s=function(u){var c=u.getColDef();c&&Q(c.showRowGroup)&&r.groupDisplayColumns.push(u)};this.gridColumns.forEach(s),this.groupAutoColumns&&this.groupAutoColumns.forEach(s)},o.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},o.prototype.updateDisplayedColumns=function(r){var s=this.calculateColumnsForDisplay();this.buildDisplayedTrees(s),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)},o.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},o.prototype.setSecondaryColumns=function(r,s){void 0===s&&(s="api");var u=r&&r.length>0;if(u||this.secondaryColumnsPresent){if(u){this.processSecondaryColumnDefinitions(r);var c=this.columnFactory.createColumnTree(r,!1);this.secondaryBalancedTree=c.columnTree,this.secondaryHeaderRowCount=c.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(s)}},o.prototype.processSecondaryColumnDefinitions=function(r){var s=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),u=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(s||u){var c=function(_){_.forEach(function(C){if(Q(C.children)){var x=C;u&&u(x),c(x.children)}else s&&s(C)})};r&&c(r)}},o.prototype.updateGridColumns=function(){var r=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return r.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:ae.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.getColDef().autoHeight}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var r=this.rowModel.getType();r!==Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&r!==Ee.ROW_MODEL_TYPE_SERVER_SIDE&&Jt(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},o.prototype.orderGridColsLikeLastPrimary=function(){if(!Z(this.lastPrimaryOrder)){var r=ko(this.lastPrimaryOrder.map(function(x,k){return[x,k]})),s=!0;if(this.gridColumns.forEach(function(x){r.has(x)&&(s=!1)}),!s){var u=ko(this.gridColumns.map(function(x){return[x,!0]})),c=this.lastPrimaryOrder.filter(function(x){return u.has(x)}),_=ko(c.map(function(x){return[x,!0]})),C=this.gridColumns.filter(function(x){return!_.has(x)}),A=c.slice();C.forEach(function(x){var k=x.getOriginalParent();if(k){for(var W=[];!W.length&&k;)k.getLeafColumns().forEach(function(Me){var He=A.indexOf(Me)>=0,ht=W.indexOf(Me)<0;He&&ht&&W.push(Me)}),k=k.getOriginalParent();if(W.length){var le=W.map(function(Me){return A.indexOf(Me)}),ce=Math.max.apply(Math,le);gn(A,x,ce+1)}else A.push(x)}else A.push(x)}),this.gridColumns=A}}},o.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},o.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},o.prototype.putFixedColumnsFirst=function(r){var s=r.filter(function(c){return c.getColDef().lockPosition}),u=r.filter(function(c){return!c.getColDef().lockPosition});return s.concat(u)},o.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!Z(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=r.concat(this.gridBalancedTree)}},o.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},o.prototype.updateGroupsAndDisplayedColumns=function(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:ae.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.deriveDisplayedColumns=function(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(function(s){return s.getColDef().autoHeight})},o.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},o.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},o.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},o.prototype.setLeftValues=function(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()},o.prototype.setLeftValuesOfColumns=function(r){var s=this;if(this.primaryColumns){var u=this.primaryColumns.slice(0),c=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(_){if(c){var C=s.getWidthOfColsInList(_);_.forEach(function(x){C-=x.getActualWidth(),x.setLeft(C,r)})}else{var A=0;_.forEach(function(x){x.setLeft(A,r),A+=x.getActualWidth()})}Oi(u,_)}),u.forEach(function(_){_.setLeft(null,r)})}},o.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(r){r.forEach(function(s){s instanceof Zi&&s.checkLeft()})})},o.prototype.derivedDisplayedColumnsFromDisplayedTree=function(r,s){s.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(r,function(u){u instanceof Bt&&s.push(u)})},o.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},o.prototype.getVirtualHeaderGroupRow=function(r,s){var u;switch(r){case Ee.PINNED_LEFT:u=this.viewportRowLeft[s];break;case Ee.PINNED_RIGHT:u=this.viewportRowRight[s];break;default:u=this.viewportRowCenter[s]}return Z(u)&&(u=[]),u},o.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var r={};this.viewportColumns.forEach(function(u){return r[u.getId()]=!0});var s=function(u,c,_){for(var C=!1,A=0;A<u.length;A++){var x=u[A],k=!1;if(x instanceof Bt)k=!0===r[x.getId()];else{var ee=x.getDisplayedChildren();ee&&(k=s(ee,c,_+1))}k&&(C=!0,c[_]||(c[_]=[]),c[_].push(x))}return C};s(this.displayedTreeLeft,this.viewportRowLeft,0),s(this.displayedTreeRight,this.viewportRowRight,0),s(this.displayedTreeCentre,this.viewportRowCenter,0)},o.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},o.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},o.prototype.refreshFlexedColumns=function(r){var s=this;void 0===r&&(r={});var u=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];var c=-1;r.resizingCols&&r.resizingCols.forEach(function(_t){var Zt=s.displayedColumnsCenter.indexOf(_t);c<Zt&&(c=Zt)});var _=function(_t){var Zt=s.displayedColumnsCenter.indexOf(_t)>c;return _t.getFlex()&&Zt},C=this.displayedColumnsCenter.filter(function(_t){return!_(_t)}),A=this.displayedColumnsCenter.filter(function(_t){return _(_t)}),x=[];if(!A.length)return[];var W,k=[];e:for(;;){var ee=A.reduce(function(_t,Zt){return _t+Zt.getFlex()},0);W=this.flexViewportWidth-this.getWidthOfColsInList(C);for(var le=0;le<A.length;le++){var ce=A[le],Me=W*ce.getFlex()/ee,He=0,ht=ce.getMinWidth(),nt=ce.getMaxWidth();if(Q(ht)&&Me<ht?He=ht:Q(nt)&&Me>nt&&(He=nt),He){ce.setActualWidth(He,u),Wt(A,ce),x.push(ce),C.push(ce);continue e}k[le]=Math.round(Me)}break}var Qe=W;return A.forEach(function(_t,Zt){_t.setActualWidth(Math.min(k[Zt],Qe),u),x.push(_t),Qe-=k[Zt]}),r.skipSetLeft||this.setLeftValues(u),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.fireColumnResizedEvent(x,!0,u,A),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),A},o.prototype.sizeColumnsToFit=function(r,s,u){void 0===s&&(s="sizeColumnsToFit");var c=this.getAllDisplayedColumns();if(!(r<=0)&&c.length){var _=[],C=[];c.forEach(function(Qe){!0===Qe.getColDef().suppressSizeToFit?C.push(Qe):_.push(Qe)});var A=_.slice(0),x=!1,k=function(Qe){Wt(_,Qe),C.push(Qe)};for(_.forEach(function(Qe){return Qe.resetActualWidth(s)});!x;){x=!0;var W=r-this.getWidthOfColsInList(C);if(W<=0)_.forEach(function(Qe){Qe.setMinimum(s)});else for(var ee=W/this.getWidthOfColsInList(_),le=W,ce=_.length-1;ce>=0;ce--){var Me=_[ce],He=Me.getMinWidth(),ht=Me.getMaxWidth(),nt=Math.round(Me.getActualWidth()*ee);Q(He)&&nt<He?(nt=He,k(Me),x=!1):Q(ht)&&Me.isGreaterThanMax(nt)?(nt=ht,k(Me),x=!1):0===ce&&(nt=le),Me.setActualWidth(nt,s,!0),le-=nt}}A.forEach(function(Qe){Qe.fireColumnWidthChangedEvent(s)}),this.setLeftValues(s),this.updateBodyWidths(),!u&&this.fireColumnResizedEvent(A,!0,s)}},o.prototype.buildDisplayedTrees=function(r){var s=[],u=[],c=[];r.forEach(function(C){switch(C.getPinned()){case"left":s.push(C);break;case"right":u.push(C);break;default:c.push(C)}});var _=new Bi;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,_,Ee.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,_,Ee.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,_,null,this.displayedTreeCentre),this.updateDisplayedMap()},o.prototype.updateDisplayedMap=function(){var r=this;this.displayedColumnsAndGroupsMap={};var s=function(u){r.displayedColumnsAndGroupsMap[u.getUniqueId()]=u};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,s)},o.prototype.isDisplayed=function(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r},o.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var r=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(r,function(s){s instanceof Zi&&s.calculateDisplayedColumns()})},o.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},o.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||s||r)this.groupAutoColumns=null;else{var _=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(_,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=_)}}},o.prototype.autoColsEqual=function(r,s){return pt(r,s,function(u,c){return u.getColId()===c.getColId()})},o.prototype.getWidthOfColsInList=function(r){return r.reduce(function(s,u){return s+u.getActualWidth()},0)},o.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},o.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(s){return s.getColDef().floatingFilter})},o.prototype.getFirstDisplayedColumn=function(){var r=this.gridOptionsWrapper.isEnableRtl(),s=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&s.reverse();for(var u=0;u<s.length;u++){var c=this[s[u]]();if(c.length)return r?ke(c):c[0]}return null},jr([Y("expressionService")],o.prototype,"expressionService",void 0),jr([Y("columnFactory")],o.prototype,"columnFactory",void 0),jr([Y("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),jr([Y("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),jr([Y("columnUtils")],o.prototype,"columnUtils",void 0),jr([Y("columnAnimationService")],o.prototype,"columnAnimationService",void 0),jr([Y("autoGroupColService")],o.prototype,"autoGroupColService",void 0),jr([Tt("aggFuncService")],o.prototype,"aggFuncService",void 0),jr([Tt("valueCache")],o.prototype,"valueCache",void 0),jr([Tt("animationFrameService")],o.prototype,"animationFrameService",void 0),jr([Y("rowModel")],o.prototype,"rowModel",void 0),jr([Y("columnApi")],o.prototype,"columnApi",void 0),jr([Y("gridApi")],o.prototype,"gridApi",void 0),jr([Y("sortController")],o.prototype,"sortController",void 0),jr([Y("columnDefFactory")],o.prototype,"columnDefFactory",void 0),jr([se],o.prototype,"init",null),jr([Df(0,vn("loggerFactory"))],o.prototype,"setBeans",null),jr([Le("columnModel")],o)}(ot);function Zd(d,o){return as(d.toString(),o,"0")}function Kd(d,o){for(var r=[],s=d;s<=o;s++)r.push(s);return r}function vu(d){return""!==d&&!isNaN(parseFloat(d))&&isFinite(d)}function Cu(){return Number.MAX_SAFE_INTEGER||9007199254740991}function Ts(d){return"number"!=typeof d?"":d.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var oi=Object.freeze({__proto__:null,padStartWidthZeros:Zd,createArrayOfNumbers:Kd,isNumeric:vu,getMaxSafeInteger:Cu,cleanNumber:function(d){return"string"==typeof d&&(d=parseInt(d,10)),"number"==typeof d?Math.floor(d):null},decToHex:function(d,o){for(var r="",s=0;s<o;s++)r+=String.fromCharCode(255&d),d>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function(d){return"number"!=typeof d?"":Ts(Math.round(100*d)/100)},formatNumberCommas:Ts,sum:function(d){return null==d?null:d.reduce(function(o,r){return o+r},0)}}),od=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),no=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return od(o,d),o.prototype.calculateColMinWidth=function(r){return null!=r.minWidth?r.minWidth:this.gridOptionsWrapper.getMinColWidth()},o.prototype.calculateColMaxWidth=function(r){return null!=r.maxWidth?r.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Cu()},o.prototype.calculateColInitialWidth=function(r){var c,s=this.calculateColMinWidth(r),u=this.calculateColMaxWidth(r),_=be(r.width),C=be(r.initialWidth);return c=null!=_?_:null!=C?C:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(c,u),s)},o.prototype.getOriginalPathForColumn=function(r,s){var u=[],c=!1,_=function(C,A){for(var x=0;x<C.length;x++){if(c)return;var k=C[x];k instanceof Cn?(_(k.getChildren(),A+1),u[A]=k):k===r&&(c=!0)}};return _(s,0),c?u:null},o.prototype.depthFirstOriginalTreeSearch=function(r,s,u){var c=this;!s||s.forEach(function(_){_ instanceof Cn&&c.depthFirstOriginalTreeSearch(_,_.getChildren(),u),u(_,r)})},o.prototype.depthFirstAllColumnTreeSearch=function(r,s){var u=this;!r||r.forEach(function(c){c instanceof Zi&&u.depthFirstAllColumnTreeSearch(c.getChildren(),s),s(c)})},o.prototype.depthFirstDisplayedColumnTreeSearch=function(r,s){var u=this;!r||r.forEach(function(c){c instanceof Zi&&u.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),s),s(c)})},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("columnUtils")],o)}(ot),Sa=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ea=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Sa(o,d),o.prototype.createDisplayedGroups=function(r,s,u,c,_){var x,k,C=this,A=[],W=this.mapOldGroupsById(_);return r.forEach(function(ee){for(var le=C.getOriginalPathForColumn(s,ee),ce=[],Me=!k,He=0;He<le.length;He++)if(Me||le[He]!==k[He]){var ht=C.createColumnGroup(le[He],u,W,c);ce[He]=ht,0==He?A.push(ht):ce[He-1].addChild(ht)}else ce[He]=x[He];0===ce.length?A.push(ee):ke(ce).addChild(ee),x=ce,k=le}),this.setupParentsIntoColumns(A,null),A},o.prototype.createColumnGroup=function(r,s,u,c){var _=r.getGroupId(),C=s.getInstanceIdForKey(_),x=u[Zi.createUniqueId(_,C)];return x&&x.getOriginalColumnGroup()!==r&&(x=null),Q(x)?x.reset():(x=new Zi(r,_,C,c),this.context.createBean(x)),x},o.prototype.mapOldGroupsById=function(r){var s={},u=function(c){c.forEach(function(_){if(_ instanceof Zi){var C=_;s[_.getUniqueId()]=C,u(C.getChildren())}})};return r&&u(r),s},o.prototype.setupParentsIntoColumns=function(r,s){var u=this;r.forEach(function(c){if(c.setParent(s),c instanceof Zi){var _=c;u.setupParentsIntoColumns(_.getChildren(),_)}})},o.prototype.getOriginalPathForColumn=function(r,s){var u=[],c=!1,_=function(C,A){for(var x=0;x<C.length;x++){if(c)return;var k=C[x];k instanceof Cn?(_(k.getChildren(),A+1),u[A]=k):k===s&&(c=!0)}};return _(r,0),c?u:(console.warn("could not get path"),null)},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("displayedGroupCreator")],o)}(ot),Da=function(){function d(){}return d.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],d.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],d.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],d.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],d.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi"],d.ALL_PROPERTIES=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}(d.ARRAY_PROPERTIES,d.OBJECT_PROPERTIES,d.STRING_PROPERTIES,d.NUMBER_PROPERTIES,d.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector"],d.BOOLEAN_PROPERTIES),d.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],d}(),bo=function(){return(bo=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},hc=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s},us=function(){function d(){}return d.getEventCallbacks=function(){return d.EVENT_CALLBACKS||(d.EVENT_CALLBACKS=d.EVENTS.map(function(o){return d.getCallbackForEvent(o)})),d.EVENT_CALLBACKS},d.copyAttributesToGridOptions=function(o,r,s){"object"!=typeof o&&(o={});var u=o,c=function(_){return void 0!==r[_]};return hc(d.ARRAY_PROPERTIES,d.STRING_PROPERTIES,d.OBJECT_PROPERTIES,d.FUNCTION_PROPERTIES,d.getEventCallbacks()).filter(c).forEach(function(_){return u[_]=r[_]}),d.BOOLEAN_PROPERTIES.filter(c).forEach(function(_){return u[_]=d.toBoolean(r[_])}),d.NUMBER_PROPERTIES.filter(c).forEach(function(_){return u[_]=d.toNumber(r[_])}),o},d.getCallbackForEvent=function(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substr(1)},d.processOnChange=function(o,r,s,u){if(o){var c=bo({},o),_=r,C=function(k){return c[k]};hc(d.ARRAY_PROPERTIES,d.OBJECT_PROPERTIES,d.STRING_PROPERTIES,d.getEventCallbacks()).filter(C).forEach(function(k){return _[k]=c[k].currentValue}),d.BOOLEAN_PROPERTIES.filter(C).forEach(function(k){return _[k]=d.toBoolean(c[k].currentValue)}),d.NUMBER_PROPERTIES.filter(C).forEach(function(k){return _[k]=d.toNumber(c[k].currentValue)}),c.enableCellTextSelection&&(s.setEnableCellTextSelection(d.toBoolean(c.enableCellTextSelection.currentValue)),delete c.enableCellTextSelection),c.quickFilterText&&(s.setQuickFilter(c.quickFilterText.currentValue),delete c.quickFilterText),c.autoGroupColumnDef&&(s.setAutoGroupColumnDef(c.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete c.autoGroupColumnDef),c.columnDefs&&(s.setColumnDefs(c.columnDefs.currentValue,"gridOptionsChanged"),delete c.columnDefs),c.paginationPageSize&&(s.paginationSetPageSize(d.toNumber(c.paginationPageSize.currentValue)),delete c.paginationPageSize),c.pivotMode&&(u.setPivotMode(d.toBoolean(c.pivotMode.currentValue)),delete c.pivotMode),c.groupRemoveSingleChildren&&(s.setGroupRemoveSingleChildren(d.toBoolean(c.groupRemoveSingleChildren.currentValue)),delete c.groupRemoveSingleChildren),c.suppressRowDrag&&(s.setSuppressRowDrag(d.toBoolean(c.suppressRowDrag.currentValue)),delete c.suppressRowDrag),c.suppressMoveWhenRowDragging&&(s.setSuppressMoveWhenRowDragging(d.toBoolean(c.suppressMoveWhenRowDragging.currentValue)),delete c.suppressMoveWhenRowDragging),c.suppressRowClickSelection&&(s.setSuppressRowClickSelection(d.toBoolean(c.suppressRowClickSelection.currentValue)),delete c.suppressRowClickSelection),c.suppressClipboardPaste&&(s.setSuppressClipboardPaste(d.toBoolean(c.suppressClipboardPaste.currentValue)),delete c.suppressClipboardPaste),c.headerHeight&&(s.setHeaderHeight(d.toNumber(c.headerHeight.currentValue)),delete c.headerHeight);var A=s;Object.keys(c).forEach(function(k){var W="set"+k.charAt(0).toUpperCase()+k.substring(1);A[W]&&A[W](o[k].currentValue)});var x={type:ae.EVENT_COMPONENT_STATE_CHANGED,api:r.api,columnApi:r.columnApi};rn(o,function(k,W){x[k]=W}),s.dispatchEvent(x)}},d.toBoolean=function(o){return"boolean"==typeof o?o:"string"==typeof o&&("TRUE"===o.toUpperCase()||""==o)},d.toNumber=function(o){return"number"==typeof o?o:"string"==typeof o?Number(o):void 0},d.EVENTS=[],d.PUBLIC_EVENTS=[],d.EXCLUDED_INTERNAL_EVENTS=[],d.STRING_PROPERTIES=Da.STRING_PROPERTIES,d.OBJECT_PROPERTIES=Da.OBJECT_PROPERTIES,d.ARRAY_PROPERTIES=Da.ARRAY_PROPERTIES,d.NUMBER_PROPERTIES=Da.NUMBER_PROPERTIES,d.BOOLEAN_PROPERTIES=Da.BOOLEAN_PROPERTIES,d.FUNCTION_PROPERTIES=Da.FUNCTION_PROPERTIES,d.ALL_PROPERTIES=Da.ALL_PROPERTIES,d}();us.EVENTS=Ne(ae),us.EXCLUDED_INTERNAL_EVENTS=[ae.EVENT_SCROLLBAR_WIDTH_CHANGED,ae.EVENT_CHECKBOX_CHANGED,ae.EVENT_HEIGHT_SCALE_CHANGED,ae.EVENT_BODY_HEIGHT_CHANGED,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,ae.EVENT_SCROLL_VISIBILITY_CHANGED,ae.EVENT_COLUMN_HOVER_CHANGED,ae.EVENT_FLASH_CELLS,ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,ae.EVENT_DISPLAYED_ROWS_CHANGED,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,ae.EVENT_POPUP_TO_FRONT,ae.EVENT_KEYBOARD_FOCUS,ae.EVENT_MOUSE_FOCUS,ae.EVENT_STORE_UPDATED,ae.EVENT_COLUMN_PANEL_ITEM_DRAG_START,ae.EVENT_COLUMN_PANEL_ITEM_DRAG_END,ae.EVENT_FILL_START,ae.EVENT_FILL_END],us.PUBLIC_EVENTS=us.EVENTS.filter(function(d){return!Ft(us.EXCLUDED_INTERNAL_EVENTS,d)});var pc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),cl=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.componentsMappedByName={},r}return pc(o,d),o.prototype.setupComponents=function(r){var s=this;r&&r.forEach(function(u){return s.addComponent(u)})},o.prototype.addComponent=function(r){var u=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[u]=r.componentClass},o.prototype.getComponentClass=function(r){return this.componentsMappedByName[r]},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("agStackComponentsRegistry")],o)}(ot),vi=function(){function d(){}return d.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],d.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],d.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],d.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],d.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],d.ALL_PROPERTIES=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}(d.ARRAY_PROPERTIES,d.OBJECT_PROPERTIES,d.STRING_PROPERTIES,d.NUMBER_PROPERTIES,d.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],d.BOOLEAN_PROPERTIES),d.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],d}(),bu=function(){function d(o,r,s,u){void 0===u&&(u=1),this.r=Math.min(1,Math.max(0,o||0)),this.g=Math.min(1,Math.max(0,r||0)),this.b=Math.min(1,Math.max(0,s||0)),this.a=Math.min(1,Math.max(0,u||0))}return d.fromString=function(o){if(o.indexOf("#")>=0)return d.fromHexString(o);var r=d.nameToHex[o];if(r)return d.fromHexString(r);if(o.indexOf("rgb")>=0)return d.fromRgbaString(o);throw new Error("Invalid color string: '"+o+"'")},d.parseHex=function(o){var r;switch((o=o.replace(/ /g,"").slice(1)).length){case 6:case 8:r=[];for(var s=0;s<o.length;s+=2)r.push(parseInt(""+o[s]+o[s+1],16));break;case 3:case 4:r=o.split("").map(function(u){return parseInt(u,16)}).map(function(u){return u+16*u})}if(r.length>=3&&r.every(function(u){return u>=0}))return 3===r.length&&r.push(255),r},d.fromHexString=function(o){var r=d.parseHex(o);if(r)return new d(r[0]/255,r[1]/255,r[2]/255,r[3]/255);throw new Error("Malformed hexadecimal color string: '"+o+"'")},d.stringToRgba=function(o){for(var r=[NaN,NaN],s=r[0],u=r[1],c=0;c<o.length;c++){var _=o[c];if(s||"("!==_){if(")"===_){u=c;break}}else s=c}var C=s&&u&&o.substring(s+1,u);if(C){var A=C.split(","),x=[];for(c=0;c<A.length;c++){var k=A[c],W=parseFloat(k);if(isNaN(W))return;k.indexOf("%")>=0?(W=Math.max(0,Math.min(100,W)),W/=100):3===c?W=Math.max(0,Math.min(1,W)):(W=Math.max(0,Math.min(255,W)),W/=255),x.push(W)}return x}},d.fromRgbaString=function(o){var r=d.stringToRgba(o);if(r){if(3===r.length)return new d(r[0],r[1],r[2]);if(4===r.length)return new d(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+o+"'")},d.fromArray=function(o){if(4===o.length)return new d(o[0],o[1],o[2],o[3]);if(3===o.length)return new d(o[0],o[1],o[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},d.fromHSB=function(o,r,s,u){void 0===u&&(u=1);var c=d.HSBtoRGB(o,r,s);return new d(c[0],c[1],c[2],u)},d.padHex=function(o){return 1===o.length?"0"+o:o},d.prototype.toHexString=function(){var o="#"+d.padHex(Math.round(255*this.r).toString(16))+d.padHex(Math.round(255*this.g).toString(16))+d.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(o+=d.padHex(Math.round(255*this.a).toString(16))),o},d.prototype.toRgbaString=function(o){void 0===o&&(o=3);var r=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],s=Math.pow(10,o);return 1!==this.a?(r.push(Math.round(this.a*s)/s),"rgba("+r.join(", ")+")"):"rgb("+r.join(", ")+")"},d.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},d.prototype.toHSB=function(){return d.RGBtoHSB(this.r,this.g,this.b)},d.RGBtoHSB=function(o,r,s){var u=Math.min(o,r,s),c=Math.max(o,r,s),C=NaN;if(u!==c){var A=c-u,x=(c-o)/A,k=(c-r)/A,W=(c-s)/A;C=o===c?W-k:r===c?2+x-W:4+k-x,(C/=6)<0&&(C+=1)}return[360*C,0!==c?(c-u)/c:0,c]},d.HSBtoRGB=function(o,r,s){isNaN(o)&&(o=0),o=(o%360+360)%360/360;var u=0,c=0,_=0;if(0===r)u=c=_=s;else{var C=6*(o-Math.floor(o)),A=C-Math.floor(C),x=s*(1-r),k=s*(1-r*A),W=s*(1-r*(1-A));switch(C>>0){case 0:u=s,c=W,_=x;break;case 1:u=k,c=s,_=x;break;case 2:u=x,c=s,_=W;break;case 3:u=x,c=k,_=s;break;case 4:u=W,c=x,_=s;break;case 5:u=s,c=x,_=k}}return[u,c,_]},d.prototype.derive=function(o,r,s,u){var c=d.RGBtoHSB(this.r,this.g,this.b),_=c[2];0==_&&s>1&&(_=.05);var C=((c[0]+o)%360+360)%360,A=Math.max(Math.min(c[1]*r,1),0);_=Math.max(Math.min(_*s,1),0);var x=Math.max(Math.min(this.a*u,1),0),k=d.HSBtoRGB(C,A,_);return k.push(x),d.fromArray(k)},d.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},d.prototype.darker=function(){return this.derive(0,1,.7,1)},d.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),d}();var ci,Eu,sd,Ll,Lo,gr,Ta,Aa,na=Object.freeze({__proto__:null,stringToArray:function(d,o){void 0===o&&(o=",");var r=[],s=function(ee){return"\r"===ee||"\n"===ee},u=!1;if(""===d)return[[""]];for(var _,C,A,c=function(ee,le,ce){var Me=d[ce-1],He=d[ce],ht=d[ce+1],nt=function(){r[ee]||(r[ee]=[]),r[ee][le]||(r[ee][le]="")};if(nt(),'"'===He){if(u)return'"'===ht?(r[ee][le]+='"',ce++):u=!1,_=ee,C=le,A=ce,"continue";if(void 0===Me||Me===o||s(Me))return u=!0,_=ee,C=le,A=ce,"continue"}if(!u){if(He===o)return le++,nt(),_=ee,C=le,A=ce,"continue";if(s(He))return le=0,ee++,nt(),"\r"===He&&"\n"===ht&&ce++,_=ee,C=le,A=ce,"continue"}r[ee][le]+=He,_=ee,C=le,A=ce},x=0,k=0,W=0;W<d.length;W++)c(x,k,W),x=_,k=C,W=A;return r}});function Mi(){return void 0===Eu&&(Eu=!!document.documentMode),Eu}function fc(){return void 0===sd&&(sd=!Mi()&&!!window.StyleMedia),sd}function Su(){return void 0===ci&&(ci=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ci}function As(){if(void 0===Ll){var d=window;Ll=!!d.chrome&&(!!d.chrome.webstore||!!d.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Ll}function or(){if(void 0===Lo){var d=window;Lo=void 0!==d.InstallTrigger}return Lo}function Ra(){return void 0===gr&&(gr=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),gr}function Gl(d){if(!d)return null;var o=d.tabIndex,r=d.getAttribute("tabIndex");return Mi()&&0===o&&null===r?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[d.nodeName.toLowerCase()]?"0":null:-1!==o||null!==r&&(""!==r||or())?o.toString():null}function un(){if(!document.body)return-1;var d=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var s=2*d;if(r.style.height=s+"px",s>o||r.clientHeight!==s)break;d=s}return document.body.removeChild(r),d}function ad(){return null==Aa&&ap(),Aa}function ap(){var d=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",d.appendChild(o);var r=o.offsetWidth-o.clientWidth;0===r&&0===o.clientWidth&&(r=null),o.parentNode&&o.parentNode.removeChild(o),null!=r&&(Aa=r,Ta=0===r)}function ld(){return null==Ta&&ap(),Ta}function gc(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Jd(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var tt,dl=Object.freeze({__proto__:null,isBrowserIE:Mi,isBrowserEdge:fc,isBrowserSafari:Su,isBrowserChrome:As,isBrowserFirefox:or,isIOSUserAgent:Ra,getTabIndex:Gl,getMaxDivHeight:un,getScrollbarWidth:ad,isInvisibleScrollbar:ld,hasOverflowScrolling:function(){var d=["webkit","moz","o","ms"],o=document.createElement("div"),s=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",d.map(function(A){return"-"+A+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var c=window.getComputedStyle(o);if("touch"===c.overflowScrolling&&(s=!0),!s)for(var _=0,C=d;_<C.length;_++)if("touch"===c[C[_]+"OverflowScrolling"]){s=!0;break}return o.parentNode&&o.parentNode.removeChild(o),s},getBodyWidth:gc,getBodyHeight:Jd});function ut(d,o){if(d&&o&&0!==o.length){if(o.indexOf(" ")>=0)return void o.split(" ").forEach(function(s){return ut(d,s)});if(d.classList)d.classList.add(o);else if(d.className&&d.className.length>0){var r=d.className.split(" ");r.indexOf(o)<0&&(r.push(o),d.setAttribute("class",r.join(" ")))}else d.setAttribute("class",o);return d}}function Cr(d,o){if(d&&o&&0!==o.length){if(o.indexOf(" ")>=0)return void o.split(" ").forEach(function(s){return Cr(d,s)});if(d.classList)d.classList.remove(o);else if(d.className&&d.className.length>0){var r=d.className.split(" ").filter(function(s){return s!==o}).join(" ");d.setAttribute("class",r)}}}function vt(d,o,r){r?ut(d,o):Cr(d,o)}function Rr(d,o){if(d.classList)return d.classList.contains(o);if(d.className){var r=d.className===o,s=d.className.indexOf(" "+o+" ")>=0,u=0===d.className.indexOf(o+" "),c=d.className.lastIndexOf(" "+o)===d.className.length-o.length-1;return r||s||u||c}return!1}function io(d){var o=Element.prototype.matches||Element.prototype.msMatchesSelector,r=o.call(d,Ee.INPUT_SELECTOR),s=o.call(d,Ee.FOCUSABLE_EXCLUDE),u=Oa(d);return r&&!s&&u}function di(d,o){vt(d,"ag-hidden",!o)}function mc(d,o){vt(d,"ag-invisible",!o)}function Du(d,o){var r="disabled",s=o?function(u){return u.setAttribute(r,"")}:function(u){return u.removeAttribute(r)};s(d),Au(d.querySelectorAll("input"),function(u){return s(u)})}function _c(d,o,r){for(var s=0;d;){if(Rr(d,o))return!0;if(d=d.parentElement,r&&++s>r)break}return!1}function Ia(d){var o=window.getComputedStyle(d),s=o.width,u=o.paddingTop,c=o.paddingRight,_=o.paddingBottom,C=o.paddingLeft,A=o.marginTop,x=o.marginRight,k=o.marginBottom,W=o.marginLeft,ee=o.boxSizing;return{height:parseFloat(o.height),width:parseFloat(s),paddingTop:parseFloat(u),paddingRight:parseFloat(c),paddingBottom:parseFloat(_),paddingLeft:parseFloat(C),marginTop:parseFloat(A),marginRight:parseFloat(x),marginBottom:parseFloat(k),marginLeft:parseFloat(W),boxSizing:ee}}function xa(d){var o=Ia(d);return"border-box"===o.boxSizing?o.height-o.paddingTop-o.paddingBottom:o.height}function Ki(d){var o=Ia(d);return"border-box"===o.boxSizing?o.width-o.paddingLeft-o.paddingRight:o.width}function Go(d){var o=Ia(d);return Math.ceil(d.offsetHeight+(o.marginBottom+o.marginTop))}function Bl(d){var o=Ia(d);return Math.ceil(d.offsetWidth+(o.marginLeft+o.marginRight))}function ro(){if("boolean"==typeof tt)return tt;var d=document.createElement("div");return d.style.direction="rtl",d.style.width="1px",d.style.height="1px",d.style.position="fixed",d.style.top="0px",d.style.overflow="hidden",d.dir="rtl",d.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(d),d.scrollLeft=1,tt=0===Math.floor(d.scrollLeft),document.body.removeChild(d),tt}function Ir(d,o){var r=d.scrollLeft;return o&&(r=Math.abs(r),As()&&!ro()&&(r=d.scrollWidth-d.clientWidth-r)),r}function yc(d,o,r){r&&(ro()?o*=-1:(Su()||As())&&(o=d.scrollWidth-d.clientWidth-o)),d.scrollLeft=o}function oo(d){for(;d&&d.firstChild;)d.removeChild(d.firstChild)}function ia(d){d&&d.parentNode&&d.parentNode.removeChild(d)}function Oa(d){return null!==d.offsetParent}function Bo(d){var o=document.createElement("div");return o.innerHTML=(d||"").trim(),o.firstChild}function Vl(d){return d&&d.clientHeight?d.clientHeight:0}function cd(d){return d&&d.clientWidth?d.clientWidth:0}function hl(d,o,r){r&&r.nextSibling===o||(r?r.nextSibling?d.insertBefore(o,r.nextSibling):d.appendChild(o):d.firstChild&&d.firstChild!==o&&d.insertAdjacentElement("afterbegin",o))}function th(d,o){for(var r=0;r<o.length;r++){var s=o[r],u=d.children[r];u!==s&&d.insertBefore(s,u)}}function nh(d,o,r){r?r.insertAdjacentElement("afterend",o):d.firstChild?d.insertAdjacentElement("afterbegin",o):d.appendChild(o)}function ih(d,o){!o||Object.keys(o).forEach(function(r){var s=cc(r);s&&(d.style[s]=o[r])})}function ra(d){return d.clientWidth<d.scrollWidth}function xf(d){return d.clientHeight<d.scrollHeight}function Tu(d,o){"flex"===o?(d.style.removeProperty("width"),d.style.removeProperty("minWidth"),d.style.removeProperty("maxWidth"),d.style.flex="1 1 auto"):Pi(d,o)}function Pi(d,o){o=dd(o),d.style.width=o.toString(),d.style.maxWidth=o.toString(),d.style.minWidth=o.toString()}function Ri(d,o){o=dd(o),d.style.height=o.toString(),d.style.maxHeight=o.toString(),d.style.minHeight=o.toString()}function dd(d){return"number"==typeof d?d+"px":d}function Of(d){return"function"==typeof Node?d instanceof Node:d&&"object"==typeof d&&"number"==typeof d.nodeType&&"string"==typeof d.nodeName}function Mf(d){return"function"==typeof HTMLElement?d instanceof HTMLElement:d&&Gn(d)&&1===d.nodeType&&"string"==typeof d.nodeName}function pl(d){return Of(d)||Mf(d)}function Pf(d){if(null==d)return[];var o=[];return Au(d,function(r){return o.push(r)}),o}function Ma(d,o){if(d)for(var r=0;r<d.length;r++){var s=d[r];o(s.name,s.value)}}function Rs(d,o,r){null==r?d.removeAttribute(o):d.setAttribute(o,r.toString())}function Au(d,o){if(null!=d)for(var r=0;r<d.length;r++)o(d[r])}var mr=Object.freeze({__proto__:null,addCssClass:ut,removeCssClass:Cr,addOrRemoveCssClass:vt,radioCssClass:function(d,o,r){for(var s=d.parentElement,u=s&&s.firstChild;u;)o&&vt(u,o,u===d),r&&vt(u,r,u!==d),u=u.nextSibling},containsClass:Rr,isFocusableFormField:io,setDisplayed:di,setVisible:mc,setDisabled:Du,isElementChildOfClass:_c,getElementSize:Ia,getInnerHeight:xa,getInnerWidth:Ki,getAbsoluteHeight:Go,getAbsoluteWidth:Bl,isRtlNegativeScroll:ro,getScrollLeft:Ir,setScrollLeft:yc,clearElement:oo,removeElement:function(d,o){ia(d.querySelector(o))},removeFromParent:ia,isVisible:Oa,loadTemplate:Bo,appendHtml:function(d,o){d.lastChild?d.insertAdjacentHTML("afterbegin",o):d.innerHTML=o},getElementAttribute:function(d,o){return d.attributes&&d.attributes[o]?d.attributes[o].value:null},offsetHeight:Vl,offsetWidth:cd,ensureDomOrder:hl,setDomChildOrder:th,insertWithDomOrder:nh,prependDC:function(d,o){Q(d.firstChild)?d.insertBefore(o,d.firstChild):d.appendChild(o)},addStylesToElement:ih,isHorizontalScrollShowing:ra,isVerticalScrollShowing:xf,setElementWidth:Tu,setFixedWidth:Pi,setElementHeight:function(d,o){"flex"===o?(d.style.removeProperty("height"),d.style.removeProperty("minHeight"),d.style.removeProperty("maxHeight"),d.style.flex="1 1 auto"):Ri(d,o)},setFixedHeight:Ri,formatSize:dd,isNode:Of,isElement:Mf,isNodeOrElement:pl,copyNodeList:Pf,iterateNamedNodeMap:Ma,setCheckboxState:function(d,o){"boolean"==typeof o?(d.checked=o,d.indeterminate=!1):d.indeterminate=!0},addOrRemoveAttribute:Rs,nodeListForEach:Au}),bc=Object.freeze({__proto__:null,getNameOfClass:function(d){var r=d.toString(),s=/function (.{1,})\(/.exec(r);return s&&s.length>1?s[1]:""},findLineByLeastSquares:function(d){var o=d.length,r=0;if(o<=1)return d;for(var s=0;s<d.length;s++){var u=d[s],c=u.toString().split("e-");c.length>1?r=Math.max(r,parseInt(c[1],10)):Math.floor(u)!==u&&(r=Math.max(r,u.toString().split(".")[1].length))}for(var _=0,C=0,A=0,x=0,k=0,W=0;W<o;W++)_+=W,C+=k=d[W],x+=W*W,A+=W*k;var ee=(o*A-_*C)/(o*x-_*_),le=C/o-ee*_/o,ce=[];for(W=0;W<=o;W++)ce.push(parseFloat((W*ee+le).toFixed(r)));return ce},cssStyleObjectToMarkup:function(d){if(!d)return"";var o=[];return rn(d,function(r,s){var u=Ds(r);o.push(u+": "+s+";")}),o.join(" ")},message:function(d){var o=document.createElement("div"),r=document.querySelector("#__ag__message");o.innerHTML=d,r||(r=Bo('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(r)),r.insertBefore(o,r.children[0])},bindCellRendererToHtmlElement:function(d,o){d.then(function(r){var s=r.getGui();null!=s&&("object"==typeof s?o.appendChild(s):o.innerHTML=s)})}});function Ui(d,o,r){d.setAttribute(oh(o),r.toString())}function Hl(d,o){d.removeAttribute(oh(o))}function oh(d){return"aria-"+d}function Vo(d,o){o?d.setAttribute("role",o):d.removeAttribute("role")}function Xg(d){return d.isSortAscending()?"ascending":d.isSortDescending()?"descending":"none"}function up(d){return parseInt(d.getAttribute("aria-posinset"),10)}function Eo(d,o){var r="label";o?Ui(d,r,o):Hl(d,r)}function Ec(d,o){var r="labelledby";o?Ui(d,r,o):Hl(d,r)}function sh(d,o){var r="describedby";o?Ui(d,r,o):Hl(d,r)}function Is(d,o){Ui(d,"disabled",o)}function hd(d,o){Ui(d,"expanded",o)}function Sc(d,o){Ui(d,"setsize",o)}function Ru(d,o){Ui(d,"posinset",o)}function q_(d,o){Ui(d,"multiselectable",o)}function dp(d,o){Ui(d,"rowcount",o)}function hp(d,o){Ui(d,"rowindex",o)}function pp(d,o){Ui(d,"colcount",o)}function Dc(d,o){Ui(d,"colindex",o)}function Tc(d,o){Ui(d,"colspan",o)}function Ul(d,o){Ui(d,"sort",o)}function Ac(d){Hl(d,"sort")}function zr(d,o){var r="selected";o?Ui(d,r,o):Hl(d,r)}function Ho(d,o){Ui(d,"checked",void 0===o?"mixed":o)}var so=Object.freeze({__proto__:null,setAriaRole:Vo,getAriaSortState:Xg,getAriaLevel:function(d){return parseInt(d.getAttribute("aria-level"),10)},getAriaPosInSet:up,getAriaDescribedBy:function(d){return d.getAttribute("aria-describedby")||""},setAriaLabel:Eo,setAriaLabelledBy:Ec,setAriaDescribedBy:sh,setAriaLevel:function(d,o){Ui(d,"level",o)},setAriaDisabled:Is,setAriaExpanded:hd,removeAriaExpanded:function(d){Hl(d,"expanded")},setAriaSetSize:Sc,setAriaPosInSet:Ru,setAriaMultiSelectable:q_,setAriaRowCount:dp,setAriaRowIndex:hp,setAriaColCount:pp,setAriaColIndex:Dc,setAriaColSpan:Tc,setAriaSort:Ul,removeAriaSort:Ac,setAriaSelected:zr,setAriaChecked:Ho});function Xn(d,o,r){if(void 0===o&&(o=!0),void 0===r&&(r="-"),!d)return null;var s=[d.getFullYear(),d.getMonth()+1,d.getDate()].map(function(u){return Zd(u,2)}).join(r);return o&&(s+=" "+[d.getHours(),d.getMinutes(),d.getSeconds()].map(function(u){return Zd(u,2)}).join(":")),s}function Pa(d){if(!d)return null;var o=d.split(" "),r=o[0],s=o[1];if(!r)return null;var u=r.split("-").map(function(le){return parseInt(le,10)});if(3!==u.filter(function(le){return!isNaN(le)}).length)return null;var c=u[0],_=u[1],C=u[2],A=new Date(c,_-1,C);if(A.getFullYear()!==c||A.getMonth()!==_-1||A.getDate()!==C)return null;if(!s||"00:00:00"===s)return A;var x=s.split(":").map(function(le){return parseInt(le,10)}),k=x[0],W=x[1],ee=x[2];return k>=0&&k<24&&A.setHours(k),W>=0&&W<60&&A.setMinutes(W),ee>=0&&ee<60&&A.setSeconds(ee),A}var fp=Object.freeze({__proto__:null,serialiseDate:Xn,parseDateTimeFromString:Pa});function Vt(d,o,r){var s={},u=d.filter(function(c){return!o.some(function(_){return _===c})});return u.length>0&&u.forEach(function(c){return s[c]=Ci(c,r)}),s}function Ci(d,o,r,s){var u=s?pd:ei,c=o.map(function(_){return{value:_,relevance:u(d.toLowerCase(),_.toLocaleLowerCase())}});return c.sort(function(_,C){return C.relevance-_.relevance}),r&&(c=c.filter(function(_){return 0!==_.relevance})),c.map(function(_){return _.value})}function Wl(d){var s,u,c,o=d.toLowerCase(),r=new Array(o.length-1);for(s=u=0,c=r.length;u<=c;s=u+=1)r[s]=o.slice(s,s+2);return r}function ei(d,o){if(0===d.length&&0===o.length)return 0;var _,C,r=Wl(d),s=Wl(o),u=r.length+s.length,c=0;for(_=0,C=r.length;_<C;_++){var k,A=r[_],x=void 0;for(x=0,k=s.length;x<k;x++)A===s[x]&&c++}return c>0?2*c/u:0}function pd(d,o){for(var r=d.replace(/\s/g,""),s=o.replace(/\s/g,""),u=0,c=0,_=0;_<r.length;_++){var C=s.indexOf(r[_],c);-1!==C&&(u+=100-100*(c=C)/1e4*100)}return u}var wr=Object.freeze({__proto__:null,fuzzyCheckStrings:Vt,fuzzySuggestions:Ci,get_bigrams:Wl,string_distances:ei,string_weighted_distances:pd}),ah={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function ao(d,o,r){var s=Wi(d,o,r);if(s&&s.className.indexOf("ag-icon")>-1)return s;var u=document.createElement("span");return u.appendChild(s),u}function Wi(d,o,r,s){var u=null,c=r&&r.getColDef().icons;if(c&&(u=c[d]),o&&!u){var _=o.getIcons();_&&(u=_[d])}if(!u){var A=document.createElement("span"),x=ah[d];return x||(s?x=d:(console.warn("AG Grid: Did not find icon "+d),x="")),A.setAttribute("class","ag-icon ag-icon-"+x),A.setAttribute("unselectable","on"),Vo(A,"presentation"),A}var C=void 0;if("function"==typeof u)C=u();else{if("string"!=typeof u)throw new Error("icon from grid options needs to be a string or a function");C=u}return"string"==typeof C?Bo(C):pl(C)?C:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var fd=Object.freeze({__proto__:null,iconNameClassMap:ah,createIcon:ao,createIconNoSpan:Wi});function ds(d,o){return(d.which||d.keyCode)===o}function jl(d){if(d.altKey||d.ctrlKey||d.metaKey)return!1;var o=1===d.key.length,r=function(d){return(fc()||Mi())&&"Del"===d.key&&46===d.charCode}(d);return o||r}function lo(d,o,r,s,u){var c=d.getSuppressKeyboardEventFunc(),_=s?s.getColDef().suppressKeyboardEvent:void 0;if(!c&&!_)return!1;var C={event:o,editing:u,column:s,api:d.getApi(),node:r,data:r.data,colDef:s.getColDef(),context:d.getContext(),columnApi:d.getColumnApi()};return!(!_||!_(C))||!!c&&c(C)}function hs(d,o,r,s){var u=s.getDefinition(),c=u&&u.suppressHeaderKeyboardEvent;return!!Q(c)&&!!c({api:d.getApi(),columnApi:d.getColumnApi(),context:d.getContext(),colDef:u,column:s,headerRowIndex:r,event:o})}var xs=Object.freeze({__proto__:null,isKeyPressed:ds,isEventFromPrintableCharacter:jl,isUserSuppressingKeyboardEvent:lo,isUserSuppressingHeaderKeyboardEvent:hs});function So(d,o,r){if(0===r)return!1;var s=Math.abs(d.clientX-o.clientX),u=Math.abs(d.clientY-o.clientY);return Math.max(s,u)<=r}var Ff=Object.freeze({__proto__:null,normalizeWheel:function(d){var u=0,c=0,_=0,C=0;return"detail"in d&&(c=d.detail),"wheelDelta"in d&&(c=-d.wheelDelta/120),"wheelDeltaY"in d&&(c=-d.wheelDeltaY/120),"wheelDeltaX"in d&&(u=-d.wheelDeltaX/120),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(u=c,c=0),_=10*u,C=10*c,"deltaY"in d&&(C=d.deltaY),"deltaX"in d&&(_=d.deltaX),(_||C)&&d.deltaMode&&(1==d.deltaMode?(_*=40,C*=40):(_*=800,C*=800)),_&&!u&&(u=_<1?-1:1),C&&!c&&(c=C<1?-1:1),{spinX:u,spinY:c,pixelX:_,pixelY:C}},isLeftClick:function(d){return"buttons"in d?1==d.buttons:1==(d.which||d.button)},areEventsNear:So}),gd=Object.freeze({__proto__:null,sortRowNodesByOrder:function(d,o){if(d){for(var r=function(C,A){var x=o[C.id],k=o[A.id],W=void 0!==x,ee=void 0!==k;return W&&ee?x-k:W||ee?W?1:-1:C.__objectId-A.__objectId},c=!1,_=0;_<d.length-1;_++)if(r(d[_],d[_+1])>0){c=!0;break}c&&d.sort(r)}},traverseNodesWithKey:function(d,o){var r=[];!function s(u){!u||u.forEach(function(c){if(c.group||c.hasChildren()){r.push(c.key);var _=r.join("|");o(c,_),s(c.childrenAfterGroup),r.pop()}})}(d)}});function uh(d){var o=new Set;return d.forEach(function(r){return o.add(r)}),o}var Lf=Object.freeze({__proto__:null,convertToSet:uh}),xr=function(){return(xr=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Pt=xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr(xr({},bc),so),Li),dl),na),fp),mr),nd),nr),wr),Xe),fd),xs),rp),Ff),oi),yt),gd),Lf),$_),Os=function(){function d(o,r){void 0===o&&(o=0),void 0===r&&(r=1),this.nextValue=o,this.step=r}return d.prototype.next=function(){var o=this.nextValue;return this.nextValue+=this.step,o},d.prototype.peek=function(){return this.nextValue},d.prototype.skip=function(o){this.nextValue+=o},d}();!function(d){d[d.IN_PROGRESS=0]="IN_PROGRESS",d[d.RESOLVED=1]="RESOLVED"}(q.Ws0||(q.Ws0={}));var Uo=function(){function d(o){var r=this;this.status=q.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],o(function(s){return r.onDone(s)},function(s){return r.onReject(s)})}return d.all=function(o){return new d(function(r){var s=o.length,u=new Array(s);$t(o,function(c,_){c.then(function(C){u[_]=C,0==--s&&r(u)})})})},d.resolve=function(o){return void 0===o&&(o=null),new d(function(r){return r(o)})},d.prototype.then=function(o){var r=this;return new d(function(s){r.status===q.Ws0.RESOLVED?s(o(r.resolution)):r.waiters.push(function(u){return s(o(u))})})},d.prototype.resolveNow=function(o,r){return this.status===q.Ws0.RESOLVED?r(this.resolution):o},d.prototype.onDone=function(o){this.status=q.Ws0.RESOLVED,this.resolution=o,$t(this.waiters,function(r){return r(o)})},d.prototype.onReject=function(o){console.warn("TBI")},d}(),tm=(function(){function d(){this.timestamp=(new Date).getTime()}d.prototype.print=function(o){var r=(new Date).getTime()-this.timestamp;console.info(o+" = "+r),this.timestamp=(new Date).getTime()}}(),function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}()),xu=function(){return(xu=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},ps=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Do=(()=>(function(d){d[d.NOTHING=0]="NOTHING",d[d.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",d[d.SHOWING=2]="SHOWING"}(Do||(Do={})),Do))(),Ji=function(d){function o(r){var s=d.call(this)||this;return s.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,s.SHOW_QUICK_TOOLTIP_DIFF=1e3,s.FADE_OUT_TOOLTIP_TIMEOUT=1e3,s.state=Do.NOTHING,s.tooltipInstanceCount=0,s.tooltipMouseTrack=!1,s.parentComp=r,s}return tm(o,d),o.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var r=this.parentComp.getGui();this.addManagedListener(r,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(r,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this))},o.prototype.destroy=function(){this.setToDoNothing(),d.prototype.destroy.call(this)},o.prototype.onMouseEnter=function(r){if(!Ra()&&this.state==Do.NOTHING){var s=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.lastMouseEvent=r,this.state=Do.WAITING_TO_SHOW}},o.prototype.onMouseLeave=function(){this.setToDoNothing()},o.prototype.onKeyDown=function(){this.setToDoNothing()},o.prototype.setToDoNothing=function(){this.state===Do.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Do.NOTHING},o.prototype.onMouseMove=function(r){this.lastMouseEvent=r,this.tooltipMouseTrack&&this.state===Do.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},o.prototype.onMouseDown=function(){this.setToDoNothing()},o.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),o.lastTooltipHideTime=(new Date).getTime()),this.state=Do.NOTHING},o.prototype.destroyTooltipComp=function(){var r=this;ut(this.tooltipComp.getGui(),"ag-tooltip-hiding");var s=this.tooltipPopupDestroyFunc,u=this.tooltipComp;window.setTimeout(function(){s(),r.getContext().destroyBean(u)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},o.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-o.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},o.prototype.showTooltip=function(){var r=xu({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(Q(r.value)){this.state=Do.SHOWING,this.tooltipInstanceCount++;var s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(r).newAgStackInstance().then(s)}else this.setToDoNothing()},o.prototype.newTooltipComponentCallback=function(r,s){if(this.state!==Do.SHOWING||this.tooltipInstanceCount!==r)this.getContext().destroyBean(s);else{var c=s.getGui();this.tooltipComp=s,Rr(c,"ag-tooltip")||ut(c,"ag-tooltip-custom"),this.gridOptionsWrapper.isReactUi()&&ut(c,"ag-tooltip-reactui");var _=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({eChild:c,ariaLabel:_("ariaLabelTooltip","Tooltip")});C&&(this.tooltipPopupDestroyFunc=C.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},o.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},o.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},ps([Y("popupService")],o.prototype,"popupService",void 0),ps([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ps([Y("columnApi")],o.prototype,"columnApi",void 0),ps([Y("gridApi")],o.prototype,"gridApi",void 0),ps([se],o.prototype,"postConstruct",null),o}(ot),Fa=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ka=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Jv=new Os,Sn=function(d){function o(r){var s=d.call(this)||this;return s.displayed=!0,s.visible=!0,s.compId=Jv.next(),s.cssClassStates={},r&&s.setTemplate(r),s}return Fa(o,d),o.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},o.prototype.getCompId=function(){return this.compId},o.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},o.prototype.setTooltip=function(r){var s=this;this.tooltipText!=r&&(this.tooltipText&&(s.usingBrowserTooltips?s.getGui().removeAttribute("title"):s.tooltipFeature=s.destroyBean(s.tooltipFeature)),null!=r&&(this.tooltipText=r,this.tooltipText&&(s.usingBrowserTooltips?s.getGui().setAttribute("title",s.tooltipText):s.tooltipFeature=s.createBean(new Ji(s)))))},o.prototype.createChildComponentsFromTags=function(r,s){var u=this;$t(Pf(r.childNodes),function(_){if(_ instanceof HTMLElement){var C=u.createComponentFromElement(_,function(x){x.getGui()&&u.copyAttributesFromNode(_,x.getGui())},s);if(C){if(C.addItems&&_.children.length){u.createChildComponentsFromTags(_,s);var A=Array.prototype.slice.call(_.children);C.addItems(A)}u.swapComponentForNode(C,r,_)}else _.childNodes&&u.createChildComponentsFromTags(_,s)}})},o.prototype.createComponentFromElement=function(r,s,u){var c=r.nodeName,_=u?u[r.getAttribute("ref")]:void 0,C=this.agStackComponentsRegistry.getComponentClass(c);if(C){o.elementGettingCreated=r;var A=new C(_);return A.setParentComponent(this),this.createBean(A,null,s),A}return null},o.prototype.copyAttributesFromNode=function(r,s){Ma(r.attributes,function(u,c){return s.setAttribute(u,c)})},o.prototype.swapComponentForNode=function(r,s,u){var c=r.getGui();s.replaceChild(c,u),s.insertBefore(document.createComment(u.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,r)),this.swapInComponentForQuerySelectors(r,u)},o.prototype.swapInComponentForQuerySelectors=function(r,s){var u=this;this.iterateOverQuerySelectors(function(c){u[c.attributeName]===s&&(u[c.attributeName]=r)})},o.prototype.iterateOverQuerySelectors=function(r){for(var s=Object.getPrototypeOf(this);null!=s;){var u=s.__agComponentMetaData,c=an(s.constructor);u&&u[c]&&u[c].querySelectors&&$t(u[c].querySelectors,function(_){return r(_)}),s=Object.getPrototypeOf(s)}},o.prototype.setTemplate=function(r,s){var u=Bo(r);this.setTemplateFromElement(u,s)},o.prototype.setTemplateFromElement=function(r,s){this.eGui=r,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)},o.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},o.prototype.wireQuerySelectors=function(){var r=this;if(this.eGui){var s=this;this.iterateOverQuerySelectors(function(u){var c=function(A){return s[u.attributeName]=A};if(u.refSelector&&r.eGui.getAttribute("ref")===u.refSelector)c(r.eGui);else{var C=r.eGui.querySelector(u.querySelector);C&&c(C.__agComponent||C)}})}},o.prototype.getGui=function(){return this.eGui},o.prototype.getFocusableElement=function(){return this.eGui},o.prototype.setParentComponent=function(r){this.parentComponent=r},o.prototype.getParentComponent=function(){return this.parentComponent},o.prototype.setGui=function(r){this.eGui=r},o.prototype.queryForHtmlElement=function(r){return this.eGui.querySelector(r)},o.prototype.queryForHtmlInputElement=function(r){return this.eGui.querySelector(r)},o.prototype.appendChild=function(r,s){if(s||(s=this.eGui),null!=r)if(pl(r))s.appendChild(r);else{var u=r;s.appendChild(u.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,u))}},o.prototype.isDisplayed=function(){return this.displayed},o.prototype.setVisible=function(r){r!==this.visible&&(this.visible=r,mc(this.eGui,r))},o.prototype.setDisplayed=function(r){r!==this.displayed&&(this.displayed=r,di(this.eGui,r),this.dispatchEvent({type:o.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},o.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),d.prototype.destroy.call(this)},o.prototype.addGuiEventListener=function(r,s){var u=this;this.eGui.addEventListener(r,s),this.addDestroyFunc(function(){return u.eGui.removeEventListener(r,s)})},o.prototype.addCssClass=function(r){!0!==this.cssClassStates[r]&&(ut(this.eGui,r),this.cssClassStates[r]=!0)},o.prototype.removeCssClass=function(r){!1!==this.cssClassStates[r]&&(Cr(this.eGui,r),this.cssClassStates[r]=!1)},o.prototype.addOrRemoveCssClass=function(r,s){this.cssClassStates[r]!==s&&(vt(this.eGui,r,s),this.cssClassStates[r]=s)},o.prototype.getAttribute=function(r){var s=this.eGui;return s?s.getAttribute(r):null},o.prototype.getRefElement=function(r){return this.queryForHtmlElement('[ref="'+r+'"]')},o.EVENT_DISPLAYED_CHANGED="displayedChanged",ka([Y("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),ka([Ce],o.prototype,"preConstructOnComponent",null),ka([Ce],o.prototype,"createChildComponentsPreConstruct",null),o}(ot);function Ke(d){return $l.bind(this,"[ref="+d+"]",d)}function $l(d,o,r,s,u){null!==d?"number"!=typeof u?function(d,o,r){var s=function(d,o){return d.__agComponentMetaData||(d.__agComponentMetaData={}),d.__agComponentMetaData[o]||(d.__agComponentMetaData[o]={}),d.__agComponentMetaData[o]}(d,an(d.constructor));s[o]||(s[o]=[]),s[o].push(r)}(r,"querySelectors",{attributeName:s,querySelector:d,refSelector:o}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var md=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Rc=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ql=function(d){function o(){return d.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return md(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){this.params=r;var s=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(s+" "+u("ariaFilterInput","Filter Input"))},o.prototype.onParentModelChanged=function(r){var s=this;r?this.params.parentFilterInstance(function(u){if(u.getModelAsString){var c=u.getModelAsString(r);s.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},Rc([Ke("eFloatingFilterText")],o.prototype,"eFloatingFilterText",void 0),Rc([Y("columnModel")],o.prototype,"columnModel",void 0),o}(Sn),_p=function(){function d(o,r,s,u){var c=this;this.alive=!0,this.context=o,this.eParent=u,r.getDateCompDetails(s).newAgStackInstance().then(function(A){c.alive?(c.dateComp=A,A&&(u.appendChild(A.getGui()),A.afterGuiAttached&&A.afterGuiAttached(),c.tempValue&&A.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):o.destroyBean(A)})}return d.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},d.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},d.prototype.setDate=function(o){this.dateComp?this.dateComp.setDate(o):this.tempValue=o},d.prototype.setDisabled=function(o){this.dateComp?this.setDateCompDisabled(o):this.disabled=o},d.prototype.setDisplayed=function(o){di(this.eParent,o)},d.prototype.setInputPlaceholder=function(o){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(o)},d.prototype.setInputAriaLabel=function(o){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(o)},d.prototype.afterGuiAttached=function(o){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(o)},d.prototype.setDateCompDisabled=function(o){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(o)},d}(),Wo=function(){return(Wo=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Ic=function(){function d(){this.customFilterOptions={}}return d.prototype.init=function(o,r){this.filterOptions=o.filterOptions||r,this.mapCustomOptions(),this.selectDefaultItem(o),this.checkForDeprecatedParams()},d.prototype.checkForDeprecatedParams=function(){Pt.some(this.filterOptions,function(o){return"string"!=typeof o&&null!=o.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),Pt.some(this.filterOptions,function(o){return"string"!=typeof o&&null!=o.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},d.prototype.getFilterOptions=function(){return this.filterOptions},d.prototype.mapCustomOptions=function(){var o=this;!this.filterOptions||this.filterOptions.forEach(function(r){if("string"!=typeof r){if(!Ss([["displayKey"],["displayName"],["predicate","test"]],function(C){return!!Un(C,function(A){return null!=r[A]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+C+"'"),!1)}))return void(o.filterOptions=Pt.filter(o.filterOptions,function(C){return C===r})||[]);var c=r.test,_=Wo({},r);null!=c&&null==r.predicate&&(_.predicate=function(C,A){return c(C[0],A)},delete _.test),_.hideFilterInput&&null==_.numberOfInputs&&(_.numberOfInputs=0,delete _.hideFilterInput),o.customFilterOptions[r.displayKey]=_}})},d.prototype.selectDefaultItem=function(o){if(o.defaultOption)this.defaultOption=o.defaultOption;else if(this.filterOptions.length>=1){var r=this.filterOptions[0];"string"==typeof r?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},d.prototype.getDefaultOption=function(){return this.defaultOption},d.prototype.getCustomOption=function(o){return this.customFilterOptions[o]},d}(),To={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},at=function(){function d(){}return d.BACKSPACE=8,d.TAB=9,d.ENTER=13,d.SHIFT=16,d.ESCAPE=27,d.SPACE=32,d.LEFT=37,d.UP=38,d.RIGHT=39,d.DOWN=40,d.DELETE=46,d.A=65,d.C=67,d.V=86,d.D=68,d.Z=90,d.Y=89,d.F2=113,d.PAGE_UP=33,d.PAGE_DOWN=34,d.PAGE_HOME=36,d.PAGE_END=35,d}(),aa=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),_d=function(){return(_d=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},gl=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},L=function(d){function o(r,s){void 0===s&&(s={});var u=d.call(this)||this;return u.eFocusableElement=r,u.callbacks=s,u.callbacks=_d({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var _=u.focusService.findNextFocusableElement(u.eFocusableElement,!1,c.shiftKey);!_||(_.focus(),c.preventDefault())}}},s),u}return aa(o,d),o.prototype.postConstruct=function(){ut(this.eFocusableElement,o.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},o.prototype.addKeyDownListeners=function(r){var s=this;this.addManagedListener(r,"keydown",function(u){if(!u.defaultPrevented&&!fr(u)){if(s.callbacks.shouldStopEventPropagation(u))return void ln(u);u.keyCode===at.TAB?s.callbacks.onTabKeyDown(u):s.callbacks.handleKeyDown&&s.callbacks.handleKeyDown(u)}})},o.FOCUS_MANAGED_CLASS="ag-focus-managed",gl([Y("focusService")],o.prototype,"focusService",void 0),gl([se],o.prototype,"postConstruct",null),o}(ot),B=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),J=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ue=function(d){function o(r){var s=d.call(this)||this;return s.filterNameKey=r,s.applyActive=!1,s.hidePopup=null,s.appliedModel=null,s}return B(o,d),o.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new L(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},o.prototype.handleKeyDown=function(r){},o.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},o.prototype.onFilterChanged=function(){console.warn("AG Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},o.prototype.isFilterActive=function(){return!!this.appliedModel},o.prototype.resetTemplate=function(r){var s='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(s,r)},o.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},o.prototype.init=function(r){var s=this;this.setParams(r),this.resetUiToDefaults(!0).then(function(){s.updateUiVisibility(),s.setupOnBtApplyDebounce()})},o.prototype.setParams=function(r){o.checkForDeprecatedParams(r),this.providedFilterParams=r,this.newRowsActionKeep="keep"===r.newRowsAction||"clear"!==r.newRowsAction&&[Ee.ROW_MODEL_TYPE_SERVER_SIDE,Ee.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=o.isUseApplyButton(r),this.createButtonPanel()},o.prototype.createButtonPanel=function(){var r=this,s=this.providedFilterParams.buttons;if(!(!s||s.length<1||this.isReadOnly())){var u=document.createElement("div");ut(u,"ag-filter-apply-panel"),uh(s).forEach(function(_){return function(_){var C,A;switch(_){case"apply":C=r.translate("applyFilter"),A=function(k){return r.onBtApply(!1,!1,k)};break;case"clear":C=r.translate("clearFilter"),A=function(){return r.onBtClear()};break;case"reset":C=r.translate("resetFilter"),A=function(){return r.onBtReset()};break;case"cancel":C=r.translate("cancelFilter"),A=function(k){r.onBtCancel(k)};break;default:return void console.warn("Unknown button type specified")}var x=Bo('<button\n                    type="button"\n                    ref="'+_+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+C+"\n                </button>");u.appendChild(x),r.addManagedListener(x,"click",A)}(_)}),this.getGui().appendChild(u)}},o.checkForDeprecatedParams=function(r){var s=r.buttons||[];if(!(s.length>0)){var u=r.applyButton,c=r.resetButton;r.clearButton&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),s.push("clear")),c&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),s.push("reset")),u&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),s.push("apply")),r.apply&&(console.warn("AG Grid: as of AG Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),s.push("apply")),r.buttons=s}},o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.setupOnBtApplyDebounce=function(){var r=o.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=St(this.onBtApply.bind(this),r)},o.prototype.getModel=function(){return this.appliedModel},o.prototype.setModel=function(r){var s=this;return(r?this.setModelIntoUi(r):this.resetUiToDefaults()).then(function(){s.updateUiVisibility(),s.applyModel()})},o.prototype.onBtCancel=function(r){var s=this,u=this.getModel(),c=function(){s.onUiChanged(!1,"prevent"),s.providedFilterParams.closeOnApply&&s.close(r)};null!=u?this.setModelIntoUi(u).then(c):this.resetUiToDefaults().then(c)},o.prototype.onBtClear=function(){var r=this;this.resetUiToDefaults().then(function(){return r.onUiChanged()})},o.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},o.prototype.applyModel=function(){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var s=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(s,r)},o.prototype.isModelValid=function(r){return!0},o.prototype.onBtApply=function(r,s,u){void 0===r&&(r=!1),void 0===s&&(s=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:r,afterDataChange:s}),this.providedFilterParams.closeOnApply&&this.applyActive&&!r&&!s&&this.close(u)},o.prototype.onNewRowsLoaded=function(){var r=this;this.newRowsActionKeep||this.resetUiToDefaults().then(function(){return r.appliedModel=null})},o.prototype.close=function(r){if(this.hidePopup){var c,u=r&&r.key;("Enter"===u||"Space"===u)&&(c={keyboardEvent:r}),this.hidePopup(c),this.hidePopup=null}},o.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},o.prototype.onUiChanged=function(r,s){if(void 0===r&&(r=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var u=this.isModelValid(this.getModelFromUi());Du(this.getRefElement("applyFilterButton"),!u)}r&&!s||"immediately"===s?this.onBtApply(r):(!this.applyActive&&!s||"debounce"===s)&&this.onBtApplyDebounce()},o.prototype.afterGuiAttached=function(r){null!=r&&(this.hidePopup=r.hidePopup)},o.getDebounceMs=function(r,s){return o.isUseApplyButton(r)?(null!=r.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=r.debounceMs?r.debounceMs:s},o.isUseApplyButton=function(r){return o.checkForDeprecatedParams(r),!!r.buttons&&r.buttons.indexOf("apply")>=0},o.prototype.destroy=function(){this.hidePopup=null,d.prototype.destroy.call(this)},o.prototype.translate=function(r){return this.gridOptionsWrapper.getLocaleTextFunc()(r,To[r])},o.prototype.getCellValue=function(r){return this.providedFilterParams.valueGetter(r)},J([Y("rowModel")],o.prototype,"rowModel",void 0),J([se],o.prototype,"postConstruct",null),o}(Sn),Te=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),it=function(d){function o(r,s){var u=d.call(this,s)||this;return u.labelSeparator="",u.labelAlignment="left",u.label="",u.config=r||{},u}return Te(o,d),o.prototype.postConstruct=function(){ut(this.getGui(),"ag-labeled"),ut(this.eLabel,"ag-label");var r=this.config,s=r.labelSeparator,u=r.label,c=r.labelWidth,_=r.labelAlignment;null!=s&&this.setLabelSeparator(s),null!=u&&this.setLabel(u),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(_||this.labelAlignment),this.refreshLabel()},o.prototype.refreshLabel=function(){oo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(ut(this.eLabel,"ag-hidden"),Vo(this.eLabel,"presentation")):(Cr(this.eLabel,"ag-hidden"),Vo(this.eLabel,null))},o.prototype.setLabelSeparator=function(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this},o.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},o.prototype.getLabel=function(){return this.label},o.prototype.setLabel=function(r){return this.label===r||(this.label=r,this.refreshLabel()),this},o.prototype.setLabelAlignment=function(r){var s=this.getGui();return vt(s,"ag-label-align-left","left"===r),vt(s,"ag-label-align-right","right"===r),vt(s,"ag-label-align-top","top"===r),this},o.prototype.setLabelWidth=function(r){return null==this.label||Tu(this.eLabel,r),this},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"postConstruct",null),o}(Sn),xt=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),bt=function(d){function o(r,s,u){var c=d.call(this,r,s)||this;return c.className=u,c.disabled=!1,c}return xt(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.className&&ut(this.getGui(),this.className)},o.prototype.onValueChange=function(r){var s=this;return this.addManagedListener(this,o.EVENT_CHANGED,function(){return r(s.getValue())}),this},o.prototype.getWidth=function(){return this.getGui().clientWidth},o.prototype.setWidth=function(r){return Pi(this.getGui(),r),this},o.prototype.getPreviousValue=function(){return this.previousValue},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(r,s){return this.value===r||(this.previousValue=this.value,this.value=r,s||this.dispatchEvent({type:o.EVENT_CHANGED})),this},o.prototype.setDisabled=function(r){r=!!r;var s=this.getGui();return Du(s,r),vt(s,"ag-disabled",r),this.disabled=r,this},o.prototype.isDisabled=function(){return!!this.disabled},o.EVENT_CHANGED="valueChange",o}(it),Nn=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),gi=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Xi=function(d){function o(r,s,u,c){var _=d.call(this,r,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(c?'aria-haspopup="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',s)||this;return _.pickerIcon=u,_.isPickerDisplayed=!1,_.isDestroyingPicker=!1,_.skipClick=!1,_}return Nn(o,d),o.prototype.postConstruct=function(){var r=this;d.prototype.postConstruct.call(this);var s=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",s),sh(this.eWrapper,s);var u=function(){r.skipClick?r.skipClick=!1:r.isDisabled()||(r.pickerComponent=r.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(C){!r.skipClick&&r.pickerComponent&&r.pickerComponent.isAlive()&&Oa(r.pickerComponent.getGui())&&c.contains(C.target)&&(r.skipClick=!0)}),this.addManagedListener(c,"keydown",function(C){switch(C.keyCode){case at.UP:case at.DOWN:case at.ENTER:case at.SPACE:u();case at.ESCAPE:r.isPickerDisplayed&&C.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",u),this.addManagedListener(this.eLabel,"click",u),this.pickerIcon){var _=Wi(this.pickerIcon,this.gridOptionsWrapper);_&&this.eIcon.appendChild(_)}},o.prototype.refreshLabel=function(){Q(this.getLabel())?Ec(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),d.prototype.refreshLabel.call(this)},o.prototype.setAriaLabel=function(r){return Eo(this.eWrapper,r),this},o.prototype.setInputWidth=function(r){return Tu(this.eWrapper,r),this},o.prototype.getFocusableElement=function(){return this.eWrapper},gi([Ke("eLabel")],o.prototype,"eLabel",void 0),gi([Ke("eWrapper")],o.prototype,"eWrapper",void 0),gi([Ke("eDisplayField")],o.prototype,"eDisplayField",void 0),gi([Ke("eIcon")],o.prototype,"eIcon",void 0),o}(bt),gs=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xc=function(d){function o(r){void 0===r&&(r="default");var s=d.call(this,'<div class="ag-list ag-'+r+'-list" role="listbox"></div>')||this;return s.cssIdentifier=r,s.options=[],s.itemEls=[],s}return gs(o,d),o.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},o.prototype.handleKeyDown=function(r){var s=r.keyCode;switch(s){case at.ENTER:if(this.highlightedEl){var u=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(u)}else this.setValue(this.getValue());break;case at.DOWN:case at.UP:var c=s===at.DOWN,_=void 0;if(r.preventDefault(),this.highlightedEl){var A=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);A=Math.min(Math.max(A,0),this.itemEls.length-1),_=this.itemEls[A]}else _=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(_)}},o.prototype.addOptions=function(r){var s=this;return r.forEach(function(u){return s.addOption(u)}),this},o.prototype.addOption=function(r){var s=r.value,c=ls(r.text||s);return this.options.push({value:s,text:c}),this.renderOption(s,c),this},o.prototype.renderOption=function(r,s){var u=this,c=document.createElement("div");Vo(c,"option"),ut(c,"ag-list-item"),ut(c,"ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+s+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return u.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return u.clearHighlighted()}),this.addManagedListener(c,"click",function(){return u.setValue(r)}),this.getGui().appendChild(c)},o.prototype.setValue=function(r,s){if(this.value===r)return this.fireItemSelected(),this;if(null==r)return this.reset(),this;var u=bs(this.options,function(_){return _.value===r});if(-1!==u){var c=this.options[u];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[u]),s||this.fireChangeEvent()}return this},o.prototype.setValueByIndex=function(r){return this.setValue(this.options[r].value)},o.prototype.getValue=function(){return this.value},o.prototype.getDisplayValue=function(){return this.displayValue},o.prototype.refreshHighlighted=function(){var r=this;this.clearHighlighted();var s=bs(this.options,function(u){return u.value===r.value});-1!==s&&this.highlightItem(this.itemEls[s])},o.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},o.prototype.highlightItem=function(r){!r.offsetParent||(this.clearHighlighted(),this.highlightedEl=r,ut(this.highlightedEl,o.ACTIVE_CLASS),zr(this.highlightedEl,!0),this.highlightedEl.focus())},o.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(Cr(this.highlightedEl,o.ACTIVE_CLASS),zr(this.highlightedEl,!1),this.highlightedEl=null)},o.prototype.fireChangeEvent=function(){this.dispatchEvent({type:bt.EVENT_CHANGED}),this.fireItemSelected()},o.prototype.fireItemSelected=function(){this.dispatchEvent({type:o.EVENT_ITEM_SELECTED})},o.EVENT_ITEM_SELECTED="selectedItem",o.ACTIVE_CLASS="ag-active-item",function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"init",null),o}(Sn),Or=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ou=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},uo=function(d){function o(r){return d.call(this,r,"ag-select","smallDown","listbox")||this}return Or(o,d),o.prototype.init=function(){var r=this;this.listComponent=this.createBean(new xc("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,xc.EVENT_ITEM_SELECTED,function(){r.hideList&&r.hideList()}),this.listComponent.addManagedListener(this.listComponent,bt.EVENT_CHANGED,function(){r.setValue(r.listComponent.getValue(),!1,!0),r.hideList&&r.hideList()})},o.prototype.showPicker=function(){var r=this,s=this.listComponent.getGui(),u=this.addManagedListener(document.body,"wheel",function(A){!s.contains(A.target)&&r.hideList&&r.hideList()}),c=this.addManagedListener(s,"focusout",function(A){!s.contains(A.relatedTarget)&&r.hideList&&r.hideList()}),_=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(){r.hideList=null,r.isPickerDisplayed=!1,c(),u(),r.isAlive()&&r.getFocusableElement().focus()},ariaLabel:_("ariaLabelSelectField","Select Field")});return C&&(this.hideList=C.hideFunc),this.isPickerDisplayed=!0,Tu(s,Bl(this.eWrapper)),s.style.maxHeight=xa(this.popupService.getPopupParent())+"px",s.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:s,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},o.prototype.addOptions=function(r){var s=this;return r.forEach(function(u){return s.addOption(u)}),this},o.prototype.addOption=function(r){return this.listComponent.addOption(r),this},o.prototype.setValue=function(r,s,u){return this.value===r?this:(u||this.listComponent.setValue(r,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),d.prototype.setValue.call(this,r,s)))},o.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),d.prototype.destroy.call(this)},Ou([Y("popupService")],o.prototype,"popupService",void 0),Ou([se],o.prototype,"init",null),o}(Xi),La=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),la=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ml=function(d){function o(r,s,u,c){void 0===u&&(u="text"),void 0===c&&(c="input");var _=d.call(this,r,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",s)||this;return _.inputType=u,_.displayFieldTag=c,_}return La(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.setInputType(),ut(this.eLabel,this.className+"-label"),ut(this.eWrapper,this.className+"-input-wrapper"),ut(this.eInput,this.className+"-input"),ut(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var r=this.config,s=r.width,u=r.value;null!=s&&this.setWidth(s),null!=u&&this.setValue(u),this.addInputListeners()},o.prototype.refreshLabel=function(){Q(this.getLabel())?Ec(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),d.prototype.refreshLabel.call(this)},o.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(s){return r.setValue(s.target.value)})},o.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},o.prototype.getInputElement=function(){return this.eInput},o.prototype.setInputWidth=function(r){return Tu(this.eWrapper,r),this},o.prototype.setInputName=function(r){return this.getInputElement().setAttribute("name",r),this},o.prototype.getFocusableElement=function(){return this.eInput},o.prototype.setMaxLength=function(r){return this.eInput.maxLength=r,this},o.prototype.setInputPlaceholder=function(r){return Rs(this.eInput,"placeholder",r),this},o.prototype.setInputAriaLabel=function(r){return Eo(this.eInput,r),this},o.prototype.setDisabled=function(r){return Du(this.eInput,r),d.prototype.setDisabled.call(this,r)},la([Ke("eLabel")],o.prototype,"eLabel",void 0),la([Ke("eWrapper")],o.prototype,"eWrapper",void 0),la([Ke("eInput")],o.prototype,"eInput",void 0),o}(bt),sr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ms=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},co=(()=>(function(d){d[d.One=0]="One",d[d.Two=1]="Two"}(co||(co={})),co))(),br=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return sr(o,d),o.prototype.getNumberOfInputs=function(r){var s=this.optionsFactory.getCustomOption(r);if(s){var u=s.numberOfInputs;return null!=u?u:1}return r===o.EMPTY?0:r===o.IN_RANGE?2:1},o.prototype.onFloatingFilterChanged=function(r,s){this.setTypeFromFloatingFilter(r),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)},o.prototype.setTypeFromFloatingFilter=function(r){this.eType1.setValue(r),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},o.prototype.getModelFromUi=function(){return this.isConditionUiComplete(co.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(co.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(co.One),condition2:this.createCondition(co.Two)}:this.createCondition(co.One):null},o.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},o.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},o.prototype.areModelsEqual=function(r,s){if(!r&&!s)return!0;if(!r&&s||r&&!s)return!1;var C,u=!r.operator,c=!s.operator;if(!u&&c||u&&!c)return!1;if(u)C=this.areSimpleModelsEqual(r,s);else{var k=r,W=s;C=k.operator===W.operator&&this.areSimpleModelsEqual(k.condition1,W.condition1)&&this.areSimpleModelsEqual(k.condition2,W.condition2)}return C},o.prototype.setModelIntoUi=function(r){if(r.operator){var u=r,c="OR"===u.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(u.condition1.type),this.eType2.setValue(u.condition2.type),this.setConditionIntoUi(u.condition1,co.One),this.setConditionIntoUi(u.condition2,co.Two)}else{var _=r;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(_.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(_,co.One),this.setConditionIntoUi(null,co.Two)}return Uo.resolve()},o.prototype.doesFilterPass=function(r){var s=this,u=this.getModel();if(null==u)return!0;var c=u.operator,_=[];return c?_.push(u.condition1,u.condition2):_.push(u),(c&&"OR"===c?Un:Ss)(_,function(x){return s.individualConditionPasses(r,x)})},o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.optionsFactory=new Ic,this.optionsFactory.init(r,this.getDefaultFilterOptions()),this.allowTwoConditions=!r.suppressAndOrCondition,this.alwaysShowBothConditions=!!r.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(r.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},o.prototype.getDefaultJoinOperator=function(r){return Ft(["AND","OR"],r)?r:"AND"},o.prototype.putOptionsIntoDropdown=function(){var r=this,s=this.optionsFactory.getFilterOptions(),u=[this.eType1,this.eType2];$t(s,function(c){var _="string"==typeof c?r.createBoilerplateListOption(c):r.createCustomListOption(c);$t(u,function(C){return C.addOption(_)})}),$t(u,function(c){return c.setDisabled(s.length<=1)})},o.prototype.createBoilerplateListOption=function(r){return{value:r,text:this.translate(r)}},o.prototype.createCustomListOption=function(r){var s=r.displayKey,u=this.optionsFactory.getCustomOption(r.displayKey);return{value:s,text:u?this.gridOptionsWrapper.getLocaleTextFunc()(u.displayKey,u.displayName):this.translate(s)}},o.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},o.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(co.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(co.Two)},o.prototype.getCssIdentifier=function(){return"simple-filter"},o.prototype.updateUiVisibility=function(){var r=this,u=[this.eCondition1Body,this.eCondition2Body];$t([[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],function(c,_){var C=r.isConditionVisible(_),A=r.isConditionDisabled(_);$t(c,function(x){x instanceof ml||x instanceof uo?(x.setDisabled(A),x.setDisplayed(C)):(Du(x,A),di(x,C))})}),$t(u,function(c,_){di(c,r.isConditionBodyVisible(_))}),this.forEachInput(function(c,_,C,A){r.setElementDisplayed(c,_<A),r.setElementDisabled(c,r.isConditionDisabled(C))}),this.resetPlaceholder()},o.prototype.afterGuiAttached=function(r){if(d.prototype.afterGuiAttached.call(this,r),this.resetPlaceholder(),!r||!r.suppressFocus&&!this.isReadOnly()){var s=this.getInputs()[0][0];if(!s)return;s instanceof ml&&s.getInputElement().focus()}},o.prototype.resetPlaceholder=function(){var r=this,s=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(u,c,_,C){if(u instanceof ml){var A=0===c&&C>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",x=0===c&&C>1?s("ariaFilterFromValue","Filter from value"):0===c?s("ariaFilterValue","Filter Value"):s("ariaFilterToValue","Filter to Value");u.setInputPlaceholder(r.translate(A)),u.setInputAriaLabel(x)}})},o.prototype.setElementValue=function(r,s,u){r instanceof ml&&r.setValue(s?String(s):null,u)},o.prototype.setElementDisplayed=function(r,s){r instanceof Sn&&di(r.getGui(),s)},o.prototype.setElementDisabled=function(r,s){r instanceof Sn&&Du(r.getGui(),s)},o.prototype.attachElementOnChange=function(r,s){r instanceof ml&&r.onValueChange(s)},o.prototype.forEachInput=function(r){var s=this,u=this.getInputs();this.getConditionTypes().forEach(function(c,_){for(var C=s.getNumberOfInputs(c),A=0;A<u[_].length;A++){var x=u[_][A];null!=x&&r(x,A,_,C)}})},o.prototype.isConditionVisible=function(r){return 0===r||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(r):!!this.alwaysShowBothConditions||this.isConditionUiComplete(r-1))},o.prototype.isConditionDisabled=function(r){return!(!this.isReadOnly()&&this.isConditionVisible(r))||0!==r&&!this.isConditionUiComplete(r-1)},o.prototype.isConditionBodyVisible=function(r){if(!this.isConditionVisible(r))return!1;var s=this.getConditionTypes()[r];return this.getNumberOfInputs(s)>0},o.prototype.isConditionUiComplete=function(r){return!(this.getConditionTypes()[r]===o.EMPTY||Pt.some(this.getValues(r),function(u){return null==u}))},o.prototype.resetUiToDefaults=function(r){var s=this,c=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),_="ag-simple-filter-and-or-"+this.getCompId(),C=this.optionsFactory.getDefaultOption();return this.eType1.setValue(C,r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),r).setName(_).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),r).setName(_).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(A){s.setElementValue(A,null,r),s.setElementDisabled(A,s.isReadOnly())}),this.resetPlaceholder(),Uo.resolve()},o.prototype.setConditionIntoUi=function(r,s){var u=this,c=this.mapValuesFromModel(r);this.forEachInput(function(_,C,A,x){A===s&&u.setElementValue(_,c[C]?c[C]:null)})},o.prototype.setValueFromFloatingFilter=function(r){var s=this;this.forEachInput(function(u,c,_,C){s.setElementValue(u,0===c&&0===_?r:null)})},o.prototype.isDefaultOperator=function(r){return r===this.defaultJoinOperator},o.prototype.addChangedListeners=function(){var r=this;if(!this.isReadOnly()){var s=function(){return r.onUiChanged()};this.eType1.onValueChange(s),this.eType2.onValueChange(s),this.eJoinOperatorOr.onValueChange(s),this.eJoinOperatorAnd.onValueChange(s),this.forEachInput(function(u){r.attachElementOnChange(u,s)})}},o.prototype.individualConditionPasses=function(r,s){var u=this.getCellValue(r.node),c=this.mapValuesFromModel(s),_=this.optionsFactory.getCustomOption(s.type),C=this.evaluateCustomFilter(_,c,u);return null!=C?C:null==u?this.evaluateNullValue(s.type):this.evaluateNonNullValue(c,u,s)},o.prototype.evaluateCustomFilter=function(r,s,u){if(null!=r){var c=r.predicate;if(null!=c&&!Pt.some(s,function(_){return null==_}))return c(s,u)}},o.EMPTY="empty",o.EQUALS="equals",o.NOT_EQUAL="notEqual",o.LESS_THAN="lessThan",o.LESS_THAN_OR_EQUAL="lessThanOrEqual",o.GREATER_THAN="greaterThan",o.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",o.IN_RANGE="inRange",o.CONTAINS="contains",o.NOT_CONTAINS="notContains",o.STARTS_WITH="startsWith",o.ENDS_WITH="endsWith",Ms([Ke("eOptions1")],o.prototype,"eType1",void 0),Ms([Ke("eOptions2")],o.prototype,"eType2",void 0),Ms([Ke("eJoinOperatorPanel")],o.prototype,"eJoinOperatorPanel",void 0),Ms([Ke("eJoinOperatorAnd")],o.prototype,"eJoinOperatorAnd",void 0),Ms([Ke("eJoinOperatorOr")],o.prototype,"eJoinOperatorOr",void 0),Ms([Ke("eCondition1Body")],o.prototype,"eCondition1Body",void 0),Ms([Ke("eCondition2Body")],o.prototype,"eCondition2Body",void 0),o}(ue),yd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$r=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return yd(o,d),o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.scalarFilterParams=r,this.checkDeprecatedParams()},o.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("AG Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},o.prototype.evaluateNullValue=function(r){switch(r){case o.EQUALS:case o.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case o.GREATER_THAN:case o.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case o.LESS_THAN:case o.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case o.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1},o.prototype.evaluateNonNullValue=function(r,s,u){var c=this.comparator(),_=c(r[0],s);switch(u.type){case o.EQUALS:return 0===_;case o.NOT_EQUAL:return 0!==_;case o.GREATER_THAN:return _>0;case o.GREATER_THAN_OR_EQUAL:return _>=0;case o.LESS_THAN:return _<0;case o.LESS_THAN_OR_EQUAL:return _<=0;case o.IN_RANGE:var C=c(r[1],s);return this.scalarFilterParams.inRangeInclusive?_>=0&&C<=0:_>0&&C<0;default:return console.warn('AG Grid: Unexpected type of filter "'+u.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},o}(br),yp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Gf=function(){return(Gf=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},vp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},dh=function(d){function o(){var r=d.call(this,"dateFilter")||this;return r.minValidYear=1e3,r.maxValidYear=1/0,r}return yp(o,d),o.prototype.afterGuiAttached=function(r){d.prototype.afterGuiAttached.call(this,r),this.dateCondition1FromComp.afterGuiAttached(r)},o.prototype.mapValuesFromModel=function(r){var s=r||{},u=s.dateFrom,c=s.dateTo,_=s.type;return[u&&Pa(u)||null,c&&Pa(c)||null].slice(0,this.getNumberOfInputs(_))},o.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},o.prototype.defaultComparator=function(r,s){return null==s||s<r?-1:s>r?1:0},o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.dateFilterParams=r;var s=function(u,c){if(null!=r[u]){if(!isNaN(r[u]))return null==r[u]?c:Number(r[u]);console.warn("AG Grid: DateFilter "+u+" is not a number")}return c};this.minValidYear=s("minValidYear",1e3),this.maxValidYear=s("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},o.prototype.createDateComponents=function(){var r=this,s=function(u){return new _p(r.getContext(),r.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:r.dateFilterParams},u)};this.dateCondition1FromComp=s(this.eCondition1PanelFrom),this.dateCondition1ToComp=s(this.eCondition1PanelTo),this.dateCondition2FromComp=s(this.eCondition2PanelFrom),this.dateCondition2ToComp=s(this.eCondition2PanelTo),this.addDestroyFunc(function(){r.forEachInput(function(u){return u.destroy()})})},o.prototype.setElementValue=function(r,s,u){r.setDate(s)},o.prototype.setElementDisplayed=function(r,s){r.setDisplayed(s)},o.prototype.setElementDisabled=function(r,s){r.setDisabled(s)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var s=r===co.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+s+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+s+'PanelTo"></div>\n            </div>'},o.prototype.isConditionUiComplete=function(r){var s=this;if(!d.prototype.isConditionUiComplete.call(this,r))return!1;var c=!0;return this.forEachInput(function(_,C,A,x){A!==r||!c||C>=x||(c=c&&function(_){return null!=_&&_.getUTCFullYear()>=s.minValidYear&&_.getUTCFullYear()<=s.maxValidYear}(_.getDate()))}),c},o.prototype.areSimpleModelsEqual=function(r,s){return r.dateFrom===s.dateFrom&&r.dateTo===s.dateTo&&r.type===s.type},o.prototype.getFilterType=function(){return"date"},o.prototype.createCondition=function(r){var s=this.getConditionTypes()[r],u={},c=this.getValues(r);return c.length>0&&(u.dateFrom=Xn(c[0])),c.length>1&&(u.dateTo=Xn(c[1])),Gf({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},u)},o.prototype.resetPlaceholder=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),u=r("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(s),c.setInputAriaLabel(u)})},o.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},o.prototype.getValues=function(r){var s=[];return this.forEachInput(function(u,c,_,C){r===_&&c<C&&s.push(u.getDate())}),s},o.DEFAULT_FILTER_OPTIONS=[$r.EQUALS,$r.GREATER_THAN,$r.LESS_THAN,$r.NOT_EQUAL,$r.IN_RANGE],vp([Ke("eCondition1PanelFrom")],o.prototype,"eCondition1PanelFrom",void 0),vp([Ke("eCondition1PanelTo")],o.prototype,"eCondition1PanelTo",void 0),vp([Ke("eCondition2PanelFrom")],o.prototype,"eCondition2PanelFrom",void 0),vp([Ke("eCondition2PanelTo")],o.prototype,"eCondition2PanelTo",void 0),vp([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}($r),ua=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Z_=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return ua(o,d),o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.getTextFromModel=function(r){if(!r)return null;if(null!=r.operator){var u=r,c=u||{},_=c.condition1,C=c.condition2,A=this.optionsFactory.getCustomOption(_.type),x=this.optionsFactory.getCustomOption(C.type);return[this.conditionToString(_,A),u.operator,this.conditionToString(C,x)].join(" ")}var k=r,W=this.optionsFactory.getCustomOption(k.type),ee=W||{},le=ee.displayKey,ce=ee.displayName;return le&&ce&&0===ee.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(le,ce),ce):this.conditionToString(k,W)},o.prototype.isEventFromFloatingFilter=function(r){return r&&r.afterFloatingFilter},o.prototype.getLastType=function(){return this.lastType},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setLastTypeFromModel=function(r){r?this.lastType=(r.operator?r.condition1:r).type:this.lastType=this.optionsFactory.getDefaultOption()},o.prototype.canWeEditAfterModelFromParentFilter=function(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)},o.prototype.init=function(r){this.optionsFactory=new Ic,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!r.filterParams.readOnly;var s=this.isTypeEditable(this.lastType);this.setEditable(s)},o.prototype.doesFilterHaveSingleInput=function(r){var u=(this.optionsFactory.getCustomOption(r)||{}).numberOfInputs;return null==u||1==u},o.prototype.isTypeEditable=function(r){return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&r!==br.IN_RANGE&&r!==br.EMPTY},o}(Sn),Mc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},hh=function(d){function o(){return d.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Mc(o,d),o.prototype.getDefaultFilterOptions=function(){return dh.DEFAULT_FILTER_OPTIONS},o.prototype.conditionToString=function(r,s){var u=r.type,_=u==br.IN_RANGE||2===(s||{}).numberOfInputs,C=Pa(r.dateFrom),A=Pa(r.dateTo);return _?Xn(C,!1)+"-"+Xn(A,!1):null!=C?""+Xn(C,!1):""+u},o.prototype.init=function(r){d.prototype.init.call(this,r),this.params=r,this.createDateComponent();var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(s("ariaDateFilterInput","Date Filter Input"))},o.prototype.setEditable=function(r){di(this.eDateWrapper,r),di(this.eReadOnlyText.getGui(),!r)},o.prototype.onParentModelChanged=function(r,s){if(!this.isEventFromFloatingFilter(s)){d.prototype.setLastTypeFromModel.call(this,r);var u=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(u),u?(this.dateComp.setDate(r?Pa(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(r)),this.dateComp.setDate(null))}},o.prototype.onDateChanged=function(){var r=this,u=Xn(this.dateComp.getDate());this.params.parentFilterInstance(function(c){c&&c.onFloatingFilterChanged(r.getLastType(),Pa(u))})},o.prototype.createDateComponent=function(){var r=this,s=ue.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u={onDateChanged:St(this.onDateChanged.bind(this),s),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new _p(this.getContext(),this.userComponentFactory,u,this.eDateWrapper),this.addDestroyFunc(function(){return r.dateComp.destroy()})},Mu([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Mu([Ke("eReadOnlyText")],o.prototype,"eReadOnlyText",void 0),Mu([Ke("eDateWrapper")],o.prototype,"eDateWrapper",void 0),o}(Z_),Cp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Xv=function(d){function o(){return d.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Cp(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){var s=this,u=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(r)&&(Mi()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11; reverting to text date picker"):u.type="date"),this.addManagedListener(u,"mousedown",function(){s.eDateInput.isDisabled()||u.focus()}),this.addManagedListener(u,"input",function(A){A.target===document.activeElement&&(s.eDateInput.isDisabled()||r.onDateChanged())});var c=r.filterParams||{},_=c.minValidYear,C=c.maxValidYear;_&&(u.min=_+"-01-01"),C&&(u.max=C+"-12-31")},o.prototype.getDate=function(){return Pa(this.eDateInput.getValue())},o.prototype.setDate=function(r){this.eDateInput.setValue(Xn(r,!1))},o.prototype.setInputPlaceholder=function(r){this.eDateInput.setInputPlaceholder(r)},o.prototype.setDisabled=function(r){this.eDateInput.setDisabled(r)},o.prototype.afterGuiAttached=function(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()},o.prototype.shouldUseBrowserDatePicker=function(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:As()||or()},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Ke("eDateInput")],o.prototype,"eDateInput",void 0),o}(Sn),Pc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kl=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},wp=function(d){function o(){return d.call(this,"numberFilter")||this}return Pc(o,d),o.prototype.mapValuesFromModel=function(r){var s=r||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.comparator=function(){return function(r,s){return r===s?0:r<s?1:-1}},o.prototype.setParams=function(r){this.numberFilterParams=r;var s=this.getAllowedCharPattern();if(s){var u={allowedCharPattern:s};this.resetTemplate({eValueFrom1:u,eValueTo1:u,eValueFrom2:u,eValueTo2:u})}d.prototype.setParams.call(this,r)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var s=r===co.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></'+c+">\n            </div>"},o.prototype.getValues=function(r){var s=this,u=[];return this.forEachInput(function(c,_,C,A){r===C&&_<A&&u.push(s.stringToFloat(c.getValue()))}),u},o.prototype.areSimpleModelsEqual=function(r,s){return r.filter===s.filter&&r.filterTo===s.filterTo&&r.type===s.type},o.prototype.getFilterType=function(){return"number"},o.prototype.stringToFloat=function(r){if("number"==typeof r)return r;var s=a(r);return null!=s&&""===s.trim()&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):null==s||"-"===s.trim()?null:parseFloat(s)},o.prototype.createCondition=function(r){var s=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:s},c=this.getValues(r);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(As()||fc()?null:"\\d\\-\\.")},o.DEFAULT_FILTER_OPTIONS=[$r.EQUALS,$r.NOT_EQUAL,$r.LESS_THAN,$r.LESS_THAN_OR_EQUAL,$r.GREATER_THAN,$r.GREATER_THAN_OR_EQUAL,$r.IN_RANGE],Kl([Ke("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),Kl([Ke("eValue-index1-1")],o.prototype,"eValueTo1",void 0),Kl([Ke("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),Kl([Ke("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}($r),im=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vd=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Cd=function(d){function o(){return d.call(this,"textFilter")||this}return im(o,d),o.trimInput=function(r){var s=r&&r.trim();return""===s?r:s},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.textFilterParams=r,this.comparator=this.textFilterParams.textCustomComparator||o.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?o.DEFAULT_FORMATTER:o.DEFAULT_LOWERCASE_FORMATTER)},o.prototype.createCondition=function(r){var s=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:s},c=this.getValues(r);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},o.prototype.getFilterType=function(){return"text"},o.prototype.areSimpleModelsEqual=function(r,s){return r.filter===s.filter&&r.filterTo===s.filterTo&&r.type===s.type},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getValues=function(r){var s=this,u=[];return this.forEachInput(function(c,_,C,A){if(r===C&&_<A){var x=a(c.getValue()),k=(s.textFilterParams.trimInput?o.trimInput(x):x)||null;u.push(k),c.setValue(k,!0)}}),u},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var s=r===co.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></ag-input-text-field>\n            </div>'},o.prototype.mapValuesFromModel=function(r){var s=r||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},o.prototype.evaluateNullValue=function(r){return r===br.NOT_EQUAL||r===br.NOT_CONTAINS},o.prototype.evaluateNonNullValue=function(r,s,u){var c=this,_=Pt.map(r,function(A){return c.formatter(A)})||[],C=this.formatter(s);return Pt.some(_,function(A){return c.comparator(u.type,C,A)})},o.DEFAULT_FILTER_OPTIONS=[br.CONTAINS,br.NOT_CONTAINS,br.EQUALS,br.NOT_EQUAL,br.STARTS_WITH,br.ENDS_WITH],o.DEFAULT_FORMATTER=function(r){return r},o.DEFAULT_LOWERCASE_FORMATTER=function(r){return null==r?null:r.toString().toLowerCase()},o.DEFAULT_COMPARATOR=function(r,s,u){switch(r){case o.CONTAINS:return s.indexOf(u)>=0;case o.NOT_CONTAINS:return s.indexOf(u)<0;case o.EQUALS:return s===u;case o.NOT_EQUAL:return s!=u;case o.STARTS_WITH:return 0===s.indexOf(u);case o.ENDS_WITH:var c=s.lastIndexOf(u);return c>=0&&c===s.length-u.length;default:return!1}},vd([Ke("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),vd([Ke("eValue-index1-1")],o.prototype,"eValueTo1",void 0),vd([Ke("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),vd([Ke("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(br),rm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wd=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},om=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return rm(o,d),o.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.onParentModelChanged=function(r,s){this.isEventFromFloatingFilter(s)||(this.setLastTypeFromModel(r),this.eFloatingFilterInput.setValue(this.getTextFromModel(r)),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)))},o.prototype.init=function(r){if(d.prototype.init.call(this,r),this.params=r,this.applyActive=ue.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var s=ue.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u=St(this.syncUpWithParentFilter.bind(this),s),c=this.eFloatingFilterInput.getGui();this.addManagedListener(c,"input",u),this.addManagedListener(c,"keypress",u),this.addManagedListener(c,"keydown",u)}var _=r.column.getDefinition();(this.isReadOnly()||_.filterParams&&_.filterParams.filterOptions&&1===_.filterParams.filterOptions.length&&"inRange"===_.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var C=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),A=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(C+" "+A("ariaFilterInput","Filter Input"))},o.prototype.syncUpWithParentFilter=function(r){var s=this,u=ds(r,at.ENTER);if(!this.applyActive||u){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=Cd.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(_){_&&_.onFloatingFilterChanged(s.getLastType(),c||null)})}},o.prototype.conditionToString=function(r,s){return r.type==br.IN_RANGE||2===(s||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},o.prototype.setEditable=function(r){this.eFloatingFilterInput.setDisabled(!r)},wd([Y("columnModel")],o.prototype,"columnModel",void 0),wd([Ke("eFloatingFilterInput")],o.prototype,"eFloatingFilterInput",void 0),wd([se],o.prototype,"postConstruct",null),o}(Z_),K_=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),bp=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return K_(o,d),o.prototype.getDefaultFilterOptions=function(){return wp.DEFAULT_FILTER_OPTIONS},o}(om),Bf=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pu=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Bf(o,d),o.prototype.getDefaultFilterOptions=function(){return Cd.DEFAULT_FILTER_OPTIONS},o}(om),_l=function(){function d(o,r){var s=this;void 0===r&&(r=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Ei,this.eElement=o,this.preventMouseClick=r;var u=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),_=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",u,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",_,{passive:!1}),this.destroyFuncs.push(function(){s.eElement.removeEventListener("touchstart",u,{passive:!0}),s.eElement.removeEventListener("touchmove",c,{passive:!0}),s.eElement.removeEventListener("touchend",_,{passive:!1})})}return d.prototype.getActiveTouch=function(o){for(var r=0;r<o.length;r++)if(o[r].identifier===this.touchStart.identifier)return o[r];return null},d.prototype.addEventListener=function(o,r){this.eventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.eventService.removeEventListener(o,r)},d.prototype.onTouchStart=function(o){var r=this;if(!this.touching){this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;var s=this.touchStart;window.setTimeout(function(){r.touching&&r.touchStart===s&&!r.moved&&(r.moved=!0,r.eventService.dispatchEvent({type:d.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:o}))},500)}},d.prototype.onTouchMove=function(o){if(this.touching){var r=this.getActiveTouch(o.touches);r&&!So(r,this.touchStart,4)&&(this.moved=!0)}},d.prototype.onTouchEnd=function(o){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:d.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&o.preventDefault(),this.touching=!1)},d.prototype.checkForDoubleTap=function(){var o=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&o-this.lastTapTime>d.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:d.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=o},d.prototype.destroy=function(){this.destroyFuncs.forEach(function(o){return o()})},d.EVENT_TAP="tap",d.EVENT_DOUBLE_TAP="doubleTap",d.EVENT_LONG_TAP="longTap",d.DOUBLE_TAP_MILLIS=500,d}(),eC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ql=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Vf=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.lastMovingChanged=0,r}return eC(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.refresh=function(r){return this.params=r,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(r),!0)},o.prototype.workOutTemplate=function(){var r=qe(this.params.template,o.TEMPLATE);return r&&r.trim?r.trim():r},o.prototype.init=function(r){this.params=r,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(r.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(r)},o.prototype.setDisplayName=function(r){if(this.currentDisplayName!=r.displayName){this.currentDisplayName=r.displayName;var s=ls(this.currentDisplayName);this.eText&&(this.eText.innerHTML=s)}},o.prototype.setupIcons=function(r){this.addInIcon("sortAscending",this.eSortAsc,r),this.addInIcon("sortDescending",this.eSortDesc,r),this.addInIcon("sortUnSort",this.eSortNone,r),this.addInIcon("menu",this.eMenu,r),this.addInIcon("filter",this.eFilter,r)},o.prototype.addInIcon=function(r,s,u){if(null!=s){var c=Wi(r,this.gridOptionsWrapper,u);c&&s.appendChild(c)}},o.prototype.setupTap=function(){var r=this,s=this.gridOptionsWrapper;if(!s.isSuppressTouch()){var u=new _l(this.getGui(),!0),c=s.isSuppressMenuHide(),_=c&&Q(this.eMenu),C=_?new _l(this.eMenu,!0):u;this.params.enableMenu&&this.addManagedListener(C,_l[_?"EVENT_TAP":"EVENT_LONG_TAP"],function(W){s.getApi().showColumnMenuAfterMouseClick(r.params.column,W.touchStart)}),this.params.enableSorting&&this.addManagedListener(u,_l.EVENT_TAP,function(W){c&&r.eMenu.contains(W.touchStart.target)||r.sortController.progressSort(r.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return u.destroy()}),_&&this.addDestroyFunc(function(){return C.destroy()})}},o.prototype.workOutShowMenu=function(){var r=!this.gridOptionsWrapper.isSuppressMenuHide(),s=Ra()&&r;return this.params.enableMenu&&!s},o.prototype.setMenu=function(){var r=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void ia(this.eMenu);var s=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return r.showMenu(r.eMenu)}),vt(this.eMenu,"ag-header-menu-always-show",s)}},o.prototype.showMenu=function(r){r||(r=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,r,"columnMenu")},o.prototype.removeSortIcons=function(){ia(this.eSortAsc),ia(this.eSortDesc),ia(this.eSortNone),ia(this.eSortOrder)},o.prototype.workOutSort=function(){return this.params.enableSorting},o.prototype.setupSort=function(){var r=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var s=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Bt.EVENT_MOVING_CHANGED,function(){r.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(u){var c=r.params.column.isMoving(),_=(new Date).getTime();c||_-r.lastMovingChanged<50||r.params.progressSort(s?u.ctrlKey||u.metaKey:u.shiftKey)}),this.addManagedListener(this.params.column,Bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},o.prototype.onSortChanged=function(){if(vt(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),vt(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),vt(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&vt(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&vt(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var r=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();vt(this.eSortNone,"ag-hidden",r||!this.params.column.isSortNone())}},o.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var r=this.params.column,s=this.sortController.getColumnsWithSortingOrdered(),u=s.indexOf(r),c=s.length>1,_=r.isSorting()&&c;di(this.eSortOrder,_),u>=0?this.eSortOrder.innerHTML=(u+1).toString():oo(this.eSortOrder)}},o.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},o.prototype.onFilterChanged=function(){var r=this.params.column.isFilterActive();vt(this.eFilter,"ag-hidden",!r)},o.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Ql([Y("sortController")],o.prototype,"sortController",void 0),Ql([Y("menuFactory")],o.prototype,"menuFactory",void 0),Ql([Ke("eFilter")],o.prototype,"eFilter",void 0),Ql([Ke("eSortAsc")],o.prototype,"eSortAsc",void 0),Ql([Ke("eSortDesc")],o.prototype,"eSortDesc",void 0),Ql([Ke("eSortNone")],o.prototype,"eSortNone",void 0),Ql([Ke("eSortOrder")],o.prototype,"eSortOrder",void 0),Ql([Ke("eMenu")],o.prototype,"eMenu",void 0),Ql([Ke("eLabel")],o.prototype,"eLabel",void 0),Ql([Ke("eText")],o.prototype,"eText",void 0),o}(Sn),sm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ph=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Hf=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return sm(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){this.params=r,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},o.prototype.checkWarnings=function(){this.params.template&&Jt(function(){return console.warn("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},o.prototype.setupExpandIcons=function(){var r=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var s=function(_){if(!fr(_)){var C=!r.params.columnGroup.isExpanded();r.columnModel.setColumnGroupOpened(r.params.columnGroup.getOriginalColumnGroup(),C,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,s),this.addTouchAndClickListeners(this.eOpenIcon,s);var u=function(_){ln(_)};this.addManagedListener(this.eCloseIcon,"dblclick",u),this.addManagedListener(this.eOpenIcon,"dblclick",u),this.addManagedListener(this.getGui(),"dblclick",s),this.updateIconVisibility();var c=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(c,Cn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,Cn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},o.prototype.addTouchAndClickListeners=function(r,s){var u=new _l(r,!0);this.addManagedListener(u,_l.EVENT_TAP,s),this.addDestroyFunc(function(){return u.destroy()}),this.addManagedListener(r,"click",s)},o.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var s=this.params.columnGroup.isExpanded();di(this.eOpenIcon,s),di(this.eCloseIcon,!s)}else di(this.eOpenIcon,!1),di(this.eCloseIcon,!1)},o.prototype.addInIcon=function(r,s){var u=Wi(r,this.gridOptionsWrapper,null);u&&this.getRefElement(s).appendChild(u)},o.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return di(this.eOpenIcon,!1),void di(this.eCloseIcon,!1)},o.prototype.setupLabel=function(){var r=this.params.displayName;if(Q(r)){var s=ls(r);this.getRefElement("agLabel").innerHTML=s}},o.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',ph([Y("columnModel")],o.prototype,"columnModel",void 0),ph([Ke("agOpened")],o.prototype,"eOpenIcon",void 0),ph([Ke("agClosed")],o.prototype,"eCloseIcon",void 0),o}(Sn),fh=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ga=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return fh(o,d),o.prototype.isPopup=function(){return!0},o.prototype.setParentComponent=function(r){ut(r.getGui(),"ag-has-popup"),d.prototype.setParentComponent.call(this,r)},o.prototype.destroy=function(){var r=this.parentComponent;r&&r.isAlive()&&Cr(r.getGui(),"ag-has-popup"),d.prototype.destroy.call(this)},o}(Sn),tC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Q_=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return tC(o,d),o.prototype.init=function(r){this.params=r,this.focusAfterAttached=r.cellStartedEdit,this.eTextArea.setMaxLength(r.maxLength||200).setCols(r.cols||60).setRows(r.rows||10),Q(r.value)&&this.eTextArea.setValue(r.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},o.prototype.onKeyDown=function(r){var s=r.which||r.keyCode;(s===at.LEFT||s===at.UP||s===at.RIGHT||s===at.DOWN||r.shiftKey&&s===at.ENTER)&&r.stopPropagation()},o.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},o.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},o.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Ke("eTextArea")],o.prototype,"eTextArea",void 0),o}(Ga),iC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),am=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},yl=function(d){function o(){var r=d.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return r.startedByEnter=!1,r}return iC(o,d),o.prototype.init=function(r){var s=this;if(this.focusAfterAttached=r.cellStartedEdit,Z(r.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=r.keyPress===at.ENTER;var u=!1;r.values.forEach(function(c){var _={value:c},C=s.valueFormatterService.formatValue(r.column,null,null,c);_.text=null!=C?C:c,s.eSelect.addOption(_),u=u||r.value===c}),u?this.eSelect.setValue(r.value,!0):r.values.length&&this.eSelect.setValue(r.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return r.stopEditing()})}},o.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},o.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},o.prototype.getValue=function(){return this.eSelect.getValue()},o.prototype.isPopup=function(){return!1},am([Y("valueFormatterService")],o.prototype,"valueFormatterService",void 0),am([Ke("eSelect")],o.prototype,"eSelect",void 0),o}(Ga),gh=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),mh=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return gh(o,d),o.prototype.isPopup=function(){return!0},o}(yl),rC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ep=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return rC(o,d),o.prototype.init=function(r){this.params=r;var u,s=this.eInput;r.cellStartedEdit?(this.focusAfterAttached=!0,r.keyPress===at.BACKSPACE||r.keyPress===at.DELETE?u="":r.charPress?u=r.charPress:(u=this.getStartValue(r),r.keyPress!==at.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=this.getStartValue(r)),null!=u&&s.setValue(u,!0),this.addManagedListener(s.getGui(),"keydown",function(c){var _=c.keyCode;(_===at.PAGE_UP||_===at.PAGE_DOWN)&&c.preventDefault()})},o.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){Su()||s.getFocusableElement().focus();var u=s.getInputElement();if(this.highlightAllOnFocus)u.select();else{var c=s.getValue(),_=Q(c)&&c.length||0;_&&u.setSelectionRange(_,_)}}},o.prototype.focusIn=function(){var r=this.eInput,s=r.getFocusableElement(),u=r.getInputElement();s.focus(),u.select()},o.prototype.focusOut=function(){var r=this.eInput.getInputElement();Mi()&&r.setSelectionRange(0,0)},o.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},o.prototype.getStartValue=function(r){return r.useFormatter||r.column.getColDef().refData?r.formatValue(r.value):r.value},o.prototype.isPopup=function(){return!1},o.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Ke("eInput")],o.prototype,"eInput",void 0),o}(Ga),oC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),X_=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return oC(o,d),o.prototype.isPopup=function(){return!0},o}(Ep),lm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Uf=function(d){function o(){var r=d.call(this,o.TEMPLATE)||this;return r.refreshCount=0,r}return lm(o,d),o.prototype.init=function(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r)},o.prototype.showDelta=function(r,s){var u=Math.abs(s),c=r.formatValue(u),_=Q(c)?c:u,C=s>=0;this.eDelta.innerHTML=C?"\u2191"+_:"\u2193"+_,vt(this.eDelta,"ag-value-change-delta-up",C),vt(this.eDelta,"ag-value-change-delta-down",!C)},o.prototype.setTimerToRemoveDelta=function(){var r=this;this.refreshCount++;var s=this.refreshCount;window.setTimeout(function(){s===r.refreshCount&&r.hideDeltaValue()},2e3)},o.prototype.hideDeltaValue=function(){Cr(this.eValue,"ag-value-change-value-highlight"),oo(this.eDelta)},o.prototype.refresh=function(r){var s=r.value;return s!==this.lastValue&&(Q(r.valueFormatted)?this.eValue.innerHTML=r.valueFormatted:Q(r.value)?this.eValue.innerHTML=s:oo(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof s&&"number"==typeof this.lastValue&&this.showDelta(r,s-this.lastValue),this.lastValue&&ut(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=s,!0)},o.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Y("filterManager")],o.prototype,"filterManager",void 0),o}(Sn),_h=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nc=function(d){function o(){var r=d.call(this,o.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return _h(o,d),o.prototype.init=function(r){this.refresh(r)},o.prototype.addSlideAnimation=function(){var r=this;this.refreshCount++;var s=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Bo('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){s===r.refreshCount&&ut(r.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){s===r.refreshCount&&(r.getGui().removeChild(r.ePrevious),r.ePrevious=null)},3e3)},o.prototype.refresh=function(r){var s=r.value;return Z(s)&&(s=""),s!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=s,Q(r.valueFormatted)?this.eCurrent.innerHTML=r.valueFormatted:Q(r.value)?this.eCurrent.innerHTML=s:oo(this.eCurrent),!0)},o.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Y("filterManager")],o.prototype,"filterManager",void 0),o}(Sn);!function(d){d[d.Above=0]="Above",d[d.Below=1]="Below"}(q.oh5||(q.oh5={}));var Tn=function(){function d(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=d.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=o}return d.prototype.setData=function(o){this.setDataCommon(o,!1)},d.prototype.updateData=function(o){this.setDataCommon(o,!0)},d.prototype.setDataCommon=function(o,r){var s=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var u=this.createDataChangedEvent(o,s,r);this.dispatchLocalEvent(u)},d.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},d.prototype.createDataChangedEvent=function(o,r,s){return{type:d.EVENT_DATA_CHANGED,node:this,oldData:r,newData:o,update:s}},d.prototype.createLocalRowEvent=function(o){return{type:o,node:this}},d.prototype.getRowIndexString=function(){return this.rowPinned===Ee.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Ee.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},d.prototype.createDaemonNode=function(){var o=new d(this.beans);return o.id=this.id,o.data=this.data,o.daemon=!0,o.selected=this.selected,o.level=this.level,o},d.prototype.setDataAndId=function(o,r){var s=Q(this.id)?this.createDaemonNode():null,u=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(r),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();var c=this.createDataChangedEvent(o,u,!1);this.dispatchLocalEvent(c)},d.prototype.checkRowSelectable=function(){var o=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!o||o(this))},d.prototype.setRowSelectable=function(o){this.selectable!==o&&(this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_SELECTABLE_CHANGED)))},d.prototype.setId=function(o){var r=this.beans.gridOptionsWrapper.getRowNodeIdFunc();r?this.data?(this.id=r(this.data),this.id&&"string"==typeof this.id&&Ea(this.id,d.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row ID's cannot start with "+d.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id&&"string"!=typeof this.id&&(this.id=""+this.id)):this.id=void 0:this.id=o},d.prototype.isPixelInRange=function(o){return!(!Q(this.rowTop)||!Q(this.rowHeight))&&o>=this.rowTop&&o<this.rowTop+this.rowHeight},d.prototype.setFirstChild=function(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_FIRST_CHILD_CHANGED)))},d.prototype.setLastChild=function(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_LAST_CHILD_CHANGED)))},d.prototype.setChildIndex=function(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_CHILD_INDEX_CHANGED)))},d.prototype.setRowTop=function(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_TOP_CHANGED)),this.setDisplayed(null!==o))},d.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},d.prototype.setDisplayed=function(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_DISPLAYED_CHANGED)))},d.prototype.setDragging=function(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_DRAGGING_CHANGED)))},d.prototype.setHighlighted=function(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_HIGHLIGHT_CHANGED)))},d.prototype.setAllChildrenCount=function(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},d.prototype.setMaster=function(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_MASTER_CHANGED)))},d.prototype.setRowHeight=function(o,r){void 0===r&&(r=!1),this.rowHeight=o,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_HEIGHT_CHANGED))},d.prototype.setRowAutoHeight=function(o,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=o,null!=o&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=St(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},d.prototype.checkAutoHeights=function(){var o=!1,r=!0,s=0,u=this.__autoHeights;if(null!=u&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(C){var A=u[C.getId()];null!=A?(r=!1,A>s&&(s=A)):o=!0}),!o&&((r||s<10)&&(s=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),s!=this.rowHeight))){this.setRowHeight(s);var _=this.beans.rowModel;_.onRowHeightChanged&&_.onRowHeightChanged()}},d.prototype.setRowIndex=function(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_ROW_INDEX_CHANGED)))},d.prototype.setUiLevel=function(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_UI_LEVEL_CHANGED)))},d.prototype.setExpanded=function(o){if(this.expanded!==o){this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_EXPANDED_CHANGED));var r=Ai({},this.createGlobalRowEvent(ae.EVENT_ROW_GROUP_OPENED),{expanded:o});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},d.prototype.createGlobalRowEvent=function(o){return{type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},d.prototype.dispatchLocalEvent=function(o){this.eventService&&this.eventService.dispatchEvent(o)},d.prototype.setDataValue=function(o,r,s){var u=this.beans.columnModel.getPrimaryColumn(o),c=this.beans.valueService.getValue(u,this);this.beans.valueService.setValue(this,u,r,s),this.dispatchCellChangedEvent(u,r,c)},d.prototype.setGroupValue=function(o,r){var s=this.beans.columnModel.getGridColumn(o);Z(this.groupData)&&(this.groupData={});var u=s.getColId(),c=this.groupData[u];c!==r&&(this.groupData[u]=r,this.dispatchCellChangedEvent(s,r,c))},d.prototype.setAggData=function(o){var r=this,s=pr([this.aggData,o]),u=this.aggData;this.aggData=o,this.eventService&&s.forEach(function(c){var _=r.beans.columnModel.getGridColumn(c);r.dispatchCellChangedEvent(_,r.aggData?r.aggData[c]:void 0,u?u[c]:void 0)})},d.prototype.updateHasChildren=function(){var o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_HAS_CHILDREN_CHANGED)))},d.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},d.prototype.isEmptyRowGroupNode=function(){return this.group&&Re(this.childrenAfterGroup)},d.prototype.dispatchCellChangedEvent=function(o,r,s){this.dispatchLocalEvent({type:d.EVENT_CELL_CHANGED,node:this,column:o,newValue:r,oldValue:s})},d.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},d.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},d.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},d.prototype.depthFirstSearch=function(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(r){return r.depthFirstSearch(o)}),o(this)},d.prototype.calculateSelectedFromChildren=function(){var o=!1,r=!1,s=!1;if(this.childrenAfterGroup)for(var c=0;c<this.childrenAfterGroup.length;c++){var _=this.childrenAfterGroup[c];if(_.selectable)switch(_.isSelected()){case!0:o=!0;break;case!1:r=!0;break;default:s=!0}}this.selectThisNode(s?void 0:!(!o||r)||!(!o&&r)&&void 0)},d.prototype.setSelectedInitialValue=function(o){this.selected=o},d.prototype.setSelected=function(o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),this.setSelectedParams({newValue:o,clearSelection:r,suppressFinishActions:s,rangeSelect:!1})},d.prototype.isRowPinned=function(){return this.rowPinned===Ee.PINNED_TOP||this.rowPinned===Ee.PINNED_BOTTOM},d.prototype.setSelectedParams=function(o){var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),s=!0===o.newValue,u=!0===o.clearSelection,c=!0===o.suppressFinishActions,_=!0===o.rangeSelect,C=r&&!0===o.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(o);if(_&&this.beans.selectionService.getLastSelectedNode()){var A=this.beans.selectionService.getLastSelectedNode()!==this,x=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(A&&x){var k=this.doRowRangeSelection(o.newValue);return this.beans.selectionService.setLastSelectedNode(this),k}}var W=0;return C&&this.group||this.selectThisNode(s)&&W++,r&&this.group&&(W+=this.selectChildNodes(s,C)),c||(s&&(u||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(W+=this.beans.selectionService.clearOtherNodes(this)),W>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),s&&this.beans.selectionService.setLastSelectedNode(this)),W},d.prototype.doRowRangeSelection=function(o){var r=this;void 0===o&&(o=!0);var s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),u=this.beans.selectionService.getLastSelectedNode(),c=this.beans.rowModel.getNodesInRangeForSelection(this,u),_=0;return c.forEach(function(A){A.group&&s||!1===o&&r===A||A.selectThisNode(o)&&_++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),_},d.prototype.isParentOfNode=function(o){for(var r=this.parent;r;){if(r===o)return!0;r=r.parent}return!1},d.prototype.selectThisNode=function(o){if(!this.selectable&&o||this.selected===o)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(d.EVENT_ROW_SELECTED));var u=this.createGlobalRowEvent(ae.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(u),!0},d.prototype.selectChildNodes=function(o,r){var s=r?this.childrenAfterFilter:this.childrenAfterGroup;if(Z(s))return 0;for(var u=0,c=0;c<s.length;c++)u+=s[c].setSelectedParams({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r});return u},d.prototype.addEventListener=function(o,r){this.eventService||(this.eventService=new Ei),this.eventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){!this.eventService||(this.eventService.removeEventListener(o,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},d.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(d.EVENT_MOUSE_ENTER))},d.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(d.EVENT_MOUSE_LEAVE))},d.prototype.getFirstChildOfFirstChild=function(o){for(var r=this,s=!0,u=!1,c=null;s&&!u;){var _=r.parent;Q(_)&&r.firstChild?_.rowGroupColumn===o&&(u=!0,c=_):s=!1,r=_}return u?c:null},d.prototype.isFullWidthCell=function(){var o=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!o&&o(this)},d.prototype.getRoute=function(){if(null!=this.key){for(var o=[],r=this;null!=r.key;)o.push(r.key),r=r.parent;return o.reverse()}},d.ID_PREFIX_ROW_GROUP="row-group-",d.ID_PREFIX_TOP_PINNED="t-",d.ID_PREFIX_BOTTOM_PINNED="b-",d.OBJECT_ID_SEQUENCE=0,d.EVENT_ROW_SELECTED="rowSelected",d.EVENT_DATA_CHANGED="dataChanged",d.EVENT_CELL_CHANGED="cellChanged",d.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",d.EVENT_MASTER_CHANGED="masterChanged",d.EVENT_MOUSE_ENTER="mouseEnter",d.EVENT_MOUSE_LEAVE="mouseLeave",d.EVENT_HEIGHT_CHANGED="heightChanged",d.EVENT_TOP_CHANGED="topChanged",d.EVENT_DISPLAYED_CHANGED="displayedChanged",d.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",d.EVENT_LAST_CHILD_CHANGED="lastChildChanged",d.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",d.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",d.EVENT_EXPANDED_CHANGED="expandedChanged",d.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",d.EVENT_SELECTABLE_CHANGED="selectableChanged",d.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",d.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",d.EVENT_DRAGGING_CHANGED="draggingChanged",d}(),ca=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),yh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},vh=function(d){function o(){return d.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return ca(o,d),o.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},o.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},o.prototype.onDataChanged=function(){this.onSelectionChanged()},o.prototype.onSelectableChanged=function(){this.showOrHideSelect()},o.prototype.onSelectionChanged=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.rowNode.isSelected(),u=void 0===s?r("ariaIndeterminate","indeterminate"):!0===s?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(s,!0),this.eCheckbox.setInputAriaLabel(c+" ("+u+")")},o.prototype.onCheckedClicked=function(r){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:s})},o.prototype.onUncheckedClicked=function(r){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:r.shiftKey,groupSelectsFiltered:s})},o.prototype.init=function(r){var s=this;if(this.rowNode=r.rowNode,this.column=r.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(C){return ln(C)}),this.addGuiEventListener("dblclick",function(C){return ln(C)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(C){var A=s.eCheckbox.getValue();void 0===s.eCheckbox.getPreviousValue()?0===s.onUncheckedClicked(C||{})&&s.onCheckedClicked(C):A?s.onCheckedClicked(C):s.onUncheckedClicked(C||{})}),this.addManagedListener(this.rowNode,Tn.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var _=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,_),this.addManagedListener(this.rowNode,Tn.EVENT_DATA_CHANGED,_),this.addManagedListener(this.rowNode,Tn.EVENT_CELL_CHANGED,_),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},o.prototype.showOrHideSelect=function(){var r=this.rowNode.selectable;r&&this.checkboxCallbackExists()&&(r=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(r)},o.prototype.checkboxCallbackExists=function(){var r=this.column?this.column.getColDef():null;return!!r&&"function"==typeof r.checkboxSelection},yh([Ke("eCheckbox")],o.prototype,"eCheckbox",void 0),yh([se],o.prototype,"postConstruct",null),o}(Sn),Sp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};(function(d){d[d.ToolPanel=0]="ToolPanel",d[d.HeaderCell=1]="HeaderCell",d[d.RowDrag=2]="RowDrag",d[d.ChartPanel=3]="ChartPanel"})(q.rvo||(q.rvo={})),function(d){d[d.Up=0]="Up",d[d.Down=1]="Down"}(q.HO_||(q.HO_={})),function(d){d[d.Left=0]="Left",d[d.Right=1]="Right"}(q.poj||(q.poj={}));var jo=function(d){function o(){var s=null!==d&&d.apply(this,arguments)||this;return s.dragSourceAndParamsList=[],s.dropTargets=[],s}var r;return Sp(o,d),r=o,o.prototype.init=function(){this.ePinnedIcon=ao("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=ao("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=ao("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=ao("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=ao("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=ao("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=ao("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=ao("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=ao("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(s,u){void 0===u&&(u=!1);var c={eElement:s.eElement,dragStartPixels:s.dragStartPixels,onDragStart:this.onDragStart.bind(this,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:s}),this.dragService.addDragSource(c,u)},o.prototype.removeDragSource=function(s){var u=he(this.dragSourceAndParamsList,function(c){return c.dragSource===s});u&&(this.dragService.removeDragSource(u.params),Wt(this.dragSourceAndParamsList,u))},o.prototype.clearDragSourceParamsList=function(){var s=this;this.dragSourceAndParamsList.forEach(function(u){return s.dragService.removeDragSource(u.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(s,u){this.dragging=!0,this.dragSource=s,this.eventLastTime=u,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(s){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var u=this.createDropTargetEvent(this.lastDropTarget,s,null,null,!1);this.lastDropTarget.onDragStop(u)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(s,u){var c=this,_=this.getHorizontalDirection(s),C=this.getVerticalDirection(s);this.eventLastTime=s,this.positionGhost(s);var A=this.dropTargets.filter(function(ee){return c.isMouseOnDropTarget(s,ee)}),x=A.length,k=null;if(x>0&&(k=1===x?A[0]:A.reduce(function(ee,le){if(!ee)return le;var ce=ee.getContainer(),Me=le.getContainer();return ce.contains(Me)?le:ee})),k!==this.lastDropTarget)this.leaveLastTargetIfExists(s,_,C,u),this.enterDragTargetIfExists(k,s,_,C,u),this.lastDropTarget=k;else if(k&&k.onDragging){var W=this.createDropTargetEvent(k,s,_,C,u);k.onDragging(W)}},o.prototype.enterDragTargetIfExists=function(s,u,c,_,C){if(s){if(s.onDragEnter){var A=this.createDropTargetEvent(s,u,c,_,C);s.onDragEnter(A)}this.setGhostIcon(s.getIconName?s.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(s,u,c,_){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var C=this.createDropTargetEvent(this.lastDropTarget,s,u,c,_);this.lastDropTarget.onDragLeave(C)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(s){var u=s.getSecondaryContainers?s.getSecondaryContainers():null,c=[[s.getContainer()]];return u?c.concat(u):c},o.prototype.allContainersIntersect=function(s,u){for(var c=0,_=u;c<_.length;c++){var A=_[c].getBoundingClientRect();if(0===A.width||0===A.height)return!1;if(!(s.clientX>=A.left&&s.clientX<A.right&&s.clientY>=A.top&&s.clientY<A.bottom))return!1}return!0},o.prototype.isMouseOnDropTarget=function(s,u){for(var _=!1,C=0,A=this.getAllContainersFromDropTarget(u);C<A.length;C++)if(this.allContainersIntersect(s,A[C])){_=!0;break}return _&&u.isInterestedIn(this.dragSource.type)},o.prototype.addDropTarget=function(s){this.dropTargets.push(s)},o.prototype.removeDropTarget=function(s){this.dropTargets=this.dropTargets.filter(function(u){return u.getContainer()!==s.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(s){return s.external})},o.prototype.findExternalZone=function(s){return he(this.dropTargets.filter(function(c){return c.external}),function(c){return c.getContainer()===s.getContainer()})},o.prototype.getHorizontalDirection=function(s){var u=this.eventLastTime&&this.eventLastTime.clientX,c=s.clientX;return u===c?null:u>c?q.poj.Left:q.poj.Right},o.prototype.getVerticalDirection=function(s){var u=this.eventLastTime&&this.eventLastTime.clientY,c=s.clientY;return u===c?null:u>c?q.HO_.Up:q.HO_.Down},o.prototype.createDropTargetEvent=function(s,u,c,_,C){var A=s.getContainer(),x=A.getBoundingClientRect(),k=this;return{event:u,x:u.clientX-x.left,y:u.clientY-x.top,vDirection:_,hDirection:c,dragSource:k.dragSource,fromNudge:C,dragItem:k.dragItem,api:k.gridApi,columnApi:k.columnApi,dropZoneTarget:A}},o.prototype.positionGhost=function(s){var u=this.eGhost;if(u){var _=u.getBoundingClientRect().height,C=gc()-2,A=Jd()-2,x=s.pageY-_/2,k=s.pageX-10,W=this.gridOptionsWrapper.getDocument(),ee=window.pageYOffset||W.documentElement.scrollTop,le=window.pageXOffset||W.documentElement.scrollLeft;C>0&&k+u.clientWidth>C+le&&(k=C+le-u.clientWidth),k<0&&(k=0),A>0&&x+u.clientHeight>A+ee&&(x=A+ee-u.clientHeight),x<0&&(x=0),u.style.left=k+"px",u.style.top=x+"px"}},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=Bo(r.GHOST_TEMPLATE);var s=this.environment.getTheme().theme;s&&ut(this.eGhost,s),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var u=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;ll(c)&&(c=c()),u.innerHTML=ls(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var _=this.gridOptionsWrapper.getDocument(),C=_.fullscreenElement||_.querySelector("body");this.eGhostParent=C,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(s,u){void 0===u&&(u=!1),oo(this.eGhostIcon);var c=null;switch(s||(s=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),s){case r.ICON_PINNED:c=this.ePinnedIcon;break;case r.ICON_MOVE:c=this.eMoveIcon;break;case r.ICON_LEFT:c=this.eLeftIcon;break;case r.ICON_RIGHT:c=this.eRightIcon;break;case r.ICON_GROUP:c=this.eGroupIcon;break;case r.ICON_AGGREGATE:c=this.eAggregateIcon;break;case r.ICON_PIVOT:c=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:c=this.eHideIcon}vt(this.eGhostIcon,"ag-shake-left-to-right",u),(c!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&c&&this.eGhostIcon.appendChild(c)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Nu([Y("dragService")],o.prototype,"dragService",void 0),Nu([Y("environment")],o.prototype,"environment",void 0),Nu([Y("columnApi")],o.prototype,"columnApi",void 0),Nu([Y("gridApi")],o.prototype,"gridApi",void 0),Nu([se],o.prototype,"init",null),Nu([$e],o.prototype,"clearDragSourceParamsList",null),r=Nu([Le("dragAndDropService")],o)}(ot),Wf=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Dp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Fu=function(d){function o(r,s,u,c,_,C){var A=d.call(this)||this;return A.cellValueFn=r,A.rowNode=s,A.column=u,A.customGui=c,A.dragStartPixels=_,A.suppressVisibilityChange=C,A.dragSource=null,A}return Wf(o,d),o.prototype.isCustomGui=function(){return null!=this.customGui},o.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Wi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var r=this.beans.gridOptionsWrapper.isRowDragManaged()?new S(this,this.beans,this.rowNode,this.column):new O(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}},o.prototype.setDragElement=function(r,s){this.setTemplateFromElement(r),this.addDragSource(s)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var s=this.beans.selectionService.getSelectedNodes();return-1!==s.indexOf(this.rowNode)?s.length:1},o.prototype.checkCompatibility=function(){var r=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&r&&Jt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(r){var s=this;void 0===r&&(r=4),this.dragSource&&this.removeDragSource();var u={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},c=this.column&&this.column.getColDef().rowDragText;this.dragSource={type:q.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var _=s.getSelectedCount();return c?c(u,_):1===_?s.cellValueFn():_+" rows"},getDragItem:function(){return u},dragStartPixels:r,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.addMouseDownListenerIfNeeded(),this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},o.prototype.addMouseDownListenerIfNeeded=function(){var r=this;this.customGui||!this.column||!this.gridOptionsWrapper.isEnableCellTextSelect()||this.addManagedListener(this.getGui(),"mousedown",function(s){s.preventDefault(),r.beans.focusService.setFocusedCell(r.rowNode.rowIndex,r.column,r.rowNode.rowPinned,!0)})},o.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Dp([Y("beans")],o.prototype,"beans",void 0),Dp([se],o.prototype,"postConstruct",null),Dp([$e],o.prototype,"removeDragSource",null),o}(Sn),ty=function(d){function o(r,s,u){var c=d.call(this)||this;return c.parent=r,c.rowNode=s,c.column=u,c}return Wf(o,d),o.prototype.setDisplayedOrVisible=function(r){if(r)this.parent.setDisplayed(!1);else{var s=!0,u=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),u=ll(this.column.getColDef().rowDrag)),u?(this.parent.setDisplayed(!0),this.parent.setVisible(s)):(this.parent.setDisplayed(s),this.parent.setVisible(!0))}},o}(ot),O=function(d){function o(r,s,u,c){var _=d.call(this,r,u,c)||this;return _.beans=s,_}return Wf(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var r=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(r)},Dp([se],o.prototype,"postConstruct",null),o}(ty),S=function(d){function o(r,s,u,c){var _=d.call(this,r,u,c)||this;return _.beans=s,_}return Wf(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,ae.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var s=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),u=s&&s.shouldPreventRowMove(),c=this.beans.gridOptionsWrapper.isSuppressRowDrag(),_=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(u&&!_||c)},Dp([se],o.prototype,"postConstruct",null),o}(ty),R=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),N=function(){return(N=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},$=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},X=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return R(o,d),o.prototype.init=function(r,s,u,c,_,C,A){this.params=A,this.eGui=s,this.eCheckbox=u,this.eExpanded=c,this.eContracted=_,this.comp=r,this.compClass=C;var x=this.isTopLevelFooter(),k=this.isEmbeddedRowMismatch(),W=null==A.value,ee=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var le=A.node;le.footer&&(ee=(A.colDef&&A.colDef.showRowGroup)!==(le.rowGroupColumn&&le.rowGroupColumn.getColId()))}this.cellIsBlank=!x&&(k||W||ee),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},o.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var r=this.params.colDef;if(null==r||!0===r.showRowGroup)return!0;var u=this.columnModel.getRowGroupColumns();return!u||0===u.length||u[0].getId()===r.showRowGroup},o.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var r=this.params.pinned===Ee.PINNED_LEFT,s=this.params.pinned===Ee.PINNED_RIGHT,u=!r&&!s;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!s:!u:this.columnModel.isPinningLeft()?!r:!u},o.prototype.findDisplayedGroupNode=function(){var r=this.params.column,s=this.params.node;if(this.showingValueForOpenedParent)for(var u=s.parent;null!=u;){if(u.rowGroupColumn&&r.isRowGroupDisplayed(u.rowGroupColumn.getId())){this.displayedGroupNode=u;break}u=u.parent}Z(this.displayedGroupNode)&&(this.displayedGroupNode=s)},o.prototype.setupShowingValueForOpenedParent=function(){var r=this.params.node,s=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(r.groupData){if(null!=r.rowGroupColumn){var c=r.rowGroupColumn.getId();if(s.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var C=null!=r.groupData[s.getId()];this.showingValueForOpenedParent=C}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},o.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},o.prototype.addGroupValue=function(){var r=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(r),u=r.valueFormatted;this.comp.setInnerRenderer(s,null!=u?u:r.value)},o.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var r=this.displayedGroupNode.rowGroupColumn,s=this.params.column;if(!r)return this.params;if(null!=s&&!s.isRowGroupDisplayed(r.getId()))return this.params;var _=this.params,C=this.params,W=this.valueFormatterService.formatValue(r,C.node,C.scope,C.value);return N(N({},_),{valueFormatted:W})},o.prototype.addFooterValue=function(){var r=this.params.footerValueGetter,s="";if(r){var u=ii(this.params);u.value=this.params.value,"function"==typeof r?s=r(u):"string"==typeof r?s=this.expressionService.evaluate(r,u):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else s="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,s)},o.prototype.getInnerCompDetails=function(r){var s=this;if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,r);var u=this.userComponentFactory.getInnerRendererDetails(r,r),c=function(k){return k&&k.componentClass==s.compClass};if(u&&!c(u))return u;var _=this.displayedGroupNode.rowGroupColumn,C=_?_.getColDef():void 0;if(C){var A=this.userComponentFactory.getCellRendererDetails(C,r);if(A&&!c(A))return A;if(c(A)&&C.cellRendererParams&&C.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(C.cellRendererParams,r)}},o.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Tn.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},o.prototype.updateChildCount=function(){var r=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow();this.comp.setChildCount(s&&null!=r&&r>=0?"("+r+")":"")},o.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;var s=this.params.column;return null==s||s.isRowGroupDisplayed(r.getId())},o.prototype.addExpandAndContract=function(){var r=this.params,s=Wi("groupExpanded",this.gridOptionsWrapper,null),u=Wi("groupContracted",this.gridOptionsWrapper,null);s&&this.eExpanded.appendChild(s),u&&this.eContracted.appendChild(u);var c=r.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,Tn.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var _=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Tn.EVENT_ALL_CHILDREN_COUNT_CHANGED,_),this.addManagedListener(this.displayedGroupNode,Tn.EVENT_MASTER_CHANGED,_),this.addManagedListener(this.displayedGroupNode,Tn.EVENT_HAS_CHILDREN_CHANGED,_)},o.prototype.onExpandClicked=function(r){fr(r)||(ln(r),this.onExpandOrContract())},o.prototype.onExpandOrContract=function(){var r=this.displayedGroupNode;r.setExpanded(!r.expanded)},o.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var r=this.displayedGroupNode,s=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||s)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},o.prototype.showExpandAndContractIcons=function(){var r=this,u=r.displayedGroupNode,c=r.columnModel,_=r.params.node,C=this.isExpandable();if(C){var A=!!this.showingValueForOpenedParent||_.expanded;this.comp.setExpandedDisplayed(A),this.comp.setContractedDisplayed(!A)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var x=c.isPivotMode(),k=x&&u.leafGroup,W=C&&!k,ee=_.footer&&-1===_.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",W),this.comp.addOrRemoveCssClass("ag-row-group",W),x?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",k):ee||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!W)},o.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},o.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Tn.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},o.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var r=this.params,s=r.node,u=!!r.colDef,c=this.gridOptionsWrapper.isTreeData(),C=!u||c||!0===r.colDef.showRowGroup?s.uiLevel:0;r.padding>=0&&Jt(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+C,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},o.prototype.addFullWidthRowDraggerIfNeeded=function(){var r=this;if(this.params.fullWidth&&this.params.rowDrag){var s=new Fu(function(){return r.params.value},this.params.node);this.createManagedBean(s,this.context),this.eGui.insertAdjacentElement("afterbegin",s.getGui())}},o.prototype.isUserWantsSelected=function(){var r=this.params.checkbox;return"function"==typeof r?r(this.params):!0===r},o.prototype.addCheckboxIfNeeded=function(){var r=this,s=this.displayedGroupNode,u=this.isUserWantsSelected()&&!s.footer&&!s.rowPinned&&!s.detail;if(u){var c=new vh;this.getContext().createBean(c),c.init({rowNode:s,column:this.params.column}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return r.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(u)},o.prototype.onKeyDown=function(r){ds(r,at.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},o.prototype.onCellDblClicked=function(r){fr(r)||Co(this.eExpanded,r)||Co(this.eContracted,r)||this.onExpandOrContract()},$([Y("expressionService")],o.prototype,"expressionService",void 0),$([Y("valueFormatterService")],o.prototype,"valueFormatterService",void 0),$([Y("columnModel")],o.prototype,"columnModel",void 0),$([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),$([Y("gridOptions")],o.prototype,"gridOptions",void 0),o}(ot),De=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),je=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},At=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return De(o,d),o.prototype.init=function(r){var s=this,u={setInnerRenderer:function(A,x){return s.setRenderDetails(A,x)},setChildCount:function(A){return s.eChildCount.innerHTML=A},addOrRemoveCssClass:function(A,x){return s.addOrRemoveCssClass(A,x)},setContractedDisplayed:function(A){return di(s.eContracted,A)},setExpandedDisplayed:function(A){return di(s.eExpanded,A)},setCheckboxVisible:function(A){return vt(s.eCheckbox,"ag-invisible",!A)}},c=this.createManagedBean(new X),_=!r.colDef,C=this.getGui();c.init(u,C,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),_&&Vo(C,"gridcell")},o.prototype.setRenderDetails=function(r,s){var u=this;if(r){var c=r.newAgStackInstance();if(!c)return;c.then(function(_){if(_){var C=function(){return u.context.destroyBean(_)};u.isAlive()?(u.eValue.appendChild(_.getGui()),u.addDestroyFunc(C)):C()}})}else this.eValue.innerText=s},o.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),d.prototype.destroy.call(this)},o.prototype.refresh=function(){return!1},o.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',je([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),je([Ke("eExpanded")],o.prototype,"eExpanded",void 0),je([Ke("eContracted")],o.prototype,"eContracted",void 0),je([Ke("eCheckbox")],o.prototype,"eCheckbox",void 0),je([Ke("eValue")],o.prototype,"eValue",void 0),je([Ke("eChildCount")],o.prototype,"eChildCount",void 0),o}(Sn),mt=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),nn=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},mi=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return mt(o,d),o.prototype.init=function(r){r.node.failedLoad?this.setupFailed():this.setupLoading()},o.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},o.prototype.setupLoading=function(){var r=Wi("groupLoading",this.gridOptionsWrapper,null);r&&this.eLoadingIcon.appendChild(r);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")},o.prototype.refresh=function(r){return!1},o.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',nn([Ke("eLoadingIcon")],o.prototype,"eLoadingIcon",void 0),nn([Ke("eLoadingText")],o.prototype,"eLoadingText",void 0),o}(Sn),Vi=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ti=function(d){function o(){return d.call(this)||this}return Vi(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){var s=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():o.DEFAULT_LOADING_OVERLAY_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[LOADING...]",u("loadingOoo","Loading..."));this.setTemplate(c)},o.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',o}(Sn),ku=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jf=function(d){function o(){return d.call(this)||this}return ku(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){var s=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():o.DEFAULT_NO_ROWS_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[NO_ROWS_TO_SHOW]",u("noRowsToShow","No Rows To Show"));this.setTemplate(c)},o.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',o}(Sn),Tp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),zf=function(d){function o(){return d.call(this,'<div class="ag-tooltip"></div>')||this}return Tp(o,d),o.prototype.init=function(r){var s=r.value;this.getGui().innerHTML=ls(s)},o}(Ga),ny=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ap=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$f=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.agGridDefaults={agDateInput:Xv,agColumnHeader:Vf,agColumnGroupHeader:Hf,agTextColumnFloatingFilter:Pu,agNumberColumnFloatingFilter:bp,agDateColumnFloatingFilter:hh,agReadOnlyFloatingFilter:ql,agAnimateShowChangeCellRenderer:Uf,agAnimateSlideCellRenderer:Nc,agGroupCellRenderer:At,agGroupRowRenderer:At,agLoadingCellRenderer:mi,agCellEditor:Ep,agTextCellEditor:Ep,agSelectCellEditor:yl,agPopupTextCellEditor:X_,agPopupSelectCellEditor:mh,agLargeTextCellEditor:Q_,agTextColumnFilter:Cd,agNumberColumnFilter:wp,agDateColumnFilter:dh,agLoadingOverlay:ti,agNoRowsOverlay:jf,agTooltipComponent:zf},r.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},r.jsComponents={},r.frameworkComponents={},r}return ny(o,d),o.prototype.init=function(){var r=this;null!=this.gridOptions.components&&rn(this.gridOptions.components,function(s,u){return r.registerComponent(s,u)}),null!=this.gridOptions.frameworkComponents&&rn(this.gridOptions.frameworkComponents,function(s,u){return r.registerFwComponent(s,u)})},o.prototype.registerDefaultComponent=function(r,s){var u=this.translateIfDeprecated(r);this.agGridDefaults[u]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[u]=s},o.prototype.registerComponent=function(r,s){var u=this.translateIfDeprecated(r);this.frameworkComponents[u]?console.error("Trying to register a component that you have already registered for frameworks: "+u):this.jsComponents[u]=s},o.prototype.registerFwComponent=function(r,s){var u=this.translateIfDeprecated(r);this.jsComponents[u]?console.error("Trying to register a component that you have already registered for plain javascript: "+u):this.frameworkComponents[u]=s},o.prototype.retrieve=function(r){var s=this.translateIfDeprecated(r),u=this.frameworkComponents[s]||this.getFrameworkOverrides().frameworkComponent(s);if(u)return{componentFromFramework:!0,component:u};var c=this.jsComponents[s];if(c)return{componentFromFramework:!1,component:c};var _=this.agGridDefaults[s];return _?{componentFromFramework:!1,component:_}:(Object.keys(this.agGridDefaults).indexOf(s)<0&&console.warn("AG Grid: Looking for component ["+s+"] but it wasn't found."),null)},o.prototype.translateIfDeprecated=function(r){var s=this.agDeprecatedNames[r];return null!=s?(Jt(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+s.propertyHolder+":"+r+" to "+s.propertyHolder+":"+s.newComponentName)},"DEPRECATE_COMPONENT_"+r),s.newComponentName):r},Ap([Y("gridOptions")],o.prototype,"gridOptions",void 0),Ap([se],o.prototype,"init",null),Ap([Le("userComponentRegistry")],o)}(ot),Yf={propertyName:"dateComponent",isCellRenderer:function(){return!1}},qf={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Zf={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},cm={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},bd={propertyName:"cellEditor",isCellRenderer:function(){return!1}},zo={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},aC={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},lC={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},cE={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},Ps={propertyName:"filter",isCellRenderer:function(){return!1}},Kf={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},iy={propertyName:"toolPanel",isCellRenderer:function(){return!1}},JD={propertyName:"statusPanel",isCellRenderer:function(){return!1}},XD=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Rp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},uC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return XD(o,d),o.prototype.getHeaderCompDetails=function(r,s){return this.getCompDetails(r,qf,"agColumnHeader",s)},o.prototype.getHeaderGroupCompDetails=function(r){var s=r.columnGroup.getColGroupDef();return this.getCompDetails(s,Zf,"agColumnGroupHeader",r)},o.prototype.getFullWidthCellRendererDetails=function(r,s,u){return this.getCompDetails(this.gridOptions,{propertyName:s,isCellRenderer:function(){return!0}},u,r)},o.prototype.getInnerRendererDetails=function(r,s){return this.getCompDetails(r,zo,null,s)},o.prototype.getFullWidthGroupRowInnerCellRenderer=function(r,s){return this.getCompDetails(r,zo,null,s)},o.prototype.getCellRendererDetails=function(r,s){return this.getCompDetails(r,cm,null,s)},o.prototype.getCellEditorDetails=function(r,s){return this.getCompDetails(r,bd,"agCellEditor",s,!0)},o.prototype.getFilterDetails=function(r,s,u){return this.getCompDetails(r,Ps,u,s,!0)},o.prototype.getDateCompDetails=function(r){return this.getCompDetails(this.gridOptions,Yf,"agDateInput",r,!0)},o.prototype.getLoadingOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,aC,"agLoadingOverlay",r,!0)},o.prototype.getNoRowsOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,lC,"agNoRowsOverlay",r,!0)},o.prototype.getTooltipCompDetails=function(r){return this.getCompDetails(r.colDef,cE,"agTooltipComponent",r,!0)},o.prototype.getSetFilterCellRendererDetails=function(r,s){return this.getCompDetails(r,cm,null,s)},o.prototype.getFloatingFilterCompDetails=function(r,s,u){return this.getCompDetails(r,Kf,u,s)},o.prototype.getToolPanelCompDetails=function(r,s){return this.getCompDetails(r,iy,null,s,!0)},o.prototype.getStatusPanelCompDetails=function(r,s){return this.getCompDetails(r,JD,null,s,!0)},o.prototype.getCompDetails=function(r,s,u,c,_){var C=this;void 0===_&&(_=!1);var x,k,W,A=s.propertyName;if(r){var ee=r,le=ee[A+"Selector"],ce=le?le(c):null;ce?(x=ce.component,k=ce.frameworkComponent,W=ce.params):(x=ee[A],k=ee[A+"Framework"]),!0===x&&(x=void 0)}var Me=function(Zt){var zn=C.userComponentRegistry.retrieve(Zt);zn?(x=zn.componentFromFramework?void 0:zn.component,k=zn.componentFromFramework?zn.component:void 0):(x=void 0,k=void 0)};if("string"==typeof x&&Me(x),null==x&&null==k&&null!=u&&Me(u),x&&!this.agComponentUtils.doesImplementIComponent(x)&&(x=this.agComponentUtils.adaptFunction(A,x)),x||k){var nt=this.mergeParamsWithApplicationProvidedParams(r,A,c,W),Qe=null==x,_t=x||k;return{componentFromFramework:Qe,componentClass:_t,params:nt,type:s,newAgStackInstance:function(Zt){return C.newAgStackInstance(_t,Qe,nt,s,Zt)}}}_&&console.error("Could not find component "+((r?r[A]:u)||u)+", did you forget to configure this component?")},o.prototype.newAgStackInstance=function(r,s,u,c,_){var A;if(s){var k=this.componentMetadataProvider.retrieve(c.propertyName);A=this.frameworkComponentWrapper.wrap(r,k.mandatoryMethodList,k.optionalMethodList,c,_)}else A=new r;var W=this.initComponent(A,u);return null==W?Uo.resolve(A):W.then(function(){return A})},o.prototype.mergeParamsWithApplicationProvidedParams=function(r,s,u,c){void 0===c&&(c=null);var _={};en(_,u);var C=r?r[s+"Params"]:null;return null!=C&&("function"==typeof C?en(_,C(u)):"object"==typeof C&&en(_,C)),en(_,c),_},o.prototype.initComponent=function(r,s){if(this.context.createBean(r),null!=r.init)return r.init(s)},Rp([Y("gridOptions")],o.prototype,"gridOptions",void 0),Rp([Y("agComponentUtils")],o.prototype,"agComponentUtils",void 0),Rp([Y("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),Rp([Y("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),Rp([Tt("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),Rp([Le("userComponentFactory")],o)}(ot),dE=function(){function d(){}return d.parse=function(o){if(!o)return null;if(!0===o)return{toolPanels:[d.DEFAULT_COLUMN_COMP,d.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof o)return d.parse([o]);if(Array.isArray(o)){var r=[];return o.forEach(function(u){var c=d.DEFAULT_BY_KEY[u];c?r.push(c):console.warn("ag-grid: the key "+u+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(d.DEFAULT_BY_KEY).join(","))}),0===r.length?null:{toolPanels:r,defaultToolPanel:r[0].id}}return{toolPanels:d.parseComponents(o.toolPanels),defaultToolPanel:o.defaultToolPanel,hiddenByDefault:o.hiddenByDefault,position:o.position}},d.parseComponents=function(o){var r=[];return o&&o.forEach(function(s){var u=null;if("string"==typeof s){var c=d.DEFAULT_BY_KEY[s];if(!c)return void console.warn("ag-grid: the key "+s+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(d.DEFAULT_BY_KEY).join(","));u=c}else u=s;r.push(u)}),r},d.DEFAULT_BY_KEY={columns:d.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:d.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},d}(),Ch=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},cC=function(d,o){return function(r,s){o(r,s,d)}},dC=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s};function Ye(d){return!0===d||"true"===d}function fE(d){return"number"==typeof d?d:"string"==typeof d?parseInt(d,10):void 0}function Qf(d,o){var r=parseInt(d,10);return vu(r)&&r>0?r:o}var Nt=function(){function d(){this.propertyEventService=new Ei,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var o;return o=d,d.prototype.agWire=function(r,s){this.gridOptions.api=r,this.gridOptions.columnApi=s,this.checkForDeprecated(),this.checkForViolations()},d.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},d.prototype.init=function(){var r=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=dE.parse(this.gridOptions.sideBar));var s=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),s),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var u=function(_){return"AG Grid: '"+_+"' is not supported on the Server-Side Row Model"};Q(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupDefaultExpanded")),Q(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeFooter")),Q(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Gt.assertRegistered(q.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var c=function(_){r.gridOptions.icons&&r.gridOptions.icons[_]&&console.warn("gridOptions.icons."+_+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};c("radioButtonOff"),c("radioButtonOn"),c("checkboxChecked"),c("checkboxUnchecked"),c("checkboxIndeterminate"),this.getScrollbarWidth()},d.prototype.checkColumnDefProperties=function(){var r=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){var u=Object.getOwnPropertyNames(s),c=dC(vi.ALL_PROPERTIES,vi.FRAMEWORK_PROPERTIES);r.checkProperties(u,c,c,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},d.prototype.checkGridOptionsProperties=function(){var r=Object.getOwnPropertyNames(this.gridOptions),s=dC(Da.ALL_PROPERTIES,Da.FRAMEWORK_PROPERTIES,Ne(ae).map(function(c){return us.getCallbackForEvent(c)})),u=dC(s,["api","columnApi"]);this.checkProperties(r,u,s,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},d.prototype.checkProperties=function(r,s,u,c,_){var C=Vt(r,s,u);rn(C,function(A,x){console.warn("ag-grid: invalid "+c+" property '"+A+"' did you mean any of these: "+x.slice(0,8).join(", "))}),Object.keys(C).length>0&&console.warn("ag-grid: to see all the valid "+c+" properties please check: "+_)},d.prototype.getDomDataKey=function(){return this.domDataKey},d.prototype.getDomData=function(r,s){var u=r[this.getDomDataKey()];return u?u[s]:void 0},d.prototype.setDomData=function(r,s,u){var c=this.getDomDataKey(),_=r[c];Z(_)&&(r[c]=_={}),_[s]=u},d.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},d.prototype.isSuppressRowDeselection=function(){return Ye(this.gridOptions.suppressRowDeselection)},d.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},d.prototype.isRowMultiSelectWithClick=function(){return Ye(this.gridOptions.rowMultiSelectWithClick)},d.prototype.getContext=function(){return this.gridOptions.context},d.prototype.isPivotMode=function(){return Ye(this.gridOptions.pivotMode)},d.prototype.isSuppressExpandablePivotGroups=function(){return Ye(this.gridOptions.suppressExpandablePivotGroups)},d.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},d.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},d.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Ee.ROW_MODEL_TYPE_INFINITE},d.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Ee.ROW_MODEL_TYPE_VIEWPORT},d.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Ee.ROW_MODEL_TYPE_SERVER_SIDE},d.prototype.isRowModelDefault=function(){return Z(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Ee.ROW_MODEL_TYPE_CLIENT_SIDE},d.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},d.prototype.isSuppressFocusAfterRefresh=function(){return Ye(this.gridOptions.suppressFocusAfterRefresh)},d.prototype.isSuppressBrowserResizeObserver=function(){return Ye(this.gridOptions.suppressBrowserResizeObserver)},d.prototype.isSuppressMaintainUnsortedOrder=function(){return Ye(this.gridOptions.suppressMaintainUnsortedOrder)},d.prototype.isSuppressClearOnFillReduction=function(){return Ye(this.gridOptions.suppressClearOnFillReduction)},d.prototype.isShowToolPanel=function(){return Ye(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},d.prototype.getSideBar=function(){return this.gridOptions.sideBar},d.prototype.isSuppressTouch=function(){return Ye(this.gridOptions.suppressTouch)},d.prototype.isMaintainColumnOrder=function(){return Ye(this.gridOptions.maintainColumnOrder)},d.prototype.isSuppressRowTransform=function(){return Ye(this.gridOptions.suppressRowTransform)},d.prototype.isSuppressColumnStateEvents=function(){return Ye(this.gridOptions.suppressColumnStateEvents)},d.prototype.isAllowDragFromColumnsToolPanel=function(){return Ye(this.gridOptions.allowDragFromColumnsToolPanel)},d.prototype.useAsyncEvents=function(){return!Ye(this.gridOptions.suppressAsyncEvents)},d.prototype.isEnableCellChangeFlash=function(){return Ye(this.gridOptions.enableCellChangeFlash)},d.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},d.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},d.prototype.isGroupSelectsChildren=function(){var r=Ye(this.gridOptions.groupSelectsChildren);return r&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):r},d.prototype.isSuppressRowHoverHighlight=function(){return Ye(this.gridOptions.suppressRowHoverHighlight)},d.prototype.isColumnHoverHighlight=function(){return Ye(this.gridOptions.columnHoverHighlight)},d.prototype.isGroupSelectsFiltered=function(){return Ye(this.gridOptions.groupSelectsFiltered)},d.prototype.isGroupHideOpenParents=function(){return Ye(this.gridOptions.groupHideOpenParents)},d.prototype.isGroupMaintainOrder=function(){return Ye(this.gridOptions.groupMaintainOrder)},d.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},d.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Ye(this.gridOptions.groupHideOpenParents)},d.prototype.isGroupUseEntireRow=function(r){return!r&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},d.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},d.prototype.isGroupRemoveSingleChildren=function(){return Ye(this.gridOptions.groupRemoveSingleChildren)},d.prototype.isGroupRemoveLowestSingleChildren=function(){return Ye(this.gridOptions.groupRemoveLowestSingleChildren)},d.prototype.isGroupIncludeFooter=function(){return Ye(this.gridOptions.groupIncludeFooter)},d.prototype.isGroupIncludeTotalFooter=function(){return Ye(this.gridOptions.groupIncludeTotalFooter)},d.prototype.isGroupSuppressBlankHeader=function(){return Ye(this.gridOptions.groupSuppressBlankHeader)},d.prototype.isSuppressRowClickSelection=function(){return Ye(this.gridOptions.suppressRowClickSelection)},d.prototype.isSuppressCellSelection=function(){return Ye(this.gridOptions.suppressCellSelection)},d.prototype.isSuppressMultiSort=function(){return Ye(this.gridOptions.suppressMultiSort)},d.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},d.prototype.isPivotSuppressAutoColumn=function(){return Ye(this.gridOptions.pivotSuppressAutoColumn)},d.prototype.isSuppressDragLeaveHidesColumns=function(){return Ye(this.gridOptions.suppressDragLeaveHidesColumns)},d.prototype.isSuppressScrollOnNewData=function(){return Ye(this.gridOptions.suppressScrollOnNewData)},d.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Ye(this.gridOptions.suppressScrollWhenPopupsAreOpen)},d.prototype.isRowDragEntireRow=function(){return Ye(this.gridOptions.rowDragEntireRow)},d.prototype.isSuppressRowDrag=function(){return Ye(this.gridOptions.suppressRowDrag)},d.prototype.isRowDragManaged=function(){return Ye(this.gridOptions.rowDragManaged)},d.prototype.isSuppressMoveWhenRowDragging=function(){return Ye(this.gridOptions.suppressMoveWhenRowDragging)},d.prototype.isRowDragMultiRow=function(){return Ye(this.gridOptions.rowDragMultiRow)},d.prototype.getDomLayout=function(){var r=this.gridOptions.domLayout||Ee.DOM_LAYOUT_NORMAL;return-1===[Ee.DOM_LAYOUT_PRINT,Ee.DOM_LAYOUT_AUTO_HEIGHT,Ee.DOM_LAYOUT_NORMAL].indexOf(r)?(Jt(function(){return console.warn("AG Grid: "+r+" is not valid for DOM Layout, valid values are "+Ee.DOM_LAYOUT_NORMAL+", "+Ee.DOM_LAYOUT_AUTO_HEIGHT+" and "+Ee.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Ee.DOM_LAYOUT_NORMAL):r},d.prototype.isSuppressHorizontalScroll=function(){return Ye(this.gridOptions.suppressHorizontalScroll)},d.prototype.isSuppressMaxRenderedRowRestriction=function(){return Ye(this.gridOptions.suppressMaxRenderedRowRestriction)},d.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Ye(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},d.prototype.isAlwaysShowHorizontalScroll=function(){return Ye(this.gridOptions.alwaysShowHorizontalScroll)},d.prototype.isAlwaysShowVerticalScroll=function(){return Ye(this.gridOptions.alwaysShowVerticalScroll)},d.prototype.isDebounceVerticalScrollbar=function(){return Ye(this.gridOptions.debounceVerticalScrollbar)},d.prototype.isSuppressLoadingOverlay=function(){return Ye(this.gridOptions.suppressLoadingOverlay)},d.prototype.isSuppressNoRowsOverlay=function(){return Ye(this.gridOptions.suppressNoRowsOverlay)},d.prototype.isSuppressFieldDotNotation=function(){return Ye(this.gridOptions.suppressFieldDotNotation)},d.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},d.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},d.prototype.isFunctionsPassive=function(){return Ye(this.gridOptions.functionsPassive)},d.prototype.isSuppressChangeDetection=function(){return Ye(this.gridOptions.suppressChangeDetection)},d.prototype.isSuppressAnimationFrame=function(){return Ye(this.gridOptions.suppressAnimationFrame)},d.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},d.prototype.isCacheQuickFilter=function(){return Ye(this.gridOptions.cacheQuickFilter)},d.prototype.isUnSortIcon=function(){return Ye(this.gridOptions.unSortIcon)},d.prototype.isSuppressMenuHide=function(){return Ye(this.gridOptions.suppressMenuHide)},d.prototype.isEnterMovesDownAfterEdit=function(){return Ye(this.gridOptions.enterMovesDownAfterEdit)},d.prototype.isEnterMovesDown=function(){return Ye(this.gridOptions.enterMovesDown)},d.prototype.isUndoRedoCellEditing=function(){return Ye(this.gridOptions.undoRedoCellEditing)},d.prototype.getUndoRedoCellEditingLimit=function(){return fE(this.gridOptions.undoRedoCellEditingLimit)},d.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},d.prototype.getRowClass=function(){return this.gridOptions.rowClass},d.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},d.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},d.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},d.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},d.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},d.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},d.prototype.getPopupParent=function(){return this.gridOptions.popupParent},d.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},d.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},d.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},d.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},d.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},d.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},d.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},d.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},d.prototype.isEmbedFullWidthRows=function(){return Ye(this.gridOptions.embedFullWidthRows)||Ye(this.gridOptions.deprecatedEmbedFullWidthRows)},d.prototype.isDetailRowAutoHeight=function(){return Ye(this.gridOptions.detailRowAutoHeight)},d.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},d.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},d.prototype.getApi=function(){return this.gridOptions.api},d.prototype.getColumnApi=function(){return this.gridOptions.columnApi},d.prototype.isImmutableData=function(){return Ye(this.gridOptions.immutableData)},d.prototype.isEnsureDomOrder=function(){return Ye(this.gridOptions.ensureDomOrder)},d.prototype.isEnableCharts=function(){return!!Ye(this.gridOptions.enableCharts)&&Gt.assertRegistered(q.GXE.GridChartsModule,"enableCharts")},d.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},d.prototype.isSingleClickEdit=function(){return Ye(this.gridOptions.singleClickEdit)},d.prototype.isSuppressClickEdit=function(){return Ye(this.gridOptions.suppressClickEdit)},d.prototype.isStopEditingWhenCellsLoseFocus=function(){return Ye(this.gridOptions.stopEditingWhenCellsLoseFocus)},d.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},d.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},d.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},d.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},d.prototype.getPaginationPageSize=function(){return fE(this.gridOptions.paginationPageSize)},d.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Ye(this.gridOptions.paginateChildRows)},d.prototype.getCacheBlockSize=function(){return Qf(this.gridOptions.cacheBlockSize)},d.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},d.prototype.isPurgeClosedRowNodes=function(){return Ye(this.gridOptions.purgeClosedRowNodes)},d.prototype.isSuppressPaginationPanel=function(){return Ye(this.gridOptions.suppressPaginationPanel)},d.prototype.getRowData=function(){return this.gridOptions.rowData},d.prototype.isEnableRtl=function(){return Ye(this.gridOptions.enableRtl)},d.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},d.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},d.prototype.isAngularCompileRows=function(){return Ye(this.gridOptions.angularCompileRows)},d.prototype.isAngularCompileFilters=function(){return Ye(this.gridOptions.angularCompileFilters)},d.prototype.isDebug=function(){return Ye(this.gridOptions.debug)},d.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},d.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},d.prototype.getDatasource=function(){return this.gridOptions.datasource},d.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},d.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},d.prototype.isAccentedSort=function(){return Ye(this.gridOptions.accentedSort)},d.prototype.isEnableBrowserTooltips=function(){return Ye(this.gridOptions.enableBrowserTooltips)},d.prototype.isEnableCellExpressions=function(){return Ye(this.gridOptions.enableCellExpressions)},d.prototype.isEnableGroupEdit=function(){return Ye(this.gridOptions.enableGroupEdit)},d.prototype.isSuppressMiddleClickScrolls=function(){return Ye(this.gridOptions.suppressMiddleClickScrolls)},d.prototype.isPreventDefaultOnContextMenu=function(){return Ye(this.gridOptions.preventDefaultOnContextMenu)},d.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Ye(this.gridOptions.suppressPreventDefaultOnMouseWheel)},d.prototype.isSuppressColumnVirtualisation=function(){return Ye(this.gridOptions.suppressColumnVirtualisation)},d.prototype.isSuppressContextMenu=function(){return Ye(this.gridOptions.suppressContextMenu)},d.prototype.isAllowContextMenuWithControlKey=function(){return Ye(this.gridOptions.allowContextMenuWithControlKey)},d.prototype.isSuppressCopyRowsToClipboard=function(){return Ye(this.gridOptions.suppressCopyRowsToClipboard)},d.prototype.isCopyHeadersToClipboard=function(){return Ye(this.gridOptions.copyHeadersToClipboard)},d.prototype.isSuppressClipboardPaste=function(){return Ye(this.gridOptions.suppressClipboardPaste)},d.prototype.isSuppressLastEmptyLineOnPaste=function(){return Ye(this.gridOptions.suppressLastEmptyLineOnPaste)},d.prototype.isPagination=function(){return Ye(this.gridOptions.pagination)},d.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Ye(this.gridOptions.suppressEnterpriseResetOnNewColumns)},d.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},d.prototype.getAsyncTransactionWaitMillis=function(){return Q(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Ee.BATCH_WAIT_MILLIS},d.prototype.isSuppressMovableColumns=function(){return Ye(this.gridOptions.suppressMovableColumns)},d.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Ye(this.gridOptions.animateRows)},d.prototype.isSuppressColumnMoveAnimation=function(){return Ye(this.gridOptions.suppressColumnMoveAnimation)},d.prototype.isSuppressAggFuncInHeader=function(){return Ye(this.gridOptions.suppressAggFuncInHeader)},d.prototype.isSuppressAggAtRootLevel=function(){return Ye(this.gridOptions.suppressAggAtRootLevel)},d.prototype.isSuppressAggFilteredOnly=function(){return Ye(this.gridOptions.suppressAggFilteredOnly)},d.prototype.isShowOpenedGroup=function(){return Ye(this.gridOptions.showOpenedGroup)},d.prototype.isReactUi=function(){return Ye(this.gridOptions.reactUi)},d.prototype.isEnableRangeSelection=function(){return Gt.isRegistered(q.GXE.RangeSelectionModule)&&Ye(this.gridOptions.enableRangeSelection)},d.prototype.isEnableRangeHandle=function(){return Ye(this.gridOptions.enableRangeHandle)},d.prototype.isEnableFillHandle=function(){return Ye(this.gridOptions.enableFillHandle)},d.prototype.getFillHandleDirection=function(){var r=this.gridOptions.fillHandleDirection;return r?"x"!==r&&"y"!==r&&"xy"!==r?(Jt(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):r:"xy"},d.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},d.prototype.isSuppressMultiRangeSelection=function(){return Ye(this.gridOptions.suppressMultiRangeSelection)},d.prototype.isPaginationAutoPageSize=function(){return Ye(this.gridOptions.paginationAutoPageSize)},d.prototype.isRememberGroupStateWhenNewData=function(){return Ye(this.gridOptions.rememberGroupStateWhenNewData)},d.prototype.getIcons=function(){return this.gridOptions.icons},d.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},d.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},d.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},d.prototype.isMasterDetail=function(){return!!Ye(this.gridOptions.masterDetail)&&Gt.assertRegistered(q.GXE.MasterDetailModule,"masterDetail")},d.prototype.isKeepDetailRows=function(){return Ye(this.gridOptions.keepDetailRows)},d.prototype.getKeepDetailRowsCount=function(){var r=this.gridOptions.keepDetailRowsCount;return Q(r)&&r>0?this.gridOptions.keepDetailRowsCount:10},d.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},d.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},d.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},d.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},d.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},d.prototype.isSuppressAutoSize=function(){return Ye(this.gridOptions.suppressAutoSize)},d.prototype.isEnableCellTextSelection=function(){return Ye(this.gridOptions.enableCellTextSelection)},d.prototype.isSuppressParentsInRowNodes=function(){return Ye(this.gridOptions.suppressParentsInRowNodes)},d.prototype.isSuppressClipboardApi=function(){return Ye(this.gridOptions.suppressClipboardApi)},d.prototype.isFunctionsReadOnly=function(){return Ye(this.gridOptions.functionsReadOnly)},d.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},d.prototype.isEnableCellTextSelect=function(){return Ye(this.gridOptions.enableCellTextSelection)},d.prototype.isEnableOldSetFilterModel=function(){return Ye(this.gridOptions.enableOldSetFilterModel)},d.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},d.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},d.prototype.getDefaultExportParams=function(r){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+np(r)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===r&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===r&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},d.prototype.isSuppressCsvExport=function(){return Ye(this.gridOptions.suppressCsvExport)},d.prototype.isAllowShowChangeAfterFilter=function(){return Ye(this.gridOptions.allowShowChangeAfterFilter)},d.prototype.isSuppressExcelExport=function(){return Ye(this.gridOptions.suppressExcelExport)},d.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Ye(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},d.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},d.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},d.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},d.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},d.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},d.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},d.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},d.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},d.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},d.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},d.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},d.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},d.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},d.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},d.prototype.isTreeData=function(){return!!Ye(this.gridOptions.treeData)&&Gt.assertRegistered(q.GXE.RowGroupingModule,"Tree Data")},d.prototype.isValueCache=function(){return Ye(this.gridOptions.valueCache)},d.prototype.isValueCacheNeverExpires=function(){return Ye(this.gridOptions.valueCacheNeverExpires)},d.prototype.isDeltaSort=function(){return Ye(this.gridOptions.deltaSort)},d.prototype.isAggregateOnlyChangedColumns=function(){return Ye(this.gridOptions.aggregateOnlyChangedColumns)},d.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},d.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},d.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},d.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},d.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},d.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},d.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},d.prototype.getViewportRowModelPageSize=function(){return Qf(this.gridOptions.viewportRowModelPageSize,5)},d.prototype.getViewportRowModelBufferSize=function(){return function(d,o){return d>=0?d:5}(this.gridOptions.viewportRowModelBufferSize)},d.prototype.isServerSideSortingAlwaysResets=function(){return Ye(this.gridOptions.serverSideSortingAlwaysResets)},d.prototype.isServerSideFilteringAlwaysResets=function(){return Ye(this.gridOptions.serverSideFilteringAlwaysResets)},d.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},d.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},d.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},d.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},d.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},d.prototype.getClipboardDeliminator=function(){return Q(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},d.prototype.setProperty=function(r,s,u){void 0===u&&(u=!1);var c=this.gridOptions,_=c[r];(u||_!==s)&&(c[r]=s,this.propertyEventService.dispatchEvent({type:r,currentValue:s,previousValue:_}))},d.prototype.addEventListener=function(r,s){this.propertyEventService.addEventListener(r,s)},d.prototype.removeEventListener=function(r,s){this.propertyEventService.removeEventListener(r,s)},d.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},d.prototype.getAutoSizePadding=function(){var r=this.gridOptions.autoSizePadding;return null!=r&&r>=0?r:20},d.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},d.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},d.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},d.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},d.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},d.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},d.prototype.doesExternalFilterPass=function(r){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(r)},d.prototype.getTooltipShowDelay=function(){var r=this.gridOptions.tooltipShowDelay;return Q(r)?(r<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,r)):null},d.prototype.isTooltipMouseTrack=function(){return Ye(this.gridOptions.tooltipMouseTrack)},d.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Ye(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},d.prototype.getDocument=function(){var r=null;return this.gridOptions.getDocument&&Q(this.gridOptions.getDocument)&&(r=this.gridOptions.getDocument()),r&&Q(r)?r:document},d.prototype.getMinColWidth=function(){var r=this.gridOptions.minColWidth;if(Q(r)&&r>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var s=this.getFromTheme(null,"headerCellMinWidth");return Q(s)?Math.max(s,o.MIN_COL_WIDTH):o.MIN_COL_WIDTH},d.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},d.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},d.prototype.getRowBuffer=function(){var r=this.gridOptions.rowBuffer;return"number"==typeof r?r<0&&(Jt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=r=0):r=Ee.ROW_BUFFER_SIZE,r},d.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},d.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var s="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:ad();null!=s&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:ae.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},d.prototype.checkForDeprecated=function(){var r=this.gridOptions;r.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),r.enableOldSetFilterModel&&console.warn("AG Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),r.floatingFilter&&(console.warn("AG Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),r.defaultColDef||(r.defaultColDef={}),null==r.defaultColDef.floatingFilter&&(r.defaultColDef.floatingFilter=!0)),r.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),r.enableMultiRowDragging&&(r.rowDragMultiRow=!0,delete r.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var s=function(_,C,A){null!=r[_]&&(console.warn("ag-grid: since version "+A+", '"+_+"' is deprecated / renamed, please use the new property name '"+C+"' instead."),null==r[C]&&(r[C]=r[_]))};if(s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),(r.immutableColumns||r.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),s("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),r.groupRowInnerRenderer||r.groupRowInnerRendererParams||r.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),r.groupRowRendererParams||(r.groupRowRendererParams={});var u=r.groupRowRendererParams;r.groupRowInnerRenderer&&(u.innerRenderer=r.groupRowInnerRenderer),r.groupRowInnerRendererParams&&(u.innerRendererParams=r.groupRowInnerRendererParams),r.groupRowInnerRendererFramework&&(u.innerRendererFramework=r.groupRowInnerRendererFramework)}r.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),r.detailCellRendererParams&&r.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),r.detailRowAutoHeight=!0),r.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),r.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),r.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),r.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),r.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),r.stopEditingWhenCellsLoseFocus=!0),r.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),r.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),r.groupDisplayType="multipleColumns"),r.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),r.groupDisplayType="groupRows"),r.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(r.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),r.groupDisplayType="custom"),r.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),r.defaultGroupOrderComparator=r.defaultGroupSortComparator),r.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),r.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),r.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`.")},d.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},d.prototype.treeDataViolations=function(){this.isRowModelDefault()&&Z(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(Z(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),Z(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},d.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var r=this.gridOptions.localeText;return function(s,u){return r&&r[s]?r[s]:u}},d.prototype.globalEventHandler=function(r,s){if(!this.destroyed){var u=us.getCallbackForEvent(r);"function"==typeof this.gridOptions[u]&&this.gridOptions[u](s)}},d.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||Z(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},d.prototype.getRowHeightForNode=function(r,s,u){if(void 0===s&&(s=!1),null==u&&(u=this.getDefaultRowHeight()),"function"==typeof this.gridOptions.getRowHeight){if(s)return{height:this.getDefaultRowHeight(),estimated:!0};var _=this.gridOptions.getRowHeight({node:r,data:r.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(_))return 0===_&&Jt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,_),estimated:!1}}return r.detail&&this.isMasterDetail()?this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:u,estimated:!1}},d.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},d.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},d.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},d.prototype.isNumeric=function(r){return!isNaN(r)&&"number"==typeof r&&isFinite(r)},d.prototype.getFromTheme=function(r,s){var u=this.environment.getTheme().theme;return u&&0===u.indexOf("ag-theme")?this.environment.getSassVariable(u,s):r},d.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},d.prototype.matchesGroupDisplayType=function(r,s){var u=["groupRows","multipleColumns","custom","singleColumn"];return u.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid groupDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):s===r},d.prototype.matchesTreeDataDisplayType=function(r,s){var u=["auto","custom"];return u.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid treeDataDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):s===r},d.MIN_COL_WIDTH=10,d.PROP_HEADER_HEIGHT="headerHeight",d.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",d.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",d.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",d.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",d.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",d.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",d.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",d.PROP_TAB_TO_NEXT_CELL="tabToNextCell",d.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",d.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",d.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",d.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",d.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",d.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",d.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",d.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",d.PROP_GET_ROW_CLASS="getRowClass",d.PROP_GET_ROW_STYLE="getRowStyle",d.PROP_GET_ROW_HEIGHT="getRowHeight",d.PROP_POPUP_PARENT="popupParent",d.PROP_DOM_LAYOUT="domLayout",d.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",d.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",d.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",d.PROP_GET_CHILD_COUNT="getChildCount",d.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",d.PROP_GET_ROW_NODE_ID="getRowNodeId",d.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",d.PROP_IS_ROW_SELECTABLE="isRowSelectable",d.PROP_IS_ROW_MASTER="isRowMaster",d.PROP_POST_SORT="postSort",d.PROP_GET_DOCUMENT="getDocument",d.PROP_POST_PROCESS_POPUP="postProcessPopup",d.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",d.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",d.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",d.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",d.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",d.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",d.PROP_SEND_TO_CLIPBOARD="sendToClipboard",d.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",d.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",d.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",d.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",d.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",d.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",d.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",d.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Ch([Y("gridOptions")],d.prototype,"gridOptions",void 0),Ch([Y("eventService")],d.prototype,"eventService",void 0),Ch([Y("environment")],d.prototype,"environment",void 0),Ch([cC(0,vn("gridApi")),cC(1,vn("columnApi"))],d.prototype,"agWire",null),Ch([$e],d.prototype,"destroy",null),Ch([se],d.prototype,"init",null),o=Ch([Le("gridOptionsWrapper")],d)}(),ry=function(){function d(o,r){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=o,this.pathRoot={rowNode:r,children:null},this.mapToItems[r.id]=this.pathRoot}return d.prototype.setInactive=function(){this.active=!1},d.prototype.isActive=function(){return this.active},d.prototype.depthFirstSearchChangedPath=function(o,r){if(o.children)for(var s=0;s<o.children.length;s++)this.depthFirstSearchChangedPath(o.children[s],r);r(o.rowNode)},d.prototype.depthFirstSearchEverything=function(o,r,s){if(o.childrenAfterGroup)for(var u=0;u<o.childrenAfterGroup.length;u++){var c=o.childrenAfterGroup[u];c.childrenAfterGroup?this.depthFirstSearchEverything(o.childrenAfterGroup[u],r,s):s&&r(c)}r(o)},d.prototype.forEachChangedNodeDepthFirst=function(o,r){void 0===r&&(r=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,o):this.depthFirstSearchEverything(this.pathRoot.rowNode,o,r)},d.prototype.executeFromRootNode=function(o){o(this.pathRoot.rowNode)},d.prototype.createPathItems=function(o){for(var r=o,s=0;!this.mapToItems[r.id];)this.mapToItems[r.id]={rowNode:r,children:null},s++,r=r.parent;return s},d.prototype.populateColumnsMap=function(o,r){var s=this;if(this.keepingColumns&&r)for(var u=o;u;)this.nodeIdsToColumns[u.id]||(this.nodeIdsToColumns[u.id]={}),r.forEach(function(c){return s.nodeIdsToColumns[u.id][c.getId()]=!0}),u=u.parent},d.prototype.linkPathItems=function(o,r){for(var s=o,u=0;u<r;u++){var c=this.mapToItems[s.id],_=this.mapToItems[s.parent.id];_.children||(_.children=[]),_.children.push(c),s=s.parent}},d.prototype.addParentNode=function(o,r){if(o&&!o.isRowPinned()){var s=this.createPathItems(o);this.linkPathItems(o,s),this.populateColumnsMap(o,r)}},d.prototype.canSkip=function(o){return this.active&&!this.mapToItems[o.id]},d.prototype.getValueColumnsForNode=function(o,r){if(!this.keepingColumns)return r;var s=this.nodeIdsToColumns[o.id];return r.filter(function(c){return s[c.getId()]})},d.prototype.getNotValueColumnsForNode=function(o,r){if(!this.keepingColumns)return null;var s=this.nodeIdsToColumns[o.id];return r.filter(function(c){return!s[c.getId()]})},d}(),Jf=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Xf=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},tT=function(d,o){return function(r,s){o(r,s,d)}},mE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Jf(o,d),o.prototype.setBeans=function(r){this.logger=r.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,ae.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},o.prototype.setLastSelectedNode=function(r){this.lastSelectedNode=r},o.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},o.prototype.getSelectedNodes=function(){var r=[];return rn(this.selectedNodes,function(s,u){u&&r.push(u)}),r},o.prototype.getSelectedRows=function(){var r=[];return rn(this.selectedNodes,function(s,u){u&&u.data&&r.push(u.data)}),r},o.prototype.removeGroupsFromSelection=function(){var r=this;rn(this.selectedNodes,function(s,u){u&&u.group&&(r.selectedNodes[u.id]=void 0)})},o.prototype.updateGroupsFromChildrenSelections=function(r){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Ee.ROW_MODEL_TYPE_CLIENT_SIDE){var u=this.rowModel.getRootNode();r||(r=new ry(!0,u)).setInactive(),r.forEachChangedNodeDepthFirst(function(c){c!==u&&c.calculateSelectedFromChildren()})}},o.prototype.getNodeForIdIfSelected=function(r){return this.selectedNodes[r]},o.prototype.clearOtherNodes=function(r){var s=this,u={},c=0;return rn(this.selectedNodes,function(_,C){C&&C.id!==r.id&&(c+=s.selectedNodes[C.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),s.groupSelectsChildren&&C.parent&&(u[C.parent.id]=C.parent))}),rn(u,function(_,C){C.calculateSelectedFromChildren()}),c},o.prototype.onRowSelected=function(r){var s=r.node;this.groupSelectsChildren&&s.group||(this.selectedNodes[s.id]=s.isSelected()?s:void 0)},o.prototype.syncInRowNode=function(r,s){this.syncInOldRowNode(r,s),this.syncInNewRowNode(r)},o.prototype.syncInOldRowNode=function(r,s){Q(s)&&r.id!==s.id&&s&&this.selectedNodes[s.id]==r&&(this.selectedNodes[s.id]=s)},o.prototype.syncInNewRowNode=function(r){Q(this.selectedNodes[r.id])?(r.setSelectedInitialValue(!0),this.selectedNodes[r.id]=r):r.setSelectedInitialValue(!1)},o.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},o.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===Ee.ROW_MODEL_TYPE_CLIENT_SIDE){var s=this.rowModel.getTopLevelNodes();if(null!==s){var u=[];return function c(_){for(var C=0,A=_.length;C<A;C++){var x=_[C];x.isSelected()?u.push(x):x.group&&x.children&&c(x.children)}}(s),u}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},o.prototype.setRowModel=function(r){this.rowModel=r},o.prototype.isEmpty=function(){var r=0;return rn(this.selectedNodes,function(s,u){u&&r++}),0===r},o.prototype.deselectAllRowNodes=function(r){void 0===r&&(r=!1);var s=function(C){return C.selectThisNode(!1)},u=this.rowModel.getType()===Ee.ROW_MODEL_TYPE_CLIENT_SIDE;if(r){if(!u)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(s)}else rn(this.selectedNodes,function(C,A){A&&s(A)}),this.reset();u&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectAllRowNodes=function(r){if(void 0===r&&(r=!1),this.rowModel.getType()!==Ee.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var s=this.rowModel,u=function(_){return _.selectThisNode(!0)};r?s.forEachNodeAfterFilter(u):s.forEachNode(u),this.rowModel.getType()===Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectNode=function(r,s){r&&r.setSelectedParams({newValue:!0,clearSelection:!s})},o.prototype.deselectIndex=function(r){var s=this.rowModel.getRow(r);this.deselectNode(s)},o.prototype.deselectNode=function(r){r&&r.setSelectedParams({newValue:!1,clearSelection:!1})},o.prototype.selectIndex=function(r,s){var u=this.rowModel.getRow(r);this.selectNode(u,s)},Xf([Y("rowModel")],o.prototype,"rowModel",void 0),Xf([Y("columnApi")],o.prototype,"columnApi",void 0),Xf([Y("gridApi")],o.prototype,"gridApi",void 0),Xf([tT(0,vn("loggerFactory"))],o.prototype,"setBeans",null),Xf([se],o.prototype,"init",null),Xf([Le("selectionService")],o)}(ot),fC=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Mr=function(){function d(){}return d.prototype.sizeColumnsToFit=function(o){void 0===o&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(o,"api")},d.prototype.setColumnGroupOpened=function(o,r){this.columnModel.setColumnGroupOpened(o,r,"api")},d.prototype.getColumnGroup=function(o,r){return this.columnModel.getColumnGroup(o,r)},d.prototype.getOriginalColumnGroup=function(o){return this.columnModel.getOriginalColumnGroup(o)},d.prototype.getDisplayNameForColumn=function(o,r){return this.columnModel.getDisplayNameForColumn(o,r)||""},d.prototype.getDisplayNameForColumnGroup=function(o,r){return this.columnModel.getDisplayNameForColumnGroup(o,r)||""},d.prototype.getColumn=function(o){return this.columnModel.getPrimaryColumn(o)},d.prototype.applyColumnState=function(o){return this.columnModel.applyColumnState(o,"api")},d.prototype.getColumnState=function(){return this.columnModel.getColumnState()},d.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},d.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},d.prototype.setColumnGroupState=function(o){this.columnModel.setColumnGroupState(o,"api")},d.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},d.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},d.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},d.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},d.prototype.getDisplayedColAfter=function(o){return this.columnModel.getDisplayedColAfter(o)},d.prototype.getDisplayedColBefore=function(o){return this.columnModel.getDisplayedColBefore(o)},d.prototype.setColumnVisible=function(o,r){this.columnModel.setColumnVisible(o,r,"api")},d.prototype.setColumnsVisible=function(o,r){this.columnModel.setColumnsVisible(o,r,"api")},d.prototype.setColumnPinned=function(o,r){this.columnModel.setColumnPinned(o,r,"api")},d.prototype.setColumnsPinned=function(o,r){this.columnModel.setColumnsPinned(o,r,"api")},d.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},d.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},d.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},d.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},d.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},d.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},d.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},d.prototype.moveColumn=function(o,r){"number"==typeof o?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(o,r,"api")):this.columnModel.moveColumn(o,r,"api")},d.prototype.moveColumnByIndex=function(o,r){this.columnModel.moveColumnByIndex(o,r,"api")},d.prototype.moveColumns=function(o,r){this.columnModel.moveColumns(o,r,"api")},d.prototype.moveRowGroupColumn=function(o,r){this.columnModel.moveRowGroupColumn(o,r)},d.prototype.setColumnAggFunc=function(o,r){this.columnModel.setColumnAggFunc(o,r)},d.prototype.setColumnWidth=function(o,r,s,u){void 0===s&&(s=!0),this.columnModel.setColumnWidths([{key:o,newWidth:r}],!1,s,u)},d.prototype.setColumnWidths=function(o,r,s){void 0===r&&(r=!0),this.columnModel.setColumnWidths(o,!1,r,s)},d.prototype.setPivotMode=function(o){this.columnModel.setPivotMode(o)},d.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},d.prototype.getSecondaryPivotColumn=function(o,r){return this.columnModel.getSecondaryPivotColumn(o,r)},d.prototype.setValueColumns=function(o){this.columnModel.setValueColumns(o,"api")},d.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},d.prototype.removeValueColumn=function(o){this.columnModel.removeValueColumn(o,"api")},d.prototype.removeValueColumns=function(o){this.columnModel.removeValueColumns(o,"api")},d.prototype.addValueColumn=function(o){this.columnModel.addValueColumn(o,"api")},d.prototype.addValueColumns=function(o){this.columnModel.addValueColumns(o,"api")},d.prototype.setRowGroupColumns=function(o){this.columnModel.setRowGroupColumns(o,"api")},d.prototype.removeRowGroupColumn=function(o){this.columnModel.removeRowGroupColumn(o,"api")},d.prototype.removeRowGroupColumns=function(o){this.columnModel.removeRowGroupColumns(o,"api")},d.prototype.addRowGroupColumn=function(o){this.columnModel.addRowGroupColumn(o,"api")},d.prototype.addRowGroupColumns=function(o){this.columnModel.addRowGroupColumns(o,"api")},d.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},d.prototype.setPivotColumns=function(o){this.columnModel.setPivotColumns(o,"api")},d.prototype.removePivotColumn=function(o){this.columnModel.removePivotColumn(o,"api")},d.prototype.removePivotColumns=function(o){this.columnModel.removePivotColumns(o,"api")},d.prototype.addPivotColumn=function(o){this.columnModel.addPivotColumn(o,"api")},d.prototype.addPivotColumns=function(o){this.columnModel.addPivotColumns(o,"api")},d.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},d.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},d.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},d.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},d.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},d.prototype.autoSizeColumn=function(o,r){return this.columnModel.autoSizeColumn(o,r,"api")},d.prototype.autoSizeColumns=function(o,r){return this.columnModel.autoSizeColumns(o,r,"api")},d.prototype.autoSizeAllColumns=function(o){this.columnModel.autoSizeAllColumns(o,"api")},d.prototype.setSecondaryColumns=function(o){this.columnModel.setSecondaryColumns(o,"api")},d.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},d.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},d.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Pt.removeAllReferences.bind(window,this,"Column API"),100)},d.prototype.columnGroupOpened=function(o,r){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(o,r)},d.prototype.hideColumns=function(o,r){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(o,!r,"api")},d.prototype.hideColumn=function(o,r){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(o,!r,"api")},d.prototype.setState=function(o){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(o)},d.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},d.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},d.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},d.prototype.removeAggregationColumn=function(o){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(o,"api")},d.prototype.removeAggregationColumns=function(o){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(o,"api")},d.prototype.addAggregationColumn=function(o){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(o,"api")},d.prototype.addAggregationColumns=function(o){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(o,"api")},d.prototype.setColumnAggFunction=function(o,r){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(o,r,"api")},d.prototype.getDisplayNameForCol=function(o){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(o,null)},d.prototype.setColumnState=function(o){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:o,applyOrder:!0},"api")},fC([Y("columnModel")],d.prototype,"columnModel",void 0),fC([$e],d.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),fC([Le("columnApi")],d)}();(function(d){d[d.FILL=0]="FILL",d[d.RANGE=1]="RANGE"})(q.Lm6||(q.Lm6={})),function(d){d[d.VALUE=0]="VALUE",d[d.DIMENSION=1]="DIMENSION"}(q.StC||(q.StC={}));var Ed="ag-cell-range-selected",Gu=function(){function d(o,r){this.beans=o,this.cellCtrl=r}return d.prototype.setComp=function(o){this.cellComp=o,this.onRangeSelectionChanged()},d.prototype.onRangeSelectionChanged=function(){this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ed,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Ed+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Ed+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Ed+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Ed+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),this.cellComp.setAriaSelected(this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle()},d.prototype.updateRangeBorders=function(){var o=this.getRangeBorders(),r=this.isSingleCell(),u=!r&&o.right,c=!r&&o.bottom,_=!r&&o.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!r&&o.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",_)},d.prototype.isSingleCell=function(){var o=this.beans.rangeService;return 1===this.rangeCount&&o&&!o.isMoreThanOneCell()},d.prototype.getHasChartRange=function(){var o=this.beans.rangeService;if(!this.rangeCount||!o)return!1;var r=o.getCellRanges();return r.length>0&&r.every(function(s){return Ft([q.StC.DIMENSION,q.StC.VALUE],s.type)})},d.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},d.prototype.getRangeBorders=function(){var W,ee,o=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),s=!1,u=!1,c=!1,_=!1,C=this.cellCtrl.getCellPosition().column,A=this.beans,x=A.rangeService,k=A.columnModel;r?(W=k.getDisplayedColAfter(C),ee=k.getDisplayedColBefore(C)):(W=k.getDisplayedColBefore(C),ee=k.getDisplayedColAfter(C));var le=x.getCellRanges().filter(function(nt){return x.isCellInSpecificRange(o.cellCtrl.getCellPosition(),nt)});W||(_=!0),ee||(u=!0);for(var ce=0;ce<le.length&&!(s&&u&&c&&_);ce++){var Me=le[ce],He=x.getRangeStartRow(Me),ht=x.getRangeEndRow(Me);!s&&this.beans.rowPositionUtils.sameRow(He,this.cellCtrl.getCellPosition())&&(s=!0),!c&&this.beans.rowPositionUtils.sameRow(ht,this.cellCtrl.getCellPosition())&&(c=!0),!_&&W&&Me.columns.indexOf(W)<0&&(_=!0),!u&&ee&&Me.columns.indexOf(ee)<0&&(u=!0)}return{top:s,right:u,bottom:c,left:_}},d.prototype.refreshHandle=function(){if(this.beans.rangeService){var o=this.shouldHaveSelectionHandle();this.selectionHandle&&!o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),o&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},d.prototype.shouldHaveSelectionHandle=function(){var o=this.beans,r=o.gridOptionsWrapper,s=o.rangeService,u=s.getCellRanges(),c=u.length;if(this.rangeCount<1||c<1)return!1;var _=ke(u),C=this.cellCtrl.getCellPosition(),A=r.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),x=r.isEnableRangeHandle(),k=1===c&&!this.cellCtrl.isEditing()&&(A||x);if(this.hasChartRange){var ee=u[0].type===q.StC.DIMENSION&&s.isCellInSpecificRange(C,u[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",ee),k=_.type===q.StC.VALUE}return k&&null!=_.endRow&&s.isContiguousRange(_)&&s.isBottomRightCell(_,C)},d.prototype.addSelectionHandle=function(){var o=this.beans,r=o.gridOptionsWrapper,u=ke(o.rangeService.getCellRanges()).type,_=r.isEnableFillHandle()&&Z(u)?q.Lm6.FILL:q.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==_&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(_)),this.selectionHandle.refresh(this.cellCtrl)},d.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},d}(),Sd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ct=function(d){function o(r,s){var u=d.call(this)||this;return u.cellCtrl=r,u.beans=s,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u.setupColSpan(),u.setupRowSpan(),u}return Sd(o,d),o.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},o.prototype.setComp=function(r){this.cellComp=r,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},o.prototype.onDisplayColumnsChanged=function(){var r=this.getColSpanningList();pt(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())},o.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},o.prototype.onWidthChanged=function(){if(this.cellComp){var r=this.getCellWidth();this.cellComp.setWidth(r+"px")}},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(r,s){return r+s.getActualWidth()},0):this.column.getActualWidth()},o.prototype.getColSpanningList=function(){var r=this.column.getColSpan(this.rowNode),s=[];if(1===r)s.push(this.column);else for(var u=this.column,c=this.column.getPinned(),_=0;u&&_<r&&(s.push(u),(u=this.beans.columnModel.getDisplayedColAfter(u))&&!Z(u)&&c===u.getPinned());_++);return s},o.prototype.onLeftChanged=function(){if(this.cellComp){var r=this.modifyLeftForPrintLayout(this.getCellLeft());this.cellComp.setLeft(r+"px")}},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ke(this.colsSpanning):this.column).getLeft()},o.prototype.modifyLeftForPrintLayout=function(r){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===Ee.PINNED_LEFT)return r;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===Ee.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+(r||0):s+(r||0)},o.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var r=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.cellComp.setHeight(r*this.rowSpan+"px"),this.cellComp.setZIndex("1")}},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o}(ot),Ii=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Va=function(d){function o(r,s){var u=d.call(this)||this;return u.staticClasses=[],u.cellCtrl=r,u.beans=s,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u}return Ii(o,d),o.prototype.setComp=function(r,s){this.cellComp=r,this.scope=s,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},o.prototype.applyCellClassRules=function(){var r=this,s=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(s.cellClassRules,u,function(c){return r.cellComp.addOrRemoveCssClass(c,!0)},function(c){return r.cellComp.addOrRemoveCssClass(c,!1)})},o.prototype.applyUserStyles=function(){var r=this.column.getColDef();if(r.cellStyle){var s;if("function"==typeof r.cellStyle){var u={column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};s=(0,r.cellStyle)(u)}else s=r.cellStyle;this.cellComp.setUserStyles(s)}},o.prototype.applyClassesFromColDef=function(){var r=this,s=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(s,u),this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!0)})},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o}(ot),Pr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),oy=function(d){function o(r,s){var u=d.call(this)||this;return u.ctrl=r,u.beans=s,u}return Pr(o,d),o.prototype.setComp=function(r){this.comp=r,this.setupTooltip()},o.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltipSanatised?this.tooltipSanatised:void 0):this.createTooltipFeatureIfNeeded()},o.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue(),this.tooltipSanatised=ls(this.tooltip)},o.prototype.createTooltipFeatureIfNeeded=function(){var r=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Ji({getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}}),this.beans.context))},o.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltipSanatised?this.tooltipSanatised:void 0)},o.prototype.getTooltipParams=function(){var r=this.ctrl,s=r.getColumn?r.getColumn():void 0,u=r.getColDef?r.getColDef():void 0,c=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:u,column:s,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0}},o.prototype.getTooltipText=function(){return this.tooltip},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o}(ot),Fn=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},st=function(){function d(){}return d.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Fn([Y("resizeObserverService")],d.prototype,"resizeObserverService",void 0),Fn([Y("paginationProxy")],d.prototype,"paginationProxy",void 0),Fn([Y("context")],d.prototype,"context",void 0),Fn([Y("columnApi")],d.prototype,"columnApi",void 0),Fn([Y("gridApi")],d.prototype,"gridApi",void 0),Fn([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Fn([Y("expressionService")],d.prototype,"expressionService",void 0),Fn([Y("rowRenderer")],d.prototype,"rowRenderer",void 0),Fn([Y("$compile")],d.prototype,"$compile",void 0),Fn([Y("templateService")],d.prototype,"templateService",void 0),Fn([Y("valueService")],d.prototype,"valueService",void 0),Fn([Y("eventService")],d.prototype,"eventService",void 0),Fn([Y("columnModel")],d.prototype,"columnModel",void 0),Fn([Y("headerNavigationService")],d.prototype,"headerNavigationService",void 0),Fn([Y("navigationService")],d.prototype,"navigationService",void 0),Fn([Y("columnAnimationService")],d.prototype,"columnAnimationService",void 0),Fn([Tt("rangeService")],d.prototype,"rangeService",void 0),Fn([Y("focusService")],d.prototype,"focusService",void 0),Fn([Tt("contextMenuFactory")],d.prototype,"contextMenuFactory",void 0),Fn([Y("popupService")],d.prototype,"popupService",void 0),Fn([Y("valueFormatterService")],d.prototype,"valueFormatterService",void 0),Fn([Y("stylingService")],d.prototype,"stylingService",void 0),Fn([Y("columnHoverService")],d.prototype,"columnHoverService",void 0),Fn([Y("userComponentFactory")],d.prototype,"userComponentFactory",void 0),Fn([Y("userComponentRegistry")],d.prototype,"userComponentRegistry",void 0),Fn([Y("animationFrameService")],d.prototype,"animationFrameService",void 0),Fn([Y("dragAndDropService")],d.prototype,"dragAndDropService",void 0),Fn([Y("sortController")],d.prototype,"sortController",void 0),Fn([Y("filterManager")],d.prototype,"filterManager",void 0),Fn([Y("rowContainerHeightService")],d.prototype,"rowContainerHeightService",void 0),Fn([Y("frameworkOverrides")],d.prototype,"frameworkOverrides",void 0),Fn([Y("cellPositionUtils")],d.prototype,"cellPositionUtils",void 0),Fn([Y("rowPositionUtils")],d.prototype,"rowPositionUtils",void 0),Fn([Y("selectionService")],d.prototype,"selectionService",void 0),Fn([Tt("selectionHandleFactory")],d.prototype,"selectionHandleFactory",void 0),Fn([Y("rowCssClassCalculator")],d.prototype,"rowCssClassCalculator",void 0),Fn([Y("rowModel")],d.prototype,"rowModel",void 0),Fn([Y("ctrlsService")],d.prototype,"ctrlsService",void 0),Fn([Y("ctrlsFactory")],d.prototype,"ctrlsFactory",void 0),Fn([Y("agStackComponentsRegistry")],d.prototype,"agStackComponentsRegistry",void 0),Fn([Y("valueCache")],d.prototype,"valueCache",void 0),Fn([Y("rowNodeEventThrottle")],d.prototype,"rowNodeEventThrottle",void 0),Fn([se],d.prototype,"postConstruct",null),Fn([Le("beans")],d)}(),It=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ji=function(d){function o(r,s,u){var c=d.call(this)||this;return c.cellCtrl=r,c.beans=s,c.column=u,c}return It(o,d),o.prototype.onMouseEvent=function(r,s){if(!fr(s))switch(r){case"click":this.onCellClicked(s);break;case"mousedown":case"touchstart":this.onMouseDown(s);break;case"dblclick":this.onCellDoubleClicked(s);break;case"mouseout":this.onMouseOut(s);break;case"mouseover":this.onMouseOver(s)}},o.prototype.onCellClicked=function(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();var s=this.beans,u=s.eventService,c=s.gridOptionsWrapper,_=this.cellCtrl.createEvent(r,ae.EVENT_CELL_CLICKED);u.dispatchEvent(_);var C=this.column.getColDef();C.onCellClicked&&window.setTimeout(function(){return C.onCellClicked(_)},0),(c.isSingleClickEdit()||C.singleClickEdit)&&!c.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.isDoubleClickOnIPad=function(){if(!Ra()||Fo("dblclick"))return!1;var r=(new Date).getTime(),s=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,s},o.prototype.onCellDoubleClicked=function(r){var s=this.column.getColDef(),u=this.cellCtrl.createEvent(r,ae.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(u),"function"==typeof s.onCellDoubleClicked&&window.setTimeout(function(){return s.onCellDoubleClicked(u)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.onMouseDown=function(r){var s=r.ctrlKey,u=r.metaKey,c=r.shiftKey,_=r.target,C=this.beans,A=C.eventService,x=C.rangeService;if(!this.isRightClickInExistingRange(r)){var k=x&&0!=x.getCellRanges().length;if(!c||!k){var W=(Mi()||fc())&&!this.cellCtrl.isEditing()&&!io(_);this.cellCtrl.focusCell(W)}if(c&&k&&r.preventDefault(),!this.containsWidget(_)){if(x){var ee=this.cellCtrl.getCellPosition();c?x.extendLatestRangeToCell(ee):x.setRangeToCell(ee,s||u)}A.dispatchEvent(this.cellCtrl.createEvent(r,ae.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(r){var s=this.beans.rangeService;return!(!s||!s.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==r.button)},o.prototype.containsWidget=function(r){return _c(r,"ag-selection-checkbox",3)},o.prototype.onMouseOut=function(r){if(!this.mouseStayingInsideCell(r)){var s=this.cellCtrl.createEvent(r,ae.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.clearMouseOver()}},o.prototype.onMouseOver=function(r){if(!this.mouseStayingInsideCell(r)){var s=this.cellCtrl.createEvent(r,ae.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.setMouseOver([this.column])}},o.prototype.mouseStayingInsideCell=function(r){if(!r.target||!r.relatedTarget)return!1;var s=this.cellCtrl.getGui(),u=s.contains(r.target),c=s.contains(r.relatedTarget);return u&&c},o.prototype.destroy=function(){},o}(st),Nr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),eg=function(d){function o(r,s,u,c,_,C){var A=d.call(this)||this;return A.cellCtrl=r,A.beans=s,A.column=u,A.rowNode=c,A.rowCtrl=C,A}return Nr(o,d),o.prototype.setComp=function(r){this.eGui=r},o.prototype.onKeyDown=function(r){var s=r.which||r.keyCode;switch(s){case at.ENTER:this.onEnterKeyDown(r);break;case at.F2:this.onF2KeyDown();break;case at.ESCAPE:this.onEscapeKeyDown();break;case at.TAB:this.onTabKeyDown(r);break;case at.BACKSPACE:case at.DELETE:this.onBackspaceOrDeleteKeyPressed(s);break;case at.DOWN:case at.UP:case at.RIGHT:case at.LEFT:this.onNavigationKeyPressed(r,s)}},o.prototype.onNavigationKeyPressed=function(r,s){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(s):this.beans.navigationService.navigateToNextCell(r,s,this.cellCtrl.getCellPosition(),!0),r.preventDefault())},o.prototype.onShiftRangeSelect=function(r){if(this.beans.rangeService){var s=this.beans.rangeService.extendLatestRangeInDirection(r);s&&this.beans.navigationService.ensureCellVisible(s)}},o.prototype.onTabKeyDown=function(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)},o.prototype.onBackspaceOrDeleteKeyPressed=function(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(r)},o.prototype.onEnterKeyDown=function(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,at.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(at.ENTER),this.cellCtrl.isEditing()&&r.preventDefault())},o.prototype.onF2KeyDown=function(){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(at.F2)},o.prototype.onEscapeKeyDown=function(){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},o.prototype.onKeyPress=function(r){if(ir(r)===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(r.charCode);" "===c?this.onSpaceKeyPressed(r):jl(r)&&(this.cellCtrl.startRowOrCellEdit(null,c),r.preventDefault())}},o.prototype.onSpaceKeyPressed=function(r){var s=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&s.isRowSelection()){var u=this.rowNode.isSelected(),c=!u;if(c||!s.isSuppressRowDeselection()){var _=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),C=this.rowNode.setSelectedParams({newValue:c,rangeSelect:r.shiftKey,groupSelectsFiltered:_});void 0===u&&0===C&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:_})}}r.preventDefault()},o.prototype.destroy=function(){},o}(ot),dm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),mC=function(d){function o(r,s,u,c){var _=d.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return _.rowNode=r,_.column=s,_.beans=u,_.eCell=c,_}return dm(o,d),o.prototype.postConstruct=function(){this.getGui().appendChild(Wi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(s){s.stopPropagation()}),this.addDragSource(),this.checkVisibility()},o.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},o.prototype.onDragStart=function(r){var s=this,u=this.column.getColDef().dndSourceOnRowDrag,c=Mi();c||r.dataTransfer.setDragImage(this.eCell,0,0),u?u({rowNode:this.rowNode,dragEvent:r}):function(){try{var C=JSON.stringify(s.rowNode.data);c?r.dataTransfer.setData("text",C):(r.dataTransfer.setData("application/json",C),r.dataTransfer.setData("text/plain",C))}catch(A){}}()},o.prototype.checkVisibility=function(){var r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"postConstruct",null),o}(Sn),_C=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),tg=function(){return(tg=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},On="ag-cell-not-inline-editing",Fc=0,Bn=function(d){function o(r,s,u,c){var _=d.call(this)||this;return _.suppressRefreshCell=!1,_.column=r,_.rowNode=s,_.beans=u,_.rowCtrl=c,_.instanceId=r.getId()+"-"+Fc++,_.createCellPosition(),_.addFeatures(),_}return _C(o,d),o.prototype.addFeatures=function(){var r=this;this.cellPositionFeature=new Ct(this,this.beans),this.addDestroyFunc(function(){return r.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Va(this,this.beans),this.addDestroyFunc(function(){return r.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new ji(this,this.beans,this.column),this.addDestroyFunc(function(){return r.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new eg(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return r.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Gu(this.beans,this),this.addDestroyFunc(function(){return r.cellRangeFeature.destroy()})),this.addTooltipFeature()},o.prototype.addTooltipFeature=function(){var r=this;this.tooltipFeature=new oy({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getRowIndex:function(){return r.cellPosition.rowIndex},getRowNode:function(){return r.rowNode},getGui:function(){return r.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=r.column.getColDef(),_=r.rowNode.data;if(c.tooltipField&&Q(_))return En(_,c.tooltipField,r.column.isTooltipFieldContainsDots());var C=c.tooltipValueGetter;return C?C({location:"cell",api:r.beans.gridOptionsWrapper.getApi(),columnApi:r.beans.gridOptionsWrapper.getColumnApi(),context:r.beans.gridOptionsWrapper.getContext(),colDef:r.column.getColDef(),column:r.column,rowIndex:r.cellPosition.rowIndex,node:r.rowNode,data:r.rowNode.data,value:r.value,valueFormatted:r.valueFormatted}):null},getValueFormatted:function(){return r.valueFormatted}},this.beans),this.addDestroyFunc(function(){return r.tooltipFeature.destroy()})},o.prototype.setComp=function(r,s,u,c,_){this.cellComp=r,this.gow=this.beans.gridOptionsWrapper,this.scope=s,this.eGui=u,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight();var C=ls(this.column.getId()),A=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setTabIndex(-1),this.cellComp.setRole("gridcell"),this.cellComp.setAriaColIndex(A),this.cellComp.setColId(C),this.cellComp.setUnselectable(this.beans.gridOptionsWrapper.isEnableCellTextSelection()?null:"on"),this.cellPositionFeature.setComp(r),this.cellCustomStyleFeature.setComp(r,s),this.tooltipFeature.setComp(r),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(r),_&&this.isCellEditable()?this.startEditing():this.showValue()},o.prototype.setupAutoHeight=function(){var r=this;if(this.column.getColDef().autoHeight){var s=function(_){var C=r.beans.gridOptionsWrapper.getDocument();C&&C.contains(r.eGui)||!(_<5)?r.rowNode.setRowAutoHeight(r.eGui.offsetHeight,r.column):r.beans.frameworkOverrides.setTimeout(function(){return s(_++)},0)},u=function(){return s(0)};u();var c=this.beans.resizeObserverService.observeResize(this.eGui,u);this.addDestroyFunc(function(){c(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.showValue=function(r){void 0===r&&(r=!1);var s=null!=this.valueFormatted?this.valueFormatted:this.value,u=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),u);this.cellComp.setRenderDetails(c,s,r),this.refreshHandle()},o.prototype.setupControlComps=function(){var r=this.column.getColDef();this.includeSelection=this.isIncludeControl(r.checkboxSelection),this.includeRowDrag=this.isIncludeControl(r.rowDrag),this.includeDndSource=this.isIncludeControl(r.dndSource);var s=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||1==this.column.getColDef().autoHeight;this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag),this.cellComp.setForceWrapper(s)},o.prototype.isIncludeControl=function(r){return!(null!=this.rowNode.rowPinned||"function"!=typeof r&&!0!==r)},o.prototype.setupAriaExpanded=function(){var r=this,s=this.column.getColDef();if(this.rowNode.isExpandable()){var u=s.showRowGroup,c=this.rowNode.rowGroupColumn,_=!0===u,C=c&&c.getColId()===u;if(_||C){var x=function(){r.cellComp.setAriaExpanded(!!r.rowNode.expanded)};this.addManagedListener(this.rowNode,Tn.EVENT_EXPANDED_CHANGED,x),x()}}},o.prototype.refreshShouldDestroy=function(){var r=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(r.checkboxSelection),u=this.includeRowDrag!=this.isIncludeControl(r.rowDrag),c=this.includeDndSource!=this.isIncludeControl(r.dndSource);return s||u||c},o.prototype.startEditing=function(r,s,u){if(void 0===r&&(r=null),void 0===s&&(s=null),void 0===u&&(u=!1),this.isCellEditable()&&!this.editing){var c=this.createCellEditorParams(r,s,u),_=this.column.getColDef(),C=this.beans.userComponentFactory.getCellEditorDetails(_,c),A=!!_.cellEditorPopup,x=_.cellEditorPopupPosition;this.setEditing(!0,A),this.cellComp.setEditDetails(C,A,x);var k=this.createEvent(null,ae.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(k)}},o.prototype.setEditing=function(r,s){void 0===s&&(s=!1),this.editing!==r&&(this.editing=r,this.editingInPopup=s,this.setInlineEditingClass())},o.prototype.stopRowOrCellEdit=function(r){void 0===r&&(r=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(r):this.stopEditing(r)},o.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},o.prototype.takeValueFromCellEditor=function(r){var s={newValueExists:!1};if(r)return s;var u=this.cellComp.getCellEditor();return u?u.isCancelAfterEnd&&u.isCancelAfterEnd()?s:{newValue:u.getValue(),newValueExists:!0}:s},o.prototype.saveNewValue=function(r,s){s!==r&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,s),this.suppressRefreshCell=!1)},o.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),this.editing){var s=this.takeValueFromCellEditor(r),u=s.newValue,c=s.newValueExists,_=this.getValueFromValueService();c&&this.saveNewValue(_,u),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(_,u)}},o.prototype.dispatchEditingStoppedEvent=function(r,s){var u=tg(tg({},this.createEvent(null,ae.EVENT_CELL_EDITING_STOPPED)),{oldValue:r,newValue:s});this.beans.eventService.dispatchEvent(u)},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var r=this.editing&&!this.editingInPopup,s=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",r),this.cellComp.addOrRemoveCssClass(On,!r),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",s),this.rowCtrl.setInlineEditingCss(this.editing)}},o.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},o.prototype.createCellEditorParams=function(r,s,u){var c={value:this.getValueFromValueService(),keyPress:r,charPress:s,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:u,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(c.$scope=this.scope),c},o.prototype.createCellRendererParams=function(){var r=this,u={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(c){return r.beans.valueService.setValue(r.rowNode,r.column,c)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(c,_,C,A){return r.registerRowDragger(c,_,A)},addRowCompListener:function(c,_){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),r.rowCtrl.addEventListener(c,_)}};return this.scope&&(u.$scope=this.scope),u},o.prototype.parseValue=function(r){var s=this.column.getColDef(),u={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:r,colDef:s,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},c=s.valueParser;return Q(c)?this.beans.expressionService.evaluate(c,u):r},o.prototype.setFocusOutOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusOut&&r.focusOut()}},o.prototype.setFocusInOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusIn?r.focusIn():this.focusCell(!0)}},o.prototype.onCellChanged=function(r){r.column===this.column&&this.refreshCell({})},o.prototype.refreshCell=function(r){if(!this.suppressRefreshCell&&!this.editing){var s=this.column.getColDef(),u=null!=r&&!!r.newData,c=null!=r&&!!r.suppressFlash||!!s.suppressCellFlash,C=r&&r.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||u,A=this.updateAndFormatValue();if(C||A){this.showValue(u);var k=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!k&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},o.prototype.stopEditingAndFocus=function(r){void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),r||this.navigateAfterEdit()},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,at.DOWN,this.getCellPosition(),!1)},o.prototype.flashCell=function(r){this.animateCell("data-changed",r&&r.flashDelay,r&&r.fadeDelay)},o.prototype.animateCell=function(r,s,u){var c=this,_="ag-cell-"+r,C="ag-cell-"+r+"-animation",A=this.beans.gridOptionsWrapper;s||(s=A.getCellFlashDelay()),Q(u)||(u=A.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(_,!0),this.cellComp.addOrRemoveCssClass(C,!1),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(_,!1),c.cellComp.addOrRemoveCssClass(C,!0),c.cellComp.setTransition("background-color "+u+"ms"),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(C,!1),c.cellComp.setTransition("transition")},u)},s)},o.prototype.onFlashCells=function(r){var s=this.beans.cellPositionUtils.createId(this.getCellPosition());r.cells[s]&&this.animateCell("highlight")},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},o.prototype.formatValue=function(r){var s=this.callValueFormatter(r);return null!=s?s:r},o.prototype.callValueFormatter=function(r){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,r)},o.prototype.updateAndFormatValue=function(r){void 0===r&&(r=!1);var s=this.value,u=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!r||!this.valuesAreEqual(s,this.value)||this.valueFormatted!=u},o.prototype.valuesAreEqual=function(r,s){var u=this.column.getColDef();return u.equals?u.equals(r,s):r===s},o.prototype.getComp=function(){return this.cellComp},o.prototype.getValueFromValueService=function(){var r=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!r,u=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),c=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,s&&u&&!c)},o.prototype.getValue=function(){return this.value},o.prototype.getValueFormatted=function(){return this.valueFormatted},o.prototype.addDomData=function(){var r=this,s=this.getGui();this.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return r.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,null)})},o.prototype.createEvent=function(r,s){var u={type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:r,rowIndex:this.rowNode.rowIndex};return this.scope&&(u.$scope=this.scope),u},o.prototype.onKeyPress=function(r){this.cellKeyboardListenerFeature.onKeyPress(r)},o.prototype.onKeyDown=function(r){this.cellKeyboardListenerFeature.onKeyDown(r)},o.prototype.onMouseEvent=function(r,s){this.cellMouseListenerFeature.onMouseEvent(r,s)},o.prototype.getGui=function(){return this.eGui},o.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},o.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},o.prototype.onLeftChanged=function(){this.cellPositionFeature.onLeftChanged(),this.refreshAriaIndex()},o.prototype.refreshAriaIndex=function(){var r=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setAriaColIndex(r)},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},o.prototype.getColumn=function(){return this.column},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getBeans=function(){return this.beans},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.appendChild=function(r){this.eGui.appendChild(r)},o.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.isEditing=function(){return this.editing},o.prototype.startRowOrCellEdit=function(r,s){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(r,s,this):this.startEditing(r,s,!0)},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},o.prototype.updateRangeBordersIfRangeCount=function(){this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},o.prototype.onRangeSelectionChanged=function(){this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},o.prototype.focusCell=function(r){void 0===r&&(r=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,r)},o.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var r=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",r)}},o.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var r=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",r)}},o.prototype.onCellFocused=function(r){if(this.cellComp){var s=this.beans.focusService.isCellFocused(this.cellPosition);if(this.gow.isSuppressCellSelection()||this.cellComp.addOrRemoveCssClass("ag-cell-focus",s),s&&r&&r.forceBrowserFocus){var u=this.cellComp.getFocusableElement();u.focus(),(!document.activeElement||document.activeElement===document.body)&&u.focus()}var c=this.beans.gridOptionsWrapper.isFullRowEdit();!s&&!c&&this.editing&&this.stopRowOrCellEdit()}},o.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},o.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(On,!0);var r=1==this.column.getColDef().autoHeight;this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",r),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!r)},o.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var r=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",r)}},o.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},o.prototype.setWrapText=function(){var r=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",r)},o.prototype.dispatchCellContextMenuEvent=function(r){var s=this.column.getColDef(),u=this.createEvent(r,ae.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(u),s.onCellContextMenu&&window.setTimeout(function(){return s.onCellContextMenu(u)},0)},o.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},o.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.createSelectionCheckbox=function(){var r=new vh;return this.beans.context.createBean(r),r.init({rowNode:this.rowNode,column:this.column}),r},o.prototype.createDndSource=function(){var r=new mC(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(r),r},o.prototype.registerRowDragger=function(r,s,u){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(r,s);else{var _=this.createRowDragComp(r,s,u);_&&(this.customRowDragComp=_,this.addDestroyFunc(function(){return c.beans.context.destroyBean(_)}))}},o.prototype.createRowDragComp=function(r,s,u){var c=this,_=this.beans.gridOptionsWrapper.isPagination(),C=this.beans.gridOptionsWrapper.isRowDragManaged(),A=this.beans.gridOptionsWrapper.isRowModelDefault();if(C){if(!A)return void Jt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(_)return void Jt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var x=new Fu(function(){return c.value},this.rowNode,this.column,r,s,u);return this.beans.context.createBean(x),x},o.DOM_DATA_KEY_CELL_CTRL="cellCtrl",o}(ot),sy=function(){return(sy=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},yC=function(){function d(){}return d.createChildScopeOrNull=function(o,r,s){if(!s.isAngularCompileRows())return null;var c=r.$new();return c.data=sy({},o.data),c.rowNode=o,c.context=s.getContext(),{scope:c,scopeDestroyFunc:function(){c.$destroy(),c.data=null,c.rowNode=null,c.context=null}}},d}(),vC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Yo=(()=>(function(d){d.Normal="Normal",d.FullWidth="FullWidth",d.FullWidthLoading="FullWidthLoading",d.FullWidthGroup="FullWidthGroup",d.FullWidthDetail="FullWidthDetail"}(Yo||(Yo={})),Yo))(),wE=ko([[Yo.FullWidthLoading,"agLoadingCellRenderer"],[Yo.FullWidthGroup,"agGroupRowRenderer"],[Yo.FullWidthDetail,"agDetailCellRenderer"]]),bE=ko([[Yo.FullWidth,"fullWidthCellRenderer"],[Yo.FullWidthLoading,"loadingCellRenderer"],[Yo.FullWidthGroup,"groupRowRenderer"],[Yo.FullWidthDetail,"detailCellRenderer"]]),EE=0,Ha=function(d){function o(r,s,u,c,_,C){var A=d.call(this)||this;return A.allRowGuis=[],A.active=!0,A.centerCellCtrls={list:[],map:{}},A.leftCellCtrls={list:[],map:{}},A.rightCellCtrls={list:[],map:{}},A.lastMouseDownOnDragger=!1,A.updateColumnListsPending=!1,A.parentScope=r,A.beans=u,A.rowNode=s,A.paginationPage=A.beans.paginationProxy.getCurrentPage(),A.useAnimationFrameForCreate=_,A.printLayout=C,A.instanceId=s.id+"-"+EE++,A.setAnimateFlags(c),A.rowFocused=A.beans.focusService.isRowFocused(A.rowNode.rowIndex,A.rowNode.rowPinned),A.setupAngular1Scope(),A.rowLevel=A.beans.rowCssClassCalculator.calculateRowLevel(A.rowNode),A.setRowType(),A.addListeners(),A.setInitialRowTop(),A}return vC(o,d),o.prototype.getBeans=function(){return this.beans},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(r,s,u){var c={rowComp:r,element:s,pinned:u};this.allRowGuis.push(c),u===Ee.PINNED_LEFT?this.leftGui=c:u===Ee.PINNED_RIGHT?this.rightGui=c:this.isFullWidth()&&!this.beans.gridOptionsWrapper.isEmbedFullWidthRows()?this.fullWidthGui=c:this.centerGui=c,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},o.prototype.isCacheable=function(){return this.rowType===Yo.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},o.prototype.setCached=function(r){var s=r?"none":void 0;this.allRowGuis.forEach(function(u){return u.rowComp.setDisplay(s)})},o.prototype.initialiseRowComps=function(){var r=this,s=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Ze(this.onTopChanged.bind(this)),this.fadeRowIn&&Ze(function(){r.allRowGuis.forEach(function(C){return C.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var u=this.getRowBusinessKey(),c=ls(this.rowNode.id),_=ls(u);this.allRowGuis.forEach(function(C){var A=C.rowComp;A.setRole("row"),r.getInitialRowClasses(C.pinned).forEach(function(k){return A.addOrRemoveCssClass(k,!0)}),r.rowNode.group&&A.setAriaExpanded(1==r.rowNode.expanded),null!=c&&A.setRowId(c),null!=_&&A.setRowBusinessKey(_),r.isFullWidth()&&A.setTabIndex(-1),s.setDomData(C.element,o.DOM_DATA_KEY_ROW_CTRL,r),r.addDestroyFunc(function(){return s.setDomData(C.element,o.DOM_DATA_KEY_ROW_CTRL,null)}),r.useAnimationFrameForCreate?r.beans.animationFrameService.createTask(r.addHoverFunctionality.bind(r,C.element),r.rowNode.rowIndex,"createTasksP2"):r.addHoverFunctionality(C.element),r.isFullWidth()&&r.setupFullWidth(C),s.isRowDragEntireRow()&&r.addRowDraggerToRow(C),r.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&C.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},o.prototype.addRowDraggerToRow=function(r){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())Jt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var u=new Fu(function(){return"1 row"},this.rowNode,void 0,r.element,void 0,!0);this.createManagedBean(u,this.beans.context)}},o.prototype.getFullWidthCellRendererType=function(){return bE.get(this.rowType)},o.prototype.getFullWidthCellRendererName=function(){return wE.get(this.rowType)},o.prototype.setupFullWidth=function(r){var s=this.createFullWidthParams(r.element,r.pinned),u=this.getFullWidthCellRendererType(),c=this.getFullWidthCellRendererName(),_=this.beans.userComponentFactory.getFullWidthCellRendererDetails(s,u,c);if(_)r.rowComp.showFullWidth(_);else{var C=Gt.isRegistered(q.GXE.MasterDetailModule);"agDetailCellRenderer"!==c||C?console.error("AG Grid: fullWidthCellRenderer "+c+" not found"):console.warn("AG Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?")}},o.prototype.getScope=function(){return this.scope},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.setupAngular1Scope=function(){var r=yC.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);r&&(this.scope=r.scope,this.addDestroyFunc(r.scopeDestroyFunc))},o.prototype.getCellElement=function(r){var s=this.getCellCtrl(r);return s?s.getGui():null},o.prototype.executeProcessRowPostCreateFunc=function(){var r=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();r&&r({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},o.prototype.setRowType=function(){var r=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),u=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),C=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(c);this.rowType=r?Yo.FullWidthLoading:u?Yo.FullWidthDetail:s?Yo.FullWidth:C?Yo.FullWidthGroup:Yo.Normal},o.prototype.updateColumnLists=function(r){var s=this;if(void 0===r&&(r=!1),!this.isFullWidth()){if(r||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!s.active||s.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},o.prototype.createCellCtrls=function(r,s,u){var c=this;void 0===u&&(u=null);var _={list:[],map:{}},C=function(A,x){_.list.push(x),_.map[A]=x};return s.forEach(function(A){var x=A.getInstanceId(),k=r.map[x];k||(k=new Bn(A,c.rowNode,c.beans,c)),C(x,k)}),r.list.forEach(function(A){if(null==_.map[A.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(A,u))return void C(A.getColumn().getInstanceId(),A);A.destroy()}}),_},o.prototype.updateColumnListsImpl=function(){var r=this;this.updateColumnListsPending=!1;var s=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var u=s.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u);var c=s.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,Ee.PINNED_LEFT);var _=s.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,_,Ee.PINNED_RIGHT)}this.allRowGuis.forEach(function(C){C.rowComp.setCellCtrls((C.pinned===Ee.PINNED_LEFT?r.leftCellCtrls:C.pinned===Ee.PINNED_RIGHT?r.rightCellCtrls:r.centerCellCtrls).list)})},o.prototype.isCellEligibleToBeRemoved=function(r,s){var u=!0;if(r.getColumn().getPinned()!=s)return u;var C=r.isEditing(),A=this.beans.focusService.isCellFocused(r.getCellPosition());if(C||A){var k=r.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(k)>=0)&&u}return u},o.prototype.setAnimateFlags=function(r){if(r){var s=Q(this.rowNode.oldRowTop);this.slideRowIn=s,this.fadeRowIn=!s}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(r){this.stopEditing(r)},o.prototype.isFullWidth=function(){return this.rowType!==Yo.Normal},o.prototype.getRowType=function(){return this.rowType},o.prototype.refreshFullWidth=function(){var r=this,s=function(x,k){if(!x)return!0;var W=x.rowComp.getFullWidthCellRenderer();if(!W||!W.refresh)return!1;var ee=r.createFullWidthParams(x.element,k);return W.refresh(ee)},u=s(this.fullWidthGui,null),c=s(this.centerGui,null),_=s(this.leftGui,Ee.PINNED_LEFT),C=s(this.rightGui,Ee.PINNED_RIGHT);return u&&c&&_&&C},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Tn.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Tn.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,ae.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,ae.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,ae.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,ae.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,ae.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(r,ae.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.onColumnMoved=function(){this.updateColumnLists()},o.prototype.addListenersForCellComps=function(){var r=this;this.addManagedListener(this.rowNode,Tn.EVENT_ROW_INDEX_CHANGED,function(){r.getAllCellCtrls().forEach(function(s){return s.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Tn.EVENT_CELL_CHANGED,function(s){r.getAllCellCtrls().forEach(function(u){return u.onCellChanged(s)})})},o.prototype.onRowNodeDataChanged=function(r){this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!r.update,newData:!r.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var r=this.rowNode.highlighted;this.allRowGuis.forEach(function(s){var c=r===q.oh5.Below;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r===q.oh5.Above),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var r=this.rowNode.dragging;this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-row-dragging",r)})},o.prototype.updateExpandedCss=function(){var r=this.rowNode.isExpandable(),s=1==this.rowNode.expanded;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-group",r),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",r&&s),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",r&&!s),u.rowComp.setAriaExpanded(r&&s)})},o.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},o.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},o.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyboardNavigate=function(r){var s=he(this.allRowGuis,function(x){return x.element.contains(r.target)});if((s?s.element:null)===r.target){var _=this.rowNode,C=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(r,r.keyCode,{rowIndex:_.rowIndex,rowPinned:_.rowPinned,column:C&&C.column},!0),r.preventDefault()}},o.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented&&!fr(r)){var s=he(this.allRowGuis,function(C){return C.element.contains(r.target)}),u=s?s.element:null,c=u===r.target,_=null;c||(_=this.beans.focusService.findNextFocusableElement(u,!1,r.shiftKey)),(this.isFullWidth()&&c||!_)&&this.beans.navigationService.onTabKeyDown(this,r)}},o.prototype.onFullWidthRowFocused=function(r){var s=this.rowNode,u=this.isFullWidth()&&r.rowIndex===s.rowIndex&&r.rowPinned==s.rowPinned,c=this.fullWidthGui?this.fullWidthGui.element:this.centerGui.element;vt(c,"ag-full-width-focus",u),u&&c.focus({preventScroll:!0})},o.prototype.refreshCell=function(r){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,r),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,r),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,r),this.updateColumnLists()},o.prototype.removeCellCtrl=function(r,s){var u={list:[],map:{}};return r.list.forEach(function(c){c!==s&&(u.list.push(c),u.map[c.getInstanceId()]=c)}),u},o.prototype.onMouseEvent=function(r,s){switch(r){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s)}},o.prototype.createRowEvent=function(r,s){return{type:r,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:s}},o.prototype.createRowEventWithSource=function(r,s){var u=this.createRowEvent(r,s);return u.source=this,u},o.prototype.onRowDblClick=function(r){if(!fr(r)){var s=this.createRowEventWithSource(ae.EVENT_ROW_DOUBLE_CLICKED,r);this.beans.eventService.dispatchEvent(s)}},o.prototype.onRowMouseDown=function(r){if(this.lastMouseDownOnDragger=_c(r.target,"ag-row-drag",3),this.isFullWidth()){var s=this.rowNode;this.beans.focusService.setFocusedCell(s.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],s.rowPinned,!0)}},o.prototype.onRowClick=function(r){if(!fr(r)&&!this.lastMouseDownOnDragger){var u=this.createRowEventWithSource(ae.EVENT_ROW_CLICKED,r);this.beans.eventService.dispatchEvent(u);var c=r.ctrlKey||r.metaKey,_=r.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var A=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),x=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?A?this.rowNode.setSelectedParams({newValue:!1}):c?x&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!_,clearSelection:!_,rangeSelect:_}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!A&&!c,rangeSelect:_})}}},o.prototype.setupDetailRowAutoHeight=function(r){var s=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var u=function(){var _=r.clientHeight;null!=_&&_>0&&s.beans.frameworkOverrides.setTimeout(function(){s.rowNode.setRowHeight(_),s.beans.clientSideRowModel?s.beans.clientSideRowModel.onRowHeightChanged():s.beans.serverSideRowModel&&s.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(r,u);this.addDestroyFunc(c),u()}},o.prototype.createFullWidthParams=function(r,s){var u=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:r,eParentOfValue:r,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(_,C,A,x){return u.addFullWidthRowDragging(_,C,A,x)}}},o.prototype.addFullWidthRowDragging=function(r,s,u,c){if(void 0===u&&(u=""),this.isFullWidth()){var _=new Fu(function(){return u},this.rowNode,void 0,r,s,c);this.createManagedBean(_,this.beans.context)}},o.prototype.onUiLevelChanged=function(){var r=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=r){var s="ag-row-level-"+r,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(s,!0),c.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=r},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){var r=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==r&&(this.firstRowOnPage=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-first",r)})),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-last",s)}))},o.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),this.getAllCellCtrls().forEach(function(u){return u.stopEditing(r)}),this.editingRow){if(!r){var s=this.createRowEvent(ae.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}this.setEditingRow(!1)}},o.prototype.setInlineEditingCss=function(r){this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",r),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!r)})},o.prototype.setEditingRow=function(r){this.editingRow=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-editing",r)});var s=this.createRowEvent(r?ae.EVENT_ROW_EDITING_STARTED:ae.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)},o.prototype.startRowEditing=function(r,s,u){void 0===r&&(r=null),void 0===s&&(s=null),void 0===u&&(u=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(c){var _=c===u;_?c.startEditing(r,s,_):c.startEditing(null,null,_)}),this.setEditingRow(!0))},o.prototype.getAllCellCtrls=function(){return function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},o.prototype.postProcessClassesFromGridOptions=function(){var r=this,s=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!s||!s.length||s.forEach(function(u){r.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(u,!0)})})},o.prototype.postProcessRowClassRules=function(){var r=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(s){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(s,!0)})},function(s){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(s,!1)})})},o.prototype.setStylesFromGridOptions=function(){var r=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(s){return s.rowComp.setUserStyles(r)})},o.prototype.getRowBusinessKey=function(){var r=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof r)return r(this.rowNode)},o.prototype.getInitialRowClasses=function(r){var s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)},o.prototype.processStylesFromGridOptions=function(){var r=this.beans.gridOptionsWrapper.getRowStyle();if(!r||"function"!=typeof r){var u,s=this.beans.gridOptionsWrapper.getRowStyleFunc();return s&&(u=s({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),Ai({},r,u)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.onRowSelected=function(){var r=this,s=this.rowNode.isSelected();this.allRowGuis.forEach(function(u){u.rowComp.setAriaSelected(!!s||void 0),u.rowComp.addOrRemoveCssClass("ag-row-selected",s),u.rowComp.setAriaLabel(r.createAriaLabel())})},o.prototype.createAriaLabel=function(){var r=this.rowNode.isSelected();if(!r||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(r?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(r?"deselect":"select")+" this row.")},o.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},o.prototype.addHoverFunctionality=function(r){var s=this;!this.active||(this.addManagedListener(r,"mouseenter",function(){return s.rowNode.onMouseEnter()}),this.addManagedListener(r,"mouseleave",function(){return s.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Tn.EVENT_MOUSE_ENTER,function(){s.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||ut(r,"ag-row-hover")}),this.addManagedListener(this.rowNode,Tn.EVENT_MOUSE_LEAVE,function(){Cr(r,"ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(r){var u=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(u.top,!0)-100,_=this.applyPaginationOffset(u.bottom,!0)+100;return Math.min(Math.max(c,r),_)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(Q(this.rowNode.rowHeight)){var r=this.rowNode.rowHeight+"px";this.allRowGuis.forEach(function(s){return s.rowComp.setHeight(r)})}},o.prototype.addEventListener=function(r,s){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=ae.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+ae.EVENT_VIRTUAL_ROW_REMOVED)),d.prototype.addEventListener.call(this,r,s)},o.prototype.removeEventListener=function(r,s){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=ae.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+ae.EVENT_VIRTUAL_ROW_REMOVED)),d.prototype.removeEventListener.call(this,r,s)},o.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var r=this.createRowEvent(ae.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),d.prototype.destroy.call(this)},o.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},o.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var r=function(s){return s.list.forEach(function(u){return u.destroy()}),{list:[],map:{}}};this.centerCellCtrls=r(this.centerCellCtrls),this.leftCellCtrls=r(this.leftCellCtrls),this.rightCellCtrls=r(this.rightCellCtrls)},o.prototype.setFocusedClasses=function(){var r=this;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},o.prototype.onCellFocusChanged=function(){var r=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var r=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==r&&(this.paginationPage=r,this.onTopChanged())},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},o.prototype.applyPaginationOffset=function(r,s){return void 0===s&&(s=!1),this.rowNode.isRowPinned()?r:r+this.beans.paginationProxy.getPixelOffset()*(s?1:-1)},o.prototype.setRowTop=function(r){if(!this.printLayout&&Q(r)){var s=this.applyPaginationOffset(r),u=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s);this.setRowTopStyle(u+"px")}},o.prototype.getInitialRowTop=function(){return this.initialTop},o.prototype.getInitialTransform=function(){return this.initialTransform},o.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var r=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(r),c=(this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=c:this.initialTransform="translateY("+c+")"},o.prototype.setRowTopStyle=function(r){var s=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(u){return s?u.rowComp.setTop(r):u.rowComp.setTransform("translateY("+r+")")})},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getCellCtrl=function(r){var s=null;return this.getAllCellCtrls().forEach(function(u){u.getColumn()==r&&(s=u)}),null!=s||this.getAllCellCtrls().forEach(function(u){u.getColSpanningList().indexOf(r)>=0&&(s=u)}),s},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},o.prototype.updateRowIndexes=function(){var r=this,s=this.rowNode.getRowIndexString(),u=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0;this.allRowGuis.forEach(function(_){_.rowComp.setRowIndex(s),_.rowComp.setAriaRowIndex(u+r.rowNode.rowIndex+1),_.rowComp.addOrRemoveCssClass("ag-row-even",c),_.rowComp.addOrRemoveCssClass("ag-row-odd",!c)})},o.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},o.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},o.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},o.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},o.DOM_DATA_KEY_ROW_CTRL="renderedRow",o}(ot),wC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ho=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},bC=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s},Ip=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.destroyFuncsForColumnListeners=[],r.rowCtrlsByRowIndex={},r.zombieRowCtrls={},r.allRowCtrls=[],r.topRowCtrls=[],r.bottomRowCtrls=[],r.refreshInProgress=!1,r}return wC(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.initialise()})},o.prototype.initialise=function(){this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},o.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var r=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new ar(null!=r?r:3)}},o.prototype.getRowCtrls=function(){return this.allRowCtrls},o.prototype.updateAllRowCtrls=function(){var r=Rt(this.rowCtrlsByRowIndex);this.beans.gridOptionsWrapper.isEnsureDomOrder()&&r.sort(function(c,_){return c.getRowNode().rowIndex-_.getRowNode.rowIndex});var s=Rt(this.zombieRowCtrls),u=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=bC(r,s,u)},o.prototype.registerCellEventListeners=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_CELL_FOCUSED,function(u){r.getAllCellCtrls().forEach(function(c){return c.onCellFocused(u)}),r.getAllRowCtrls().forEach(function(c){c.isFullWidth()&&c.onFullWidthRowFocused(u)})}),this.addManagedListener(this.eventService,ae.EVENT_FLASH_CELLS,function(u){r.getAllCellCtrls().forEach(function(c){return c.onFlashCells(u)})}),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HOVER_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onColumnHover()})}),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){r.printLayout&&r.getAllCellCtrls().forEach(function(u){return u.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,ae.EVENT_RANGE_SELECTION_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PINNED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},o.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(r){return r()}),this.destroyFuncsForColumnListeners.length=0},o.prototype.refreshListenersToColumnsForCellComps=function(){var r=this;this.removeGridColumnListeners();var s=this.columnModel.getAllGridColumns();!s||s.forEach(function(u){var c=function(k){r.getAllCellCtrls().forEach(function(W){W.getColumn()===u&&k(W)})},_=function(){c(function(k){return k.onLeftChanged()})},C=function(){c(function(k){return k.onWidthChanged()})},A=function(){c(function(k){return k.onFirstRightPinnedChanged()})},x=function(){c(function(k){return k.onLastLeftPinnedChanged()})};u.addEventListener(Bt.EVENT_LEFT_CHANGED,_),u.addEventListener(Bt.EVENT_WIDTH_CHANGED,C),u.addEventListener(Bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,A),u.addEventListener(Bt.EVENT_LAST_LEFT_PINNED_CHANGED,x),r.destroyFuncsForColumnListeners.push(function(){u.removeEventListener(Bt.EVENT_LEFT_CHANGED,_),u.removeEventListener(Bt.EVENT_WIDTH_CHANGED,C),u.removeEventListener(Bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,A),u.removeEventListener(Bt.EVENT_LAST_LEFT_PINNED_CHANGED,x)})})},o.prototype.onDomLayoutChanged=function(){var r=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT,s=r||this.gridOptionsWrapper.isEmbedFullWidthRows(),u=s!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=s,u&&this.redrawAfterModelUpdate()},o.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},o.prototype.onPageLoaded=function(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})},o.prototype.getAllCellsForColumn=function(r){var s=[];return this.getAllRowCtrls().forEach(function(u){var c=u.getCellElement(r);c&&s.push(c)}),s},o.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},o.prototype.getTopRowCtrls=function(){return this.topRowCtrls},o.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},o.prototype.refreshFloatingRows=function(r,s){var u=this;r.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),r.length=0,s&&s.forEach(function(c){var _=new Ha(u.$scope,c,u.beans,!1,!1,u.printLayout);r.push(_)})},o.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},o.prototype.getRenderedIndexesForRowNodes=function(r){var s=[];return Z(r)||rn(this.rowCtrlsByRowIndex,function(u,c){var _=c.getRowNode();r.indexOf(_)>=0&&s.push(u)}),s},o.prototype.redrawRows=function(r){var s=null!=r&&r.length>0;if(s){var u=this.getRenderedIndexesForRowNodes(r);this.removeRowCtrls(u)}this.redrawAfterModelUpdate({recycleRows:s})},o.prototype.getCellToRestoreFocusToAfterRefresh=function(r){var s=r.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==s)return null;var u=document.activeElement,c=this.gridOptionsWrapper.getDomData(u,Bn.DOM_DATA_KEY_CELL_CTRL),_=this.gridOptionsWrapper.getDomData(u,Ha.DOM_DATA_KEY_ROW_CTRL);return c||_?s:null},o.prototype.redrawAfterModelUpdate=function(r){void 0===r&&(r={}),this.getLockOnRefresh();var s=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);var u=!this.printLayout&&!!r.recycleRows,c=r.animate&&this.gridOptionsWrapper.isAnimateRows(),_=u?this.recycleRows():null;u||this.removeAllRowComps();var A=function(){if(null==s||null==_)return!1;var x=!1;return rn(_,function(k,W){var ee=W.getRowNode();ee.rowIndex==s.rowIndex&&ee.rowPinned==s.rowPinned&&(x=!0)}),x}();this.redraw(_,c),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),A||this.restoreFocusedCell(s),this.releaseLockOnRefresh()},o.prototype.scrollToTopIfNewData=function(r){var s=r.newData||r.newPage,u=this.gridOptionsWrapper.isSuppressScrollOnNewData();s&&!u&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},o.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}},o.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},o.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},o.prototype.restoreFocusedCell=function(r){r&&this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0)},o.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.getAllRowCtrls().forEach(function(s){s.stopEditing(r)})},o.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(r){return r.onNewColumnsLoaded()})},o.prototype.getAllCellCtrls=function(){var r=[];return this.getAllRowCtrls().forEach(function(s){return r=r.concat(s.getAllCellCtrls())}),r},o.prototype.getAllRowCtrls=function(){var r=this,s=bC(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(u){return s.push(r.rowCtrlsByRowIndex[u])}),s},o.prototype.addRenderedRowListener=function(r,s,u){var c=this.rowCtrlsByRowIndex[s];c&&c.addEventListener(r,u)},o.prototype.flashCells=function(r){void 0===r&&(r={});var s=r.flashDelay,u=r.fadeDelay;this.getCellCtrls(r.rowNodes,r.columns).forEach(function(c){return c.flashCell({flashDelay:s,fadeDelay:u})})},o.prototype.refreshCells=function(r){void 0===r&&(r={});var s={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){if(u.refreshShouldDestroy()){var c=u.getRowCtrl();c&&c.refreshCell(u)}else u.refreshCell(s)})},o.prototype.getCellRendererInstances=function(r){return this.getCellCtrls(r.rowNodes,r.columns).map(function(u){return u.getCellRenderer()}).filter(function(u){return null!=u})},o.prototype.getCellEditorInstances=function(r){var s=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){var c=u.getCellEditor();c&&s.push(c)}),s},o.prototype.getEditingCells=function(){var r=[];return this.getAllCellCtrls().forEach(function(s){if(s.isEditing()){var u=s.getCellPosition();r.push(u)}}),r},o.prototype.getCellCtrls=function(r,s){var c,C,u=this,_=[];Q(r)&&(c={top:{},bottom:{},normal:{}},r.forEach(function(x){var k=x.id;x.rowPinned===Ee.PINNED_TOP?c.top[k]=!0:x.rowPinned===Ee.PINNED_BOTTOM?c.bottom[k]=!0:c.normal[k]=!0})),Q(s)&&(C={},s.forEach(function(x){var k=u.columnModel.getGridColumn(x);Q(k)&&(C[k.getId()]=!0)}));var A=function(x){var k=x.getRowNode(),W=k.id,ee=k.rowPinned;if(Q(c))if(ee===Ee.PINNED_BOTTOM){if(!c.bottom[W])return}else if(ee===Ee.PINNED_TOP){if(!c.top[W])return}else if(!c.normal[W])return;x.getAllCellCtrls().forEach(function(le){var ce=le.getColumn().getId();C&&!C[ce]||_.push(le)})};return rn(this.rowCtrlsByRowIndex,function(x,k){A(k)}),this.topRowCtrls&&this.topRowCtrls.forEach(A),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(A),_},o.prototype.destroy=function(){this.removeAllRowComps(),d.prototype.destroy.call(this)},o.prototype.removeAllRowComps=function(){var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},o.prototype.recycleRows=function(){var r=[];rn(this.rowCtrlsByRowIndex,function(u,c){null==c.getRowNode().id&&r.push(u)}),this.removeRowCtrls(r);var s={};return rn(this.rowCtrlsByRowIndex,function(u,c){var _=c.getRowNode();s[_.id]=c}),this.rowCtrlsByRowIndex={},s},o.prototype.removeRowCtrls=function(r){var s=this;r.forEach(function(u){var c=s.rowCtrlsByRowIndex[u];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete s.rowCtrlsByRowIndex[u]})},o.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},o.prototype.removeRowCompsNotToDraw=function(r){var s={};r.forEach(function(_){return s[_]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(_){return!s[_]});this.removeRowCtrls(c)},o.prototype.calculateIndexesToDraw=function(r){var s=this,u=Kd(this.firstRenderedRow,this.lastRenderedRow),c=function(_,C){var A=C.getRowNode().rowIndex;null!=A&&(A<s.firstRenderedRow||A>s.lastRenderedRow)&&s.doNotUnVirtualiseRow(C)&&u.push(A)};return rn(this.rowCtrlsByRowIndex,c),rn(r,c),u.sort(function(_,C){return _-C}),u},o.prototype.redraw=function(r,s,u){var c=this;void 0===s&&(s=!1),void 0===u&&(u=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var _=this.calculateIndexesToDraw(r);this.removeRowCompsNotToDraw(_),this.printLayout&&(s=!1),_.forEach(function(A){Q(c.createOrUpdateRowCtrl(A,r,s,u))}),r&&(!u||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(r,s):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(r,s),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},o.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:ae.EVENT_DISPLAYED_ROWS_CHANGED})},o.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.isPinningLeft(),s=this.columnModel.isPinningRight();(this.pinningLeft!==r||s!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},o.prototype.redrawFullWidthEmbeddedRows=function(){var r=[];rn(this.rowCtrlsByRowIndex,function(s,u){if(u.isFullWidth()){var c=u.getRowNode().rowIndex;r.push(c.toString())}}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redrawAfterScroll()},o.prototype.refreshFullWidthRows=function(r){var s=[],u=!!r,c=u?{}:void 0;u&&c&&r.forEach(function(_){return c[_.id]=!0}),rn(this.rowCtrlsByRowIndex,function(_,C){if(C.isFullWidth()){var A=C.getRowNode();if(u&&c&&!c[A.id]&&!c[A.level>0&&A.parent?A.parent.id:void 0])return;if(!C.refreshFullWidth()){var ee=C.getRowNode().rowIndex;s.push(ee.toString())}}}),this.removeRowCtrls(s),this.redrawAfterScroll()},o.prototype.createOrUpdateRowCtrl=function(r,s,u,c){var _,C=this.rowCtrlsByRowIndex[r];if(C||Q(_=this.paginationProxy.getRow(r))&&Q(s)&&s[_.id]&&_.alreadyRendered&&(C=s[_.id],s[_.id]=null),!C){if(_||(_=this.paginationProxy.getRow(r)),!Q(_))return;C=this.createRowCon(_,u,c)}return _&&(_.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=C,C},o.prototype.destroyRowCtrls=function(r,s){var u=this,c=[];rn(r,function(_,C){if(C){if(u.cachedRowCtrls&&C.isCacheable())return void u.cachedRowCtrls.addRow(C);C.destroyFirstPass(),s?(u.zombieRowCtrls[C.getInstanceId()]=C,c.push(function(){C.destroySecondPass(),delete u.zombieRowCtrls[C.getInstanceId()]})):C.destroySecondPass()}}),s&&(c.push(function(){u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()}),_e(c))},o.prototype.checkAngularCompile=function(){var r=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){r.$scope.$apply()},0)},o.prototype.workOutFirstAndLastRowsToRender=function(){var s,u,r=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)s=this.paginationProxy.getPageFirstRow(),u=this.paginationProxy.getPageLastRow();else{var c=this.gridOptionsWrapper.getRowBufferInPixels(),_=this.ctrlsService.getGridBodyCtrl(),C=!1,A=void 0,x=void 0;do{var k=this.paginationProxy.getPixelOffset(),W=this.paginationProxy.getCurrentPagePixelRange(),ee=W.pageFirstPixel,le=W.pageLastPixel,ce=this.rowContainerHeightService.getDivStretchOffset(),Me=_.getScrollFeature().getVScrollPosition(),ht=Me.bottom;A=Math.max(Me.top+k-c,ee)+ce,x=Math.min(ht+k+c,le)+ce,C=this.ensureAllRowsInRangeHaveHeightsCalculated(A,x)}while(C);var nt=this.paginationProxy.getRowIndexAtPixel(A),Qe=this.paginationProxy.getRowIndexAtPixel(x),_t=this.paginationProxy.getPageFirstRow(),Zt=this.paginationProxy.getPageLastRow();nt<_t&&(nt=_t),Qe>Zt&&(Qe=Zt),s=nt,u=Qe}else s=0,u=-1;var zn=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_NORMAL,hn=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Vn=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(zn&&!hn&&u-s>Vn&&(u=s+Vn),(s!==this.firstRenderedRow||u!==this.lastRenderedRow)&&(this.firstRenderedRow=s,this.lastRenderedRow=u,this.eventService.dispatchEvent({type:ae.EVENT_VIEWPORT_CHANGED,firstRow:s,lastRow:u,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var qr={type:ae.EVENT_FIRST_DATA_RENDERED,firstRow:s,lastRow:u,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return r.eventService.dispatchEventOnce(qr)},50)}},o.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(r,s){var u=this.paginationProxy.ensureRowHeightsValid(r,s,-1,-1);return u&&this.updateContainerHeights(),u},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},o.prototype.doNotUnVirtualiseRow=function(r){var c=r.getRowNode(),_=this.focusService.isRowNodeFocused(c),C=r.isEditing();return!!(_||C||c.detail)&&!!this.paginationProxy.isRowPresent(c)},o.prototype.createRowCon=function(r,s,u){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(c)return c;var _=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Ha(this.$scope,r,this.beans,s,u&&!_&&!this.printLayout,this.printLayout)},o.prototype.getRenderedNodes=function(){var r=this.rowCtrlsByRowIndex;return Object.keys(r).map(function(s){return r[s].getRowNode()})},o.prototype.getRowByPosition=function(r){var s;switch(r.rowPinned){case Ee.PINNED_TOP:s=this.topRowCtrls[r.rowIndex];break;case Ee.PINNED_BOTTOM:s=this.bottomRowCtrls[r.rowIndex];break;default:s=this.rowCtrlsByRowIndex[r.rowIndex]}return s},o.prototype.getRowNode=function(r){switch(r.rowPinned){case Ee.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case Ee.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},o.prototype.isRangeInRenderedViewport=function(r,s){return!(null==r||null==s||s<this.firstRenderedRow||r>this.lastRenderedRow)},ho([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),ho([Y("columnModel")],o.prototype,"columnModel",void 0),ho([Y("$scope")],o.prototype,"$scope",void 0),ho([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ho([Y("rowModel")],o.prototype,"rowModel",void 0),ho([Y("focusService")],o.prototype,"focusService",void 0),ho([Y("columnApi")],o.prototype,"columnApi",void 0),ho([Y("gridApi")],o.prototype,"gridApi",void 0),ho([Y("beans")],o.prototype,"beans",void 0),ho([Y("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),ho([Tt("ctrlsService")],o.prototype,"ctrlsService",void 0),ho([se],o.prototype,"postConstruct",null),ho([Le("rowRenderer")],o)}(ot),ar=function(){function d(o){this.entriesMap={},this.entriesList=[],this.maxCount=o}return d.prototype.toString=function(){return this.entriesList.map(function(o){return o.getRowNode().data.name}).join(", ")},d.prototype.addRow=function(o){if(this.entriesMap[o.getRowNode().id]=o,this.entriesList.push(o),o.setCached(!0),this.entriesList.length>this.maxCount){var r=this.entriesList[0];r.destroyFirstPass(),r.destroySecondPass(),this.removeFromCache(r)}},d.prototype.getRow=function(o){if(null==o||null==o.id)return null;var r=this.entriesMap[o.id];return r?(this.removeFromCache(r),r.setCached(!1),r.getRowNode()!=o?null:r):null},d.prototype.removeFromCache=function(o){var r=o.getRowNode().id;delete this.entriesMap[r],Wt(this.entriesList,o)},d.prototype.getEntries=function(){return this.entriesList},d}(),EC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xp=function(d){function o(r,s){var u=d.call(this,r)||this;return u.ctrl=s,u}return EC(o,d),o.prototype.getCtrl=function(){return this.ctrl},o}(Sn),SE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ay=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},DE=function(d){function o(r){var s=d.call(this,o.TEMPLATE,r)||this;return s.headerCompVersion=0,s.column=r.getColumnGroupChild(),s.pinned=r.getPinned(),s}return SE(o,d),o.prototype.postConstruct=function(){var r=this,s=this.getGui(),u=function(C,A,x){var k=x||s;null!=A&&""!=A?k.setAttribute(C,A):k.removeAttribute(C)};this.ctrl.setComp({setWidth:function(C){return s.style.width=C},addOrRemoveCssClass:function(C,A){return r.addOrRemoveCssClass(C,A)},setAriaSort:function(C){return C?Ul(s,C):Ac(s)},setColId:function(C){return u("col-id",C)},setTitle:function(C){return u("title",C)},setAriaDescribedBy:function(C){return sh(s,C)},setUserCompDetails:function(C){return r.setUserCompDetails(C)},getUserCompInstance:function(){return r.headerComp}},this.getGui(),this.eResize);var _=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",_)},o.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},o.prototype.setUserCompDetails=function(r){var s=this;this.headerCompVersion++;var u=this.headerCompVersion;r.newAgStackInstance().then(function(c){return s.afterCompCreated(u,c)})},o.prototype.afterCompCreated=function(r,s){r==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(s)},o.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',ay([Ke("eResize")],o.prototype,"eResize",void 0),ay([se],o.prototype,"postConstruct",null),ay([$e],o.prototype,"destroyHeaderComp",null),o}(xp),ig=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),pm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},sT=function(d){function o(r){return d.call(this,o.TEMPLATE,r)||this}return ig(o,d),o.prototype.postConstruct=function(){var r=this,s=this.getGui(),u=function(_,C){return null!=C?s.setAttribute(_,C):s.removeAttribute(_)};this.ctrl.setComp({addOrRemoveCssClass:function(_,C){return r.addOrRemoveCssClass(_,C)},addOrRemoveResizableCssClass:function(_,C){return vt(r.eResize,_,C)},setWidth:function(_){return s.style.width=_},setColId:function(_){return s.setAttribute("col-id",_)},setAriaExpanded:function(_){return u("aria-expanded",_)},setTitle:function(_){return u("title",_)},setUserCompDetails:function(_){return r.setUserCompDetails(_)}},s,this.eResize)},o.prototype.setUserCompDetails=function(r){var s=this;r.newAgStackInstance().then(function(u){return s.afterHeaderCompCreated(u)})},o.prototype.afterHeaderCompCreated=function(r){var s=this,u=function(){return s.destroyBean(r)};this.isAlive()?(this.getGui().appendChild(r.getGui()),this.addDestroyFunc(u),this.ctrl.setDragSource(r.getGui())):u()},o.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',pm([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),pm([Ke("eResize")],o.prototype,"eResize",void 0),pm([se],o.prototype,"postConstruct",null),o}(xp),SC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),fm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},DC=function(d){function o(r){return d.call(this,o.TEMPLATE,r)||this}return SC(o,d),o.prototype.postConstruct=function(){var r=this,s=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,_){return r.addOrRemoveCssClass(c,_)},addOrRemoveBodyCssClass:function(c,_){return vt(r.eFloatingFilterBody,c,_)},addOrRemoveButtonWrapperCssClass:function(c,_){return vt(r.eButtonWrapper,c,_)},setCompDetails:function(c){return r.setCompDetails(c)},getFloatingFilterComp:function(){return r.compPromise},setWidth:function(c){return s.style.width=c},setMenuIcon:function(c){return r.eButtonShowMainFilter.appendChild(c)}},s,this.eButtonShowMainFilter,this.eFloatingFilterBody)},o.prototype.setCompDetails=function(r){var s=this;this.compPromise=r.newAgStackInstance(),this.compPromise.then(function(u){return s.afterCompCreated(u)})},o.prototype.afterCompCreated=function(r){var s=this;!r||(this.addDestroyFunc(function(){return s.context.destroyBean(r)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached()))},o.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',fm([Ke("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),fm([Ke("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),fm([Ke("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),fm([se],o.prototype,"postConstruct",null),o}(xp),ly=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),aT=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.COLUMN_GROUP="group",d.COLUMN="column",d.FLOATING_FILTER="filter"}(q.A6C||(q.A6C={}));var TE=function(d){function o(r){var s=d.call(this)||this;s.headerComps={};var u=r.getType()==q.A6C.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==q.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return s.setTemplate('<div class="ag-header-row '+u+'" role="row"></div>'),s.ctrl=r,s}return ly(o,d),o.prototype.init=function(){var r=this;this.ctrl.setComp({setTransform:function(u){return r.getGui().style.transform=u},setHeight:function(u){return r.getGui().style.height=u},setTop:function(u){return r.getGui().style.top=u},setHeaderCtrls:function(u){return r.setHeaderCtrls(u)},setWidth:function(u){return r.getGui().style.width=u},setAriaRowIndex:function(u){return hp(r.getGui(),u)}})},o.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},o.prototype.setHeaderCtrls=function(r){var s=this;if(this.isAlive()){var u=this.headerComps;if(this.headerComps={},r.forEach(function(A){var x=A.getInstanceId(),k=u[x];delete u[x],null==k&&(k=s.createHeaderComp(A),s.getGui().appendChild(k.getGui())),s.headerComps[x]=k}),rn(u,function(A,x){s.getGui().removeChild(x.getGui()),s.destroyBean(x)}),this.gridOptionsWrapper.isEnsureDomOrder()){var _=Rt(this.headerComps);_.sort(function(A,x){return A.getCtrl().getColumnGroupChild().getLeft()-x.getCtrl().getColumnGroupChild().getLeft()});var C=_.map(function(A){return A.getGui()});th(this.getGui(),C)}}},o.prototype.createHeaderComp=function(r){var s;switch(this.ctrl.getType()){case q.A6C.COLUMN_GROUP:s=new sT(r);break;case q.A6C.FLOATING_FILTER:s=new DC(r);break;default:s=new DE(r)}return this.createBean(s),s.setParentComponent(this),s},aT([se],o.prototype,"init",null),aT([$e],o.prototype,"destroyHeaderCtrls",null),o}(Sn),fx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),gm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d[d.UP=0]="UP",d[d.DOWN=1]="DOWN",d[d.LEFT=2]="LEFT",d[d.RIGHT=3]="RIGHT"}(q.Y8R||(q.Y8R={}));var AE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return fx(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.gridBodyCon=s.gridBodyCtrl})},o.prototype.getHeaderRowCount=function(){var r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0},o.prototype.getHeaderRowType=function(r){var s=this.ctrlsService.getHeaderRowContainerCtrl();if(s)return s.getRowType(r)},o.prototype.navigateVertically=function(r,s,u){if(s||(s=this.focusService.getFocusedHeader()),!s)return!1;var c=s.headerRowIndex,_=s.column,C=this.getHeaderRowCount(),A=r===q.Y8R.UP,x=A?c-1:c+1,k=null,W=!1;x<0&&(x=0,k=_,W=!0),x>=C&&(x=-1);var ee=this.getHeaderRowType(c);if(!W){if(ee===q.A6C.COLUMN_GROUP){var le=_;k=A?_.getParent():le.getDisplayedChildren()[0]}else ee===q.A6C.FLOATING_FILTER?k=_:(le=_,k=A?le.getParent():le);if(!k)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x,column:k},allowUserOverride:!0,event:u})},o.prototype.navigateHorizontally=function(r,s,u){void 0===s&&(s=!1);var A,x,c=this.focusService.getFocusedHeader();return(A=r===q.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(c,x="Before"):this.headerPositionUtils.findHeader(c,x="After"))?this.focusService.focusHeaderPosition({headerPosition:A,direction:x,fromTab:s,allowUserOverride:!0,event:u}):!s||this.focusNextHeaderRow(c,x,u)},o.prototype.focusNextHeaderRow=function(r,s,u){var c=r.headerRowIndex,_=null;return"Before"===s?c>0&&(_=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):_=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:_,direction:s,fromTab:!0,allowUserOverride:!0,event:u})},o.prototype.scrollToColumn=function(r,s){if(void 0===s&&(s="After"),!r.getPinned()){var u;if(r instanceof Zi){var c=r.getDisplayedLeafColumns();u="Before"===s?ke(c):c[0]}else u=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(u),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},gm([Y("focusService")],o.prototype,"focusService",void 0),gm([Y("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),gm([Y("animationFrameService")],o.prototype,"animationFrameService",void 0),gm([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),gm([se],o.prototype,"postConstruct",null),gm([Le("headerNavigationService")],o)}(ot),RE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ve=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},IE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return RE(o,d),o.prototype.setComp=function(r,s,u){this.comp=r,this.eGui=s,this.createManagedBean(new L(u,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},o.prototype.setupHeaderHeight=function(){var r=this.setHeaderHeight.bind(this);r(),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_PIVOT_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_PIVOT_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_FLOATING_FILTERS_HEIGHT,r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,r)},o.prototype.setHeaderHeight=function(){var C,A,x,s=this.columnModel,u=this.gridOptionsWrapper,c=0,_=s.getHeaderRowCount();s.isPivotMode()?(A=u.getPivotGroupHeaderHeight(),x=u.getPivotHeaderHeight()):(s.hasFloatingFilters()&&(_++,c=1),A=u.getGroupHeaderHeight(),x=u.getHeaderHeight());var ee=_-(1+c);C=c*u.getFloatingFiltersHeight(),C+=ee*A,this.comp.setHeightAndMinHeight((C+=x)+1+"px")},o.prototype.onPivotModeChanged=function(){var r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)},o.prototype.onTabKeyDown=function(r){var s=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(r.shiftKey!==s?q.Y8R.LEFT:q.Y8R.RIGHT,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()},o.prototype.handleKeyDown=function(r){var s=null;switch(r.keyCode){case at.LEFT:s=q.Y8R.LEFT;case at.RIGHT:Q(s)||(s=q.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(s,!1,r);break;case at.UP:s=q.Y8R.UP;case at.DOWN:Q(s)||(s=q.Y8R.DOWN),this.headerNavigationService.navigateVertically(s,null,r)&&r.preventDefault();break;default:return}},o.prototype.onFocusOut=function(r){var s=r.relatedTarget;!s&&this.eGui.contains(document.activeElement)||this.eGui.contains(s)||this.focusService.clearFocusedHeader()},Ve([Y("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Ve([Y("focusService")],o.prototype,"focusService",void 0),Ve([Y("columnModel")],o.prototype,"columnModel",void 0),Ve([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(ot),xE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),OE=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ao=function(d){function o(r){var s=d.call(this)||this;return s.callback=r,s}return xE(o,d),o.prototype.postConstruct=function(){var r=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.setWidth()},o.prototype.setWidth=function(){var r=this.columnModel,s=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT,u=r.getBodyContainerWidth(),c=r.getDisplayedColumnsLeftWidth(),_=r.getDisplayedColumnsRightWidth();this.callback(s?u+c+_:u)},OE([Y("columnModel")],o.prototype,"columnModel",void 0),OE([se],o.prototype,"postConstruct",null),o}(ot),da=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},mm=function(){function d(o,r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=o,this.eContainer=r,this.centerContainer=!Q(o)}return d.prototype.init=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},d.prototype.getIconName=function(){return this.pinned?jo.ICON_PINNED:jo.ICON_MOVE},d.prototype.onDragEnter=function(o){var r=o.dragItem.columns;if(o.dragSource.type===q.rvo.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var u=o.dragItem.visibleState,c=(r||[]).filter(function(_){return u[_.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(o,!0)},d.prototype.onDragLeave=function(o){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!o.fromNudge){var s=o.dragSource.getDragItem();this.setColumnsVisible(s.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},d.prototype.setColumnsVisible=function(o,r,s){if(void 0===s&&(s="api"),o){var u=o.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(u,r,s)}},d.prototype.setColumnsPinned=function(o,r,s){if(void 0===s&&(s="api"),o){var u=o.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(u,r,s)}},d.prototype.onDragStop=function(){this.ensureIntervalCleared()},d.prototype.normaliseX=function(o){return this.gridOptionsWrapper.isEnableRtl()&&(o=this.eContainer.clientWidth-o),this.centerContainer&&(o+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),o},d.prototype.checkCenterForScrolling=function(o){if(this.centerContainer){var r=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=r+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=o<r+50,this.needToMoveLeft=o>s-50):(this.needToMoveLeft=o<r+50,this.needToMoveRight=o>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},d.prototype.onDragging=function(o,r){var s=this;if(void 0===r&&(r=!1),this.lastDraggingEvent=o,!Z(o.hDirection)){var u=this.normaliseX(o.x);r||this.checkCenterForScrolling(u);var c=this.normaliseDirection(o.hDirection),_=o.dragSource.type,C=o.dragSource.getDragItem().columns;C=C.filter(function(A){return!A.getColDef().lockPinned||A.getPinned()==s.pinned}),this.attemptMoveColumns(_,C,c,u,r)}},d.prototype.normaliseDirection=function(o){if(!this.gridOptionsWrapper.isEnableRtl())return o;switch(o){case q.poj.Left:return q.poj.Right;case q.poj.Right:return q.poj.Left;default:console.error("AG Grid: Unknown direction "+o)}},d.prototype.calculateOldIndex=function(o){var r=this.columnModel.getAllGridColumns(),s=Hn(o.map(function(A){return r.indexOf(A)})),u=s[0];return ke(s)-u!=s.length-1?null:u},d.prototype.attemptMoveColumns=function(o,r,s,u,c){var _=s===q.poj.Left,C=s===q.poj.Right,A=r.slice();this.columnModel.sortColumnsLikeGridColumns(A);var x=this.calculateValidMoves(A,C,u),k=this.calculateOldIndex(A);if(0!==x.length){var W=x[0],ee=null!==k&&!c;if(o==q.rvo.HeaderCell&&(ee=null!==k),!ee||!(_&&W>=k||C&&W<=k))for(var le=0;le<x.length;le++){var ce=x[le];if(this.columnModel.doesMovePassRules(A,ce))return void this.columnModel.moveColumns(A,ce,"uiColumnDragged")}}},d.prototype.calculateValidMoves=function(o,r,s){if(this.gridOptionsWrapper.isSuppressMovableColumns()||o.some(function(hn){return hn.getColDef().suppressMovable}))return[];var Me,c=this.columnModel.getDisplayedColumns(this.pinned),_=this.columnModel.getAllGridColumns(),C=c.filter(function(hn){return Ft(o,hn)}),A=c.filter(function(hn){return!Ft(o,hn)}),x=_.filter(function(hn){return!Ft(o,hn)}),k=0,W=s;if(r){var ee=0;C.forEach(function(hn){return ee+=hn.getActualWidth()}),W-=ee}if(W>0){for(var le=0;le<A.length&&!((W-=A[le].getActualWidth())<0);le++)k++;r&&k++}k>0?Me=x.indexOf(A[k-1])+1:-1===(Me=x.indexOf(A[0]))&&(Me=0);var ht=[Me],nt=function(hn,Vn){return hn-Vn};if(r){for(var Qe=Me+1,_t=_.length-1;Qe<=_t;)ht.push(Qe),Qe++;ht.sort(nt)}else{_t=_.length-1;for(var Zt=_[Qe=Me];Qe<=_t&&this.isColumnHidden(c,Zt);)Qe++,ht.push(Qe),Zt=_[Qe];for(Qe=Me-1;Qe>=0;)ht.push(Qe),Qe--;ht.sort(nt).reverse()}return ht},d.prototype.isColumnHidden=function(o,r){return o.indexOf(r)<0},d.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?jo.ICON_LEFT:jo.ICON_RIGHT,!0))},d.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(jo.ICON_MOVE))},d.prototype.moveInterval=function(){var o;this.intervalCount++,(o=10+5*this.intervalCount)>100&&(o=100);var r=null,s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?r=s.scrollHorizontally(-o):this.needToMoveRight&&(r=s.scrollHorizontally(o)),0!==r)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(C){return!C.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(jo.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?Ee.PINNED_LEFT:Ee.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},da([Y("columnModel")],d.prototype,"columnModel",void 0),da([Y("dragAndDropService")],d.prototype,"dragAndDropService",void 0),da([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),da([Y("ctrlsService")],d.prototype,"ctrlsService",void 0),da([se],d.prototype,"init",null),d}(),Ua=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ME=function(){function d(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return d.prototype.onDragEnter=function(o){var r=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var s=o.dragItem.columns;!s||s.forEach(function(u){!u.isPrimary()||u.isAnyFunctionActive()||(u.isAllowValue()?r.columnsToAggregate.push(u):u.isAllowRowGroup()?r.columnsToGroup.push(u):u.isAllowPivot()&&r.columnsToPivot.push(u))})}},d.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?jo.ICON_PINNED:jo.ICON_MOVE:null},d.prototype.onDragLeave=function(o){this.clearColumnsList()},d.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},d.prototype.onDragging=function(o){},d.prototype.onDragStop=function(o){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Ua([Y("columnModel")],d.prototype,"columnModel",void 0),Ua([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),d}(),PE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),_m=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},TC=function(d){function o(r,s){var u=d.call(this)||this;return u.pinned=r,u.eContainer=s,u}return PE(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){switch(r.pinned){case Ee.PINNED_LEFT:r.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.leftRowContainerCtrl.getContainerElement()],[s.bottomLeftRowContainerCtrl.getContainerElement()],[s.topLeftRowContainerCtrl.getContainerElement()]];break;case Ee.PINNED_RIGHT:r.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.rightRowContainerCtrl.getContainerElement()],[s.bottomRightRowContainerCtrl.getContainerElement()],[s.topRightRowContainerCtrl.getContainerElement()]];break;default:r.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.centerRowContainerCtrl.getViewportElement()],[s.bottomCenterRowContainerCtrl.getViewportElement()],[s.topCenterRowContainerCtrl.getViewportElement()]]}})},o.prototype.isInterestedIn=function(r){return r===q.rvo.HeaderCell||r===q.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new mm(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new ME(this.pinned)),this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.isDropColumnInPivotMode=function(r){return this.columnModel.isPivotMode()&&r.dragSource.type===q.rvo.ToolPanel},o.prototype.onDragEnter=function(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)},o.prototype.onDragLeave=function(r){this.currentDropListener.onDragLeave(r)},o.prototype.onDragging=function(r){this.currentDropListener.onDragging(r)},o.prototype.onDragStop=function(r){this.currentDropListener.onDragStop(r)},_m([Y("dragAndDropService")],o.prototype,"dragAndDropService",void 0),_m([Y("columnModel")],o.prototype,"columnModel",void 0),_m([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),_m([se],o.prototype,"postConstruct",null),_m([se],o.prototype,"init",null),o}(ot),lT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),NE=0,Fs=function(d){function o(r,s){var u=d.call(this)||this;return u.lastFocusEvent=null,u.columnGroupChild=r,u.parentRowCtrl=s,u.instanceId=r.getUniqueId()+"-"+NE++,u}return lT(o,d),o.prototype.shouldStopEventPropagation=function(r){var s=this.focusService.getFocusedHeader();return hs(this.gridOptionsWrapper,r,s.headerRowIndex,s.column)},o.prototype.setGui=function(r){this.eGui=r,this.addDomData()},o.prototype.addDomData=function(){var r=this,s=o.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,s,this),this.addDestroyFunc(function(){return r.gridOptionsWrapper.setDomData(r.eGui,s,null)})},o.prototype.focus=function(r){return!!this.eGui&&(this.lastFocusEvent=r||null,this.eGui.focus(),!0)},o.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},o.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},o.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.getColumnGroupChild=function(){return this.columnGroupChild},o.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Y("focusService")],o.prototype,"focusService",void 0),o}(ot),ym=function(){function d(){}return d.getFloatingFilterType=function(o){return this.filterToFloatingFilterMapping[o]},d.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},d}(),FE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Op=function(d){function o(r,s,u,c){var _=d.call(this)||this;return _.columnOrGroup=r,_.eCell=s,_.ariaEl=_.eCell.querySelector("[role=columnheader]")||_.eCell,_.colsSpanning=c,_.beans=u,_}return FE(o,d),o.prototype.setColsSpanning=function(r){this.colsSpanning=r,this.onLeftChanged()},o.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ke(this.colsSpanning):this.columnOrGroup},o.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},o.prototype.setLeftFirstTime=function(){var r=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),s=Q(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&s&&!r?this.animateInLeft():this.onLeftChanged()},o.prototype.animateInLeft=function(){var r=this,s=this.getColumnOrGroup(),u=s.getLeft(),c=s.getOldLeft(),_=this.modifyLeftForPrintLayout(s,c),C=this.modifyLeftForPrintLayout(s,u);this.setLeft(_),this.actualLeft=C,this.beans.columnAnimationService.executeNextVMTurn(function(){r.actualLeft===C&&r.setLeft(C)})},o.prototype.onLeftChanged=function(){var r=this.getColumnOrGroup(),s=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,s),this.setLeft(this.actualLeft)},o.prototype.modifyLeftForPrintLayout=function(r,s){if(this.beans.gridOptionsWrapper.getDomLayout()!==Ee.DOM_LAYOUT_PRINT||r.getPinned()===Ee.PINNED_LEFT)return s;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return r.getPinned()===Ee.PINNED_RIGHT?c+this.beans.columnModel.getBodyContainerWidth()+s:c+s},o.prototype.setLeft=function(r){var s;if(Q(r)&&(this.eCell.style.left=r+"px"),this.columnOrGroup instanceof Bt)s=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&Tc(this.ariaEl,c.length),s=c[0]}var _=this.beans.columnModel.getAriaColumnIndex(s);Dc(this.ariaEl,_)},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"postConstruct",null),o}(ot),uy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Cl=function(d){function o(r,s){var u=d.call(this)||this;return u.columns=r,u.element=s,u}return uy(o,d),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},o.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},o.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},vm([Y("columnHoverService")],o.prototype,"columnHoverService",void 0),vm([se],o.prototype,"postConstruct",null),o}(ot),kE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},cy=function(d){function o(r,s){var u=d.call(this,r,s)||this;return u.column=r,u}return kE(o,d),o.prototype.setComp=function(r,s,u,c){d.prototype.setGui.call(this,s),this.comp=r,this.eButtonShowMainFilter=u,this.eFloatingFilterBody=c;var _=this.column.getColDef();this.active=!(!_.filter&&!_.filterFramework||!_.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var r=Wi("filter",this.gridOptionsWrapper,this.column);r&&this.eButtonShowMainFilter.appendChild(r)}},o.prototype.setupFocus=function(){this.createManagedBean(new L(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.onTabKeyDown=function(r){if(document.activeElement!==this.eGui){var c=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);c&&(r.preventDefault(),c.focus())}},o.prototype.handleKeyDown=function(r){var u=document.activeElement===this.eGui;switch(r.keyCode){case at.UP:case at.DOWN:u||r.preventDefault();case at.LEFT:case at.RIGHT:if(u)return;r.stopPropagation();case at.ENTER:u&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case at.ESCAPE:u||this.eGui.focus()}},o.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var u=this.focusService.isKeyboardMode(),c=!!r.relatedTarget&&!Rr(r.relatedTarget,"ag-floating-filter"),_=!!r.relatedTarget&&_c(r.relatedTarget,"ag-floating-filter");if(u&&c&&_&&r.target===this.eGui){var C=this.lastFocusEvent;if(C&&C&&C.keyCode===at.TAB){var x=this.beans.focusService.getFocusedHeader(),k=this.beans.columnModel.getDisplayedColAfter(this.column);this.focusService.focusInto(this.eGui,!!(u&&C.shiftKey&&x&&k===x.column))}}var le=this.getRowIndex();this.beans.focusService.setFocusedHeader(le,this.column)}},o.prototype.setupHover=function(){var r=this;this.createManagedBean(new Cl([this.column],this.eGui));var s=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupLeft=function(){var r=new Op(this.column,this.eGui,this.beans);this.createManagedBean(r)},o.prototype.setupUserComp=function(){if(this.active){var r=this.column.getColDef(),s=this.filterManager.createFilterParams(this.column,r),u=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,"filter",s),c=o.getDefaultFloatingFilterType(r);null==c&&(c="agReadOnlyFloatingFilter");var _={api:this.gridApi,column:this.column,filterParams:u,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!r.floatingFilterComponentParams&&!!r.floatingFilterComponentParams.suppressFilterButton;var C=this.userComponentFactory.getFloatingFilterCompDetails(r,_,c);C&&this.comp.setCompDetails(C)}},o.getDefaultFloatingFilterType=function(r){if(null==r)return null;var s=null;return"string"==typeof r.filter?s=ym.getFloatingFilterType(r.filter):r.filterFramework||!0===r.filter&&(s=Gt.isRegistered(q.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),s},o.prototype.currentParentModel=function(){var r=this.getFilterComponent(!1);return r?r.resolveNow(null,function(s){return s&&s.getModel()}):null},o.prototype.getFilterComponent=function(r){return void 0===r&&(r=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",r)},o.prototype.onFloatingFilterChanged=function(){console.warn("AG Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},o.prototype.parentFilterInstance=function(r){var s=this,u=this.getFilterComponent();u&&u.then(function(c){var _=s.frameworkComponentWrapper?s.frameworkComponentWrapper.unwrap(c):c;r(_)})},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},o.prototype.setupSyncWithFilter=function(){var r=this;if(this.active){var s=function(u){var c=r.comp.getFloatingFilterComp();if(c){var _=r.currentParentModel();c.then(function(C){return C&&C.onParentModelChanged(_,u)})}};this.addManagedListener(this.column,Bt.EVENT_FILTER_CHANGED,s),this.filterManager.isFilterActive(this.column)&&s(null)}},o.prototype.setupWidth=function(){var r=this,s=function(){var u=r.column.getActualWidth()+"px";r.comp.setWidth(u)};this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,s),s()},Mp([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Mp([Y("filterManager")],o.prototype,"filterManager",void 0),Mp([Y("columnHoverService")],o.prototype,"columnHoverService",void 0),Mp([Y("gridApi")],o.prototype,"gridApi",void 0),Mp([Y("menuFactory")],o.prototype,"menuFactory",void 0),Mp([Y("beans")],o.prototype,"beans",void 0),Mp([Tt("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),o}(Fs),ha=function(){function d(){}return d.getHeaderClassesFromColDef=function(o,r,s,u){return Z(o)?[]:this.getColumnClassesFromCollDef(o.headerClass,o,r,s,u)},d.getToolPanelClassesFromColDef=function(o,r,s,u){return Z(o)?[]:this.getColumnClassesFromCollDef(o.toolPanelClass,o,r,s,u)},d.getColumnClassesFromCollDef=function(o,r,s,u,c){return Z(o)?[]:"string"==typeof(_="function"==typeof o?o({colDef:r,column:u,columnGroup:c,context:s.getContext(),api:s.getApi()}):o)?[_]:Array.isArray(_)?_:[];var _},d}(),dy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},hy=function(d){function o(r,s,u,c,_){var C=d.call(this)||this;return C.pinned=r,C.column=s,C.eResize=u,C.comp=c,C.ctrl=_,C}return dy(o,d),o.prototype.postConstruct=function(){var c,_,r=this,s=this.column.getColDef(),u=[],A=function(){u.forEach(function(k){return k()}),u.length=0},x=function(){var k=r.column.isResizable(),W=!r.gridOptionsWrapper.isSuppressAutoSize()&&!s.suppressAutoSize;(k!==c||W!==_)&&(c=k,_=W,A(),function(){if(di(r.eResize,c),c){var k=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(u.push(k),_){var W=r.gridOptionsWrapper.isSkipHeaderOnAutoSize(),ee=function(){r.columnModel.autoSizeColumn(r.column,W,"uiColumnResized")};r.eResize.addEventListener("dblclick",ee);var le=new _l(r.eResize);le.addEventListener(_l.EVENT_DOUBLE_TAP,ee),r.addDestroyFunc(function(){r.eResize.removeEventListener("dblclick",ee),le.removeEventListener(_l.EVENT_DOUBLE_TAP,ee),le.destroy()})}}}())};x(),this.addDestroyFunc(A),this.ctrl.addRefreshFunction(x)},o.prototype.onResizing=function(r,s){var u=this.normaliseResizeAmount(s);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+u}],this.resizeWithShiftKey,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.onResizeStart=function(r){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=r,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.normaliseResizeAmount=function(r){var s=r,u=this.pinned!==Ee.PINNED_LEFT,c=this.pinned===Ee.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?u&&(s*=-1):c&&(s*=-1),s},Pp([Y("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),Pp([Y("columnModel")],o.prototype,"columnModel",void 0),Pp([se],o.prototype,"postConstruct",null),o}(ot),gx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Np=function(d){function o(r,s,u){void 0===s&&(s="ag-checkbox"),void 0===u&&(u="checkbox");var c=d.call(this,r,s,u)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return gx(o,d),o.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},o.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},o.prototype.setPassive=function(r){this.passive=r},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setReadOnly=function(r){vt(this.eWrapper,"ag-disabled",r),this.eInput.disabled=r,this.readOnly=r},o.prototype.setDisabled=function(r){return vt(this.eWrapper,"ag-disabled",r),d.prototype.setDisabled.call(this,r)},o.prototype.toggle=function(){if(!this.eInput.disabled){var r=this.isSelected(),s=this.getNextValue();this.passive?this.dispatchChange(s,r):this.setValue(s)}},o.prototype.getValue=function(){return this.isSelected()},o.prototype.setValue=function(r,s){return this.refreshSelectedClass(r),this.setSelected(r,s),this},o.prototype.setName=function(r){return this.getInputElement().name=r,this},o.prototype.isSelected=function(){return this.selected},o.prototype.setSelected=function(r,s){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,s||this.dispatchChange(this.selected,this.previousValue))},o.prototype.dispatchChange=function(r,s,u){this.dispatchEvent({type:o.EVENT_CHANGED,selected:r,previousValue:s,event:u});var c=this.getInputElement();this.eventService.dispatchEvent({type:ae.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:r,previousValue:s})},o.prototype.onCheckboxClick=function(r){if(!this.passive&&!this.eInput.disabled){var s=this.isSelected(),u=this.selected=r.target.checked;this.refreshSelectedClass(u),this.dispatchChange(u,s,r)}},o.prototype.refreshSelectedClass=function(r){vt(this.eWrapper,"ag-checked",!0===r),vt(this.eWrapper,"ag-indeterminate",null==r)},o}(ml),mx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Jl=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Cm=function(d){function o(r){var s=d.call(this)||this;s.cbSelectAllVisible=!1,s.processingEventFromCheckbox=!1,s.column=r;var u=r.getColDef();return s.filteredOnly=!!u&&!!u.headerCheckboxSelectionFilteredOnly,s}return mx(o,d),o.prototype.onSpaceKeyPressed=function(r){var s=this.cbSelectAll;s.isDisplayed()&&!s.getGui().contains(document.activeElement)&&(r.preventDefault(),s.setValue(!s.getValue()))},o.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},o.prototype.setComp=function(r){this.comp=r,this.cbSelectAll=this.createManagedBean(new Np),this.cbSelectAll.addCssClass("ag-header-select-all"),Vo(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Np.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},o.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},o.prototype.refreshHeaderAriaDescribedBy=function(r){var s=r?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(s)},o.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.getNextCheckboxState=function(r){return(0!==r.selected||0!==r.notSelected)&&(r.selected>0&&r.notSelected>0?null:r.selected>0)},o.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var r=this.getSelectionCount(),s=this.getNextCheckboxState(r);this.cbSelectAll.setValue(s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},o.prototype.refreshSelectAllLabel=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),u=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(c+" ("+u+")")},o.prototype.getSelectionCount=function(){var r=this,s=0,u=0,c=function(_){r.gridOptionsWrapper.isGroupSelectsChildren()&&_.group||(_.isSelected()?s++:_.selectable&&u++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(c):this.gridApi.forEachNode(c),{notSelected:u,selected:s}},o.prototype.checkRightRowModelType=function(){var r=this.rowModel.getType();r===Ee.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+r)},o.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},o.prototype.isCheckboxSelection=function(){var r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!r||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Jl([Y("gridApi")],o.prototype,"gridApi",void 0),Jl([Y("columnApi")],o.prototype,"columnApi",void 0),Jl([Y("rowModel")],o.prototype,"rowModel",void 0),Jl([Y("selectionService")],o.prototype,"selectionService",void 0),o}(ot),rg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wl=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},AC=function(d){function o(r,s){var u=d.call(this,r,s)||this;return u.refreshFunctions=[],u.userHeaderClasses=new Set,u.column=r,u}return rg(o,d),o.prototype.setComp=function(r,s,u){var c=this;d.prototype.setGui.call(this,s),this.comp=r,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new hy(this.getPinned(),this.column,u,r,this)),this.createManagedBean(new Cl([this.column],s)),this.createManagedBean(new Op(this.column,s,this.beans)),this.createManagedBean(new L(s,{shouldStopEventPropagation:function(_){return c.shouldStopEventPropagation(_)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},o.prototype.setupUserComp=function(){var r=this.lookupUserCompDetails();this.setCompDetails(r)},o.prototype.setCompDetails=function(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)},o.prototype.lookupUserCompDetails=function(){var r=this.createParams(),s=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(s,r)},o.prototype.createParams=function(){var r=this,s=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:s.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){r.gridApi.showColumnMenuAfterButtonClick(r.column,c)},progressSort:function(c){r.sortController.progressSort(r.column,!!c,"uiColumnSorted")},setSort:function(c,_){r.sortController.setSortForColumn(r.column,c,!!_,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},o.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Cm(this.column)),this.selectAllFeature.setComp(this.comp)},o.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},o.prototype.handleKeyDown=function(r){r.keyCode===at.SPACE&&this.selectAllFeature.onSpaceKeyPressed(r),r.keyCode===at.ENTER&&this.onEnterKeyPressed(r)},o.prototype.onEnterKeyPressed=function(r){var s=this.comp.getUserCompInstance();s&&(r.ctrlKey||r.metaKey?this.menuEnabled&&s.showMenu&&(r.preventDefault(),s.showMenu()):this.sortable&&this.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted"))},o.prototype.isMenuEnabled=function(){return this.menuEnabled},o.prototype.onFocusIn=function(r){if(!this.getGui().contains(r.relatedTarget)){var s=this.getRowIndex();this.focusService.setFocusedHeader(s,this.column)}this.setActiveHeader(!0)},o.prototype.onFocusOut=function(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)},o.prototype.setupTooltip=function(){var r=this,u=this.createManagedBean(new oy({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getGui:function(){return r.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return r.column.getColDef().headerTooltip}},this.beans));u.setComp(this.comp),this.refreshFunctions.push(function(){return u.refreshToolTip()})},o.prototype.setupClassesFromColDef=function(){var r=this,s=function(){var u=r.column.getColDef(),_=ha.getHeaderClassesFromColDef(u,r.gridOptionsWrapper,r.column,null),C=r.userHeaderClasses;r.userHeaderClasses=new Set(_),_.forEach(function(A){C.has(A)?C.delete(A):r.comp.addOrRemoveCssClass(A,!0)}),C.forEach(function(A){return r.comp.addOrRemoveCssClass(A,!1)})};this.refreshFunctions.push(s),s()},o.prototype.getGui=function(){return this.eGui},o.prototype.setDragSource=function(r){var s=this;this.dragSourceElement=r,this.removeDragSource(),r&&(!this.draggable||(this.moveDragSource={type:q.rvo.HeaderCell,eElement:r,defaultIconName:jo.ICON_HIDE,getDragItem:function(){return s.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return s.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return s.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},o.prototype.createDragItem=function(){var r={};return r[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:r}},o.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},o.prototype.onNewColumnsLoaded=function(){var r=this.columnModel.getColDefVersion();r!=this.colDefVersion&&(this.colDefVersion=r,this.refresh())},o.prototype.updateState=function(){var r=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!r.suppressMenu,this.sortable=r.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},o.prototype.addRefreshFunction=function(r){this.refreshFunctions.push(r)},o.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(r){return r()})},o.prototype.refreshHeaderComp=function(){var r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)},o.prototype.attemptHeaderCompRefresh=function(r){var s=this.comp.getUserCompInstance();return!(!s||!s.refresh)&&s.refresh(r)},o.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},o.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},o.prototype.workOutDraggable=function(){var r=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot},o.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},o.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},o.prototype.onColumnValueChanged=function(){this.checkDisplayName()},o.prototype.setupWidth=function(){var r=this,s=function(){r.comp.setWidth(r.column.getActualWidth()+"px")};this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,s),s()},o.prototype.setupMovingCss=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.column.isMoving())};this.addManagedListener(this.column,Bt.EVENT_MOVING_CHANGED,s),s()},o.prototype.setupMenuClass=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-column-menu-visible",r.column.isMenuVisible())};this.addManagedListener(this.column,Bt.EVENT_MENU_VISIBLE_CHANGED,s),s()},o.prototype.setupSortableClass=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!r.sortable)},u=function(){r.comp.setAriaSort(r.sortable?Xg(r.column):void 0)};s(),u(),this.addRefreshFunction(s),this.addRefreshFunction(u),this.addManagedListener(this.column,Bt.EVENT_SORT_CHANGED,u)},o.prototype.addColumnHoverListener=function(){var r=this,s=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupFilterCss=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-header-cell-filtered",r.column.isFilterActive())};this.addManagedListener(this.column,Bt.EVENT_FILTER_ACTIVE_CHANGED,s),s()},o.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},o.prototype.addActiveHeaderMouseListeners=function(){var r=this,s=function(u){return r.setActiveHeader("mouseenter"===u.type)};this.addManagedListener(this.getGui(),"mouseenter",s),this.addManagedListener(this.getGui(),"mouseleave",s)},o.prototype.setActiveHeader=function(r){this.comp.addOrRemoveCssClass("ag-header-active",r)},wl([Y("columnModel")],o.prototype,"columnModel",void 0),wl([Y("columnHoverService")],o.prototype,"columnHoverService",void 0),wl([Y("beans")],o.prototype,"beans",void 0),wl([Y("sortController")],o.prototype,"sortController",void 0),wl([Y("menuFactory")],o.prototype,"menuFactory",void 0),wl([Y("dragAndDropService")],o.prototype,"dragAndDropService",void 0),wl([Y("gridApi")],o.prototype,"gridApi",void 0),wl([Y("columnApi")],o.prototype,"columnApi",void 0),wl([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),wl([$e],o.prototype,"removeDragSource",null),o}(Fs),LE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},_x=function(d){function o(r,s,u,c){var _=d.call(this)||this;return _.eResize=s,_.comp=r,_.pinned=u,_.columnGroup=c,_}return LE(o,d),o.prototype.postConstruct=function(){var r=this;if(this.columnGroup.isResizable()){var s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(s),!this.gridOptionsWrapper.isSuppressAutoSize()){var u=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(c){var _=[];r.columnGroup.getDisplayedLeafColumns().forEach(function(C){C.getColDef().suppressAutoSize||_.push(C.getColId())}),_.length>0&&r.columnModel.autoSizeColumns(_,u,"uiColumnResized")})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},o.prototype.onResizeStart=function(r){var s=this,u=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=u.filter(function(C){return C.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(C){return s.resizeStartWidth+=C.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(C){return s.resizeRatios.push(C.getActualWidth()/s.resizeStartWidth)});var c=null;if(r&&(c=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),c){var _=c.getDisplayedLeafColumns();this.resizeTakeFromCols=_.filter(function(C){return C.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(C){return s.resizeTakeFromStartWidth+=C.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(C){return s.resizeTakeFromRatios.push(C.getActualWidth()/s.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.onResizing=function(r,s){var u=[],c=this.normaliseDragChange(s);u.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+c}),this.resizeTakeFromCols&&u.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-c}),this.columnModel.resizeColumnSets(u,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.normaliseDragChange=function(r){var s=r;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Ee.PINNED_LEFT&&(s*=-1):this.pinned===Ee.PINNED_RIGHT&&(s*=-1),s},Fp([Y("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),Fp([Y("columnModel")],o.prototype,"columnModel",void 0),Fp([se],o.prototype,"postConstruct",null),o}(ot),RC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),GE=function(d){function o(r,s){var u=d.call(this)||this;return u.removeChildListenersFuncs=[],u.columnGroup=s,u.comp=r,u}return RC(o,d),o.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Zi.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.addListenersToChildrenColumns=function(){var r=this;this.removeListenersOnChildrenColumns();var s=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(u){u.addEventListener(Bt.EVENT_WIDTH_CHANGED,s),u.addEventListener(Bt.EVENT_VISIBLE_CHANGED,s),r.removeChildListenersFuncs.push(function(){u.removeEventListener(Bt.EVENT_WIDTH_CHANGED,s),u.removeEventListener(Bt.EVENT_VISIBLE_CHANGED,s)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(r){return r()}),this.removeChildListenersFuncs=[]},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"postConstruct",null),o}(ot),py=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),kp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},wm=function(d){function o(r,s){var u=d.call(this,r,s)||this;return u.columnGroup=r,u}return py(o,d),o.prototype.setComp=function(r,s,u){d.prototype.setGui.call(this,s),this.comp=r,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),_=this.columnGroup.getOriginalColumnGroup().getLeafColumns();this.createManagedBean(new Cl(_,s)),this.createManagedBean(new Op(this.columnGroup,s,this.beans)),this.createManagedBean(new _x(r,u,c,this.columnGroup)),this.createManagedBean(new GE(r,this.columnGroup)),this.createManagedBean(new L(s,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.setupUserComp=function(){var r=this,s=this.displayName,u={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(x){r.columnModel.setColumnGroupOpened(r.columnGroup.getOriginalColumnGroup(),x,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!s){for(var c=this.columnGroup,_=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===_.length;)c=c.getParent();var C=c.getColGroupDef();C&&(s=C.headerName),s||(s=_?this.columnModel.getDisplayNameForColumn(_[0],"header",!0):"")}var A=this.userComponentFactory.getHeaderGroupCompDetails(u);this.comp.setUserCompDetails(A)},o.prototype.setupTooltip=function(){var r=this,s=this.columnGroup.getColGroupDef(),u={getColumn:function(){return r.columnGroup},getGui:function(){return r.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return s&&s.headerTooltip}};s&&(u.getColDef=function(){return s}),this.createManagedBean(new oy(u,this.beans)).setComp(this.comp)},o.prototype.setupExpandable=function(){var r=this.columnGroup.getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(r,Cn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,Cn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},o.prototype.refreshExpanded=function(){var r=this.columnGroup;this.expandable=r.isExpandable();var s=r.isExpanded();this.comp.setAriaExpanded(this.expandable?s?"true":"false":void 0)},o.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},o.prototype.addClasses=function(){var r=this,s=this.columnGroup.getColGroupDef(),u=ha.getHeaderClassesFromColDef(s,this.gridOptionsWrapper,null,this.columnGroup);u.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),u.forEach(function(c){return r.comp.addOrRemoveCssClass(c,!0)})},o.prototype.setupMovingCss=function(){var r=this,u=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),c=function(){return r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.columnGroup.isMoving())};u.forEach(function(_){r.addManagedListener(_,Bt.EVENT_MOVING_CHANGED,c)}),c()},o.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.columnGroup)}},o.prototype.handleKeyDown=function(r){var s=document.activeElement;if(this.expandable&&s===this.eGui&&r.keyCode===at.ENTER){var c=this.columnGroup,_=!c.isExpanded();this.columnModel.setColumnGroupOpened(c.getOriginalColumnGroup(),_,"uiColumnExpanded")}},o.prototype.setDragSource=function(r){var s=this;if(!this.isSuppressMoving()){var u=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),c={type:q.rvo.HeaderCell,eElement:r,defaultIconName:jo.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return u.forEach(function(_){return _.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(_){return _.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(c,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(c)})}},o.prototype.getDragItemForGroup=function(){var r=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),s={};r.forEach(function(c){return s[c.getId()]=c.isVisible()});var u=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){r.indexOf(c)>=0&&(u.push(c),Wt(r,c))}),r.forEach(function(c){return u.push(c)}),{columns:u,visibleState:s}},o.prototype.isSuppressMoving=function(){var r=!1;return this.columnGroup.getLeafColumns().forEach(function(u){(u.getColDef().suppressMovable||u.getColDef().lockPosition)&&(r=!0)}),r||this.gridOptionsWrapper.isSuppressMovableColumns()},kp([Y("beans")],o.prototype,"beans",void 0),kp([Y("columnModel")],o.prototype,"columnModel",void 0),kp([Y("dragAndDropService")],o.prototype,"dragAndDropService",void 0),kp([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),kp([Y("gridApi")],o.prototype,"gridApi",void 0),kp([Y("columnApi")],o.prototype,"columnApi",void 0),o}(Fs),BE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),dT=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},yx=0,IC=function(d){function o(r,s,u){var c=d.call(this)||this;return c.instanceId=yx++,c.headerCellCtrls={},c.rowIndex=r,c.pinned=s,c.type=u,c}return BE(o,d),o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(r){this.comp=r,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Su()&&this.comp.setTransform("translateZ(0)"),r.setAriaRowIndex(this.rowIndex+1)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ae.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},o.prototype.getHtmlElementForColumnHeader=function(r){if(this.type==q.A6C.COLUMN){var s=he(this.headerCellCtrls,function(c){return c.getColumnGroupChild()==r});if(s)return s.getGui()}},o.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},o.prototype.getType=function(){return this.type},o.prototype.onColumnResized=function(){this.setWidth()},o.prototype.setWidth=function(){var r=this.getWidthForRow();this.comp.setWidth(r+"px")},o.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(Ee.PINNED_RIGHT)+this.columnModel.getContainerWidth(Ee.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},o.prototype.onRowHeightChanged=function(){var c,_,r=this.columnModel.getHeaderRowCount(),s=[],u=0;this.columnModel.isPivotMode()?(c=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),_=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(r++,u=1),c=this.gridOptionsWrapper.getGroupHeaderHeight(),_=this.gridOptionsWrapper.getHeaderHeight());for(var A=r-(1+u),x=0;x<A;x++)s.push(c);for(s.push(_),x=0;x<u;x++)s.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var k=0;for(x=0;x<this.rowIndex;x++)k+=s[x];this.comp.setTop(k+"px"),this.comp.setHeight(s[this.rowIndex]+"px")},o.prototype.getPinned=function(){return this.pinned},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.onVirtualColumnsChanged=function(){var r=this,s=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(C){if(!C.isEmptyGroup()){var A=C.getUniqueId(),x=s[A];if(delete s[A],x&&x.getColumnGroupChild()!=C&&(r.destroyBean(x),x=void 0),null==x)switch(r.type){case q.A6C.FLOATING_FILTER:x=r.createBean(new cy(C,r));break;case q.A6C.COLUMN_GROUP:x=r.createBean(new wm(C,r));break;default:x=r.createBean(new AC(C,r))}r.headerCellCtrls[A]=x}}),rn(s,function(C,A){!function(C){return!!r.focusService.isHeaderWrapperFocused(C)&&r.columnModel.isDisplayed(C.getColumnGroupChild())}(A)?r.destroyBean(A):r.headerCellCtrls[C]=A});var _=Rt(this.headerCellCtrls);this.comp.setHeaderCtrls(_)},o.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},o.prototype.getColumnsInViewportPrintLayout=function(){var r=this;if(null!=this.pinned)return[];var s=[],u=this.getActualDepth();return[Ee.PINNED_LEFT,null,Ee.PINNED_RIGHT].forEach(function(c){var _=r.columnModel.getVirtualHeaderGroupRow(c,u);s=s.concat(_)}),s},o.prototype.getActualDepth=function(){return this.type==q.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},o.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},o.prototype.focusHeader=function(r,s){var c=he(Rt(this.headerCellCtrls),function(_){return _.getColumnGroupChild()==r});return!!c&&(c.focus(s),!0)},dT([Y("columnModel")],o.prototype,"columnModel",void 0),dT([Y("focusService")],o.prototype,"focusService",void 0),o}(ot),xC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),og=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},OC=function(d){function o(r){var s=d.call(this)||this;return s.groupsRowCtrls=[],s.pinned=r,s}return xC(o,d),o.prototype.setComp=function(r,s){this.comp=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(s),this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},o.prototype.setupDragAndDrop=function(r){var s=new TC(this.pinned,r);this.createManagedBean(s)},o.prototype.refresh=function(r){var s=this;void 0===r&&(r=!1);var k,u=new Os,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var k=s.columnModel.getHeaderRowCount()-1;s.groupsRowCtrls=s.destroyBeans(s.groupsRowCtrls);for(var W=0;W<k;W++){var ee=s.createBean(new IC(u.next(),s.pinned,q.A6C.COLUMN_GROUP));s.groupsRowCtrls.push(ee)}})(),k=u.next(),(null==s.columnsRowCtrl||!r||s.columnsRowCtrl.getRowIndex()!==k)&&(s.destroyBean(s.columnsRowCtrl),s.columnsRowCtrl=s.createBean(new IC(k,s.pinned,q.A6C.COLUMN))),function(){var W=function(){s.filtersRowCtrl=s.destroyBean(s.filtersRowCtrl)};if(!s.columnModel.isPivotMode()&&s.columnModel.hasFloatingFilters()){var ee=u.next();if(s.filtersRowCtrl){var le=s.filtersRowCtrl.getRowIndex()!==ee;(!r||le)&&W()}s.filtersRowCtrl||(s.filtersRowCtrl=s.createBean(new IC(ee,s.pinned,q.A6C.FLOATING_FILTER)))}else W()}();var x=this.getAllCtrls();this.comp.setCtrls(x),this.restoreFocusOnHeader(c)},o.prototype.restoreFocusOnHeader=function(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})},o.prototype.getAllCtrls=function(){var r=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r},o.prototype.onGridColumnsChanged=function(){this.refresh(!0)},o.prototype.setupCenterWidth=function(){var r=this;null==this.pinned&&this.createManagedBean(new Ao(function(s){return r.comp.setCenterWidth(s+"px")}))},o.prototype.setHorizontalScroll=function(r){this.comp.setContainerTransform("translateX("+r+"px)")},o.prototype.setupPinnedWidth=function(){var r=this;if(null!=this.pinned){var s=this.pinned===Ee.PINNED_LEFT,u=this.pinned===Ee.PINNED_RIGHT,c=function(){var _=s?r.pinnedWidthService.getPinnedLeftWidth():r.pinnedWidthService.getPinnedRightWidth();if(null!=_){var C=0==_,A=r.gridOptionsWrapper.isEnableRtl(),x=r.gridOptionsWrapper.getScrollbarWidth(),k=r.scrollVisibleService.isVerticalScrollShowing()&&(A&&s||!A&&u);r.comp.setPinnedContainerWidth((k?_+x:_)+"px"),r.comp.addOrRemoveCssClass("ag-hidden",C)}};this.addManagedListener(this.eventService,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,ae.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},o.prototype.getHtmlElementForColumnHeader=function(r){if(this.columnsRowCtrl)return this.columnsRowCtrl.getHtmlElementForColumnHeader(r)},o.prototype.getRowType=function(r){var u=this.getAllCtrls()[r];return u?u.getType():void 0},o.prototype.focusHeader=function(r,s,u){var _=this.getAllCtrls()[r];return!!_&&_.focusHeader(s,u)},o.prototype.getRowCount=function(){return this.getAllCtrls().length},og([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),og([Y("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),og([Y("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),og([Y("columnModel")],o.prototype,"columnModel",void 0),og([Y("focusService")],o.prototype,"focusService",void 0),o}(ot),vx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),MC=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Lp=function(d){function o(r){var s=d.call(this)||this;return s.headerRowComps={},s.rowCompsList=[],s.pinned=r,s}return vx(o,d),o.prototype.init=function(){var r=this;this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(c,_){return r.addOrRemoveCssClass(c,_)},setCtrls:function(c){return r.setCtrls(c)},setCenterWidth:function(c){return r.eCenterContainer.style.width=c},setContainerTransform:function(c){return r.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var _=r.getGui();_.style.width=c,_.style.maxWidth=c,_.style.minWidth=c}};this.createManagedBean(new OC(this.pinned)).setComp(s,this.getGui())},o.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==Ee.PINNED_LEFT?o.PINNED_LEFT_TEMPLATE:this.pinned==Ee.PINNED_RIGHT?o.PINNED_RIGHT_TEMPLATE:o.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},o.prototype.destroyRowComps=function(){this.setCtrls([])},o.prototype.destroyRowComp=function(r){this.destroyBean(r),this.eRowContainer.removeChild(r.getGui())},o.prototype.setCtrls=function(r){var c,s=this,u=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],r.forEach(function(C){var A=C.getInstanceId(),x=u[A];delete u[A];var k=x||s.createBean(new TE(C));s.headerRowComps[A]=k,s.rowCompsList.push(k),function(C){var A=C.getGui();A.parentElement!=s.eRowContainer&&s.eRowContainer.appendChild(A),c&&hl(s.eRowContainer,A,c),c=A}(k)}),Rt(u).forEach(function(C){return s.destroyRowComp(C)})},o.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',o.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',o.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',MC([Ke("eCenterContainer")],o.prototype,"eCenterContainer",void 0),MC([se],o.prototype,"init",null),MC([$e],o.prototype,"destroyRowComps",null),o}(Sn),wh=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),VE=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return wh(o,d),o.prototype.postConstruct=function(){var r=this,s={addOrRemoveCssClass:function(_,C){return r.addOrRemoveCssClass(_,C)},setHeightAndMinHeight:function(_){r.getGui().style.height=_,r.getGui().style.minHeight=_}};this.createManagedBean(new IE).setComp(s,this.getGui(),this.getFocusableElement());var c=function(_){r.createManagedBean(_),r.appendChild(_)};c(new Lp(Ee.PINNED_LEFT)),c(new Lp(null)),c(new Lp(Ee.PINNED_RIGHT))},o.TEMPLATE='<div class="ag-header" role="presentation" unselectable="on"/>',function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"postConstruct",null),o}(Sn),HE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),sg=function(){return(sg=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Xl=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},fy=function(d){function o(){var s=null!==d&&d.apply(this,arguments)||this;return s.allAdvancedFilters=new Map,s.activeAdvancedFilters=[],s.quickFilter=null,s.quickFilterParts=null,s.processingFilterChange=!1,s}var r;return HE(o,d),r=o,o.prototype.init=function(){this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(s){var u=this,c=[],_=this.getFilterModel();if(s){var C=uh(Object.keys(s));this.allAdvancedFilters.forEach(function(A,x){c.push(u.setModelOnFilterWrapper(A.filterPromise,s[x])),C.delete(x)}),C.forEach(function(A){var x=u.columnModel.getPrimaryColumn(A);if(x)if(x.isFilterAllowed()){var k=u.getOrCreateFilterWrapper(x,"NO_UI");c.push(u.setModelOnFilterWrapper(k.filterPromise,s[A]))}else console.warn("AG-Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+A);else console.warn("AG-Grid: setFilterModel() - no column found for colId: "+A)})}else this.allAdvancedFilters.forEach(function(A){c.push(u.setModelOnFilterWrapper(A.filterPromise,null))});Uo.all(c).then(function(){var A=u.getFilterModel(),x=[];u.allAdvancedFilters.forEach(function(k,W){Pt.jsonEquals(_?_[W]:null,A?A[W]:null)||x.push(k.column)}),x.length>0&&u.onFilterChanged({columns:x})})},o.prototype.setModelOnFilterWrapper=function(s,u){return new Uo(function(c){s.then(function(_){"function"!=typeof _.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),c()),(_.setModel(u)||Uo.resolve()).then(function(){return c()})})})},o.prototype.getFilterModel=function(){var s={};return this.allAdvancedFilters.forEach(function(u,c){var C=u.filterPromise.resolveNow(null,function(x){return x});if(null==C)return null;if("function"==typeof C.getModel){var A=C.getModel();Q(A)&&(s[c]=A)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}),s},o.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},o.prototype.updateActiveFilters=function(){var s=this;this.activeAdvancedFilters.length=0;var u=function(c){return!!c&&(c.isFilterActive?c.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(c){if(c.filterPromise.resolveNow(!1,u)){var _=c.filterPromise.resolveNow(null,function(C){return C});s.activeAdvancedFilters.push(_)}})},o.prototype.updateFilterFlagInColumns=function(s,u){this.allAdvancedFilters.forEach(function(c){var _=c.filterPromise.resolveNow(!1,function(C){return C.isFilterActive()});c.column.setFilterActive(_,s,u)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.doAdvancedFiltersPass=function(s,u){for(var c=s.data,_=0;_<this.activeAdvancedFilters.length;_++){var C=this.activeAdvancedFilters[_];if(null!=C&&C!==u){if("function"!=typeof C.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!C.doesFilterPass({node:s,data:c}))return!1}}return!0},o.prototype.parseQuickFilter=function(s){return Q(s)?this.gridOptionsWrapper.isRowModelDefault()?s.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(s){var u=this.parseQuickFilter(s);this.quickFilter!==u&&(this.quickFilter=u,this.setQuickFilterParts(),this.onFilterChanged())},o.prototype.onFilterChanged=function(s){void 0===s&&(s={});var u=s.filterInstance,c=s.additionalEventAttributes,_=s.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.allAdvancedFilters.forEach(function(A){!A.filterPromise||A.filterPromise.then(function(x){x&&x!==u&&x.onAnyFilterChanged&&x.onAnyFilterChanged()})});var C={type:ae.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:_||[]};c&&en(C,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(C),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(s,u){return this.doesRowPassFilter({rowNode:u,filterInstanceToSkip:s})},o.prototype.doesRowPassQuickFilterNoCache=function(s,u){var c=this;return Un(this.columnModel.getAllColumnsForQuickFilter(),function(C){var A=c.getQuickFilterTextForColumn(C,s);return Q(A)&&A.indexOf(u)>=0})},o.prototype.doesRowPassQuickFilterCache=function(s,u){return s.quickFilterAggregateText||this.aggregateRowForQuickFilter(s),s.quickFilterAggregateText.indexOf(u)>=0},o.prototype.doesRowPassQuickFilter=function(s){var u=this,c=this.gridOptionsWrapper.isCacheQuickFilter();return Ss(this.quickFilterParts,function(_){return c?u.doesRowPassQuickFilterCache(s,_):u.doesRowPassQuickFilterNoCache(s,_)})},o.prototype.doesRowPassFilter=function(s){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(s.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(s.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(s.rowNode,s.filterInstanceToSkip))},o.prototype.getQuickFilterTextForColumn=function(s,u){var c=this.valueService.getValue(s,u,!0),_=s.getColDef();if(_.getQuickFilterText){var C={value:c,node:u,data:u.data,column:s,colDef:_,context:this.gridOptionsWrapper.getContext()};c=_.getQuickFilterText(C)}return Q(c)?c.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(s){var u=this,c=[];$t(this.columnModel.getAllColumnsForQuickFilter(),function(C){var A=u.getQuickFilterTextForColumn(C,s);Q(A)&&c.push(A)}),s.quickFilterAggregateText=c.join(r.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(s){this.allAdvancedFilters.forEach(function(u){u.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(s),this.updateActiveFilters()},o.prototype.createValueGetter=function(s){var u=this;return function(c){return u.valueService.getValue(s,c,!0)}},o.prototype.getFilterComponent=function(s,u,c){if(void 0===c&&(c=!0),c)return this.getOrCreateFilterWrapper(s,u).filterPromise;var _=this.cachedFilter(s);return _?_.filterPromise:null},o.prototype.isFilterActive=function(s){var u=this.cachedFilter(s);return!!u&&u.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(s,u){var c=this.cachedFilter(s);return c?"NO_UI"!==u&&this.putIntoGui(c,u):(c=this.createFilterWrapper(s,u),this.allAdvancedFilters.set(s.getColId(),c)),c},o.prototype.cachedFilter=function(s){return this.allAdvancedFilters.get(s.getColId())},o.prototype.createFilterInstance=function(s,u){var A,c=this,_=Gt.isRegistered(q.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",C=s.getColDef(),x=sg(sg({},this.createFilterParams(s,C,u)),{filterModifiedCallback:function(){c.eventService.dispatchEvent({type:ae.EVENT_FILTER_MODIFIED,api:c.gridApi,columnApi:c.columnApi,column:s,filterInstance:A})},filterChangedCallback:function(ee){return c.onFilterChanged({filterInstance:A,additionalEventAttributes:ee,columns:[s]})},doesRowPassOtherFilter:function(ee){return c.doesRowPassOtherFilters(A,ee)}}),k=this.userComponentFactory.getFilterDetails(C,x,_);if(!k)return null;var W=k.newAgStackInstance();return W&&W.then(function(ee){return A=ee}),W},o.prototype.createFilterParams=function(s,u,c){void 0===c&&(c=null);var _={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:s,colDef:ii(u),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(s),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return c&&(_.$scope=c),_},o.prototype.createFilterWrapper=function(s,u){var c={column:s,filterPromise:null,scope:null,compiledElement:null,guiPromise:Uo.resolve(null)};return c.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,c.filterPromise=this.createFilterInstance(s,c.scope),c.filterPromise&&this.putIntoGui(c,u),c},o.prototype.putIntoGui=function(s,u){var c=this,_=document.createElement("div");_.className="ag-filter",s.guiPromise=new Uo(function(C){s.filterPromise.then(function(A){var x=A.getGui();if(Q(x)||console.warn("getGui method from filter returned "+x+", it should be a DOM element or an HTML template string."),"string"==typeof x&&(x=Bo(x)),_.appendChild(x),s.scope){var k=c.$compile(_)(s.scope);s.compiledElement=k,window.setTimeout(function(){return s.scope.$apply()},0)}C(_),c.eventService.dispatchEvent({type:ae.EVENT_FILTER_OPENED,column:s.column,source:u,eGui:_,api:c.gridApi,columnApi:c.columnApi})})})},o.prototype.onNewColumnsLoaded=function(){var s=this,u=!1,c=[];this.allAdvancedFilters.forEach(function(_){!s.columnModel.getPrimaryColumn(_.column)&&(u=!0,c.push(_.column),s.disposeFilterWrapper(_,"filterDestroyed"))}),u&&this.onFilterChanged({columns:c})},o.prototype.destroyFilter=function(s,u){void 0===u&&(u="api");var c=this.allAdvancedFilters.get(s.getColId());c&&(this.disposeFilterWrapper(c,u),this.onFilterChanged({columns:[s]}))},o.prototype.disposeFilterWrapper=function(s,u){var c=this;s.filterPromise.then(function(_){(_.setModel(null)||Uo.resolve()).then(function(){c.getContext().destroyBean(_),s.column.setFilterActive(!1,u),s.scope&&(s.compiledElement&&s.compiledElement.remove(),s.scope.$destroy()),c.allAdvancedFilters.delete(s.column.getColId())})})},o.prototype.destroy=function(){var s=this;d.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(u){return s.disposeFilterWrapper(u,"filterDestroyed")})},o.QUICK_FILTER_SEPARATOR="\n",Xl([Y("$compile")],o.prototype,"$compile",void 0),Xl([Y("$scope")],o.prototype,"$scope",void 0),Xl([Y("valueService")],o.prototype,"valueService",void 0),Xl([Y("columnModel")],o.prototype,"columnModel",void 0),Xl([Y("rowModel")],o.prototype,"rowModel",void 0),Xl([Y("columnApi")],o.prototype,"columnApi",void 0),Xl([Y("gridApi")],o.prototype,"gridApi",void 0),Xl([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Xl([se],o.prototype,"init",null),Xl([$e],o.prototype,"destroy",null),r=Xl([Le("filterManager")],o)}(ot),pT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),eu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},NC=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.initialised=!1,r}return pT(o,d),o.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},o.prototype.getValue=function(r,s,u,c){if(void 0===u&&(u=!1),void 0===c&&(c=!1),this.initialised||this.init(),s){var k,_=r.getColDef(),C=_.field,A=r.getId(),x=s.data,W=s.groupData&&void 0!==s.groupData[A],ee=!c&&s.aggData&&void 0!==s.aggData[A];if(u&&_.filterValueGetter?k=this.executeFilterValueGetter(_.filterValueGetter,x,r,s):this.gridOptionsWrapper.isTreeData()&&ee?k=s.aggData[A]:this.gridOptionsWrapper.isTreeData()&&_.valueGetter?k=this.executeValueGetter(_.valueGetter,x,r,s):this.gridOptionsWrapper.isTreeData()&&C&&x?k=En(x,C,r.isFieldContainsDots()):W?k=s.groupData[A]:ee?k=s.aggData[A]:_.valueGetter?k=this.executeValueGetter(_.valueGetter,x,r,s):C&&x&&(k=En(x,C,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof k&&0===k.indexOf("=")){var le=k.substring(1);k=this.executeValueGetter(le,x,r,s)}if(null==k){var ce=this.getOpenedGroup(s,r);if(null!=ce)return ce}return k}},o.prototype.getOpenedGroup=function(r,s){if(this.gridOptionsWrapper.isShowOpenedGroup()&&s.getColDef().showRowGroup)for(var c=s.getColDef().showRowGroup,_=r.parent;null!=_;){if(_.rowGroupColumn&&(!0===c||c===_.rowGroupColumn.getId()))return _.key;_=_.parent}},o.prototype.setValue=function(r,s,u,c){var _=this.columnModel.getPrimaryColumn(s);if(r&&_){Z(r.data)&&(r.data={});var C=_.getColDef(),A=C.field,x=C.newValueHandler,k=C.valueSetter;if(Z(A)&&Z(x)&&Z(k))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var ee,W={node:r,data:r.data,oldValue:this.getValue(_,r),newValue:u,colDef:_.getColDef(),column:_,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(W.newValue=u,void 0===(ee=x&&Q(x)?x(W):Q(k)?this.expressionService.evaluate(k,W):this.setValueUsingField(r.data,A,u,_.isFieldContainsDots()))&&(ee=!0),ee){r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),W.newValue=this.getValue(_,r);var le=_.getColDef().onCellValueChanged;"function"==typeof le&&setTimeout(function(){return le(W)},0),this.eventService.dispatchEvent({type:ae.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:W.column,api:W.api,columnApi:W.columnApi,colDef:W.colDef,context:W.context,data:r.data,node:r,oldValue:W.oldValue,newValue:W.newValue,value:W.newValue,source:c})}}},o.prototype.setValueUsingField=function(r,s,u,c){if(!s)return!1;if(c)for(var C=s.split("."),A=r;C.length>0&&A;){var x=C.shift();0===C.length?A[x]=u:A=A[x]}else r[s]=u;return!0},o.prototype.executeFilterValueGetter=function(r,s,u,c){var _={data:s,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)};return this.expressionService.evaluate(r,_)},o.prototype.executeValueGetter=function(r,s,u,c){var _=u.getId(),C=this.valueCache.getValue(c,_);if(void 0!==C)return C;var A={data:s,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)},x=this.expressionService.evaluate(r,A);return this.valueCache.setValue(c,_,x),x},o.prototype.getValueCallback=function(r,s){var u=this.columnModel.getPrimaryColumn(s);return u?this.getValue(u,r):null},o.prototype.getKeyForNode=function(r,s){var u=this.getValue(r,s),c=r.getColDef().keyCreator,_=u;return c&&(_=c({value:u,colDef:r.getColDef(),column:r,node:s,data:s.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof _||null==_||"[object Object]"===(_=String(_))&&Jt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),_},eu([Y("expressionService")],o.prototype,"expressionService",void 0),eu([Y("columnModel")],o.prototype,"columnModel",void 0),eu([Y("valueCache")],o.prototype,"valueCache",void 0),eu([se],o.prototype,"init",null),eu([Le("valueService")],o)}(ot),gy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),UE=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.AUTO_HEIGHT="ag-layout-auto-height",d.NORMAL="ag-layout-normal",d.PRINT="ag-layout-print"}(q.LBn||(q.LBn={}));var ag=function(d){function o(r){var s=d.call(this)||this;return s.view=r,s}return gy(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},o.prototype.updateLayoutClasses=function(){var r=this.gridOptionsWrapper.getDomLayout(),s={autoHeight:r===Ee.DOM_LAYOUT_AUTO_HEIGHT,normal:r===Ee.DOM_LAYOUT_NORMAL,print:r===Ee.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(s.autoHeight?q.LBn.AUTO_HEIGHT:s.print?q.LBn.PRINT:q.LBn.NORMAL,s)},UE([Y("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),UE([se],o.prototype,"postConstruct",null),o}(ot),FC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Bu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},fT=function(d){function o(r){var s=d.call(this)||this;return s.scrollLeft=-1,s.nextScrollTop=-1,s.scrollTop=-1,s.eBodyViewport=r,s.resetLastHorizontalScrollElementDebounced=St(s.resetLastHorizontalScrollElement.bind(s),500),s}return FC(o,d),o.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(s){r.centerRowContainerCon=s.centerRowContainerCtrl,r.onDisplayedColumnsWidthChanged(),r.addScrollListener()})},o.prototype.addScrollListener=function(){var r=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(r.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var s=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?St(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s)},o.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(r){void 0===r&&(r=this.centerRowContainerCon.getCenterViewportScrollLeft());var s=this.enableRtl?r:-r,u=this.ctrlsService.getTopCenterRowContainerCtrl(),c=this.ctrlsService.getBottomCenterRowContainerCtrl(),_=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(s),c.setContainerTranslateX(s),u.setContainerTranslateX(s),yc(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?_.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(r),this.enableRtl)},o.prototype.isControllingScroll=function(r){return this.lastHorizontalScrollElement?r===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=r,!0)},o.prototype.onFakeHorizontalScroll=function(){var r=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},o.prototype.onCenterViewportScroll=function(){var r=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},o.prototype.onBodyHorizontalScroll=function(r){var s=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",s.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Ir(r,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},o.prototype.onVerticalScroll=function(){var r=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",r,!0)||(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(r){var u=Ir(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===r&&r===u||(this.scrollLeft=r,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.onHorizontalViewportChanged())},o.prototype.fireScrollEvent=function(r){var s=this,u={type:ae.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:r,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(u),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=Ai({},u,{type:ae.EVENT_BODY_SCROLL_END});s.eventService.dispatchEvent(c)},100)},o.prototype.shouldBlockScrollUpdate=function(r,s,u){if(void 0===u&&(u=!1),u&&!Ra())return!1;if("vertical"===r){var c=xa(this.eBodyViewport);if(s<0||s+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===r){var C=this.centerRowContainerCon.getCenterWidth(),A=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&ro()){if(s>0)return!0}else if(s<0)return!0;if(Math.abs(s)+C>A)return!0}return!1},o.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},o.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},o.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},o.prototype.executeAnimationFrameScroll=function(){var r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r},o.prototype.setHorizontalScrollPosition=function(r){var u=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",r)&&(r=this.enableRtl&&ro()?r>0?0:u:Math.min(Math.max(r,0),u)),yc(this.centerRowContainerCon.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)},o.prototype.setVerticalScrollPosition=function(r){this.eBodyViewport.scrollTop=r},o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},o.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},o.prototype.scrollHorizontally=function(r){var s=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(s+r),this.centerRowContainerCon.getViewportElement().scrollLeft-s},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.ensureNodeVisible=function(r,s){void 0===s&&(s=null);for(var u=this.rowModel.getRowCount(),c="function"==typeof r,_=-1,C=0;C<u;C++){var A=this.rowModel.getRow(C);if(c){if(r(A)){_=C;break}}else if(r===A||r===A.data){_=C;break}}_>=0&&this.ensureIndexVisible(_,s)},o.prototype.ensureIndexVisible=function(r,s){if(this.gridOptionsWrapper.getDomLayout()!==Ee.DOM_LAYOUT_PRINT){var u=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=u)return void console.warn("invalid row index for ensureIndexVisible: "+r);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(r);var A,C=this.paginationProxy.getRow(r);do{var x=C.rowTop,k=C.rowHeight,W=this.paginationProxy.getPixelOffset(),ee=C.rowTop-W,le=ee+C.rowHeight,ce=this.getVScrollPosition(),Me=this.heightScaler.getDivStretchOffset(),He=ce.top+Me,ht=ce.bottom+Me,nt=ht-He,Qe=this.heightScaler.getScrollPositionForPixel(ee),_t=this.heightScaler.getScrollPositionForPixel(le-nt),Zt=Math.min((Qe+_t)/2,ee),Vn=null;"top"===s?Vn=Qe:"bottom"===s?Vn=_t:"middle"===s?Vn=Zt:He>ee?Vn=Qe:ht<le&&(Vn=_t),null!==Vn&&(this.eBodyViewport.scrollTop=Vn,this.rowRenderer.redrawAfterScroll()),A=x!==C.rowTop||k!==C.rowHeight}while(A);this.animationFrameService.flushAllFrames()}},o.prototype.ensureColumnVisible=function(r){var s=this.columnModel.getGridColumn(r);if(s&&!s.isPinned()&&this.columnModel.isColumnDisplayed(s)){var x,k,u=s.getLeft(),c=u+s.getActualWidth(),_=this.centerRowContainerCon.getCenterWidth(),C=this.centerRowContainerCon.getCenterViewportScrollLeft(),A=this.columnModel.getBodyContainerWidth();this.enableRtl?(x=A-C-_,k=A-C):(x=C,k=_+C);var W=x>u,ee=k<c,le=_<s.getActualWidth(),ce=W||le;(ce||ee)&&this.centerRowContainerCon.setCenterViewportScrollLeft(this.enableRtl?ce?A-_-u:A-c:ce?u:c-_),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},Bu([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Bu([Y("animationFrameService")],o.prototype,"animationFrameService",void 0),Bu([Y("columnApi")],o.prototype,"columnApi",void 0),Bu([Y("gridApi")],o.prototype,"gridApi",void 0),Bu([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),Bu([Y("rowModel")],o.prototype,"rowModel",void 0),Bu([Y("rowContainerHeightService")],o.prototype,"heightScaler",void 0),Bu([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),Bu([Y("columnModel")],o.prototype,"columnModel",void 0),Bu([se],o.prototype,"postConstruct",null),o}(ot),WE=function(){function d(o){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=o.scrollContainer,this.scrollHorizontally=-1!==o.scrollAxis.indexOf("x"),this.scrollVertically=-1!==o.scrollAxis.indexOf("y"),this.scrollByTick=null!=o.scrollByTick?o.scrollByTick:20,o.onScrollCallback&&(this.onScrollCallback=o.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=o.getVerticalPosition,this.setVerticalPosition=o.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=o.getHorizontalPosition,this.setHorizontalPosition=o.setHorizontalPosition),this.shouldSkipVerticalScroll=o.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=o.shouldSkipHorizontalScroll||function(){return!1}}return d.prototype.check=function(o,r){void 0===r&&(r=!1);var s=r||this.shouldSkipVerticalScroll();if(!s||!this.shouldSkipHorizontalScroll()){var u=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=o.clientX<u.left+c,this.tickRight=o.clientX>u.right-c,this.tickUp=o.clientY<u.top+c&&!s,this.tickDown=o.clientY>u.bottom-c&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},d.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},d.prototype.doTick=function(){var o;if(this.tickCount++,o=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var r=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(r-o),this.tickDown&&this.setVerticalPosition(r+o)}if(this.scrollHorizontally){var s=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(s-o),this.tickRight&&this.setHorizontalPosition(s+o)}this.onScrollCallback&&this.onScrollCallback()},d.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},d}(),lg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Dd=function(){return(Dd=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},pa=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ug=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s},bm=function(d){function o(r){var s=d.call(this)||this;return s.isMultiRowDrag=!1,s.isGridSorted=!1,s.isGridFiltered=!1,s.isRowGroupActive=!1,s.eContainer=r,s}return lg(o,d),o.prototype.postConstruct=function(){var r=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var s=function(){r.onSortChanged(),r.onFilterChanged(),r.onRowGroupChanged()};this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,function(){s()}),s(),this.ctrlsService.whenReady(function(){var u=r.ctrlsService.getGridBodyCtrl();r.autoScrollService=new WE({scrollContainer:u.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return u.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return u.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){r.onDragging(r.lastDraggingEvent)}})})},o.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var r=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Re(r)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(r){return r===q.rvo.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?jo.ICON_NOT_ALLOWED:jo.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(r){if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];var s=this.gridOptionsWrapper.isRowDragMultiRow(),u=this.selectionService.getSelectedNodes(),c=r.dragItem.rowNode;return s&&-1!==u.indexOf(c)?(this.isMultiRowDrag=!0,ug(u)):(this.isMultiRowDrag=!1,[c])},o.prototype.onDragEnter=function(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(function(s){s.setDragging(!0)}),this.onEnterOrDragging(r)},o.prototype.onDragging=function(r){this.onEnterOrDragging(r)},o.prototype.isFromThisGrid=function(r){return r.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},o.prototype.isDropZoneWithinThisGrid=function(r){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(r.dropZoneTarget)},o.prototype.onEnterOrDragging=function(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;var s=this.mouseEventService.getNormalisedPosition(r).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(r,s),this.autoScrollService.check(r.event)},o.prototype.doManagedDrag=function(r,s){var c,u=this,_=this.isFromThisGrid(r);_?(c=[r.dragItem.rowNode],this.isMultiRowDrag&&(c=ug(this.selectionService.getSelectedNodes()).sort(function(A,x){return u.getRowIndexNumber(A)-u.getRowIndexNumber(x)})),r.dragItem.rowNodes=c):c=r.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!_?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(c[0],s):this.moveRows(c,s))},o.prototype.getRowIndexNumber=function(r){return parseInt(ke(r.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(r){var s=this,u=this.clientSideRowModel.getLastHighlightedRowNode(),c=u&&u.highlighted===q.oh5.Below,_=this.mouseEventService.getNormalisedPosition(r).y,C=r.dragItem.rowNodes,A=c?1:0;if(this.isFromThisGrid(r))C.forEach(function(W){W.rowTop<_&&(A-=1)}),this.moveRows(C,_,A);else{var x=this.gridOptionsWrapper.getRowNodeIdFunc(),k=this.clientSideRowModel.getRowIndexAtPixel(_)+1;this.clientSideRowModel.getHighlightPosition(_)===q.oh5.Above&&k--,this.clientSideRowModel.updateRowData({add:C.map(function(W){return W.data}).filter(function(W){return!s.clientSideRowModel.getRowNode(x?x(W):W.id)}),addIndex:k})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(r,s,u){void 0===u&&(u=0),this.clientSideRowModel.ensureRowsAtPixel(r,s,u)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},o.prototype.addRowDropZone=function(r){var s=this;if(r.getContainer())if(this.dragAndDropService.findExternalZone(r))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var u={getContainer:r.getContainer};r.fromGrid?(r.fromGrid=void 0,u=r):(r.onDragEnter&&(u.onDragEnter=function(c){r.onDragEnter(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_ENTER,c))}),r.onDragLeave&&(u.onDragLeave=function(c){r.onDragLeave(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_LEAVE,c))}),r.onDragging&&(u.onDragging=function(c){r.onDragging(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_MOVE,c))}),r.onDragStop&&(u.onDragStop=function(c){r.onDragStop(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(Dd({isInterestedIn:function(c){return c===q.rvo.RowDrag},getIconName:function(){return jo.ICON_MOVE},external:!0},u))}else Jt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(r){var s=this,u=this.getContainer.bind(this),c=this.onDragEnter.bind(this),_=this.onDragLeave.bind(this),C=this.onDragging.bind(this),A=this.onDragStop.bind(this);return r?{getContainer:u,onDragEnter:r.onDragEnter?function(x){c(x),r.onDragEnter(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_ENTER,x))}:c,onDragLeave:r.onDragLeave?function(x){_(x),r.onDragLeave(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_LEAVE,x))}:_,onDragging:r.onDragging?function(x){C(x),r.onDragging(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_MOVE,x))}:C,onDragStop:r.onDragStop?function(x){A(x),r.onDragStop(s.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_END,x))}:A,fromGrid:!0}:{getContainer:u,onDragEnter:c,onDragLeave:_,onDragging:C,onDragStop:A,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(r,s){var C,A,u=this.mouseEventService.getNormalisedPosition(s).y,_=-1;switch(u>this.paginationProxy.getCurrentPageHeight()||(_=this.rowModel.getRowIndexAtPixel(u),C=this.rowModel.getRow(_)),s.vDirection){case q.HO_.Down:A="down";break;case q.HO_.Up:A="up";break;default:A=null}return{type:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:s.event,node:s.dragItem.rowNode,nodes:s.dragItem.rowNodes,overIndex:_,overNode:C,y:u,vDirection:A}},o.prototype.dispatchGridEvent=function(r,s){var u=this.draggingToRowDragEvent(r,s);this.eventService.dispatchEvent(u)},o.prototype.onDragLeave=function(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(r)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)},o.prototype.stopDragging=function(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(function(s){s.setDragging(!1)})},pa([Y("dragAndDropService")],o.prototype,"dragAndDropService",void 0),pa([Y("rowModel")],o.prototype,"rowModel",void 0),pa([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),pa([Y("columnModel")],o.prototype,"columnModel",void 0),pa([Y("focusService")],o.prototype,"focusService",void 0),pa([Y("sortController")],o.prototype,"sortController",void 0),pa([Y("filterManager")],o.prototype,"filterManager",void 0),pa([Y("selectionService")],o.prototype,"selectionService",void 0),pa([Y("mouseEventService")],o.prototype,"mouseEventService",void 0),pa([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),pa([Tt("rangeService")],o.prototype,"rangeService",void 0),pa([se],o.prototype,"postConstruct",null),o}(ot),Em=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),tu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.ANIMATION_ON="ag-row-animation",d.ANIMATION_OFF="ag-row-no-animation"}(q.SJN||(q.SJN={}));var Sm="ag-selectable",jE="ag-force-vertical-scroll",my="ag-column-moving",Dm=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.angularApplyTriggered=!1,r}return Em(o,d),o.prototype.getScrollFeature=function(){return this.bodyScrollFeature},o.prototype.getBodyViewportElement=function(){return this.eBodyViewport},o.prototype.setComp=function(r,s,u,c,_){this.comp=r,this.eGridBody=s,this.eBodyViewport=u,this.eTop=c,this.eBottom=_,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new ag(this.comp)),this.bodyScrollFeature=this.createManagedBean(new fT(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([c,u,_]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},o.prototype.getComp=function(){return this.comp},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},o.prototype.addFocusListeners=function(r){var s=this;r.forEach(function(u){s.addManagedListener(u,"focusin",function(){ut(u,"ag-has-focus")}),s.addManagedListener(u,"focusout",function(c){u.contains(c.relatedTarget)||Cr(u,"ag-has-focus")})})},o.prototype.setColumnMovingCss=function(r){this.comp.setColumnMovingCss(r?my:null,r)},o.prototype.setCellTextSelection=function(r){void 0===r&&(r=!1),this.comp.setCellSelectableCss(r?Sm:null,r)},o.prototype.onScrollVisibilityChanged=function(){var r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r)},o.prototype.onGridColumnsChanged=function(){var r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r?r.length:0)},o.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(r){if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})},o.prototype.addStopEditingWhenGridLosesFocus=function(){var r=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var s=function(c){var _=c.relatedTarget;if(null!==Gl(_)){var C=u.some(function(x){return x.contains(_)})&&r.mouseEventService.isElementInThisGrid(_);if(!C){var A=r.popupService;C=A.getActivePopups().some(function(x){return x.contains(_)})||A.isElementWithinCustomPopup(_)}C||r.rowRenderer.stopEditing()}else r.rowRenderer.stopEditing()},u=[this.eBodyViewport,this.eBottom,this.eTop];u.forEach(function(c){return r.addManagedListener(c,"focusout",s)})}},o.prototype.updateRowCount=function(){var r=this.headerNavigationService.getHeaderRowCount(),s=this.paginationProxy.getType(),u=-1;s===Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(u=0,this.paginationProxy.forEachNode(function(_){_.group||u++})),this.comp.setRowCount(-1===u?-1:r+u)},o.prototype.registerBodyViewportResizeListener=function(r){this.comp.registerBodyViewportResizeListener(r)},o.prototype.setVerticalScrollPaddingVisible=function(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")},o.prototype.isVerticalScrollShowing=function(){var r=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(r?jE:null,r),r||xf(this.eBodyViewport)},o.prototype.setupRowAnimationCssClass=function(){var r=this,s=function(){var u=r.gridOptionsWrapper.isAnimateRows()&&!r.rowContainerHeightService.isStretching();r.comp.setRowAnimationCssOnBodyViewport(u?q.SJN.ANIMATION_ON:q.SJN.ANIMATION_OFF,u)};s(),this.addManagedListener(this.eventService,ae.EVENT_HEIGHT_SCALE_CHANGED,s)},o.prototype.getGridBodyElement=function(){return this.eGridBody},o.prototype.addBodyViewportListener=function(){var r=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(u){r.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&u.preventDefault();var c=ir(u);(c===r.eBodyViewport||c===r.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&r.contextMenuFactory&&r.contextMenuFactory.onContextMenu(u,null,null,null,null,r.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},o.prototype.onWheel=function(r){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&r.preventDefault()},o.prototype.getGui=function(){return this.eGridBody},o.prototype.scrollVertically=function(r){var s=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(s+r),this.eBodyViewport.scrollTop-s},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new bm(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.setFloatingHeights=function(){var r=this.pinnedRowModel,s=r.getPinnedTopTotalHeight();s&&(s+=1);var u=r.getPinnedBottomTotalHeight();u&&(u+=1),this.comp.setTopHeight(s),this.comp.setBottomHeight(u),this.comp.setTopDisplay(s?"inherit":"none"),this.comp.setBottomDisplay(u?"inherit":"none")},o.prototype.sizeColumnsToFit=function(r){var s=this,c=this.isVerticalScrollShowing()&&!Mi()?this.gridOptionsWrapper.getScrollbarWidth():0,C=Ki(this.eBodyViewport)-c;C>0?this.columnModel.sizeColumnsToFit(C,"sizeColumnsToFit"):void 0===r?window.setTimeout(function(){s.sizeColumnsToFit(100)},0):100===r?window.setTimeout(function(){s.sizeColumnsToFit(500)},100):500===r?window.setTimeout(function(){s.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.addScrollEventListener=function(r){this.eBodyViewport.addEventListener("scroll",r)},o.prototype.removeScrollEventListener=function(r){this.eBodyViewport.removeEventListener("scroll",r)},o.prototype.requestAngularApply=function(){var r=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){r.angularApplyTriggered=!1,r.$scope.$apply()},0))},o.prototype.addAngularApplyCheck=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return r.requestAngularApply()}),this.addManagedListener(this.eventService,ae.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return r.requestAngularApply()})},tu([Y("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),tu([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),tu([Y("columnModel")],o.prototype,"columnModel",void 0),tu([Y("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),tu([Tt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),tu([Y("headerNavigationService")],o.prototype,"headerNavigationService",void 0),tu([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),tu([Y("dragAndDropService")],o.prototype,"dragAndDropService",void 0),tu([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),tu([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),tu([Y("popupService")],o.prototype,"popupService",void 0),tu([Y("mouseEventService")],o.prototype,"mouseEventService",void 0),tu([Y("$scope")],o.prototype,"$scope",void 0),o}(ot),zE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ms=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},kC=function(d){function o(r){var s=d.call(this)||this;return s.element=r,s}return zE(o,d),o.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},o.prototype.addKeyboardEvents=function(){var r=this;["keydown","keypress"].forEach(function(u){var c=r.processKeyboardEvent.bind(r,u);r.addManagedListener(r.element,u,c)})},o.prototype.addMouseListeners=function(){var r=this;["dblclick","contextmenu","mouseover","mouseout","click",Fo("touchstart")?"touchstart":"mousedown"].forEach(function(c){var _=r.processMouseEvent.bind(r,c);r.addManagedListener(r.element,c,_)})},o.prototype.processMouseEvent=function(r,s){if(this.mouseEventService.isEventFromThisGrid(s)&&!fr(s)){var u=this.getRowForEvent(s),c=this.mouseEventService.getRenderedCellForEvent(s);"contextmenu"===r?this.handleContextMenuMouseEvent(s,null,u,c):(c&&c.onMouseEvent(r,s),u&&u.onMouseEvent(r,s))}},o.prototype.mockContextMenuForIPad=function(){var r=this;if(Ra()){var s=new _l(this.element);this.addManagedListener(s,_l.EVENT_LONG_TAP,function(c){var _=r.getRowForEvent(c.touchEvent),C=r.mouseEventService.getRenderedCellForEvent(c.touchEvent);r.handleContextMenuMouseEvent(null,c.touchEvent,_,C)}),this.addDestroyFunc(function(){return s.destroy()})}},o.prototype.getRowForEvent=function(r){for(var s=ir(r);s;){var u=this.gridOptionsWrapper.getDomData(s,Ha.DOM_DATA_KEY_ROW_CTRL);if(u)return u;s=s.parentElement}return null},o.prototype.handleContextMenuMouseEvent=function(r,s,u,c){var _=u?u.getRowNode():null,C=c?c.getColumn():null,A=null;C&&(c.dispatchCellContextMenuEvent(r||s),A=this.valueService.getValue(C,_));var k=this.ctrlsService.getGridBodyCtrl(),W=c?c.getGui():k.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(r,s,_,C,A,W)},o.prototype.processKeyboardEvent=function(r,s){var u=vr(this.gridOptionsWrapper,s,Bn.DOM_DATA_KEY_CELL_CTRL),c=vr(this.gridOptionsWrapper,s,Ha.DOM_DATA_KEY_ROW_CTRL);s.defaultPrevented||(u?this.processCellKeyboardEvent(u,r,s):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,r,s))},o.prototype.processCellKeyboardEvent=function(r,s,u){var c=r.getRowNode(),_=r.getColumn(),C=r.isEditing();if(!lo(this.gridOptionsWrapper,u,c,_,C))switch(s){case"keydown":!C&&this.navigationService.handlePageScrollingKey(u)||r.onKeyDown(u),this.doGridOperations(u,r.isEditing());break;case"keypress":r.onKeyPress(u)}if("keydown"===s){var k=r.createEvent(u,ae.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(k)}if("keypress"===s){var W=r.createEvent(u,ae.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(W)}},o.prototype.processFullWidthRowKeyboardEvent=function(r,s,u){var c=r.getRowNode(),_=this.focusService.getFocusedCell();if(!lo(this.gridOptionsWrapper,u,c,_&&_.column,!1)&&"keydown"===s)switch(u.keyCode){case at.UP:case at.DOWN:r.onKeyboardNavigate(u);break;case at.TAB:r.onTabKeyDown(u)}if("keydown"===s){var k=r.createRowEvent(ae.EVENT_CELL_KEY_DOWN,u);this.eventService.dispatchEvent(k)}if("keypress"===s){var W=r.createRowEvent(ae.EVENT_CELL_KEY_PRESS,u);this.eventService.dispatchEvent(W)}},o.prototype.doGridOperations=function(r,s){if((r.ctrlKey||r.metaKey)&&!s&&this.mouseEventService.isEventFromThisGrid(r))switch(r.which){case at.A:return this.onCtrlAndA(r);case at.C:return this.onCtrlAndC(r);case at.V:return this.onCtrlAndV();case at.D:return this.onCtrlAndD(r);case at.Z:return r.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case at.Y:return this.undoRedoService.redo()}},o.prototype.onCtrlAndA=function(r){var s=this,u=s.pinnedRowModel,_=s.rangeService,C=Ee.PINNED_BOTTOM,A=Ee.PINNED_TOP;if(_&&s.paginationProxy.isRowsToRender()){var x=[u.isEmpty(A),u.isEmpty(C)],ee=x[0]?null:A,le=void 0,ce=void 0;x[1]?(le=null,ce=this.paginationProxy.getRowCount()-1):(le=C,ce=u.getPinnedBottomRowData().length-1);var Me=this.columnModel.getAllDisplayedColumns();if(Re(Me))return;_.setCellRange({rowStartIndex:0,rowStartPinned:ee,rowEndIndex:ce,rowEndPinned:le,columnStart:Me[0],columnEnd:ke(Me)})}r.preventDefault()},o.prototype.onCtrlAndC=function(r){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),r.preventDefault())},o.prototype.onCtrlAndV=function(){Gt.isRegistered(q.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(r){Gt.isRegistered(q.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),r.preventDefault()},ms([Y("mouseEventService")],o.prototype,"mouseEventService",void 0),ms([Y("valueService")],o.prototype,"valueService",void 0),ms([Tt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),ms([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),ms([Y("navigationService")],o.prototype,"navigationService",void 0),ms([Y("focusService")],o.prototype,"focusService",void 0),ms([Y("undoRedoService")],o.prototype,"undoRedoService",void 0),ms([Y("columnModel")],o.prototype,"columnModel",void 0),ms([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),ms([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ms([Tt("rangeService")],o.prototype,"rangeService",void 0),ms([Tt("clipboardService")],o.prototype,"clipboardService",void 0),ms([se],o.prototype,"postConstruct",null),o}(ot),Tm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),_y=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},yy=function(d){function o(r){var s=d.call(this)||this;return s.centerContainerCon=r,s}return Tm(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCon=r.ctrlsService.getGridBodyCtrl(),r.listenForResize()}),this.addManagedListener(this.eventService,ae.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},o.prototype.listenForResize=function(){var r=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(r),this.gridBodyCon.registerBodyViewportResizeListener(r)},o.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},o.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var r=this.centerContainerCon.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.checkBodyHeight=function(){var s=xa(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==s&&(this.bodyHeight=s,this.eventService.dispatchEvent({type:ae.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r),this.gridBodyCon.setVerticalScrollPaddingVisible(r.verticalScrollShowing)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},o.prototype.onHorizontalViewportChanged=function(){var r=this.centerContainerCon.getCenterWidth(),s=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(r,s)},_y([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),_y([Y("columnModel")],o.prototype,"columnModel",void 0),_y([Y("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),_y([Y("columnApi")],o.prototype,"columnApi",void 0),_y([Y("gridApi")],o.prototype,"gridApi",void 0),_y([se],o.prototype,"postConstruct",null),o}(ot),gT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$E=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},mT=function(d){function o(r){var s=d.call(this)||this;return s.element=r,s}return gT(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},o.prototype.onPinnedLeftWidthChanged=function(){var r=this.pinnedWidthService.getPinnedLeftWidth(),s=r>0;di(this.element,s),s&&Pi(this.element,r)},$E([Y("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),$E([se],o.prototype,"postConstruct",null),o}(ot),_T=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),YE=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},nu=function(d){function o(r){var s=d.call(this)||this;return s.element=r,s}return _T(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},o.prototype.onPinnedRightWidthChanged=function(){var r=this.pinnedWidthService.getPinnedRightWidth(),s=r>0;di(this.element,s),s&&Pi(this.element,r)},YE([Y("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),YE([se],o.prototype,"postConstruct",null),o}(ot),Cx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),qE=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},aN=function(d){function o(r,s){var u=d.call(this)||this;return u.eContainer=r,u.eWrapper=s,u}return Cx(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},o.prototype.onHeightChanged=function(){var r=this.maxDivHeightScaler.getUiContainerHeight(),s=null!=r?r+"px":"";this.eContainer.style.height=s,this.eWrapper&&(this.eWrapper.style.height=s)},qE([Y("rowContainerHeightService")],o.prototype,"maxDivHeightScaler",void 0),qE([se],o.prototype,"postConstruct",null),o}(ot),lN=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),LC=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},uN=function(d){function o(r){var s=d.call(this)||this;return s.eContainer=r,s}return lN(o,d),o.prototype.postConstruct=function(){var r=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!Z(this.rangeService)){var s={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(s),this.addDestroyFunc(function(){return r.dragService.removeDragSource(s)})}},LC([Tt("rangeService")],o.prototype,"rangeService",void 0),LC([Y("dragService")],o.prototype,"dragService",void 0),LC([se],o.prototype,"postConstruct",null),o}(ot),wx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Vu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.LEFT="left",d.RIGHT="right",d.CENTER="center",d.FULL_WIDTH="fullWidth",d.TOP_LEFT="topLeft",d.TOP_RIGHT="topRight",d.TOP_CENTER="topCenter",d.TOP_FULL_WITH="topFullWidth",d.BOTTOM_LEFT="bottomLeft",d.BOTTOM_RIGHT="bottomRight",d.BOTTOM_CENTER="bottomCenter",d.BOTTOM_FULL_WITH="bottomFullWidth"}(q.hA6||(q.hA6={}));var GC=ko([[q.hA6.CENTER,"ag-center-cols-container"],[q.hA6.LEFT,"ag-pinned-left-cols-container"],[q.hA6.RIGHT,"ag-pinned-right-cols-container"],[q.hA6.FULL_WIDTH,"ag-full-width-container"],[q.hA6.TOP_CENTER,"ag-floating-top-container"],[q.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[q.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[q.hA6.TOP_FULL_WITH,"ag-floating-top-full-width-container"],[q.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[q.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[q.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[q.hA6.BOTTOM_FULL_WITH,"ag-floating-bottom-full-width-container"]]),BC=ko([[q.hA6.CENTER,"ag-center-cols-viewport"],[q.hA6.TOP_CENTER,"ag-floating-top-viewport"],[q.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),VC=ko([[q.hA6.CENTER,"ag-center-cols-clipper"]]),Gp=function(d){function o(r){var s=d.call(this)||this;return s.name=r,s}return wx(o,d),o.getRowContainerCssClasses=function(r){return{container:GC.get(r),viewport:BC.get(r),wrapper:VC.get(r)}},o.getPinned=function(r){switch(r){case q.hA6.BOTTOM_LEFT:case q.hA6.TOP_LEFT:case q.hA6.LEFT:return Ee.PINNED_LEFT;case q.hA6.BOTTOM_RIGHT:case q.hA6.TOP_RIGHT:case q.hA6.RIGHT:return Ee.PINNED_RIGHT;default:return null}},o.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([q.hA6.CENTER],function(){return r.viewportSizeFeature=r.createManagedBean(new yy(r))}),this.registerWithCtrlsService()},o.prototype.registerWithCtrlsService=function(){switch(this.name){case q.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case q.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case q.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case q.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case q.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case q.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case q.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case q.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case q.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},o.prototype.forContainers=function(r,s){r.indexOf(this.name)>=0&&s()},o.prototype.getContainerElement=function(){return this.eContainer},o.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},o.prototype.setComp=function(r,s,u,c){var _=this;this.comp=r,this.eContainer=s,this.eViewport=u,this.eWrapper=c,this.createManagedBean(new kC(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var k=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}([q.hA6.TOP_CENTER,q.hA6.TOP_LEFT,q.hA6.TOP_RIGHT],[q.hA6.BOTTOM_CENTER,q.hA6.BOTTOM_LEFT,q.hA6.BOTTOM_RIGHT],[q.hA6.CENTER,q.hA6.LEFT,q.hA6.RIGHT]),W=[q.hA6.CENTER,q.hA6.LEFT,q.hA6.RIGHT,q.hA6.FULL_WIDTH],ee=[q.hA6.CENTER,q.hA6.TOP_CENTER,q.hA6.BOTTOM_CENTER],ce=[q.hA6.RIGHT,q.hA6.BOTTOM_RIGHT,q.hA6.TOP_RIGHT];this.forContainers([q.hA6.LEFT,q.hA6.BOTTOM_LEFT,q.hA6.TOP_LEFT],function(){return _.createManagedBean(new mT(_.eContainer))}),this.forContainers(ce,function(){return _.createManagedBean(new nu(_.eContainer))}),this.forContainers(W,function(){return _.createManagedBean(new aN(_.eContainer,_.eWrapper))}),this.forContainers(k,function(){return _.createManagedBean(new uN(_.eContainer))}),this.forContainers(ee,function(){return _.createManagedBean(new Ao(function(Me){return _.comp.setContainerWidth(Me+"px")}))})},o.prototype.listenOnDomOrder=function(){var r=this,s=function(){return r.comp.setDomOrder(r.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,s),s()},o.prototype.stopHScrollOnPinnedRows=function(){var r=this;this.forContainers([q.hA6.TOP_CENTER,q.hA6.BOTTOM_CENTER],function(){r.addManagedListener(r.eViewport,"scroll",function(){return r.eViewport.scrollLeft=0})})},o.prototype.onDisplayedColumnsChanged=function(){var r=this;this.forContainers([q.hA6.CENTER],function(){return r.onHorizontalViewportChanged()})},o.prototype.onDisplayedColumnsWidthChanged=function(){var r=this;this.forContainers([q.hA6.CENTER],function(){return r.onHorizontalViewportChanged()})},o.prototype.onScrollVisibilityChanged=function(){if(this.name===q.hA6.CENTER){var s=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==s?"100%":"calc(100% + "+s+"px)")}},o.prototype.addPreventScrollWhileDragging=function(){var r=this,s=function(u){r.dragService.isDragging()&&u.cancelable&&u.preventDefault()};this.eContainer.addEventListener("touchmove",s,{passive:!1}),this.addDestroyFunc(function(){return r.eContainer.removeEventListener("touchmove",s)})},o.prototype.onHorizontalViewportChanged=function(){var r=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,s)},o.prototype.getCenterWidth=function(){return Ki(this.eViewport)},o.prototype.getCenterViewportScrollLeft=function(){return Ir(this.eViewport,this.enableRtl)},o.prototype.registerViewportResizeListener=function(r){var s=this.resizeObserverService.observeResize(this.eViewport,r);this.addDestroyFunc(function(){return s()})},o.prototype.isViewportVisible=function(){return Oa(this.eViewport)},o.prototype.isViewportHScrollShowing=function(){return ra(this.eViewport)},o.prototype.getViewportScrollLeft=function(){return Ir(this.eViewport,this.enableRtl)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||ra(this.eViewport)},o.prototype.getViewportElement=function(){return this.eViewport},o.prototype.setContainerTranslateX=function(r){this.eContainer.style.transform="translateX("+r+"px)"},o.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},o.prototype.setCenterViewportScrollLeft=function(r){yc(this.eViewport,r,this.enableRtl)},o.prototype.onDisplayedRowsChanged=function(){var r=this,s=this.name===q.hA6.TOP_FULL_WITH||this.name===q.hA6.BOTTOM_FULL_WITH||this.name===q.hA6.FULL_WIDTH,_=this.getRowCtrls().filter(function(C){var A=C.isFullWidth(),x=r.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT,k=r.embedFullWidthRows||x;return s?!k&&A:k||!A});this.comp.setRowCtrls(_)},o.prototype.getRowCtrls=function(){switch(this.name){case q.hA6.TOP_CENTER:case q.hA6.TOP_LEFT:case q.hA6.TOP_RIGHT:case q.hA6.TOP_FULL_WITH:return this.rowRenderer.getTopRowCtrls();case q.hA6.BOTTOM_CENTER:case q.hA6.BOTTOM_LEFT:case q.hA6.BOTTOM_RIGHT:case q.hA6.BOTTOM_FULL_WITH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Vu([Y("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Vu([Y("dragService")],o.prototype,"dragService",void 0),Vu([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Vu([Y("columnModel")],o.prototype,"columnModel",void 0),Vu([Y("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Vu([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),Vu([se],o.prototype,"postConstruct",null),o}(ot),HC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),kc=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},UC='<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="gridHeader" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <ag-row-container ref="topLeftContainer" name="'+q.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+q.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+q.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+q.hA6.TOP_FULL_WITH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+q.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+q.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+q.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+q.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <ag-row-container ref="bottomLeftContainer" name="'+q.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+q.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+q.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+q.hA6.BOTTOM_FULL_WITH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Bp=function(d){function o(){return d.call(this,UC)||this}return HC(o,d),o.prototype.init=function(){var r=this,s=function(c,_){var C=c+"px";_.style.minHeight=C,_.style.height=C},u={setRowAnimationCssOnBodyViewport:function(c,_){return r.setRowAnimationCssOnBodyViewport(c,_)},setColumnCount:function(c){return pp(r.getGui(),c)},setRowCount:function(c){return dp(r.getGui(),c)},setTopHeight:function(c){return s(c,r.eTop)},setBottomHeight:function(c){return s(c,r.eBottom)},setTopDisplay:function(c){return r.eTop.style.display=c},setBottomDisplay:function(c){return r.eBottom.style.display=c},setColumnMovingCss:function(c,_){return r.addOrRemoveCssClass(my,_)},updateLayoutClasses:function(c,_){vt(r.eBodyViewport,q.LBn.AUTO_HEIGHT,_.autoHeight),vt(r.eBodyViewport,q.LBn.NORMAL,_.normal),vt(r.eBodyViewport,q.LBn.PRINT,_.print),r.addOrRemoveCssClass(q.LBn.AUTO_HEIGHT,_.autoHeight),r.addOrRemoveCssClass(q.LBn.NORMAL,_.normal),r.addOrRemoveCssClass(q.LBn.PRINT,_.print)},setAlwaysVerticalScrollClass:function(c,_){return vt(r.eBodyViewport,jE,_)},registerBodyViewportResizeListener:function(c){var _=r.resizeObserverService.observeResize(r.eBodyViewport,c);r.addDestroyFunc(function(){return _()})},setPinnedTopBottomOverflowY:function(c){return r.eTop.style.overflowY=r.eBottom.style.overflowY=c},setCellSelectableCss:function(c,_){[r.eTop,r.eBodyViewport,r.eBottom].forEach(function(C){return vt(C,Sm,_)})}};this.ctrl=this.createManagedBean(new Dm),this.ctrl.setComp(u,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&q_(this.getGui(),!0)},o.prototype.setRowAnimationCssOnBodyViewport=function(r,s){vt(this.eBodyViewport,q.SJN.ANIMATION_ON,s),vt(this.eBodyViewport,q.SJN.ANIMATION_OFF,!s)},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},kc([Y("resizeObserverService")],o.prototype,"resizeObserverService",void 0),kc([Tt("rangeService")],o.prototype,"rangeService",void 0),kc([Ke("eBodyViewport")],o.prototype,"eBodyViewport",void 0),kc([Ke("eTop")],o.prototype,"eTop",void 0),kc([Ke("eBottom")],o.prototype,"eBottom",void 0),kc([Ke("gridHeader")],o.prototype,"headerRootComp",void 0),kc([se],o.prototype,"init",null),o}(Sn);!function(d){d[d.SINGLE_SHEET=0]="SINGLE_SHEET",d[d.MULTI_SHEET=1]="MULTI_SHEET"}(q.nPL||(q.nPL={})),function(d){d.EVERYTHING="group",d.FILTER="filter",d.SORT="sort",d.MAP="map",d.AGGREGATE="aggregate",d.PIVOT="pivot",d.NOTHING="nothing"}(q.j_r||(q.j_r={}));var li=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},bh=function(){function d(){this.detailGridInfoMap={},this.destroyCalled=!1}return d.prototype.registerOverlayWrapperComp=function(o){this.overlayWrapperComp=o},d.prototype.registerSideBarComp=function(o){this.sideBarComp=o},d.prototype.init=function(){var o=this;switch(this.rowModel.getType()){case Ee.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Ee.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Ee.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},d.prototype.__getAlignedGridService=function(){return this.alignedGridsService},d.prototype.addDetailGridInfo=function(o,r){this.detailGridInfoMap[o]=r},d.prototype.removeDetailGridInfo=function(o){this.detailGridInfoMap[o]=void 0},d.prototype.getDetailGridInfo=function(o){return this.detailGridInfoMap[o]},d.prototype.forEachDetailGridInfo=function(o){var r=0;rn(this.detailGridInfoMap,function(s,u){Q(u)&&(o(u,r),r++)})},d.prototype.getDataAsCsv=function(o){if(Gt.assertRegistered(q.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(o)},d.prototype.exportDataAsCsv=function(o){Gt.assertRegistered(q.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(o)},d.prototype.getDataAsExcel=function(o){if(Gt.assertRegistered(q.GXE.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getFactoryMode(o&&o.exportMode||"xlsx")===q.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(o)},d.prototype.exportDataAsExcel=function(o){if(Gt.assertRegistered(q.GXE.ExcelExportModule,"api.exportDataAsExcel")){if(this.excelCreator.getFactoryMode(o&&o.exportMode||"xlsx")===q.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(o)}},d.prototype.getSheetDataForExcel=function(o){if(Gt.assertRegistered(q.GXE.ExcelExportModule,"api.getSheetDataForExcel"))return this.excelCreator.setFactoryMode(q.nPL.MULTI_SHEET,o&&o.exportMode||"xlsx"),this.excelCreator.getSheetDataForExcel(o)},d.prototype.getMultipleSheetsAsExcel=function(o){if(Gt.assertRegistered(q.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(o)},d.prototype.exportMultipleSheetsAsExcel=function(o){if(Gt.assertRegistered(q.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(o)},d.prototype.setEnterpriseDatasource=function(o){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(o)},d.prototype.setGridAriaProperty=function(o,r){if(o){var s=this.ctrlsService.getGridBodyCtrl().getGui(),u="aria-"+o;null===r?s.removeAttribute(u):s.setAttribute(u,r)}},d.prototype.setServerSideDatasource=function(o){this.serverSideRowModel?this.serverSideRowModel.setDatasource(o):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Ee.ROW_MODEL_TYPE_SERVER_SIDE+"'")},d.prototype.setDatasource=function(o){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(o):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+Ee.ROW_MODEL_TYPE_INFINITE+"'")},d.prototype.setViewportDatasource=function(o){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(o):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Ee.ROW_MODEL_TYPE_VIEWPORT+"'")},d.prototype.setRowData=function(o){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var r=this.immutableService.createTransactionForRowData(o);if(!r)return;var c=this.clientSideRowModel.updateRowData(r[0],r[1]);c&&this.rowRenderer.refreshFullWidthRows(c.update)}else this.selectionService.reset(),this.clientSideRowModel.setRowData(o);else console.warn("cannot call setRowData unless using normal row model")},d.prototype.setFloatingTopRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(o)},d.prototype.setFloatingBottomRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(o)},d.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},d.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},d.prototype.getFloatingTopRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(o)},d.prototype.getFloatingBottomRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(o)},d.prototype.setPinnedTopRowData=function(o){this.pinnedRowModel.setPinnedTopRowData(o)},d.prototype.setPinnedBottomRowData=function(o){this.pinnedRowModel.setPinnedBottomRowData(o)},d.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},d.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},d.prototype.getPinnedTopRow=function(o){return this.pinnedRowModel.getPinnedTopRow(o)},d.prototype.getPinnedBottomRow=function(o){return this.pinnedRowModel.getPinnedBottomRow(o)},d.prototype.setColumnDefs=function(o,r){void 0===r&&(r="api"),this.columnModel.setColumnDefs(o,r)},d.prototype.setAutoGroupColumnDef=function(o,r){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",o,!0)},d.prototype.expireValueCache=function(){this.valueCache.expire()},d.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},d.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},d.prototype.setAlwaysShowHorizontalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",o)},d.prototype.setAlwaysShowVerticalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",o)},d.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},d.prototype.refreshCells=function(o){void 0===o&&(o={}),Array.isArray(o)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(o)},d.prototype.flashCells=function(o){void 0===o&&(o={}),this.rowRenderer.flashCells(o)},d.prototype.redrawRows=function(o){void 0===o&&(o={}),this.rowRenderer.redrawRows(o?o.rowNodes:void 0)},d.prototype.refreshView=function(){console.warn("AG Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},d.prototype.refreshRows=function(o){console.warn("since AG Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:o})},d.prototype.rowDataChanged=function(o){console.warn("AG Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},d.prototype.softRefreshView=function(){console.error("AG Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},d.prototype.refreshGroupRows=function(){console.warn("AG Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},d.prototype.setFunctionsReadOnly=function(o){this.gridOptionsWrapper.setProperty("functionsReadOnly",o)},d.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){return o.refresh()})},d.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},d.prototype.isAdvancedFilterPresent=function(){return console.warn("AG Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},d.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},d.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},d.prototype.getModel=function(){return this.rowModel},d.prototype.setRowNodeExpanded=function(o,r){o&&o.setExpanded(r)},d.prototype.onGroupExpandedOrCollapsed=function(o){Z(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),Q(o)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:q.j_r.MAP})},d.prototype.refreshInMemoryRowModel=function(o){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(o)},d.prototype.refreshClientSideRowModel=function(o){Z(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var r=q.j_r.EVERYTHING,s={group:q.j_r.EVERYTHING,filter:q.j_r.FILTER,map:q.j_r.MAP,aggregate:q.j_r.AGGREGATE,sort:q.j_r.SORT,pivot:q.j_r.PIVOT};Q(o)&&(r=s[o]),Z(r)?console.error("AG Grid: invalid step "+o+", available steps are "+Object.keys(s).join(", ")):this.clientSideRowModel.refreshModel({step:r,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},d.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},d.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},d.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},d.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},d.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},d.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},d.prototype.getToolPanelInstance=function(o){if(this.sideBarComp){var r=this.sideBarComp.getToolPanelInstance(o);return this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(r):r}console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},d.prototype.addVirtualRowListener=function(o,r,s){"string"!=typeof o&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(o,r,s)},d.prototype.addRenderedRowListener=function(o,r,s){"virtualRowSelected"===o&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(o,r,s)},d.prototype.setQuickFilter=function(o){this.filterManager.setQuickFilter(o)},d.prototype.selectIndex=function(o,r,s){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(o,r)},d.prototype.deselectIndex=function(o,r){void 0===r&&(r=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(o)},d.prototype.selectNode=function(o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!0,clearSelection:!r})},d.prototype.deselectNode=function(o,r){void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!1})},d.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},d.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},d.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},d.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},d.prototype.recomputeAggregates=function(){Z(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:q.j_r.AGGREGATE})},d.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},d.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},d.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},d.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},d.prototype.isNodeSelected=function(o){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),o.isSelected()},d.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},d.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},d.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},d.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},d.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},d.prototype.ensureColIndexVisible=function(o){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},d.prototype.ensureColumnVisible=function(o){this.gridBodyCon.getScrollFeature().ensureColumnVisible(o)},d.prototype.ensureIndexVisible=function(o,r){this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,r)},d.prototype.ensureNodeVisible=function(o,r){void 0===r&&(r=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(o,r)},d.prototype.forEachLeafNode=function(o){Z(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(o)},d.prototype.forEachNode=function(o){this.rowModel.forEachNode(o)},d.prototype.forEachNodeAfterFilter=function(o){Z(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(o)},d.prototype.forEachNodeAfterFilterAndSort=function(o){Z(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(o)},d.prototype.getFilterApiForColDef=function(o){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(o)},d.prototype.getFilterInstance=function(o,r){var s=this,u=this.columnModel.getPrimaryColumn(o);if(u){var c=this.filterManager.getFilterComponent(u,"NO_UI"),_=c&&c.resolveNow(null,function(A){return A}),C=this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(_):_;return r&&(C?setTimeout(r,0,C):c&&c.then(function(A){var x=s.frameworkComponentWrapper?s.frameworkComponentWrapper.unwrap(A):A;r(x)})),C}},d.prototype.getFilterApi=function(o){return console.warn("AG Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(o)},d.prototype.destroyFilter=function(o){var r=this.columnModel.getPrimaryColumn(o);if(r)return this.filterManager.destroyFilter(r,"filterDestroyed")},d.prototype.getStatusPanel=function(o){if(this.statusBarService){var r=this.statusBarService.getStatusPanel(o);return this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(r):r}},d.prototype.getColumnDef=function(o){var r=this.columnModel.getPrimaryColumn(o);return r?r.getColDef():null},d.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},d.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},d.prototype.onSortChanged=function(){this.sortController.onSortChanged()},d.prototype.setSortModel=function(o,r){console.warn("AG Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var s=[];o&&o.forEach(function(u,c){s.push({colId:u.colId,sort:u.sort,sortIndex:c})}),this.columnModel.applyColumnState({state:s,defaultState:{sort:null}})},d.prototype.getSortModel=function(){console.warn("AG Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var r=this.columnModel.getColumnState().filter(function(c){return null!=c.sort}),s={};r.forEach(function(c){s[c.colId]=c.sortIndex});var u=r.map(function(c){return{colId:c.colId,sort:c.sort}});return u.sort(function(c,_){return s[c.colId]-s[_.colId]}),u},d.prototype.setFilterModel=function(o){this.filterManager.setFilterModel(o)},d.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},d.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},d.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},d.prototype.setFocusedCell=function(o,r,s){this.focusService.setFocusedCell(o,r,s,!0)},d.prototype.setSuppressRowDrag=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_SUPPRESS_ROW_DRAG,o)},d.prototype.setSuppressMoveWhenRowDragging=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,o)},d.prototype.setSuppressRowClickSelection=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_SUPPRESS_ROW_CLICK_SELECTION,o)},d.prototype.addRowDropZone=function(o){this.gridBodyCon.getRowDragFeature().addRowDropZone(o)},d.prototype.removeRowDropZone=function(o){var r=this.dragAndDropService.findExternalZone(o);r&&this.dragAndDropService.removeDropTarget(r)},d.prototype.getRowDropZoneParams=function(o){return this.gridBodyCon.getRowDragFeature().getRowDropZone(o)},d.prototype.setHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_HEADER_HEIGHT,o)},d.prototype.setDomLayout=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_DOM_LAYOUT,o)},d.prototype.setEnableCellTextSelection=function(o){this.gridBodyCon.setCellTextSelection(o)},d.prototype.setFillHandleDirection=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_FILL_HANDLE_DIRECTION,o)},d.prototype.setGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GROUP_HEADER_HEIGHT,o)},d.prototype.setFloatingFiltersHeight=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_FLOATING_FILTERS_HEIGHT,o)},d.prototype.setPivotGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PIVOT_GROUP_HEADER_HEIGHT,o)},d.prototype.setIsExternalFilterPresent=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_EXTERNAL_FILTER_PRESENT,o)},d.prototype.setDoesExternalFilterPass=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_DOES_EXTERNAL_FILTER_PASS,o)},d.prototype.setNavigateToNextCell=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_NAVIGATE_TO_NEXT_CELL,o)},d.prototype.setTabToNextCell=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_TAB_TO_NEXT_CELL,o)},d.prototype.setTabToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_TAB_TO_NEXT_HEADER,o)},d.prototype.setNavigateToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_NAVIGATE_TO_NEXT_HEADER,o)},d.prototype.setGroupRowAggNodes=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GROUP_ROW_AGG_NODES,o)},d.prototype.setGetBusinessKeyForNode=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_BUSINESS_KEY_FOR_NODE,o)},d.prototype.setGetChildCount=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_CHILD_COUNT,o)},d.prototype.setProcessRowPostCreate=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PROCESS_ROW_POST_CREATE,o)},d.prototype.setGetRowNodeId=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_ROW_NODE_ID,o)},d.prototype.setGetRowClass=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_ROW_CLASS,o)},d.prototype.setIsFullWidthCell=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_FULL_WIDTH_CELL,o)},d.prototype.setIsRowSelectable=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_ROW_SELECTABLE,o)},d.prototype.setIsRowMaster=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_ROW_MASTER,o)},d.prototype.setPostSort=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_POST_SORT,o)},d.prototype.setGetDocument=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_DOCUMENT,o)},d.prototype.setGetContextMenuItems=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_CONTEXT_MENU_ITEMS,o)},d.prototype.setGetMainMenuItems=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_MAIN_MENU_ITEMS,o)},d.prototype.setProcessCellForClipboard=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PROCESS_CELL_FOR_CLIPBOARD,o)},d.prototype.setSendToClipboard=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_SEND_TO_CLIPBOARD,o)},d.prototype.setProcessCellFromClipboard=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PROCESS_CELL_FROM_CLIPBOARD,o)},d.prototype.setProcessSecondaryColDef=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PROCESS_TO_SECONDARY_COLDEF,o)},d.prototype.setProcessSecondaryColGroupDef=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,o)},d.prototype.setPostProcessPopup=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_POST_PROCESS_POPUP,o)},d.prototype.setDefaultGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,o)},d.prototype.setGetChartToolbarItems=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_CHART_TOOLBAR_ITEMS,o)},d.prototype.setPaginationNumberFormatter=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PAGINATION_NUMBER_FORMATTER,o)},d.prototype.setGetServerSideStoreParams=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_SERVER_SIDE_STORE_PARAMS,o)},d.prototype.setIsServerSideGroupOpenByDefault=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,o)},d.prototype.setIsApplyServerSideTransaction=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,o)},d.prototype.setIsServerSideGroup=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_IS_SERVER_SIDE_GROUP,o)},d.prototype.setGetServerSideGroupKey=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_SERVER_SIDE_GROUP_KEY,o)},d.prototype.setGetRowStyle=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_ROW_STYLE,o)},d.prototype.setGetRowHeight=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GET_ROW_HEIGHT,o)},d.prototype.setPivotHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_PIVOT_HEADER_HEIGHT,o)},d.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},d.prototype.setSideBarVisible=function(o){this.sideBarComp?this.sideBarComp.setDisplayed(o):o&&console.warn("AG Grid: sideBar is not loaded")},d.prototype.setSideBarPosition=function(o){this.sideBarComp?this.sideBarComp.setSideBarPosition(o):console.warn("AG Grid: sideBar is not loaded")},d.prototype.openToolPanel=function(o){this.sideBarComp?this.sideBarComp.openToolPanel(o):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},d.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},d.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},d.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},d.prototype.setSideBar=function(o){this.gridOptionsWrapper.setProperty("sideBar",dE.parse(o))},d.prototype.setSuppressClipboardPaste=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_SUPPRESS_CLIPBOARD_PASTE,o)},d.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},d.prototype.doLayout=function(){Jt(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},d.prototype.resetRowHeights=function(){Q(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},d.prototype.setGroupRemoveSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o)},d.prototype.setGroupRemoveLowestSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o)},d.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},d.prototype.getValue=function(o,r){var s=this.columnModel.getPrimaryColumn(o);return Z(s)&&(s=this.columnModel.getGridColumn(o)),Z(s)?null:this.valueService.getValue(s,r)},d.prototype.addEventListener=function(o,r){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(o,r,s)},d.prototype.addGlobalListener=function(o){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(o,r)},d.prototype.removeEventListener=function(o,r){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(o,r,s)},d.prototype.removeGlobalListener=function(o){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(o,r)},d.prototype.dispatchEvent=function(o){this.eventService.dispatchEvent(o)},d.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var o=this.ctrlsService.getGridCtrl();o&&o.destroyGridUi(),this.context.destroy()}},d.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Lr.bind(window,this,"Grid API"),100)},d.prototype.warnIfDestroyed=function(o){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+o+" was called on a grid that was destroyed."),this.destroyCalled},d.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(o){return o.quickFilterAggregateText=null})},d.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},d.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},d.prototype.camelCaseToHumanReadable=function(o){return ip(o)},d.prototype.addRangeSelection=function(o){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},d.prototype.addCellRange=function(o){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(o)},d.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},d.prototype.undoCellEditing=function(){this.undoRedoService.undo()},d.prototype.redoCellEditing=function(){this.undoRedoService.redo()},d.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},d.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},d.prototype.getChartModels=function(){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.getChartModels")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},d.prototype.getChartRef=function(o){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.getChartRef")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(o)},d.prototype.getChartImageDataURL=function(o){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(o)},d.prototype.createRangeChart=function(o){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.createRangeChart")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(o)},d.prototype.createCrossFilterChart=function(o){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(o)},d.prototype.restoreChart=function(o,r){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.restoreChart")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(o,r)},d.prototype.createPivotChart=function(o){if(Gt.assertRegistered(q.GXE.RangeSelectionModule,"api.createPivotChart")&&Gt.assertRegistered(q.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(o)},d.prototype.copySelectedRowsToClipboard=function(o,r){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(o,r)},d.prototype.copySelectedRangeToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(o)},d.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},d.prototype.showColumnMenuAfterButtonClick=function(o,r){var s=this.columnModel.getGridColumn(o);this.menuFactory.showMenuAfterButtonClick(s,r,"columnMenu")},d.prototype.showColumnMenuAfterMouseClick=function(o,r){var s=this.columnModel.getGridColumn(o);s||(s=this.columnModel.getPrimaryColumn(o)),s?this.menuFactory.showMenuAfterMouseEvent(s,r):console.error("AG Grid: column '"+o+"' not found")},d.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},d.prototype.setPopupParent=function(o){this.gridOptionsWrapper.setProperty(Nt.PROP_POPUP_PARENT,o)},d.prototype.tabToNextCell=function(){return this.navigationService.tabToNextCell(!1)},d.prototype.tabToPreviousCell=function(){return this.navigationService.tabToNextCell(!0)},d.prototype.getCellRendererInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellRendererInstances(o)},d.prototype.getCellEditorInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellEditorInstances(o)},d.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},d.prototype.stopEditing=function(o){void 0===o&&(o=!1),this.rowRenderer.stopEditing(o)},d.prototype.startEditingCell=function(o){var r=this.columnModel.getGridColumn(o.colKey);if(r){var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:r};null==o.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o.rowIndex);var c=this.navigationService.getCellByPosition(s);!c||c.startRowOrCellEdit(o.keyPress,o.charPress)}else console.warn("AG Grid: no column found for "+o.colKey)},d.prototype.addAggFunc=function(o,r){this.aggFuncService&&this.aggFuncService.addAggFunc(o,r)},d.prototype.addAggFuncs=function(o){this.aggFuncService&&this.aggFuncService.addAggFuncs(o)},d.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},d.prototype.applyServerSideTransaction=function(o){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(o);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},d.prototype.applyServerSideTransactionAsync=function(o,r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(o,r);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},d.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},d.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},d.prototype.applyTransaction=function(o){if(this.clientSideRowModel){var r=this.clientSideRowModel.updateRowData(o);return this.rowRenderer.refreshFullWidthRows(r.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),r}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},d.prototype.updateRowData=function(o){return Jt(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(o)},d.prototype.applyTransactionAsync=function(o,r){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(o,r):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},d.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},d.prototype.batchUpdateRowData=function(o,r){Jt(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(o,r)},d.prototype.insertItemsAtIndex=function(o,r,s){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:r,addIndex:o,update:null,remove:null})},d.prototype.removeItems=function(o,r){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var s=o.map(function(u){return u.data});this.updateRowData({add:null,addIndex:null,update:null,remove:s})},d.prototype.addItems=function(o,r){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:null,update:null,remove:null})},d.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},d.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},d.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},d.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},d.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},d.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},d.prototype.purgeEnterpriseCache=function(o){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(o)},d.prototype.purgeServerSideCache=function(o){void 0===o&&(o=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:o,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},d.prototype.refreshServerSideStore=function(o){this.serverSideRowModel?this.serverSideRowModel.refreshStore(o):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},d.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},d.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},d.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},d.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},d.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},d.prototype.setVirtualRowCount=function(o,r){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(o,r)},d.prototype.setInfiniteRowCount=function(o,r){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(o,r)},d.prototype.setRowCount=function(o,r){this.infiniteRowModel?this.infiniteRowModel.setRowCount(o,r):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},d.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},d.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},d.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},d.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},d.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},d.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},d.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},d.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},d.prototype.getDisplayedRowAtIndex=function(o){return this.rowModel.getRow(o)},d.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},d.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},d.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},d.prototype.paginationSetPageSize=function(o){this.gridOptionsWrapper.setProperty("paginationPageSize",o)},d.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},d.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},d.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},d.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},d.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},d.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},d.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},d.prototype.paginationGoToPage=function(o){this.paginationProxy.goToPage(o)},li([Tt("immutableService")],d.prototype,"immutableService",void 0),li([Tt("csvCreator")],d.prototype,"csvCreator",void 0),li([Tt("excelCreator")],d.prototype,"excelCreator",void 0),li([Y("rowRenderer")],d.prototype,"rowRenderer",void 0),li([Y("navigationService")],d.prototype,"navigationService",void 0),li([Y("filterManager")],d.prototype,"filterManager",void 0),li([Y("columnModel")],d.prototype,"columnModel",void 0),li([Y("selectionService")],d.prototype,"selectionService",void 0),li([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),li([Y("valueService")],d.prototype,"valueService",void 0),li([Y("alignedGridsService")],d.prototype,"alignedGridsService",void 0),li([Y("eventService")],d.prototype,"eventService",void 0),li([Y("pinnedRowModel")],d.prototype,"pinnedRowModel",void 0),li([Y("context")],d.prototype,"context",void 0),li([Y("rowModel")],d.prototype,"rowModel",void 0),li([Y("sortController")],d.prototype,"sortController",void 0),li([Y("paginationProxy")],d.prototype,"paginationProxy",void 0),li([Y("focusService")],d.prototype,"focusService",void 0),li([Y("dragAndDropService")],d.prototype,"dragAndDropService",void 0),li([Tt("rangeService")],d.prototype,"rangeService",void 0),li([Tt("clipboardService")],d.prototype,"clipboardService",void 0),li([Tt("aggFuncService")],d.prototype,"aggFuncService",void 0),li([Y("menuFactory")],d.prototype,"menuFactory",void 0),li([Tt("contextMenuFactory")],d.prototype,"contextMenuFactory",void 0),li([Y("valueCache")],d.prototype,"valueCache",void 0),li([Y("animationFrameService")],d.prototype,"animationFrameService",void 0),li([Tt("statusBarService")],d.prototype,"statusBarService",void 0),li([Tt("chartService")],d.prototype,"chartService",void 0),li([Tt("undoRedoService")],d.prototype,"undoRedoService",void 0),li([Tt("rowNodeBlockLoader")],d.prototype,"rowNodeBlockLoader",void 0),li([Tt("ssrmTransactionManager")],d.prototype,"serverSideTransactionManager",void 0),li([Y("ctrlsService")],d.prototype,"ctrlsService",void 0),li([Tt("frameworkComponentWrapper")],d.prototype,"frameworkComponentWrapper",void 0),li([se],d.prototype,"init",null),li([$e],d.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),li([Le("gridApi")],d)}(),WC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),_s=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},jC=function(d,o){return function(r,s){o(r,s,d)}},KE=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.expressionToFunctionCache={},r}return WC(o,d),o.prototype.setBeans=function(r){this.logger=r.create("ExpressionService")},o.prototype.evaluate=function(r,s){return"function"==typeof r?r(s):"string"==typeof r?this.evaluateExpression(r,s):void console.error("AG Grid: value should be either a string or a function",r)},o.prototype.evaluateExpression=function(r,s){try{return this.createExpressionFunction(r)(s.value,s.context,s.oldValue,s.newValue,s.value,s.node,s.data,s.colDef,s.rowIndex,s.api,s.columnApi,s.getValue,s.column,s.columnGroup)}catch(_){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",s),console.log("Exception = "+_),null}},o.prototype.createExpressionFunction=function(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];var s=this.createFunctionBody(r),u=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",s);return this.expressionToFunctionCache[r]=u,u},o.prototype.createFunctionBody=function(r){return r.indexOf("return")>=0?r:"return "+r+";"},_s([jC(0,vn("loggerFactory"))],o.prototype,"setBeans",null),_s([Le("expressionService")],o)}(ot),Lc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),yT=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},zC=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.templateCache={},r.waitingCallbacks={},r}return Lc(o,d),o.prototype.getTemplate=function(r,s){var u=this.templateCache[r];if(u)return u;var c=this.waitingCallbacks[r],_=this;if(!c){this.waitingCallbacks[r]=c=[];var C=new XMLHttpRequest;C.onload=function(){_.handleHttpResult(this,r)},C.open("GET",r),C.send()}return s&&c.push(s),null},o.prototype.handleHttpResult=function(r,s){if(200===r.status&&null!==r.response){this.templateCache[s]=r.response||r.responseText;for(var u=this.waitingCallbacks[s],c=0;c<u.length;c++)(0,u[c])();if(this.$scope){var C=this;window.setTimeout(function(){C.$scope.$apply()},0)}}else console.warn("Unable to get template error "+r.status+" - "+s)},yT([Y("$scope")],o.prototype,"$scope",void 0),yT([Le("templateService")],o)}(ot),$C=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Gc=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}var r;return $C(o,d),r=o,o.addKeyboardModeEvents=function(s,u){var c=r.instancesMonitored.get(s);c&&c.length>0?-1===c.indexOf(u)&&c.push(u):(r.instancesMonitored.set(s,[u]),s.addEventListener("keydown",r.toggleKeyboardMode),s.addEventListener("mousedown",r.toggleKeyboardMode))},o.removeKeyboardModeEvents=function(s,u){var c=r.instancesMonitored.get(s),_=[];c&&c.length&&(_=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s}(c).filter(function(C){return C!==u}),r.instancesMonitored.set(s,_)),0===_.length&&(s.removeEventListener("keydown",r.toggleKeyboardMode),s.removeEventListener("mousedown",r.toggleKeyboardMode))},o.toggleKeyboardMode=function(s){var u=r.keyboardModeActive,c="keydown"===s.type;if(!(c&&(s.ctrlKey||s.metaKey||s.altKey)||u&&c||!u&&!c)){r.keyboardModeActive=c;var _=s.target.ownerDocument;if(_){var C=r.instancesMonitored.get(_);C&&C.forEach(function(A){A.dispatchEvent({type:c?ae.EVENT_KEYBOARD_FOCUS:ae.EVENT_MOUSE_FOCUS})})}}},o.prototype.init=function(){var s=this,u=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,u),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,u),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,u),this.ctrlsService.whenReady(function(c){s.gridCtrl=c.gridCtrl;var _=s.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(_,s.gridCtrl),s.addDestroyFunc(function(){return s.unregisterGridCompController(s.gridCtrl)})})},o.prototype.unregisterGridCompController=function(s){var u=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(u,s)},o.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var s=this.focusedCellPosition.column,u=this.columnModel.getGridColumn(s.getId());s!==u&&this.clearFocusedCell()}},o.prototype.isKeyboardMode=function(){return r.keyboardModeActive},o.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(document.activeElement,Ha.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},o.prototype.getFocusHeaderToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(document.activeElement,Fs.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},o.prototype.isDomDataMissingInHierarchy=function(s,u){for(var c=s;c;){if(this.gridOptionsWrapper.getDomData(c,u))return!1;c=c.parentNode}return!0},o.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},o.prototype.getFocusedCell=function(){return this.focusedCellPosition},o.prototype.setFocusedCell=function(s,u,c,_){void 0===_&&(_=!1);var C=this.columnModel.getGridColumn(u);C?(this.focusedCellPosition=C?{rowIndex:s,rowPinned:a(c),column:C}:null,this.onCellFocused(_)):this.focusedCellPosition=null},o.prototype.isCellFocused=function(s){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===s.column&&this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isRowNodeFocused=function(s){return this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isHeaderWrapperFocused=function(s){if(null==this.focusedHeaderPosition)return!1;var u=s.getColumnGroupChild(),c=s.getRowIndex(),_=s.getPinned(),C=this.focusedHeaderPosition,A=C.column;return u===A&&c===C.headerRowIndex&&_==A.getPinned()},o.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},o.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},o.prototype.setFocusedHeader=function(s,u){this.focusedHeaderPosition={headerRowIndex:s,column:u}},o.prototype.focusHeaderPosition=function(s){var u=s.direction,c=s.fromTab,C=s.event,A=s.headerPosition;if(s.allowUserOverride){var ee,x=this.gridOptionsWrapper,k=this.getFocusedHeader(),W=this.headerNavigationService.getHeaderRowCount();c?(ee=x.getTabToNextHeaderFunc())&&(A=ee({backwards:"Before"===u,previousHeaderPosition:k,nextHeaderPosition:A,headerRowCount:W,api:x.getApi(),columnApi:x.getColumnApi()})):(ee=x.getNavigateToNextHeaderFunc())&&C&&(A=ee({key:C.key,previousHeaderPosition:k,nextHeaderPosition:A,headerRowCount:W,event:C,api:x.getApi(),columnApi:x.getColumnApi()}))}return!!A&&(-1===A.headerRowIndex?this.focusGridView(A.column):(this.headerNavigationService.scrollToColumn(A.column,u),this.ctrlsService.getHeaderRowContainerCtrl(A.column.getPinned()).focusHeader(A.headerRowIndex,A.column,C)))},o.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},o.prototype.isRowFocused=function(s,u){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===s&&this.focusedCellPosition.rowPinned===a(u)},o.prototype.findFocusableElements=function(s,u,c){void 0===c&&(c=!1);var C=Ee.FOCUSABLE_EXCLUDE;u&&(C+=", "+u),c&&(C+=', [tabindex="-1"]');var ee,A=Array.prototype.slice.apply(s.querySelectorAll(Ee.FOCUSABLE_SELECTOR)),x=Array.prototype.slice.apply(s.querySelectorAll(C));return x.length?(ee=x,A.filter(function(le){return-1===ee.indexOf(le)})):A},o.prototype.focusInto=function(s,u,c){void 0===u&&(u=!1),void 0===c&&(c=!1);var _=this.findFocusableElements(s,null,c),C=u?ke(_):_[0];return!!C&&(C.focus(),!0)},o.prototype.findNextFocusableElement=function(s,u,c){var _=this.findFocusableElements(s,u?':not([tabindex="-1"])':null),A=(u?bs(_,function(x){return x.contains(document.activeElement)}):_.indexOf(document.activeElement))+(c?-1:1);return A<0||A>=_.length?null:_[A]},o.prototype.isFocusUnderManagedComponent=function(s){var u=s.querySelectorAll("."+L.FOCUS_MANAGED_CLASS);if(!u.length)return!1;for(var c=0;c<u.length;c++)if(u[c].contains(document.activeElement))return!0;return!1},o.prototype.findTabbableParent=function(s,u){void 0===u&&(u=5);for(var c=0;s&&null===Gl(s)&&++c<=u;)s=s.parentElement;return null===Gl(s)?null:s},o.prototype.onCellFocused=function(s){var u={type:ae.EVENT_CELL_FOCUSED,forceBrowserFocus:s,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var c=u.rowIndex=this.focusedCellPosition.rowIndex,_=u.rowPinned=this.focusedCellPosition.rowPinned;u.column=this.focusedCellPosition.column;var C=this.rowRenderer.getRowByPosition({rowIndex:c,rowPinned:_});C&&(u.isFullWidthCell=C.isFullWidth())}this.eventService.dispatchEvent(u)},o.prototype.focusGridView=function(s,u){var c=u?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var _=c.rowIndex,C=c.rowPinned,A=this.getFocusedHeader();return!s&&A&&(s=A.column),!(null==_||!s)&&(this.navigationService.ensureCellVisible({rowIndex:_,column:s,rowPinned:C}),this.setFocusedCell(_,s,a(C),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:_,rowPinned:C,column:s}),!0)},o.prototype.focusNextGridCoreContainer=function(s){return!!this.gridCtrl.focusNextInnerContainer(s)||(s||this.gridCtrl.forceFocusOutOfContainer(),!1)},o.AG_KEYBOARD_FOCUS="ag-keyboard-focus",o.keyboardModeActive=!1,o.instancesMonitored=new Map,Hu([Y("columnModel")],o.prototype,"columnModel",void 0),Hu([Y("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Hu([Y("columnApi")],o.prototype,"columnApi",void 0),Hu([Y("gridApi")],o.prototype,"gridApi",void 0),Hu([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),Hu([Y("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Hu([Tt("rangeService")],o.prototype,"rangeService",void 0),Hu([Y("navigationService")],o.prototype,"navigationService",void 0),Hu([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Hu([se],o.prototype,"init",null),r=Hu([Le("focusService")],o)}(ot),vy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Am=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},iu=(()=>(function(d){d[d.vertical=0]="vertical",d[d.horizontal=1]="horizontal"}(iu||(iu={})),iu))(),YC=0,QE=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.popupList=[],r}return vy(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.gridCtrl=s.gridCtrl,r.addManagedListener(r.gridCtrl,ae.EVENT_KEYBOARD_FOCUS,function(){$t(r.popupList,function(u){return ut(u.element,Gc.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,ae.EVENT_MOUSE_FOCUS,function(){$t(r.popupList,function(u){return Cr(u.element,Gc.AG_KEYBOARD_FOCUS)})})})},o.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},o.prototype.positionPopupForMenu=function(r){var s=r.eventSource.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(r.ePopup,s.top-u.top,iu.vertical),_=r.ePopup.clientWidth>0?r.ePopup.clientWidth:200;r.ePopup.style.minWidth=_+"px";var x,A=u.right-u.left-_;function k(){return s.right-u.left-2}function W(){return s.left-u.left-_}this.gridOptionsWrapper.isEnableRtl()?((x=W())<0&&(x=k()),x>A&&(x=0)):((x=k())>A&&(x=W()),x<0&&(x=0)),r.ePopup.style.left=x+"px",r.ePopup.style.top=c+"px"},o.prototype.positionPopupUnderMouseEvent=function(r){var s=r.ePopup,u=r.nudgeX,c=r.nudgeY,_=this.calculatePointerAlign(r.mouseEvent);this.positionPopup({ePopup:s,x:_.x,y:_.y,nudgeX:u,nudgeY:c,keepWithinBounds:!0}),this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)},o.prototype.calculatePointerAlign=function(r){var s=this.getParentRect();return{x:r.clientX-s.left,y:r.clientY-s.top}},o.prototype.positionPopupUnderComponent=function(r){var s=r.eventSource.getBoundingClientRect(),u=r.alignSide||"left",c=this.getParentRect(),_=s.left-c.left;"right"===u&&(_-=r.ePopup.offsetWidth-s.width),this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:_,y:s.top-c.top+s.height,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},o.prototype.positionPopupOverComponent=function(r){var s=r.eventSource.getBoundingClientRect(),u=this.getParentRect();this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:s.left-u.left,y:s.top-u.top,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},o.prototype.callPostProcessPopup=function(r,s,u,c,_,C){var A=this.gridOptionsWrapper.getPostProcessPopupFunc();A&&A({column:_,rowNode:C,ePopup:s,type:r,eventSource:u,mouseEvent:c})},o.prototype.positionPopup=function(r){var s=r.ePopup,c=r.nudgeX,_=r.nudgeY,C=r.x,A=r.y;c&&(C+=c),_&&(A+=_),r.keepWithinBounds&&(C=this.keepXYWithinBounds(s,C,iu.horizontal),A=this.keepXYWithinBounds(s,A,iu.vertical)),s.style.left=C+"px",s.style.top=A+"px"},o.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},o.prototype.getPopupList=function(){return this.popupList},o.prototype.getParentRect=function(){var r=this.gridOptionsWrapper.getDocument(),s=this.getPopupParent();s===r.body&&(s=r.documentElement);var u=getComputedStyle(s),c=s.getBoundingClientRect();return{top:c.top+parseFloat(u.borderTopWidth)||0,left:c.left+parseFloat(u.borderLeftWidth)||0,right:c.right+parseFloat(u.borderRightWidth)||0,bottom:c.bottom+parseFloat(u.borderBottomWidth)||0}},o.prototype.keepXYWithinBounds=function(r,s,u){var c=u===iu.vertical,_=c?"clientHeight":"clientWidth",C=c?"top":"left",A=c?"offsetHeight":"offsetWidth",x=c?"scrollTop":"scrollLeft",k=this.gridOptionsWrapper.getDocument(),W=k.documentElement,ee=this.getPopupParent(),le=ee.getBoundingClientRect(),ce=k.documentElement.getBoundingClientRect(),Me=ee===k.body,He=r[A],nt=Me?(c?Go:Bl)(W)+W[x]:ee[_];Me&&(nt-=Math.abs(ce[C]-le[C]));var Qe=nt-He;return Math.min(Math.max(s,0),Math.abs(Qe))},o.prototype.keepPopupPositionedRelativeTo=function(r){var s=this,u=this.getPopupParent(),c=u.getBoundingClientRect(),_=r.element.getBoundingClientRect(),C=c.top-_.top,A=c.left-_.left,x=C,k=A,W=r.ePopup.style.top,ee=parseInt(W.substring(0,W.length-1),10),le=r.ePopup.style.left,ce=parseInt(le.substring(0,le.length-1),10);return new Uo(function(Me){s.getFrameworkOverrides().setInterval(function(){var He=u.getBoundingClientRect(),ht=r.element.getBoundingClientRect();if(0==ht.top&&0==ht.left&&0==ht.height&&0==ht.width)r.hidePopup();else{var Qe=He.top-ht.top;if(Qe!=x){var _t=s.keepXYWithinBounds(r.ePopup,ee+C-Qe,iu.vertical);r.ePopup.style.top=_t+"px"}x=Qe;var Zt=He.left-ht.left;if(Zt!=k){var zn=s.keepXYWithinBounds(r.ePopup,ce+A-Zt,iu.horizontal);r.ePopup.style.left=zn+"px"}k=Zt}},200).then(function(He){Me(function(){null!=He&&window.clearInterval(He)})})})},o.prototype.addPopup=function(r){var s=this,u=r.modal,c=r.eChild,_=r.closeOnEsc,C=r.closedCallback,A=r.click,x=r.alwaysOnTop,k=r.afterGuiAttached,W=r.positionCallback,ee=r.anchorToElement,le=r.ariaLabel,ce=this.gridOptionsWrapper.getDocument(),Me=new Uo(function(hi){return hi(function(){})});if(!ce)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Me};var He=bs(this.popupList,function(hi){return hi.element===c});if(-1!==He){var ht=this.popupList[He];return{hideFunc:ht.hideFunc,stopAnchoringPromise:ht.stopAnchoringPromise}}var nt=this.getPopupParent();null==c.style.top&&(c.style.top="0px"),null==c.style.left&&(c.style.left="0px");var Qe=document.createElement("div"),_t=this.environment.getTheme().theme;_t&&ut(Qe,_t),ut(Qe,"ag-popup"),ut(c,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),ut(c,"ag-popup-child"),Vo(c,"dialog"),Eo(c,le),this.focusService.isKeyboardMode()&&ut(c,Gc.AG_KEYBOARD_FOCUS),Qe.appendChild(c),nt.appendChild(Qe),x?this.setAlwaysOnTop(Qe,!0):this.bringPopupToFront(Qe);var Zt=!1,zn=function(hi){Qe.contains(document.activeElement)&&(hi.which||hi.keyCode)===at.ESCAPE&&ni({keyboardEvent:hi})},hn=function(hi){return ni({mouseEvent:hi})},Vn=function(hi){return ni({touchEvent:hi})},ni=function(hi){void 0===hi&&(hi={});var _r=hi.mouseEvent,qr=hi.touchEvent,Yu=hi.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:_r,touchEvent:qr},c)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:A,mouseEvent:_r,touchEvent:qr})||Zt||(Zt=!0,nt.removeChild(Qe),ce.removeEventListener("keydown",zn),ce.removeEventListener("mousedown",hn),ce.removeEventListener("touchstart",Vn),ce.removeEventListener("contextmenu",hn),s.eventService.removeEventListener(ae.EVENT_DRAG_STARTED,hn),C&&C(_r||qr||Yu),s.popupList=s.popupList.filter(function($i){return $i.element!==c}),Me&&Me.then(function($i){return $i&&$i()}))};return k&&k({hidePopup:ni}),window.setTimeout(function(){_&&ce.addEventListener("keydown",zn),u&&(ce.addEventListener("mousedown",hn),s.eventService.addEventListener(ae.EVENT_DRAG_STARTED,hn),ce.addEventListener("touchstart",Vn),ce.addEventListener("contextmenu",hn))},0),W&&W(),ee&&(Me=this.keepPopupPositionedRelativeTo({element:ee,ePopup:c,hidePopup:ni})),this.popupList.push({element:c,wrapper:Qe,hideFunc:ni,stopAnchoringPromise:Me,instanceId:YC++,isAnchored:!!ee}),{hideFunc:ni,stopAnchoringPromise:Me}},o.prototype.hasAnchoredPopup=function(){return Un(this.popupList,function(r){return r.isAnchored})},o.prototype.isEventFromCurrentPopup=function(r,s){var _=r.mouseEvent||r.touchEvent;if(!_)return!1;var C=bs(this.popupList,function(k){return k.element===s});if(-1===C)return!1;for(var A=C;A<this.popupList.length;A++)if(Co(this.popupList[A].element,_))return!0;return this.isElementWithinCustomPopup(_.target)},o.prototype.isElementWithinCustomPopup=function(r){for(;r&&r!==document.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},o.prototype.isEventSameChainAsOriginalEvent=function(r){var s=r.originalMouseEvent,u=r.mouseEvent,c=r.touchEvent,_=null;if(u?_=u:c&&(_=c.touches[0]),_&&s){var A=u?u.screenY:0,x=Math.abs(s.screenX-(u?u.screenX:0))<5,k=Math.abs(s.screenY-A)<5;if(x&&k)return!0}return!1},o.prototype.getWrapper=function(r){for(;!Rr(r,"ag-popup")&&r.parentElement;)r=r.parentElement;return Rr(r,"ag-popup")?r:null},o.prototype.setAlwaysOnTop=function(r,s){var u=this.getWrapper(r);!u||(vt(u,"ag-always-on-top",!!s),s&&this.bringPopupToFront(u))},o.prototype.bringPopupToFront=function(r){var s=this.getPopupParent(),u=Array.prototype.slice.call(s.querySelectorAll(".ag-popup")),c=u.length,_=Array.prototype.slice.call(s.querySelectorAll(".ag-popup.ag-always-on-top")),C=_.length,A=this.getWrapper(r);if(A&&!(c<=1)&&s.contains(r)){var x=u.indexOf(A);C?Rr(A,"ag-always-on-top")?x!==c-1&&ke(_).insertAdjacentElement("afterend",A):x!==c-C-1&&_[0].insertAdjacentElement("beforebegin",A):x!==c-1&&ke(u).insertAdjacentElement("afterend",A);var W={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:A};this.eventService.dispatchEvent(W)}},Am([Y("environment")],o.prototype,"environment",void 0),Am([Y("focusService")],o.prototype,"focusService",void 0),Am([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Am([se],o.prototype,"postConstruct",null),Am([Le("popupService")],o)}(ot),qC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ZC=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},KC=function(d,o){return function(r,s){o(r,s,d)}},QC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return qC(o,d),o.prototype.setBeans=function(r){this.logging=r.isDebug()},o.prototype.create=function(r){return new Rm(r,this.isLogging.bind(this))},o.prototype.isLogging=function(){return this.logging},ZC([KC(0,vn("gridOptionsWrapper"))],o.prototype,"setBeans",null),ZC([Le("loggerFactory")],o)}(ot),Rm=function(){function d(o,r){this.name=o,this.isLoggingFunc=r}return d.prototype.isLogging=function(){return this.isLoggingFunc()},d.prototype.log=function(o){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+o)},d}(),Im=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},JE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Im(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.centerRowContainerCon=s.centerRowContainerCtrl})},o.prototype.getPreferredWidthForColumn=function(r,s){var u=this.getHeaderCellForColumn(r);if(!u)return-1;var c=document.createElement("span");c.style.position="fixed";var _=this.centerRowContainerCon.getContainerElement();_.appendChild(c),this.putRowCellsIntoDummyContainer(r,c),s||this.cloneItemIntoDummy(u,c);var C=c.offsetWidth;return _.removeChild(c),C+this.gridOptionsWrapper.getAutoSizePadding()},o.prototype.getHeaderCellForColumn=function(r){var s=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(u){var c=u.getHtmlElementForColumnHeader(r);null!=c&&(s=c)}),s},o.prototype.putRowCellsIntoDummyContainer=function(r,s){var u=this;this.rowRenderer.getAllCellsForColumn(r).forEach(function(_){return u.cloneItemIntoDummy(_,s)})},o.prototype.cloneItemIntoDummy=function(r,s){var u=r.cloneNode(!0);u.style.width="",u.style.position="static",u.style.left="";var c=document.createElement("div");Rr(u,"ag-header-cell")?(ut(c,"ag-header"),ut(c,"ag-header-row"),c.style.position="static"):ut(c,"ag-row");for(var _=r.parentElement;_;){if(_.classList.contains("ag-header-row")||_.classList.contains("ag-row")){for(var C=0;C<_.classList.length;C++){var A=_.classList[C];"ag-row-position-absolute"!=A&&ut(c,A)}break}_=_.parentElement}c.style.display="table-row",c.appendChild(u),s.appendChild(c)},xm([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),xm([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),xm([Y("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),xm([se],o.prototype,"postConstruct",null),xm([Le("autoWidthCalculator")],o)}(ot),XE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Om=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Td=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return XE(o,d),o.prototype.addResizeBar=function(r){var s=this,u={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r)};return this.dragService.addDragSource(u,!0),function(){return s.dragService.removeDragSource(u)}},o.prototype.onDragStart=function(r,s){this.dragStartX=s.clientX,this.setResizeIcons();var u=s instanceof MouseEvent&&!0===s.shiftKey;r.onResizeStart(u)},o.prototype.setResizeIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!0),r.disableUserSelect(!0)},o.prototype.onDragStop=function(r,s){r.onResizeEnd(this.resizeAmount),this.resetIcons()},o.prototype.resetIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!1),r.disableUserSelect(!1)},o.prototype.onDragging=function(r,s){this.resizeAmount=s.clientX-this.dragStartX,r.onResizing(this.resizeAmount)},Om([Y("dragService")],o.prototype,"dragService",void 0),Om([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Om([Le("horizontalResizeService")],o)}(ot),Cy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wa=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Uu=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Cy(o,d),o.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},o.prototype.setComp=function(r,s,u){var c=this;this.view=r,this.eGridHostDiv=s,this.eGui=u,this.mouseEventService.stampTopLevelGridCompWithGridInstance(s),this.createManagedBean(new ag(this.view)),this.addRtlSupport(),this.addManagedListener(this,ae.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,ae.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var _=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return _()})},o.prototype.showDropZones=function(){return Gt.isRegistered(q.GXE.RowGroupingModule)},o.prototype.showSideBar=function(){return Gt.isRegistered(q.GXE.SideBarModule)},o.prototype.showStatusBar=function(){return Gt.isRegistered(q.GXE.StatusBarModule)},o.prototype.showWatermark=function(){return Gt.isRegistered(q.GXE.EnterpriseCoreModule)},o.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:ae.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},o.prototype.addRtlSupport=function(){var r=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)},o.prototype.destroyGridUi=function(){this.view.destroyGridUi()},o.prototype.getGui=function(){return this.eGui},o.prototype.setResizeCursor=function(r){this.view.setCursor(r?"ew-resize":null)},o.prototype.disableUserSelect=function(r){this.view.setUserSelect(r?"none":null)},o.prototype.focusNextInnerContainer=function(r){var s=this.view.getFocusableContainers(),c=bs(s,function(_){return _.contains(document.activeElement)})+(r?-1:1);return!(c<0||c>=s.length)&&(0===c?this.focusGridHeader():this.focusService.focusInto(s[c]))},o.prototype.focusInnerElement=function(r){var s=this.view.getFocusableContainers();if(r){if(s.length>1)return this.focusService.focusInto(ke(s),!0);var u=ke(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(u,!0))return!0}return this.focusGridHeader()},o.prototype.focusGridHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];return!!r&&(r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0)),this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:r}}),!0)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.view.forceFocusOutOfContainer(r)},Wa([Y("columnApi")],o.prototype,"columnApi",void 0),Wa([Y("gridApi")],o.prototype,"gridApi",void 0),Wa([Y("focusService")],o.prototype,"focusService",void 0),Wa([Y("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Wa([Y("columnModel")],o.prototype,"columnModel",void 0),Wa([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Wa([Y("mouseEventService")],o.prototype,"mouseEventService",void 0),Wa([se],o.prototype,"postConstruct",null),o}(ot),Mm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),cg=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Eh=function(d){function o(r){var s=d.call(this)||this;s.skipTabGuardFocus=!1;var c=r.eTopGuard,_=r.eBottomGuard,C=r.focusInnerElement,A=r.onFocusIn,x=r.onFocusOut,k=r.shouldStopEventPropagation,W=r.onTabKeyDown,ee=r.handleKeyDown,le=r.eFocusableElement;return s.comp=r.comp,s.eTopGuard=c,s.eBottomGuard=_,s.providedFocusInnerElement=C,s.eFocusableElement=le,s.providedFocusIn=A,s.providedFocusOut=x,s.providedShouldStopEventPropagation=k,s.providedOnTabKeyDown=W,s.providedHandleKeyDown=ee,s}return Mm(o,d),o.prototype.postConstruct=function(){var r=this;this.createManagedBean(new L(this.eFocusableElement,{shouldStopEventPropagation:function(){return r.shouldStopEventPropagation()},onTabKeyDown:function(s){return r.onTabKeyDown(s)},handleKeyDown:function(s){return r.handleKeyDown(s)},onFocusIn:function(s){return r.onFocusIn(s)},onFocusOut:function(s){return r.onFocusOut(s)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(s){return r.addManagedListener(s,"focus",r.onFocus.bind(r))})},o.prototype.handleKeyDown=function(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)},o.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},o.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},o.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},o.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},o.prototype.onFocus=function(r){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var s=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(s):this.focusInnerElement(s)}},o.prototype.onFocusIn=function(r){this.providedFocusIn&&this.providedFocusIn(r)||this.deactivateTabGuards()},o.prototype.onFocusOut=function(r){this.providedFocusOut&&this.providedFocusOut(r)||this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards()},o.prototype.onTabKeyDown=function(r){var s=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(r);else if(!r.defaultPrevented){var u=this.tabGuardsAreActive();u&&this.deactivateTabGuards();var c=this.getNextFocusableElement(r.shiftKey);u&&setTimeout(function(){return s.activateTabGuards()},0),c&&(c.focus(),r.preventDefault())}},o.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},o.prototype.focusInnerElement=function(r){void 0===r&&(r=!1);var s=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(s.splice(0,1),s.splice(s.length-1,1)),s.length&&s[r?s.length-1:0].focus()},o.prototype.getNextFocusableElement=function(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1);var s=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,s.focus()},cg([Y("focusService")],o.prototype,"focusService",void 0),cg([se],o.prototype,"postConstruct",null),o}(ot),CT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ad=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return CT(o,d),o.prototype.initialiseTabGuard=function(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var s=[this.eTopGuard,this.eBottomGuard],u={setTabIndex:function(c){s.forEach(function(_){return null!=c?_.setAttribute("tabIndex",c):_.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Eh({comp:u,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation}))},o.prototype.createTabGuard=function(r){var s=document.createElement("div");return s.classList.add("ag-tab-guard"),s.classList.add("ag-tab-guard-"+r),Vo(s,"presentation"),s},o.prototype.addTabGuards=function(r,s){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",s)},o.prototype.removeAllChildrenExceptTabGuards=function(){var r=[this.eTopGuard,this.eBottomGuard];oo(this.getFocusableElement()),this.addTabGuards.apply(this,r)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.tabGuardCtrl.forceFocusOutOfContainer(r)},o.prototype.appendChild=function(r,s){pl(r)||(r=r.getGui());var u=this.eBottomGuard;u?u.insertAdjacentElement("beforebegin",r):d.prototype.appendChild.call(this,r,s)},o}(Sn),Ro=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),bl=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Sh=function(d){function o(r){var s=d.call(this,void 0)||this;return s.eGridDiv=r,s}return Ro(o,d),o.prototype.postConstruct=function(){var r=this;this.logger=this.loggerFactory.create("GridComp");var s={destroyGridUi:function(){return r.destroyBean(r)},setRtlClass:function(c){return ut(r.getGui(),c)},addOrRemoveKeyboardFocusClass:function(c){return r.addOrRemoveCssClass(Gc.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){r.getGui().style.userSelect=null!=c?c:"",r.getGui().style.webkitUserSelect=null!=c?c:""},setCursor:function(c){r.getGui().style.cursor=null!=c?c:""}};this.ctrl=this.createManagedBean(new Uu);var u=this.createTemplate();this.setTemplate(u),this.ctrl.setComp(s,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return r.ctrl.focusInnerElement(c)}})},o.prototype.insertGridIntoDom=function(){var r=this,s=this.getGui();this.eGridDiv.appendChild(s),this.addDestroyFunc(function(){r.eGridDiv.removeChild(s),r.logger.log("Grid removed from DOM")})},o.prototype.updateLayoutClasses=function(r,s){vt(this.eRootWrapperBody,q.LBn.AUTO_HEIGHT,s.autoHeight),vt(this.eRootWrapperBody,q.LBn.NORMAL,s.normal),vt(this.eRootWrapperBody,q.LBn.PRINT,s.print),this.addOrRemoveCssClass(q.LBn.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(q.LBn.NORMAL,s.normal),this.addOrRemoveCssClass(q.LBn.PRINT,s.print)},o.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.getFocusableContainers=function(){var r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(function(s){return Oa(s)})},bl([Y("loggerFactory")],o.prototype,"loggerFactory",void 0),bl([Ke("gridBody")],o.prototype,"gridBodyComp",void 0),bl([Ke("sideBar")],o.prototype,"sideBarComp",void 0),bl([Ke("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),bl([se],o.prototype,"postConstruct",null),o}(Ad),Bc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Vr=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},JC=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.dragEndFunctions=[],r.dragSources=[],r}return Bc(o,d),o.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},o.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},o.prototype.removeListener=function(r){var s=r.dragSource.eElement;s.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&s.removeEventListener("touchstart",r.touchStartListener,{passive:!0})},o.prototype.removeDragSource=function(r){var s=he(this.dragSources,function(u){return u.dragSource===r});!s||(this.removeListener(s),Wt(this.dragSources,s))},o.prototype.isDragging=function(){return this.dragging},o.prototype.addDragSource=function(r,s){var u=this;void 0===s&&(s=!1);var c=this.onMouseDown.bind(this,r);r.eElement.addEventListener("mousedown",c);var _=null,C=this.gridOptionsWrapper.isSuppressTouch();s&&!C&&r.eElement.addEventListener("touchstart",_=function(A){A.preventDefault(),u.onTouchStart(r,A)},{passive:!0}),this.dragSources.push({dragSource:r,mouseDownListener:c,touchStartListener:_,touchEnabled:s})},o.prototype.onTouchStart=function(r,s){var u=this;this.currentDragParams=r,this.dragging=!1;var c=s.touches[0];this.touchLastTime=c,this.touchStart=c;var C=function(W){return u.onTouchUp(W,r.eElement)},x=r.eElement,k=[{target:document,type:"touchmove",listener:function(W){W.cancelable&&W.preventDefault()},options:{passive:!1}},{target:x,type:"touchmove",listener:function(W){return u.onTouchMove(W,r.eElement)},options:{passive:!0}},{target:x,type:"touchend",listener:C,options:{passive:!0}},{target:x,type:"touchcancel",listener:C,options:{passive:!0}}];this.addTemporaryEvents(k),0===r.dragStartPixels&&this.onCommonMove(c,this.touchStart,r.eElement)},o.prototype.onMouseDown=function(r,s){var u=this,c=s;if(!(r.skipMouseEvent&&r.skipMouseEvent(s)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==s.button))){this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=s;var _=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:_,type:"mousemove",listener:function(ee){return u.onMouseMove(ee,r.eElement)}},{target:_,type:"mouseup",listener:function(ee){return u.onMouseUp(ee,r.eElement)}},{target:_,type:"contextmenu",listener:function(ee){return ee.preventDefault()}}]),0===r.dragStartPixels&&this.onMouseMove(s,r.eElement)}},o.prototype.addTemporaryEvents=function(r){r.forEach(function(s){s.target.addEventListener(s.type,s.listener,s.options)}),this.dragEndFunctions.push(function(){r.forEach(function(s){s.target.removeEventListener(s.type,s.listener,s.options)})})},o.prototype.isEventNearStartEvent=function(r,s){var u=this.currentDragParams.dragStartPixels;return So(r,s,Q(u)?u:4)},o.prototype.getFirstActiveTouch=function(r){for(var s=0;s<r.length;s++)if(r[s].identifier===this.touchStart.identifier)return r[s];return null},o.prototype.onCommonMove=function(r,s,u){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,s))return;this.dragging=!0,this.eventService.dispatchEvent({type:ae.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:u}),this.currentDragParams.onDragStart(s),this.currentDragParams.onDragging(s)}this.currentDragParams.onDragging(r)},o.prototype.onTouchMove=function(r,s){var u=this.getFirstActiveTouch(r.touches);!u||this.onCommonMove(u,this.touchStart,s)},o.prototype.onMouseMove=function(r,s){this.onCommonMove(r,this.mouseStartEvent,s)},o.prototype.onTouchUp=function(r,s){var u=this.getFirstActiveTouch(r.changedTouches);u||(u=this.touchLastTime),this.onUpCommon(u,s)},o.prototype.onMouseUp=function(r,s){this.onUpCommon(r,s)},o.prototype.onUpCommon=function(r,s){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:ae.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:s})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},Vr([Y("loggerFactory")],o.prototype,"loggerFactory",void 0),Vr([Y("columnApi")],o.prototype,"columnApi",void 0),Vr([Y("gridApi")],o.prototype,"gridApi",void 0),Vr([se],o.prototype,"init",null),Vr([$e],o.prototype,"removeAllListeners",null),Vr([Le("dragService")],o)}(ot),wy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Vc=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}var r;return wy(o,d),r=o,o.prototype.progressSort=function(s,u,c){void 0===c&&(c="api");var _=this.getNextSortDirection(s);this.setSortForColumn(s,_,u,c)},o.prototype.setSortForColumn=function(s,u,c,_){void 0===_&&(_="api"),u!==Ee.SORT_ASC&&u!==Ee.SORT_DESC&&(u=null),s.setSort(u,_),c&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(s,_),this.updateSortIndex(s),this.dispatchSortChangedEvents()},o.prototype.updateSortIndex=function(s){var u=this.getColumnsWithSortingOrdered(),c=0;u.forEach(function(C){C!==s&&(C.setSortIndex(c),c++)}),s.getSort()&&s.setSortIndex(c),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(C){return null==C.getSort()}).forEach(function(C){return C.setSortIndex()})},o.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},o.prototype.isSortActive=function(){var u=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return u&&u.length>0},o.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:ae.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearSortBarThisColumn=function(s,u){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){c!==s&&c.setSort(void 0,u)})},o.prototype.getNextSortDirection=function(s){var u;if(u=s.getColDef().sortingOrder?s.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(u)||u.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+u),null;var A,c=u.indexOf(s.getSort());return r.DEFAULT_SORTING_ORDER.indexOf(A=c<0||c==u.length-1?u[0]:u[c+1])<0?(console.warn("ag-grid: invalid sort type "+A),null):A},o.prototype.getColumnsWithSortingOrdered=function(){var s=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),u=s.filter(function(_){return!!_.getSort()}),c={};return s.forEach(function(_,C){return c[_.getId()]=C}),u.sort(function(_,C){var A=_.getSortIndex(),x=C.getSortIndex();return null!=A&&null!=x?A-x:null==A&&null==x?c[_.getId()]>c[C.getId()]?1:-1:null==x?-1:1}),u},o.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),colId:s.getId()}})},o.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),column:s}})},o.DEFAULT_SORTING_ORDER=[Ee.SORT_ASC,Ee.SORT_DESC,null],Pm([Y("columnModel")],o.prototype,"columnModel",void 0),Pm([Y("columnApi")],o.prototype,"columnApi",void 0),Pm([Y("gridApi")],o.prototype,"gridApi",void 0),r=Pm([Le("sortController")],o)}(ot),ru=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Dh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},e0=function(d){function o(){var s=null!==d&&d.apply(this,arguments)||this;return s.gridInstanceId=r.gridInstanceSequence.next(),s}var r;return ru(o,d),r=o,o.prototype.stampTopLevelGridCompWithGridInstance=function(s){s[r.GRID_DOM_KEY]=this.gridInstanceId},o.prototype.getRenderedCellForEvent=function(s){return vr(this.gridOptionsWrapper,s,Bn.DOM_DATA_KEY_CELL_CTRL)},o.prototype.isEventFromThisGrid=function(s){return this.isElementInThisGrid(s.target)},o.prototype.isElementInThisGrid=function(s){for(var u=s;u;){var c=u[r.GRID_DOM_KEY];if(Q(c))return c===this.gridInstanceId;u=u.parentElement}return!1},o.prototype.getCellPositionForEvent=function(s){var u=this.getRenderedCellForEvent(s);return u?u.getCellPosition():null},o.prototype.getNormalisedPosition=function(s){var _,C,u=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_NORMAL;if(null!=s.clientX||null!=s.clientY?(_=s.clientX,C=s.clientY):(_=s.x,C=s.y),u){var A=this.ctrlsService.getGridBodyCtrl(),x=A.getScrollFeature().getVScrollPosition();_+=A.getScrollFeature().getHScrollPosition().left,C+=x.top}return{x:_,y:C}},o.gridInstanceSequence=new Os,o.GRID_DOM_KEY="__ag_grid_instance",Dh([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),r=Dh([Le("mouseEventService")],o)}(ot),dg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ou=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},by=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return dg(o,d),o.prototype.getNextCellToFocus=function(r,s){for(var u=s,c=!1;!c;){switch(r){case at.UP:u=this.getCellAbove(u);break;case at.DOWN:u=this.getCellBelow(u);break;case at.RIGHT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(u):this.getCellToRight(u);break;case at.LEFT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(u):this.getCellToLeft(u);break;default:u=null,console.warn("AG Grid: unknown key for navigation "+r)}c=!u||this.isCellGoodToFocusOn(u)}return u},o.prototype.isCellGoodToFocusOn=function(r){var u,s=r.column;switch(r.rowPinned){case Ee.PINNED_TOP:u=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case Ee.PINNED_BOTTOM:u=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:u=this.rowModel.getRow(r.rowIndex)}return!!u&&!s.isSuppressNavigable(u)},o.prototype.getCellToLeft=function(r){if(!r)return null;var s=this.columnModel.getDisplayedColBefore(r.column);return s?{rowIndex:r.rowIndex,column:s,rowPinned:r.rowPinned}:null},o.prototype.getCellToRight=function(r){if(!r)return null;var s=this.columnModel.getDisplayedColAfter(r.column);return s?{rowIndex:r.rowIndex,column:s,rowPinned:r.rowPinned}:null},o.prototype.getRowBelow=function(r){var s=r.rowIndex,u=r.rowPinned;if(this.isLastRowInContainer(r))switch(u){case Ee.PINNED_BOTTOM:return null;case Ee.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Ee.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ee.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Ee.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ee.PINNED_BOTTOM}:null}return{rowIndex:s+1,rowPinned:u}},o.prototype.getCellBelow=function(r){if(!r)return null;var s=this.getRowBelow(r);return s?{rowIndex:s.rowIndex,column:r.column,rowPinned:s.rowPinned}:null},o.prototype.isLastRowInContainer=function(r){var s=r.rowPinned,u=r.rowIndex;return s===Ee.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=u:s===Ee.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=u:this.paginationProxy.getPageLastRow()<=u},o.prototype.getRowAbove=function(r){var s=r.rowIndex,u=r.rowPinned;return(u?0===s:s===this.paginationProxy.getPageFirstRow())?u===Ee.PINNED_TOP?null:u&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Ee.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:s-1,rowPinned:u}},o.prototype.getCellAbove=function(r){if(!r)return null;var s=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return s?{rowIndex:s.rowIndex,column:r.column,rowPinned:s.rowPinned}:null},o.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},o.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:Ee.PINNED_TOP}},o.prototype.getNextTabbedCell=function(r,s){return s?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)},o.prototype.getNextTabbedCellForwards=function(r){var s=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,c=r.rowPinned,_=this.columnModel.getDisplayedColAfter(r.column);if(!_){_=s[0];var C=this.getRowBelow(r);if(Z(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;u=C?C.rowIndex:null,c=C?C.rowPinned:null}return{rowIndex:u,column:_,rowPinned:c}},o.prototype.getNextTabbedCellBackwards=function(r){var s=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,c=r.rowPinned,_=this.columnModel.getDisplayedColBefore(r.column);if(!_){_=ke(s);var C=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(Z(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;u=C?C.rowIndex:null,c=C?C.rowPinned:null}return{rowIndex:u,column:_,rowPinned:c}},ou([Y("columnModel")],o.prototype,"columnModel",void 0),ou([Y("rowModel")],o.prototype,"rowModel",void 0),ou([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ou([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),ou([Le("cellNavigationService")],o)}(ot),qo=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),XC=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Vp=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return qo(o,d),o.prototype.formatValue=function(r,s,u,c,_,C){void 0===C&&(C=!0);var x,A=null,k=r.getColDef();if(_?x=_:C&&(x=s&&s.rowPinned&&k.pinnedRowValueFormatter?k.pinnedRowValueFormatter:k.valueFormatter),x){var W={value:c,node:s,data:s?s.data:null,colDef:k,column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};W.$scope=u,A=this.expressionService.evaluate(x,W)}else if(k.refData)return k.refData[c]||"";return null==A&&Array.isArray(c)&&(A=c.join(", ")),A},XC([Y("expressionService")],o.prototype,"expressionService",void 0),XC([Le("valueFormatterService")],o)}(ot),wT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),t0=function(d){function o(r){return d.call(this,r,"ag-radio-button","radio")||this}return wT(o,d),o.prototype.isSelected=function(){return this.eInput.checked},o.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},o.prototype.addInputListeners=function(){d.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,ae.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},o.prototype.onChange=function(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)},o}(Np),bT=["mouseover","mouseout","mouseenter","mouseleave"],ew=function(){function d(){this.isOutsideAngular=function(o){return Ft(bT,o)}}return d.prototype.setTimeout=function(o,r){window.setTimeout(o,r)},d.prototype.setInterval=function(o,r){return new Uo(function(s){s(window.setInterval(o,r))})},d.prototype.addEventListener=function(o,r,s,u){o.addEventListener(r,s,u)},d.prototype.dispatchEvent=function(o,r,s){r()},d.prototype.frameworkComponent=function(o){return null},d}(),n0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Th=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ah=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return n0(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},o.prototype.onDisplayedColumnsChanged=function(){this.update()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},o.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},o.prototype.updateImpl=function(){var r=this.ctrlsService.getCenterRowContainerCtrl();if(r){var s={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(s)}},o.prototype.setScrollsVisible=function(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:ae.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},o.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Th([Y("columnApi")],o.prototype,"columnApi",void 0),Th([Y("gridApi")],o.prototype,"gridApi",void 0),Th([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Th([se],o.prototype,"postConstruct",null),Th([Le("scrollVisibleService")],o)}(ot),Er=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Rh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ET=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Er(o,d),o.prototype.processAllCellClasses=function(r,s,u,c){this.processClassRules(r.cellClassRules,s,u,c),this.processStaticCellClasses(r,s,u)},o.prototype.processClassRules=function(r,s,u,c){if(null!=r)for(var _=Object.keys(r),C={},A={},x=function(ee){var Me,le=_[ee],ce=r[le];"string"==typeof ce?Me=k.expressionService.evaluate(ce,s):"function"==typeof ce&&(Me=ce(s)),le.split(" ").forEach(function(He){null==He||""==He.trim()||(Me?C[He]=!0:A[He]=!0)}),c&&Object.keys(A).forEach(c),Object.keys(C).forEach(u)},k=this,W=0;W<_.length;W++)x(W)},o.prototype.getStaticCellClasses=function(r,s){var c,u=r.cellClass;return u?("string"==typeof(c="function"==typeof u?(0,r.cellClass)(s):u)&&(c=[c]),c):[]},o.prototype.processStaticCellClasses=function(r,s,u){this.getStaticCellClasses(r,s).forEach(function(_){u(_)})},Rh([Y("expressionService")],o.prototype,"expressionService",void 0),Rh([Le("stylingService")],o)}(ot),Rd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Id=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},hg=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Rd(o,d),o.prototype.setMouseOver=function(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.isHovered=function(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0},Id([Y("columnApi")],o.prototype,"columnApi",void 0),Id([Y("gridApi")],o.prototype,"gridApi",void 0),Id([Le("columnHoverService")],o)}(ot),ST=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ey=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},r0=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.executeNextFuncs=[],r.executeLaterFuncs=[],r.active=!1,r.animationThreadCount=0,r}return ST(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){return r.gridBodyCtrl=s.gridBodyCtrl})},o.prototype.isActive=function(){return this.active},o.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},o.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},o.prototype.executeNextVMTurn=function(r){this.active?this.executeNextFuncs.push(r):r()},o.prototype.executeLaterVMTurn=function(r){this.active?this.executeLaterFuncs.push(r):r()},o.prototype.ensureAnimationCssClassPresent=function(){var r=this;this.animationThreadCount++;var s=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){r.animationThreadCount===s&&r.gridBodyCtrl.setColumnMovingCss(!1)})},o.prototype.flush=function(){var r=this.executeNextFuncs;this.executeNextFuncs=[];var s=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==r.length||0!==s.length)&&(window.setTimeout(function(){return r.forEach(function(u){return u()})},0),window.setTimeout(function(){return s.forEach(function(u){return u()})},300))},Ey([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Ey([se],o.prototype,"postConstruct",null),Ey([Le("columnAnimationService")],o)}(ot),tw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nm=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},nw=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}var r;return tw(o,d),r=o,o.prototype.createAutoGroupColumns=function(s){var u=this,c=[],_=this.gridOptionsWrapper.isTreeData(),C=this.gridOptionsWrapper.isGroupMultiAutoColumn();return _&&C&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),C=!1),C?s.forEach(function(A,x){c.push(u.createOneAutoGroupColumn(A,x))}):c.push(this.createOneAutoGroupColumn()),c},o.prototype.createOneAutoGroupColumn=function(s,u){var _,c=this.generateDefaultColDef(s);_=s?Ee.GROUP_AUTO_COLUMN_ID+"-"+s.getId():r.GROUP_AUTO_COLUMN_BUNDLE_ID,en(c,this.gridOptionsWrapper.getAutoGroupColumnDef()),(c=this.columnFactory.mergeColDefs(c)).colId=_,this.gridOptionsWrapper.isTreeData()||Z(c.field)&&Z(c.valueGetter)&&Z(c.filterValueGetter)&&(c.filter=!1),u&&u>0&&(c.headerCheckboxSelection=!1);var x=new Bt(c,null,_,!0);return this.context.createBean(x),x},o.prototype.generateDefaultColDef=function(s){var u=this.gridOptionsWrapper.getAutoGroupColumnDef(),_={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(u&&(u.cellRenderer||u.cellRendererFramework||u.cellRendererSelector)||(_.cellRenderer="agGroupCellRenderer"),s){var A=s.getColDef();Ai(_,{headerName:this.columnModel.getDisplayNameForColumn(s,"header"),headerValueGetter:A.headerValueGetter}),A.cellRenderer&&Ai(_,{cellRendererParams:{innerRenderer:A.cellRenderer,innerRendererParams:A.cellRendererParams}}),_.showRowGroup=s.getColId()}else _.showRowGroup=!0;return _},o.GROUP_AUTO_COLUMN_BUNDLE_ID=Ee.GROUP_AUTO_COLUMN_ID,Nm([Y("columnModel")],o.prototype,"columnModel",void 0),Nm([Y("columnFactory")],o.prototype,"columnFactory",void 0),r=Nm([Le("autoGroupColService")],o)}(ot),o0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},iw=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.currentPage=0,r.topDisplayedRowIndex=0,r.bottomDisplayedRowIndex=0,r.pixelOffset=0,r.masterRowCount=0,r}return o0(o,d),o.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},o.prototype.ensureRowHeightsValid=function(r,s,u,c){var _=this.rowModel.ensureRowHeightsValid(r,s,this.getPageFirstRow(),this.getPageLastRow());return _&&this.calculatePages(),_},o.prototype.onModelUpdated=function(r){this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,keepRenderedRows:!!r&&r.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},o.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},o.prototype.goToPage=function(r){this.active&&this.currentPage!==r&&(this.currentPage=r,this.onModelUpdated({type:ae.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getPixelOffset=function(){return this.pixelOffset},o.prototype.getRow=function(r){return this.rowModel.getRow(r)},o.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},o.prototype.getRowIndexAtPixel=function(r){return this.rowModel.getRowIndexAtPixel(r)},o.prototype.getCurrentPageHeight=function(){return Z(this.topRowBounds)||Z(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},o.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},o.prototype.isRowPresent=function(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex},o.prototype.isEmpty=function(){return this.rowModel.isEmpty()},o.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},o.prototype.getNodesInRangeForSelection=function(r,s){return this.rowModel.getNodesInRangeForSelection(r,s)},o.prototype.forEachNode=function(r){return this.rowModel.forEachNode(r)},o.prototype.getType=function(){return this.rowModel.getType()},o.prototype.getRowBounds=function(r){var s=this.rowModel.getRowBounds(r);return s.rowIndex=r,s},o.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},o.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},o.prototype.getRowCount=function(){return this.rowModel.getRowCount()},o.prototype.getPageForIndex=function(r){return Math.floor(r/this.pageSize)},o.prototype.goToPageWithIndex=function(r){if(this.active){var s=this.getPageForIndex(r);this.goToPage(s)}},o.prototype.isRowInPage=function(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage},o.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},o.prototype.getCurrentPage=function(){return this.currentPage},o.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},o.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},o.prototype.goToFirstPage=function(){this.goToPage(0)},o.prototype.goToLastPage=function(){var r=this.rowModel.getRowCount(),s=Math.floor(r/this.pageSize);this.goToPage(s)},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getTotalPages=function(){return this.totalPages},o.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},o.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Q(this.topRowBounds)?this.topRowBounds.rowTop:0)},o.prototype.setPixelOffset=function(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},o.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},o.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!vu(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var u=this.pageSize*(this.currentPage+1)-1;if(u>r&&(u=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),u===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(u+1);this.bottomDisplayedRowIndex=c-1}}},o.prototype.getMasterRowCount=function(){return this.masterRowCount},o.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!vu(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}else this.setZeroRows()},o.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Hp([Y("rowModel")],o.prototype,"rowModel",void 0),Hp([Y("columnApi")],o.prototype,"columnApi",void 0),Hp([Y("gridApi")],o.prototype,"gridApi",void 0),Hp([se],o.prototype,"postConstruct",null),Hp([Le("paginationProxy")],o)}(ot),pg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Up=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},s0=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return pg(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.centerRowContainerCon=s.centerRowContainerCtrl,r.addManagedListener(r.eventService,ae.EVENT_BODY_HEIGHT_CHANGED,r.onBodyHeightChanged.bind(r)),r.addManagedListener(r.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,r.onScrollVisibilityChanged.bind(r)),r.checkPageSize()})},o.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},o.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},o.prototype.onBodyHeightChanged=function(){this.checkPageSize()},o.prototype.checkPageSize=function(){if(!this.notActive()){var r=this.gridOptionsWrapper.getRowHeightAsNumber(),s=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(s>0){var u=Math.floor(s/r);this.gridOptionsWrapper.setProperty("paginationPageSize",u)}}},Up([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Up([se],o.prototype,"postConstruct",null),Up([Le("paginationAutoPageSizeService")],o)}(ot),rw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ow=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Fm=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.cacheVersion=0,r}return rw(o,d),o.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},o.prototype.onDataChanged=function(){this.neverExpires||this.expire()},o.prototype.expire=function(){this.cacheVersion++},o.prototype.setValue=function(r,s,u){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[s]=u)},o.prototype.getValue=function(r,s){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[s]},ow([se],o.prototype,"init",null),ow([Le("valueCache")],o)}(ot),sw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),fg=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},DT=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return sw(o,d),o.prototype.init=function(){this.rowModel.getType()===Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ae.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},o.prototype.onCellValueChanged=function(r){r.source!==Ee.SOURCE_PASTE&&this.doChangeDetection(r.node,r.column)},o.prototype.doChangeDetection=function(r,s){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!r.isRowPinned()){var u=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),c=new ry(u,this.clientSideRowModel.getRootNode());c.addParentNode(r.parent,[s]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},fg([Y("rowModel")],o.prototype,"rowModel",void 0),fg([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),fg([se],o.prototype,"init",null),fg([Le("changeDetectionService")],o)}(ot),TT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},bx=function(d,o){return function(r,s){o(r,s,d)}},aw=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.consuming=!1,r}return TT(o,d),o.prototype.setBeans=function(r){this.logger=r.create("AlignedGridsService")},o.prototype.init=function(){this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},o.prototype.fireEvent=function(r){if(!this.consuming){var s=this.gridOptionsWrapper.getAlignedGrids();s&&s.forEach(function(u){if(u.api){var c=u.api.__getAlignedGridService();r(c)}})}},o.prototype.onEvent=function(r){this.consuming=!0,r(),this.consuming=!1},o.prototype.fireColumnEvent=function(r){this.fireEvent(function(s){s.onColumnEvent(r)})},o.prototype.fireScrollEvent=function(r){"horizontal"===r.direction&&this.fireEvent(function(s){s.onScrollEvent(r)})},o.prototype.onScrollEvent=function(r){var s=this;this.onEvent(function(){s.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left)})},o.prototype.getMasterColumns=function(r){var s=[];return r.columns?r.columns.forEach(function(u){s.push(u)}):r.column&&s.push(r.column),s},o.prototype.getColumnIds=function(r){var s=[];return r.columns?r.columns.forEach(function(u){s.push(u.getColId())}):r.column&&s.push(r.column.getColId()),s},o.prototype.onColumnEvent=function(r){var s=this;this.onEvent(function(){switch(r.type){case ae.EVENT_COLUMN_MOVED:case ae.EVENT_COLUMN_VISIBLE:case ae.EVENT_COLUMN_PINNED:case ae.EVENT_COLUMN_RESIZED:s.processColumnEvent(r);break;case ae.EVENT_COLUMN_GROUP_OPENED:s.processGroupOpenedEvent(r);break;case ae.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},o.prototype.processGroupOpenedEvent=function(r){var s=r.columnGroup,u=null;if(s){var c=s.getGroupId();u=this.columnModel.getOriginalColumnGroup(c)}s&&!u||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+s.isExpanded()),this.columnModel.setColumnGroupOpened(u,s.isExpanded(),"alignedGridChanged"))},o.prototype.processColumnEvent=function(r){var s=this,u=r.column,c=null;if(u&&(c=this.columnModel.getPrimaryColumn(u.getColId())),!u||c){var _=this.getMasterColumns(r);switch(r.type){case ae.EVENT_COLUMN_MOVED:var C=r,x=r.columnApi.getColumnState().map(function(He){return{colId:He.colId}});this.columnModel.applyColumnState({state:x,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" toIndex = "+C.toIndex);break;case ae.EVENT_COLUMN_VISIBLE:var k=r;x=r.columnApi.getColumnState().map(function(nt){return{colId:nt.colId,hide:nt.hide}}),this.columnModel.applyColumnState({state:x},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" visible = "+k.visible);break;case ae.EVENT_COLUMN_PINNED:var W=r;x=r.columnApi.getColumnState().map(function(nt){return{colId:nt.colId,pinned:nt.pinned}}),this.columnModel.applyColumnState({state:x},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" pinned = "+W.pinned);break;case ae.EVENT_COLUMN_RESIZED:var ee=r;_.forEach(function(He){s.logger.log("onColumnEvent-> processing "+r.type+" actualWidth = "+He.getActualWidth());var ht=[{key:He.getColId(),newWidth:He.getActualWidth()}];s.columnModel.setColumnWidths(ht,!1,ee.finished,"alignedGridChanged")})}var ce=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),Me=this.gridOptionsWrapper.getAlignedGrids();Me&&Me.forEach(function(He){He.api&&He.api.setAlwaysShowVerticalScroll(ce)})}},Wp([Y("columnModel")],o.prototype,"columnModel",void 0),Wp([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Wp([bx(0,vn("loggerFactory"))],o.prototype,"setBeans",null),Wp([se],o.prototype,"init",null),Wp([Le("alignedGridsService")],o)}(ot),AT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),lw=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},RT=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return AT(o,d),o.prototype.adaptFunction=function(r,s){var u=this.componentMetadataProvider.retrieve(r);return u&&u.functionAdapter?u.functionAdapter(s):null},o.prototype.adaptCellRendererFunction=function(r){return function(){function u(){}return u.prototype.refresh=function(c){return!1},u.prototype.getGui=function(){var c=r(this.params),_=typeof c;return"string"===_||"number"===_||"boolean"===_?Bo("<span>"+c+"</span>"):null==c?Bo("<span></span>"):c},u.prototype.init=function(c){this.params=c},u}()},o.prototype.doesImplementIComponent=function(r){return!!r&&r.prototype&&"getGui"in r.prototype},lw([Y("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),lw([Le("agComponentUtils")],o)}(ot),IT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),km=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},xT=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return IT(o,d),o.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},o.prototype.retrieve=function(r){return this.componentMetaData[r]},km([Y("agComponentUtils")],o.prototype,"agComponentUtils",void 0),km([se],o.prototype,"postConstruct",null),km([Le("componentMetadataProvider")],o)}(ot),a0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),uw=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ex={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},dw={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Wu={},Lm=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return a0(o,d),o.prototype.getSassVariable=function(r,s){var u="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),c=Ex[u][s],_=0;Wu[r]||(Wu[r]={});var C=Wu[r][s];if(null!=C)return C;if(dw[s]){var A=dw[s],x=document.createElement("div");ut(x,r),x.style.position="absolute";var k=A.reduce(function(ee,le){var ce=document.createElement("div");return ce.style.position="static",ut(ce,le),ee.appendChild(ce),ce},x);if(document.body){document.body.appendChild(x);var W=-1!==s.toLowerCase().indexOf("height")?"height":"width";_=parseInt(window.getComputedStyle(k)[W],10),document.body.removeChild(x)}}return Wu[r][s]=_||c,Wu[r][s]},o.prototype.isThemeDark=function(){var r=this.getTheme().theme;return!!r&&r.indexOf("dark")>=0},o.prototype.chartMenuPanelWidth=function(){var r=this.getTheme().themeFamily;return this.getSassVariable(r,"chartMenuPanelWidth")},o.prototype.getTheme=function(){for(var r=/\bag-(material|(?:theme-([\w\-]*)))\b/,s=this.eGridDiv,u=null;s&&!(u=r.exec(s.className));)s=s.parentElement||void 0;if(!u)return{};var c=u[0];if(void 0===u[2]){var C=c.replace("ag-","ag-theme-");Jt(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+c+" with "+C+".")},"using-old-theme")}return{theme:c,el:s,themeFamily:c.replace(/-dark$/,"")}},uw([Y("eGridDiv")],o.prototype,"eGridDiv",void 0),uw([Le("environment")],o)}(ot),OT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),c0=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},jp=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.createTasksP1={list:[],sorted:!1},r.createTasksP2={list:[],sorted:!1},r.destroyTasks=[],r.ticking=!1,r.scrollGoingDown=!0,r.lastScrollTop=0,r.taskCount=0,r.cancelledTasks=new Set,r}return OT(o,d),o.prototype.setScrollTop=function(r){this.scrollGoingDown=r>this.lastScrollTop,this.lastScrollTop=r},o.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},o.prototype.isOn=function(){return this.useAnimationFrame},o.prototype.verifyAnimationFrameOn=function(r){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+r+" called but animation frames are off")},o.prototype.createTask=function(r,s,u){this.verifyAnimationFrameOn(u);var c={task:r,index:s,createOrder:++this.taskCount};this.addTaskToList(this[u],c),this.schedule()},o.prototype.cancelTask=function(r){this.cancelledTasks.add(r)},o.prototype.addTaskToList=function(r,s){r.list.push(s),r.sorted=!1},o.prototype.sortTaskList=function(r){if(!r.sorted){var s=this.scrollGoingDown?1:-1;r.list.sort(function(u,c){return u.index!==c.index?s*(c.index-u.index):c.createOrder-u.createOrder}),r.sorted=!0}},o.prototype.addDestroyTask=function(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()},o.prototype.executeFrame=function(r){this.verifyAnimationFrameOn("executeFrame");for(var s=this.createTasksP1,u=s.list,c=this.createTasksP2,_=c.list,C=this.destroyTasks,A=(new Date).getTime(),x=(new Date).getTime()-A,k=r<=0,W=this.ctrlsService.getGridBodyCtrl();k||x<r;){if(!W.getScrollFeature().executeAnimationFrameScroll()){var le=void 0;if(u.length)this.sortTaskList(s),le=u.pop().task;else if(_.length)this.sortTaskList(c),le=_.pop().task;else{if(!C.length){this.cancelledTasks.clear();break}le=C.pop()}this.cancelledTasks.has(le)||le()}x=(new Date).getTime()-A}u.length||_.length||C.length?this.requestFrame():this.stopTicking()},o.prototype.stopTicking=function(){this.ticking=!1},o.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},o.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},o.prototype.requestFrame=function(){var r=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(r):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(r):window.setTimeout(r,0)},o.prototype.isQueueEmpty=function(){return!this.ticking},o.prototype.debounce=function(r){var s=this,u=!1;return function(){s.isOn()?u||(u=!0,s.addDestroyTask(function(){u=!1,r()})):s.getFrameworkOverrides().setTimeout(r,0)}},c0([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),c0([se],o.prototype,"init",null),c0([Le("animationFrameService")],o)}(ot),zp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),gg=function(){return(gg=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},ks=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},d0=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.timeLastPageEventProcessed=0,r}return zp(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.gridBodyCon=s.gridBodyCtrl})},o.prototype.handlePageScrollingKey=function(r){var s=r.which||r.keyCode,u=r.altKey,c=r.ctrlKey||r.metaKey,_=this.mouseEventService.getCellPositionForEvent(r);if(!_)return!1;var C=!1;switch(s){case at.PAGE_HOME:case at.PAGE_END:!c&&!u&&(this.onHomeOrEndKey(s),C=!0);break;case at.LEFT:case at.RIGHT:c&&!u&&(this.onCtrlLeftOrRight(s,_),C=!0);break;case at.UP:case at.DOWN:c&&!u&&(this.onCtrlUpOrDown(s,_),C=!0);break;case at.PAGE_DOWN:!c&&!u&&(this.onPageDown(_),C=!0);break;case at.PAGE_UP:!c&&!u&&(this.onPageUp(_),C=!0)}return C&&r.preventDefault(),C},o.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},o.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},o.prototype.navigateTo=function(r){var s=r.scrollIndex,u=r.scrollType,c=r.scrollColumn,_=r.focusIndex,C=r.focusColumn;Q(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),Q(s)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(s,u),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(_,C,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:_,rowPinned:null,column:C})},o.prototype.onPageDown=function(r){if(!this.isTimeSinceLastPageEventToRecent()){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),_=u.bottom-u.top;this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(_-=c);var C=this.paginationProxy.getPixelOffset(),k=this.paginationProxy.getRowIndexAtPixel(u.top+_+C),W=this.paginationProxy.getRow(r.rowIndex).rowTop,le=this.paginationProxy.getRowIndexAtPixel(W+_-C+C),ce=this.paginationProxy.getPageLastRow();le>ce&&(le=ce),k>ce&&(k=ce),this.navigateTo({scrollIndex:k,scrollType:"top",scrollColumn:null,focusIndex:le,focusColumn:r.column}),this.setTimeLastPageEventProcessed()}},o.prototype.onPageUp=function(r){if(!this.isTimeSinceLastPageEventToRecent()){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),_=u.bottom-u.top;this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(_-=c);var C=this.paginationProxy.getPixelOffset(),k=this.paginationProxy.getRowIndexAtPixel(u.top+C),W=this.paginationProxy.getRow(r.rowIndex),le=this.paginationProxy.getRowIndexAtPixel(W.rowTop+W.rowHeight-_-C+C),ce=this.paginationProxy.getPageFirstRow();le<ce&&(le=ce),k<ce&&(k=ce),this.navigateTo({scrollIndex:k,scrollType:"bottom",scrollColumn:null,focusIndex:le,focusColumn:r.column}),this.setTimeLastPageEventProcessed()}},o.prototype.getIndexToFocus=function(r,s){var u=r;if(s){var c=this.paginationProxy.getRow(r);c&&c.stub&&(u-=1)}return u},o.prototype.onCtrlUpOrDown=function(r,s){var u=r===at.UP,c=u?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:s.column,focusIndex:this.getIndexToFocus(c,!u),focusColumn:s.column})},o.prototype.onCtrlLeftOrRight=function(r,s){var u=r===at.LEFT,c=this.columnModel.getAllDisplayedColumns(),C=u!==this.gridOptionsWrapper.isEnableRtl()?c[0]:ke(c);this.navigateTo({scrollIndex:s.rowIndex,scrollType:null,scrollColumn:C,focusIndex:s.rowIndex,focusColumn:C})},o.prototype.onHomeOrEndKey=function(r){var s=r===at.PAGE_HOME,u=this.columnModel.getAllDisplayedColumns(),c=s?u[0]:ke(u),_=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:_,scrollType:null,scrollColumn:c,focusIndex:this.getIndexToFocus(_,!s),focusColumn:c})},o.prototype.onTabKeyDown=function(r,s){var u=s.shiftKey;if(this.tabToNextCellCommon(r,u))s.preventDefault();else if(u){var _=r.getRowPosition(),C=_.rowIndex;if(_.rowPinned?0===C:C===this.paginationProxy.getPageFirstRow()){s.preventDefault();var k=this.headerNavigationService.getHeaderRowCount()-1,W=ke(this.columnModel.getAllDisplayedColumns());this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:k,column:W},event:s})}}else r instanceof Bn&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(!1)&&s.preventDefault()},o.prototype.tabToNextCell=function(r){var s=this.focusService.getFocusedCell();if(!s)return!1;var u=this.getCellByPosition(s);return!!(u||(u=this.rowRenderer.getRowByPosition(s),u&&u.isFullWidth()))&&this.tabToNextCellCommon(u,r)},o.prototype.tabToNextCellCommon=function(r,s){var u=r.isEditing();if(!u&&r instanceof Bn){var _=r.getRowCtrl();_&&(u=_.isEditing())}return(u?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(r,s):this.moveToNextEditingCell(r,s):this.moveToNextCellNotEditing(r,s))||!!this.focusService.getFocusedHeader()},o.prototype.moveToNextEditingCell=function(r,s){var u=r.getCellPosition();r.stopEditing();var c=this.findNextCellToFocusOn(u,s,!0);return null!=c&&(c.startEditing(null,null,!0),c.focusCell(!1),!0)},o.prototype.moveToNextEditingRow=function(r,s){var u=r.getCellPosition(),c=this.findNextCellToFocusOn(u,s,!0);if(null==c)return!1;var _=c.getCellPosition(),C=this.isCellEditable(u),A=this.isCellEditable(_),x=_&&u.rowIndex===_.rowIndex&&u.rowPinned===_.rowPinned;return C&&r.setFocusOutOnEditor(),x||(r.getRowCtrl().stopEditing(),c.getRowCtrl().startRowEditing()),A?(c.setFocusInOnEditor(),c.focusCell()):c.focusCell(!0),!0},o.prototype.moveToNextCellNotEditing=function(r,s){var c,u=this.columnModel.getAllDisplayedColumns();c=r instanceof Ha?gg(gg({},r.getRowPosition()),{column:s?u[0]:ke(u)}):r.getCellPosition();var _=this.findNextCellToFocusOn(c,s,!1);if(_ instanceof Bn)_.focusCell(!0);else if(_)return this.tryToFocusFullWidthRow(_.getRowPosition(),s);return Q(_)},o.prototype.findNextCellToFocusOn=function(r,s,u){for(var c=r;;){s||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,s);var _=this.gridOptionsWrapper.getTabToNextCellFunc();if(Q(_)){var A=_({backwards:s,editing:u,previousCellPosition:r,nextCellPosition:c||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});Q(A)?(A.floating&&(Jt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),A.rowPinned=A.floating),c={rowIndex:A.rowIndex,column:A.column,rowPinned:A.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var x=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x+c.rowIndex,column:c.column}}),null}var k=this.gridOptionsWrapper.isFullRowEdit();if(!u||k||this.isCellEditable(c)){this.ensureCellVisible(c);var ee=this.getCellByPosition(c);if(!ee){var le=this.rowRenderer.getRowByPosition(c);if(!le||!le.isFullWidth())continue;return le}if(!ee.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),ee}}},o.prototype.isCellEditable=function(r){var s=this.lookupRowNodeForCell(r);return!!s&&r.column.isCellEditable(s)},o.prototype.getCellByPosition=function(r){var s=this.rowRenderer.getRowByPosition(r);return s?s.getCellCtrl(r.column):null},o.prototype.lookupRowNodeForCell=function(r){return r.rowPinned===Ee.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):r.rowPinned===Ee.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)},o.prototype.navigateToNextCell=function(r,s,u,c){for(var _=u,C=!1;_&&(_===u||!this.isValidNavigateCell(_));)this.gridOptionsWrapper.isEnableRtl()?s===at.LEFT&&(_=this.getLastCellOfColSpan(_)):s===at.RIGHT&&(_=this.getLastCellOfColSpan(_)),C=Z(_=this.cellNavigationService.getNextCellToFocus(s,_));if(C&&r&&r.keyCode===at.UP&&(_={rowIndex:-1,rowPinned:null,column:u.column}),c){var A=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(Q(A)){var k=A({key:s,previousCellPosition:u,nextCellPosition:_||null,event:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});Q(k)?(k.floating&&(Jt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),k.rowPinned=k.floating),_={rowPinned:k.rowPinned,rowIndex:k.rowIndex,column:k.column}):_=null}}if(_){if(_.rowIndex<0){var W=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:W+_.rowIndex,column:u.column},event:r||void 0})}var ee=this.getNormalisedPosition(_);ee?this.focusPosition(ee):this.tryToFocusFullWidthRow(_)}},o.prototype.getNormalisedPosition=function(r){this.ensureCellVisible(r);var s=this.getCellByPosition(r);return s?(r=s.getCellPosition(),this.ensureCellVisible(r),r):null},o.prototype.tryToFocusFullWidthRow=function(r,s){void 0===s&&(s=!1);var u=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(r);if(!c||!c.isFullWidth())return!1;var _={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(s?ke(u):u[0])};return this.focusPosition(_),!0},o.prototype.focusPosition=function(r){this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(r)},o.prototype.isValidNavigateCell=function(r){return!!this.rowPositionUtils.getRowNode(r)},o.prototype.getLastCellOfColSpan=function(r){var s=this.getCellByPosition(r);if(!s)return r;var u=s.getColSpanningList();return 1===u.length?r:{rowIndex:r.rowIndex,column:ke(u),rowPinned:r.rowPinned}},o.prototype.ensureCellVisible=function(r){Z(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},ks([Y("mouseEventService")],o.prototype,"mouseEventService",void 0),ks([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),ks([Y("focusService")],o.prototype,"focusService",void 0),ks([Y("animationFrameService")],o.prototype,"animationFrameService",void 0),ks([Tt("rangeService")],o.prototype,"rangeService",void 0),ks([Y("columnModel")],o.prototype,"columnModel",void 0),ks([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),ks([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),ks([Y("headerNavigationService")],o.prototype,"headerNavigationService",void 0),ks([Y("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),ks([Y("cellNavigationService")],o.prototype,"cellNavigationService",void 0),ks([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ks([se],o.prototype,"postConstruct",null),ks([Le("navigationService")],o)}(ot),MT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Sy=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},hw=function(d,o){return function(r,s){o(r,s,d)}},h0=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.scrollY=0,r.uiBodyHeight=0,r}return MT(o,d),o.prototype.agWire=function(r){this.logger=r.create("RowContainerHeightService")},o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ae.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=un(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},o.prototype.isStretching=function(){return this.stretching},o.prototype.getDivStretchOffset=function(){return this.divStretchOffset},o.prototype.updateOffset=function(){if(this.stretching){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,u=this.getUiBodyHeight();(s!==this.scrollY||u!==this.uiBodyHeight)&&(this.scrollY=s,this.uiBodyHeight=u,this.calculateOffset())}},o.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var r=this.scrollY/this.maxScrollY,s=r*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+s+" ("+this.pixelsToShave+" * "+r+")"),this.setDivStretchOffset(s)},o.prototype.setUiContainerHeight=function(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},o.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},o.prototype.setDivStretchOffset=function(r){var s="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==s&&(this.divStretchOffset=s,this.eventService.dispatchEvent({type:ae.EVENT_HEIGHT_SCALE_CHANGED}))},o.prototype.setModelHeight=function(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},o.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},o.prototype.getRealPixelPosition=function(r){return r-this.divStretchOffset},o.prototype.getUiBodyHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return s.bottom-s.top},o.prototype.getScrollPositionForPixel=function(r){if(this.pixelsToShave<=0)return r;var s=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/s)},Sy([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Sy([hw(0,vn("loggerFactory"))],o.prototype,"agWire",null),Sy([se],o.prototype,"postConstruct",null),Sy([Le("rowContainerHeightService")],o)}(ot),PT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),mg=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$p=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return PT(o,d),o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},o.prototype.updateSelectableAfterGrouping=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(u){return u.childrenAfterGroup})},o.prototype.updateSelectableAfterFiltering=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(u){return u.childrenAfterFilter})},o.prototype.recurseDown=function(r,s){var u=this;!r||r.forEach(function(c){var _;c.group&&(c.hasChildren()&&u.recurseDown(s(c),s),_=u.groupSelectsChildren?Q(he(s(c),"selectable",!0)):!!u.isRowSelectableFunc&&u.isRowSelectableFunc(c),c.setRowSelectable(_))})},mg([se],o.prototype,"init",null),mg([Le("selectableService")],o)}(ot),pw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fr=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},_g=function(d){function o(){var r=d.call(this)||this;return r.previousAndFirstButtonsDisabled=!1,r.nextButtonDisabled=!1,r.lastButtonDisabled=!1,r}return pw(o,d),o.prototype.postConstruct=function(){var r=this,s=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Wi(s?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Wi(s?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Wi(s?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Wi(s?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(_){var C=_.el,A=_.fn;r.addManagedListener(C,"click",A),r.addManagedListener(C,"keydown",function(x){(x.keyCode===at.ENTER||x.keyCode===at.SPACE)&&(x.preventDefault(),A())})}),this.onPaginationChanged()):this.setDisplayed(!1)},o.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},o.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},o.prototype.setCurrentPageLabel=function(){var r=this.paginationProxy.getTotalPages()>0,s=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(r?s+1:0)},o.prototype.formatNumber=function(r){var s=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return s?s({value:r}):Ts(r)},o.prototype.getTemplate=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=r("page","Page"),u=r("to","to"),c=r("of","of"),_=r("firstPage","First Page"),C=r("previousPage","Previous Page"),A=r("nextPage","Next Page"),x=r("lastPage","Last Page"),k=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+k+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+k+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+k+'-to">'+u+'</span>\n                    <span id="ag-'+k+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+k+'-of">'+c+'</span>\n                    <span id="ag-'+k+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+_+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+C+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+k+'-start-page">'+s+'</span>\n                        <span id="ag-'+k+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+k+'-of-page">'+c+'</span>\n                        <span id="ag-'+k+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+A+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+x+'" tabindex="0"></div>\n                </span>\n            </div>'},o.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},o.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},o.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},o.prototype.enableOrDisableButtons=function(){var r=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,vt(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),Is(this.btFirst,this.previousAndFirstButtonsDisabled),vt(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),Is(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=s&&r===u-1||c,vt(this.btNext,"ag-disabled",this.nextButtonDisabled),Is(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!s||c||r===u-1,vt(this.btLast,"ag-disabled",this.lastButtonDisabled),Is(this.btLast,this.lastButtonDisabled)},o.prototype.updateRowLabels=function(){var _,C,r=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.getPageSize(),u=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?_=C=0:(C=(_=s*r+1)+s-1,u&&C>c&&(C=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(_),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(C)},o.prototype.isZeroPagesToDisplay=function(){var r=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();return r&&0===s},o.prototype.setTotalLabels=function(){var r=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages(),u=r?this.paginationProxy.getMasterRowCount():null;if(1===u){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.innerHTML=this.formatNumber(s),this.lbRecordCount.innerHTML=this.formatNumber(u);else{var C=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=C,this.lbRecordCount.innerHTML=C}},o.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Fr([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),Fr([Y("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),Fr([Ke("btFirst")],o.prototype,"btFirst",void 0),Fr([Ke("btPrevious")],o.prototype,"btPrevious",void 0),Fr([Ke("btNext")],o.prototype,"btNext",void 0),Fr([Ke("btLast")],o.prototype,"btLast",void 0),Fr([Ke("lbRecordCount")],o.prototype,"lbRecordCount",void 0),Fr([Ke("lbFirstRowOnPage")],o.prototype,"lbFirstRowOnPage",void 0),Fr([Ke("lbLastRowOnPage")],o.prototype,"lbLastRowOnPage",void 0),Fr([Ke("lbCurrent")],o.prototype,"lbCurrent",void 0),Fr([Ke("lbTotal")],o.prototype,"lbTotal",void 0),Fr([se],o.prototype,"postConstruct",null),o}(Sn),p0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),au=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.polyfillFunctions=[],r}return p0(o,d),o.prototype.observeResize=function(r,s){var k,u=this,c=St(s,50),A=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!A?((k=new window.ResizeObserver(c)).observe(r),function(){return k.disconnect()}):function(){var k=cd(r),W=Vl(r),ee=!0,le=function(){if(ee){var ce=cd(r),Me=Vl(r);(ce!==k||Me!==W)&&(k=ce,W=Me,s()),u.doNextPolyfillTurn(le)}};return le(),function(){return ee=!1}}()},o.prototype.doNextPolyfillTurn=function(r){this.polyfillFunctions.push(r),this.schedulePolyfill()},o.prototype.schedulePolyfill=function(){var r=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var u=r.polyfillFunctions;r.polyfillScheduled=!1,r.polyfillFunctions=[],u.forEach(function(c){return c()})},50))},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("resizeObserverService")],o)}(ot),yg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Sr=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ja=(()=>(function(d){d[d.Loading=0]="Loading",d[d.NoRows=1]="NoRows"}(ja||(ja={})),ja))(),Bm=function(d){function o(){var r=d.call(this,o.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r}return yg(o,d),o.prototype.updateLayoutClasses=function(r,s){vt(this.eOverlayWrapper,q.LBn.AUTO_HEIGHT,s.autoHeight),vt(this.eOverlayWrapper,q.LBn.NORMAL,s.normal),vt(this.eOverlayWrapper,q.LBn.PRINT,s.print)},o.prototype.postConstruct=function(){this.createManagedBean(new ag(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},o.prototype.setWrapperTypeClass=function(r){vt(this.eOverlayWrapper,"ag-overlay-loading-wrapper",r===ja.Loading),vt(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",r===ja.NoRows)},o.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var r={api:this.gridOptionsWrapper.getApi()},u=this.userComponentFactory.getLoadingOverlayCompDetails(r).newAgStackInstance();this.showOverlay(u,ja.Loading)}},o.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var r={api:this.gridOptionsWrapper.getApi()},u=this.userComponentFactory.getNoRowsOverlayCompDetails(r).newAgStackInstance();this.showOverlay(u,ja.NoRows)}},o.prototype.showOverlay=function(r,s){var u=this;this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,r&&r.then(function(c){u.inProgress=!1,u.eOverlayWrapper.appendChild(c.getGui()),u.activeOverlay=c,u.destroyRequested&&(u.destroyRequested=!1,u.destroyActiveOverlay())}),this.setDisplayed(!0))},o.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),oo(this.eOverlayWrapper))},o.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},o.prototype.destroy=function(){this.destroyActiveOverlay(),d.prototype.destroy.call(this)},o.prototype.showOrHideOverlay=function(){var r=this.paginationProxy.isEmpty(),s=this.gridOptionsWrapper.isSuppressNoRowsOverlay();r&&!s?this.showNoRowsOverlay():this.hideOverlay()},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},o.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Sr([Y("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Sr([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),Sr([Y("gridApi")],o.prototype,"gridApi",void 0),Sr([Y("columnModel")],o.prototype,"columnModel",void 0),Sr([Ke("eOverlayWrapper")],o.prototype,"eOverlayWrapper",void 0),Sr([se],o.prototype,"postConstruct",null),o}(Sn),Wn=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jn=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Rn=function(d){function o(r){void 0===r&&(r={});var s=d.call(this,o.getTemplate(r))||this;s.suppressEnabledCheckbox=!0,s.suppressOpenCloseIcons=!1;var c=r.enabled,_=r.items,C=r.suppressEnabledCheckbox,A=r.suppressOpenCloseIcons;return s.title=r.title,s.cssIdentifier=r.cssIdentifier||"default",s.enabled=null==c||c,s.items=_||[],s.alignItems=r.alignItems||"center",null!=C&&(s.suppressEnabledCheckbox=C),null!=A&&(s.suppressOpenCloseIcons=A),s}return Wn(o,d),o.getTemplate=function(r){var s=r.cssIdentifier||"default";return'<div class="ag-group ag-'+s+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+s+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+s+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+s+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(r.direction||"vertical")+" ag-"+s+'-group-container"></div>\n        </div>'},o.prototype.postConstruct=function(){if(this.items.length){var r=this.items;this.items=[],this.addItems(r)}var s=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(s("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},o.prototype.setupExpandContract=function(){var r=this;this.eGroupClosedIcon.appendChild(ao("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(ao("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return r.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(s){switch(s.keyCode){case at.ENTER:case at.SPACE:s.preventDefault(),r.toggleGroupExpand();break;case at.RIGHT:case at.LEFT:s.preventDefault(),r.toggleGroupExpand(s.keyCode===at.RIGHT)}})},o.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||hd(this.eTitleBar,this.expanded)},o.prototype.refreshChildDisplay=function(){var r=!this.suppressOpenCloseIcons;di(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),di(this.eGroupOpenedIcon,r&&this.expanded),di(this.eGroupClosedIcon,r&&!this.expanded)},o.prototype.isExpanded=function(){return this.expanded},o.prototype.setAlignItems=function(r){var s=this.getGui();return this.alignItems!==r&&Cr(s,"ag-group-item-alignment-"+this.alignItems),this.alignItems=r,ut(s,"ag-group-item-alignment-"+this.alignItems),this},o.prototype.toggleGroupExpand=function(r){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),di(this.eContainer,!0),this):(this.expanded===(r=null!=r?r:!this.expanded)||(this.expanded=r,this.refreshAriaStatus(),this.refreshChildDisplay(),di(this.eContainer,r),this.dispatchEvent({type:this.expanded?o.EVENT_EXPANDED:o.EVENT_COLLAPSED})),this)},o.prototype.addItems=function(r){var s=this;r.forEach(function(u){return s.addItem(u)})},o.prototype.addItem=function(r){var s=this.eContainer,u=r instanceof Sn?r.getGui():r;ut(u,"ag-group-item"),ut(u,"ag-"+this.cssIdentifier+"-group-item"),s.appendChild(u),this.items.push(u)},o.prototype.hideItem=function(r,s){vt(this.items[s],"ag-hidden",r)},o.prototype.setTitle=function(r){return this.eTitle.innerText=r,this},o.prototype.addCssClassToTitleBar=function(r){ut(this.eTitleBar,r)},o.prototype.setEnabled=function(r,s){return this.enabled=r,this.refreshDisabledStyles(),this.toggleGroupExpand(r),s||this.cbGroupEnabled.setValue(r),this},o.prototype.isEnabled=function(){return this.enabled},o.prototype.onEnableChange=function(r){var s=this;return this.cbGroupEnabled.onValueChange(function(u){s.setEnabled(u,!0),r(u)}),this},o.prototype.hideEnabledCheckbox=function(r){return this.suppressEnabledCheckbox=r,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},o.prototype.hideOpenCloseIcons=function(r){return this.suppressOpenCloseIcons=r,r&&this.toggleGroupExpand(!0),this},o.prototype.refreshDisabledStyles=function(){vt(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(ut(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(Cr(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),vt(this.eContainer,"ag-disabled-group-container",!this.enabled)},o.EVENT_EXPANDED="expanded",o.EVENT_COLLAPSED="collapsed",jn([Ke("eTitleBar")],o.prototype,"eTitleBar",void 0),jn([Ke("eGroupOpenedIcon")],o.prototype,"eGroupOpenedIcon",void 0),jn([Ke("eGroupClosedIcon")],o.prototype,"eGroupClosedIcon",void 0),jn([Ke("eToolbar")],o.prototype,"eToolbar",void 0),jn([Ke("cbGroupEnabled")],o.prototype,"cbGroupEnabled",void 0),jn([Ke("eTitle")],o.prototype,"eTitle",void 0),jn([Ke("eContainer")],o.prototype,"eContainer",void 0),jn([se],o.prototype,"postConstruct",null),o}(Sn),El=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Di=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ju=function(d){function o(r,s){var u=d.call(this)||this;return u.element=r,u.dragStartPosition={x:0,y:0},u.position={x:0,y:0},u.lastSize={width:-1,height:-1},u.positioned=!1,u.resizersAdded=!1,u.resizeListeners=[],u.boundaryEl=null,u.isResizing=!1,u.isMoving=!1,u.resizable={},u.movable=!1,u.currentResizer=null,u.config=Ai({},{popup:!1},s),u}return El(o,d),o.prototype.center=function(){var r=this.offsetParent,s=r.clientHeight,c=r.clientWidth/2-this.getWidth()/2,_=s/2-this.getHeight()/2;this.offsetElement(c,_)},o.prototype.initialisePosition=function(){var r=this.config,s=r.centered,u=r.forcePopupParentAsOffsetParent,c=r.minWidth,_=r.width,C=r.minHeight,A=r.height,x=r.x,k=r.y;this.offsetParent||this.setOffsetParent();var W=0,ee=0,le=!!this.element.offsetParent;if(le){var ce=this.findBoundaryElement(),Me=window.getComputedStyle(ce);if(null!=Me.minWidth){var He=ce.offsetWidth-this.element.offsetWidth;ee=parseInt(Me.minWidth,10)-He}if(null!=Me.minHeight){var ht=ce.offsetHeight-this.element.offsetHeight;W=parseInt(Me.minHeight,10)-ht}}if(this.minHeight=C||W,this.minWidth=c||ee,_&&this.setWidth(_),A&&this.setHeight(A),(!_||!A)&&this.refreshSize(),s)this.center();else if(x||k)this.offsetElement(x,k);else if(le&&u&&this.boundaryEl){var nt=parseFloat(this.boundaryEl.style.top),Qe=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Qe)?0:Qe,isNaN(nt)?0:nt)}this.positioned=!!this.offsetParent},o.prototype.isPositioned=function(){return this.positioned},o.prototype.getPosition=function(){return this.position},o.prototype.setMovable=function(r,s){if(this.config.popup&&r!==this.movable){this.movable=r;var u=this.moveElementDragListener||{eElement:s,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(u),this.moveElementDragListener=u):(this.dragService.removeDragSource(u),this.moveElementDragListener=void 0)}},o.prototype.setResizable=function(r){var s=this;if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(function(u){var _=!!r[u],C=s.getResizerElement(u),A={dragStartPixels:0,eElement:C,onDragStart:function(x){return s.onResizeStart(x,u)},onDragging:s.onResize.bind(s),onDragStop:function(x){return s.onResizeEnd(x,u)}};(!!s.resizable[u]!==_||!s.isAlive()&&!_)&&(_?(s.dragService.addDragSource(A),s.resizeListeners.push(A),C.style.pointerEvents="all"):C.style.pointerEvents="none")})},o.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},o.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var r=this.lastSize,s=r.height,u=r.width;-1!==u&&(this.element.style.width=u+"px"),-1!==s&&(this.element.style.height=s+"px")},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setHeight=function(r){var s=this.config.popup,u=this.element,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Ri(u,r),r=Go(u),c=!0;else if(this.positioned){var _=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect();r=Math.max(this.minHeight,r);var A=this.offsetParent.clientHeight,x=s?this.position.y:_.top;A&&r+x>A+(s?0:C.top)&&(r=A-x)}this.getHeight()!==r&&(c?(u.style.maxHeight="unset",u.style.minHeight="unset"):s?Ri(u,r):(u.style.height=r+"px",u.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))},o.prototype.getWidth=function(){return this.element.offsetWidth},o.prototype.setWidth=function(r){var s=this.element,u=this.config.popup,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Pi(s,r),r=Bl(s),c=!0;else if(this.positioned){r=Math.max(this.minWidth,r);var _=this.offsetParent.clientWidth,C=u?this.position.x:this.element.getBoundingClientRect().left;_&&r+C>_&&(r=_-C)}this.getWidth()!==r&&(c?(s.style.maxWidth="unset",s.style.minWidth="unset"):this.config.popup?Pi(s,r):(s.style.width=r+"px",s.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))},o.prototype.offsetElement=function(r,s){void 0===r&&(r=0),void 0===s&&(s=0);var u=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:u,x:r,y:s,keepWithinBounds:!0}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top))},o.prototype.setPosition=function(r,s){this.position.x=r,this.position.y=s},o.prototype.updateDragStartPosition=function(r,s){this.dragStartPosition={x:r,y:s}},o.prototype.calculateMouseMovement=function(r){var s=r.e,c=r.isTop,C=r.topBuffer,A=s.clientX-this.dragStartPosition.x,x=s.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(s,!!r.isLeft,!!r.anywhereWithin,A)?0:A,movementY:this.shouldSkipY(s,!!c,C,x)?0:x}},o.prototype.shouldSkipX=function(r,s,u,c){var _=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),A=this.boundaryEl.getBoundingClientRect(),x=this.config.popup?this.position.x:_.left,k=x<=0&&C.left>=r.clientX||C.right<=r.clientX&&C.right<=A.right;return!!k||(s?c<0&&r.clientX>x+C.left||c>0&&r.clientX<x+C.left:u?c<0&&r.clientX>A.right||c>0&&r.clientX<x+C.left:c<0&&r.clientX>A.right||c>0&&r.clientX<A.right)},o.prototype.shouldSkipY=function(r,s,u,c){void 0===u&&(u=0);var _=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),A=this.boundaryEl.getBoundingClientRect(),x=this.config.popup?this.position.y:_.top,k=x<=0&&C.top>=r.clientY||C.bottom<=r.clientY&&C.bottom<=A.bottom;return!!k||(s?c<0&&r.clientY>x+C.top+u||c>0&&r.clientY<x+C.top:c<0&&r.clientY>A.bottom||c>0&&r.clientY<A.bottom)},o.prototype.createResizeMap=function(){var r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}},o.prototype.addResizers=function(){if(!this.resizersAdded){var r=this.element;if(r){var u=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;r.appendChild(u.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},o.prototype.removeResizers=function(){this.resizerMap=void 0;var r=this.element.querySelector(".ag-resizer-wrapper");r&&this.element.removeChild(r),this.resizersAdded=!1},o.prototype.getResizerElement=function(r){return this.resizerMap[r].element},o.prototype.onResizeStart=function(r,s){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!s.match(/top/i),isRight:!!s.match(/right/i),isBottom:!!s.match(/bottom/i),isLeft:!!s.match(/left/i)},ut(this.element,"ag-resizing"),ut(this.resizerMap[s].element,"ag-active");var u=this.config;!u.popup&&!u.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)},o.prototype.getSiblings=function(){var s=this.element.parentElement;return s?Array.prototype.slice.call(s.children).filter(function(u){return!Rr(u,"ag-hidden")}):null},o.prototype.getMinSizeOfSiblings=function(){for(var r=this.getSiblings()||[],s=0,u=0,c=0;c<r.length;c++){var _=r[c];if(_!==this.element){var A=this.minHeight||0,x=this.minWidth||0;if(_.style.flex&&"0 0 auto"!==_.style.flex){var k=window.getComputedStyle(_);k.minHeight&&(A=parseInt(k.minHeight,10)),k.minWidth&&(x=parseInt(k.minWidth,10))}else A=_.offsetHeight,x=_.offsetWidth;s+=A,u+=x}}return{height:s,width:u}},o.prototype.applySizeToSiblings=function(r){var s=null,u=this.getSiblings();if(u){for(var c=0;c<u.length;c++){var _=u[c];_!==s&&(r?_.style.height=_.offsetHeight+"px":_.style.width=_.offsetWidth+"px",_.style.flex="0 0 auto",_===this.element&&(s=u[c+1]))}s&&(s.style.removeProperty("height"),s.style.removeProperty("min-height"),s.style.removeProperty("max-height"),s.style.flex="1 1 auto")}},o.prototype.onResize=function(r){if(this.isResizing&&this.currentResizer){var s=this.config,u=s.popup,c=s.forcePopupParentAsOffsetParent,_=this.currentResizer,C=_.isTop,k=_.isLeft,W=_.isRight||k,ee=_.isBottom||C,le=this.calculateMouseMovement({e:r,isLeft:k,isTop:C}),ce=le.movementX,Me=le.movementY,He=this.position.x,ht=this.position.y,nt=0,Qe=0;if(W&&ce){var _t=k?-1:1,Zt=this.getWidth(),zn=Zt+ce*_t,hn=!1;k&&(He+(nt=Zt-zn)<=0||zn<=this.minWidth)&&(hn=!0,nt=0),hn||this.setWidth(zn)}if(ee&&Me){_t=C?-1:1;var Vn=this.getHeight(),ni=Vn+Me*_t,hi=!1;C?(ht+(Qe=Vn-ni)<=0||ni<=this.minHeight)&&(hi=!0,Qe=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Vn<ni&&this.getMinSizeOfSiblings().height+ni>this.element.parentElement.offsetHeight&&(hi=!0),hi||this.setHeight(ni)}this.updateDragStartPosition(r.clientX,r.clientY),((u||c)&&nt||Qe)&&this.offsetElement(He+nt,ht+Qe)}},o.prototype.onResizeEnd=function(r,s){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var u={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};Cr(this.element,"ag-resizing"),Cr(this.resizerMap[s].element,"ag-active"),this.dispatchEvent(u)},o.prototype.refreshSize=function(){var r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))},o.prototype.onMoveStart=function(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,ut(this.element,"ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)},o.prototype.onMove=function(r){if(this.isMoving){var _,s=this.position,u=s.x,c=s.y;this.config.calculateTopBuffer&&(_=this.config.calculateTopBuffer());var C=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:_});this.offsetElement(u+C.movementX,c+C.movementY),this.updateDragStartPosition(r.clientX,r.clientY)}},o.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,Cr(this.element,"ag-moving")},o.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},o.prototype.findBoundaryElement=function(){for(var r=this.element;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element},o.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}},o.prototype.destroy=function(){d.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Di([Y("popupService")],o.prototype,"popupService",void 0),Di([Y("dragService")],o.prototype,"dragService",void 0),o}(ot),Yp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ti=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Dn=function(d){function o(r){var s=d.call(this,o.getTemplate(r))||this;return s.closable=!0,s.config=r,s}return Yp(o,d),o.getTemplate=function(r){var s=r&&r.cssIdentifier||"default";return'<div class="ag-panel ag-'+s+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+s+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+s+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+s+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+s+'-panel-content-wrapper"></div>\n        </div>'},o.prototype.postConstruct=function(){var r=this,s=this.config,u=s.component,c=s.closable,_=s.hideTitleBar,C=s.title,A=s.minWidth,x=void 0===A?250:A,k=s.width,W=s.minHeight,ee=void 0===W?250:W,le=s.height,ce=s.centered,Me=s.popup,He=s.x,ht=s.y;this.positionableFeature=new ju(this.getGui(),{minWidth:x,width:k,minHeight:ee,height:le,centered:ce,x:He,y:ht,popup:Me,calculateTopBuffer:function(){return r.positionableFeature.getHeight()-r.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var nt=this.getGui();u&&this.setBodyComponent(u),_?ut(this.eTitleBar,"ag-hidden"):(C&&this.setTitle(C),this.setClosable(null!=c?c:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Qe){if(nt.contains(Qe.relatedTarget)||nt.contains(document.activeElement)||r.eTitleBarButtons.contains(Qe.target))Qe.preventDefault();else{var _t=r.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");_t&&_t.focus()}}),(!Me||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},o.prototype.renderComponent=function(){var r=this,s=this.getGui();s.focus(),this.close=function(){s.parentElement.removeChild(s),r.destroy()}},o.prototype.getHeight=function(){return this.positionableFeature.getHeight()},o.prototype.setHeight=function(r){this.positionableFeature.setHeight(r)},o.prototype.getWidth=function(){return this.positionableFeature.getWidth()},o.prototype.setWidth=function(r){this.positionableFeature.setWidth(r)},o.prototype.setClosable=function(r){if(r!==this.closable&&(this.closable=r),r){var s=this.closeButtonComp=new Sn(o.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s),(u=s.getGui()).appendChild(ut(Wi("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(s),s.addManagedListener(u,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var u;(u=this.closeButtonComp.getGui()).parentElement.removeChild(u),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},o.prototype.setBodyComponent=function(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())},o.prototype.addTitleBarButton=function(r,s){var u=this.eTitleBarButtons,c=u.children,_=c.length;null==s&&(s=_),s=Math.max(0,Math.min(s,_));var C=r.getGui();ut(C,"ag-panel-title-bar-button"),0===s?u.insertAdjacentElement("afterbegin",C):s===_?u.insertAdjacentElement("beforeend",C):c[s-1].insertAdjacentElement("afterend",C),r.setParentComponent(this)},o.prototype.getBodyHeight=function(){return xa(this.eContentWrapper)},o.prototype.getBodyWidth=function(){return Ki(this.eContentWrapper)},o.prototype.setTitle=function(r){this.eTitle.innerText=r},o.prototype.onBtClose=function(){this.close()},o.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var r=this.getGui();r&&r.offsetParent&&this.close(),d.prototype.destroy.call(this)},o.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Ti([Ke("eContentWrapper")],o.prototype,"eContentWrapper",void 0),Ti([Ke("eTitleBar")],o.prototype,"eTitleBar",void 0),Ti([Ke("eTitleBarButtons")],o.prototype,"eTitleBarButtons",void 0),Ti([Ke("eTitle")],o.prototype,"eTitle",void 0),Ti([se],o.prototype,"postConstruct",null),o}(Sn),Ls=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Vm=function(){return(Vm=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},fa=function(d){function o(r){var s=d.call(this,Vm(Vm({},r),{popup:!0}))||this;return s.isMaximizable=!1,s.isMaximized=!1,s.maximizeListeners=[],s.resizeListenerDestroy=null,s.lastPosition={x:0,y:0,width:0,height:0},s}return Ls(o,d),o.prototype.postConstruct=function(){var r=this,s=this.getGui(),u=this.config,c=u.movable,_=u.resizable,C=u.maximizable;ut(s,"ag-dialog"),d.prototype.postConstruct.call(this),this.addManagedListener(s,"focusin",function(A){s.contains(A.relatedTarget)||r.popupService.bringPopupToFront(s)}),c&&this.setMovable(c),C&&this.setMaximizable(C),_&&this.setResizable(_)},o.prototype.renderComponent=function(){var r=this.getGui(),s=this.config,u=s.alwaysOnTop,c=s.modal,_=s.title,C=this.gridOptionsWrapper.getLocaleTextFunc(),A=this.popupService.addPopup({modal:c,eChild:r,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:u,ariaLabel:_||C("ariaLabelDialog","Dialog")});A&&(this.close=A.hideFunc)},o.prototype.toggleMaximize=function(){var r=this.positionableFeature.getPosition();if(this.isMaximized){var s=this.lastPosition,u=s.x,c=s.y,C=s.height;this.setWidth(s.width),this.setHeight(C),this.positionableFeature.offsetElement(u,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},o.prototype.refreshMaximizeIcon=function(){di(this.maximizeIcon,!this.isMaximized),di(this.minimizeIcon,this.isMaximized)},o.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(r){return r()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},o.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),d.prototype.destroy.call(this)},o.prototype.setResizable=function(r){this.positionableFeature.setResizable(r)},o.prototype.setMovable=function(r){this.positionableFeature.setMovable(r,this.eTitleBar)},o.prototype.setMaximizable=function(r){var s=this;if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var u=this.eTitleBar;if(u&&r!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new Sn('<div class="ag-dialog-button"></span>')),_=c.getGui();_.appendChild(this.maximizeIcon=Wi("maximize",this.gridOptionsWrapper)),ut(this.maximizeIcon,"ag-panel-title-bar-button-icon"),_.appendChild(this.minimizeIcon=Wi("minimize",this.gridOptionsWrapper)),ut(this.minimizeIcon,"ag-panel-title-bar-button-icon"),ut(this.minimizeIcon,"ag-hidden"),c.addManagedListener(_,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(u,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){s.isMaximized=!1,s.refreshMaximizeIcon()})}},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([Y("popupService")],o.prototype,"popupService",void 0),o}(Dn),f0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ty=function(d){function o(r,s,u){return void 0===s&&(s="ag-text-field"),void 0===u&&(u="text"),d.call(this,r,s,u)||this}return f0(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},o.prototype.setValue=function(r,s){var u=d.prototype.setValue.call(this,r,s);return this.eInput.value!==r&&(this.eInput.value=Q(r)?r:""),u},o.prototype.preventDisallowedCharacters=function(){var r=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(u){u.key&&!r.test(u.key)&&u.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(u){Un(u.clipboardData.getData("text"),function(_){return!r.test(_)})&&u.preventDefault()})},o}(ml),g0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ay=function(d){function o(r){return d.call(this,r,"ag-text-area",null,"textarea")||this}return g0(o,d),o.prototype.setValue=function(r,s){var u=d.prototype.setValue.call(this,r,s);return this.eInput.value=r,u},o.prototype.setCols=function(r){return this.eInput.cols=r,this},o.prototype.setRows=function(r){return this.eInput.rows=r,this},o}(ml),Ih=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Cg=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},qp=function(d){function o(r){var s=d.call(this,r,o.TEMPLATE)||this;return s.labelAlignment="top",s}return Ih(o,d),o.prototype.init=function(){ut(this.eSlider.getGui(),"ag-slider-field")},o.prototype.onValueChange=function(r){var s=this,u=bt.EVENT_CHANGED;return this.addManagedListener(this.eText,u,function(){var c=parseFloat(s.eText.getValue());s.eSlider.setValue(c.toString(),!0),r(c||0)}),this.addManagedListener(this.eSlider,u,function(){var c=s.eSlider.getValue();s.eText.setValue(c,!0),r(parseFloat(c))}),this},o.prototype.setSliderWidth=function(r){return this.eSlider.setWidth(r),this},o.prototype.setTextFieldWidth=function(r){return this.eText.setWidth(r),this},o.prototype.setMinValue=function(r){return this.eSlider.setMinValue(r),this.eText.setMin(r),this},o.prototype.setMaxValue=function(r){return this.eSlider.setMaxValue(r),this.eText.setMax(r),this},o.prototype.getValue=function(){return this.eText.getValue()},o.prototype.setValue=function(r){return this.getValue()===r||(this.eText.setValue(r,!0),this.eSlider.setValue(r,!0),this.dispatchEvent({type:bt.EVENT_CHANGED})),this},o.prototype.setStep=function(r){return this.eSlider.setStep(r),this.eText.setStep(r),this},o.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Cg([Ke("eLabel")],o.prototype,"eLabel",void 0),Cg([Ke("eSlider")],o.prototype,"eSlider",void 0),Cg([Ke("eText")],o.prototype,"eText",void 0),Cg([se],o.prototype,"init",null),o}(it),FT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hc=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},fw=function(d){function o(r){var s=d.call(this,o.TEMPLATE)||this;return s.H=1,s.S=1,s.B=1,s.A=1,s.isSpectrumDragging=!1,s.isSpectrumHueDragging=!1,s.isSpectrumAlphaDragging=!1,s.colorChanged=!1,s.picker=r.picker,s}return FT(o,d),o.prototype.postConstruct=function(){var r=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},o.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},o.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},o.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},o.prototype.onSpectrumDraggerDown=function(r){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(r)},o.prototype.onSpectrumDraggerMove=function(r){this.isSpectrumDragging&&this.moveDragger(r)},o.prototype.onSpectrumHueDown=function(r){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(r)},o.prototype.onSpectrumHueMove=function(r){this.isSpectrumHueDragging&&this.moveHueSlider(r)},o.prototype.onSpectrumAlphaDown=function(r){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(r)},o.prototype.onSpectrumAlphaMove=function(r){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(r)},o.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},o.prototype.moveDragger=function(r){var s=this.spectrumValRect;if(s){var u=r.clientX-s.left,c=r.clientY-s.top;u=Math.max(u,0),u=Math.min(u,s.width),c=Math.max(c,0),c=Math.min(c,s.height),this.setSpectrumValue(u/s.width,1-c/s.height)}},o.prototype.moveHueSlider=function(r){var s=this.spectrumHueRect;if(s){var u=this.spectrumHueSlider,c=u.getBoundingClientRect(),_=r.clientX-s.left;_=Math.max(_,0),_=Math.min(_,s.width),this.H=1-_/s.width,u.style.left=_+c.width/2+"px",this.update()}},o.prototype.moveAlphaSlider=function(r){var s=this.spectrumAlphaRect;if(s){var u=this.spectrumAlphaSlider,c=u.getBoundingClientRect(),_=r.clientX-s.left;_=Math.max(_,0),_=Math.min(_,s.width),this.A=_/s.width,u.style.left=_+c.width/2+"px",this.update()}},o.prototype.update=function(){var r=bu.fromHSB(360*this.H,this.S,this.B,this.A),s=bu.fromHSB(360*this.H,1,1),u=r.toRgbaString(),c=this.picker;bu.fromString(c.getValue()).toRgbaString()!==u&&(this.colorChanged=!0),c.setValue(u),this.spectrumColor.style.backgroundColor=s.toRgbaString(),this.spectrumDragger.style.backgroundColor=u},o.prototype.setSpectrumValue=function(r,s){var u=this.spectrumValRect||this.refreshSpectrumRect();if(u){var c=this.spectrumDragger,_=c.getBoundingClientRect();r=Math.max(0,r),r=Math.min(1,r),s=Math.max(0,s),s=Math.min(1,s),this.S=r,this.B=s,c.style.left=r*u.width-_.width/2+"px",c.style.top=(1-s)*u.height-_.height/2+"px",this.update()}},o.prototype.initRecentColors=function(){var s=o.recentColors.map(function(u,c){return'<div class="ag-recent-color" id='+c+' style="background-color: '+u+'; width: 15px; height: 15px;" recent-color="'+u+'"></div>'});this.recentColors.innerHTML=s.join("")},o.prototype.setValue=function(r){var s=bu.fromString(r),u=s.toHSB(),c=u[0],_=u[1],C=u[2];this.H=(isNaN(c)?0:c)/360,this.A=s.a;var A=this.spectrumHueRect||this.refreshHueRect(),x=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-A.width+"px",this.spectrumAlphaSlider.style.left=this.A*x.width+"px",this.setSpectrumValue(_,C)},o.prototype.onRecentColorClick=function(r){var s=r.target;if(Q(s.id)){var u=parseInt(s.id,10);this.setValue(o.recentColors[u]),this.destroy()}},o.prototype.addRecentColor=function(){var s=bu.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),u=o.recentColors;!this.colorChanged||u[0]===s||(u=u.filter(function(c){return c!=s}),(u=[s].concat(u)).length>o.maxRecentColors&&(u=u.slice(0,o.maxRecentColors)),o.recentColors=u)},o.prototype.destroy=function(){this.addRecentColor(),d.prototype.destroy.call(this)},o.maxRecentColors=8,o.recentColors=[],o.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Hc([Ke("spectrumColor")],o.prototype,"spectrumColor",void 0),Hc([Ke("spectrumVal")],o.prototype,"spectrumVal",void 0),Hc([Ke("spectrumDragger")],o.prototype,"spectrumDragger",void 0),Hc([Ke("spectrumHue")],o.prototype,"spectrumHue",void 0),Hc([Ke("spectrumHueSlider")],o.prototype,"spectrumHueSlider",void 0),Hc([Ke("spectrumAlpha")],o.prototype,"spectrumAlpha",void 0),Hc([Ke("spectrumAlphaSlider")],o.prototype,"spectrumAlphaSlider",void 0),Hc([Ke("recentColors")],o.prototype,"recentColors",void 0),Hc([se],o.prototype,"postConstruct",null),o}(Sn),kT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),LT=function(d){function o(r){var s=d.call(this,r,"ag-color-picker","colorPicker")||this;return r&&r.color&&(s.value=r.color),s}return kT(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},o.prototype.showPicker=function(){var r=this,s=this.getGui().getBoundingClientRect(),u=this.createBean(new fa({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:s.right-190,y:s.top-250}));this.isPickerDisplayed=!0,ut(u.getGui(),"ag-color-dialog");var c=this.createBean(new fw({picker:this}));return c.addDestroyFunc(function(){u.isAlive()&&r.destroyBean(u)}),u.setParentComponent(this),u.setBodyComponent(c),c.setValue(this.getValue()),u.addDestroyFunc(function(){r.isDestroyingPicker?r.isDestroyingPicker=!1:(r.isDestroyingPicker=!0,c.isAlive()&&r.destroyBean(c)),r.isAlive()&&r.getFocusableElement().focus(),r.isPickerDisplayed=!1}),u},o.prototype.setValue=function(r){return this.value===r?this:(this.eDisplayField.style.backgroundColor=r,d.prototype.setValue.call(this,r))},o.prototype.getValue=function(){return this.value},o}(Xi),GT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ry=function(d){function o(r){return d.call(this,r,"ag-number-field","number")||this}return GT(o,d),o.prototype.postConstruct=function(){var r=this;d.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var s=parseFloat(r.eInput.value),u=isNaN(s)?"":r.normalizeValue(s.toString());r.value!==u&&r.setValue(u)})},o.prototype.normalizeValue=function(r){if(""===r)return"";this.precision&&(r=this.adjustPrecision(r));var s=parseFloat(r);return null!=this.min&&s<this.min?r=this.min.toString():null!=this.max&&s>this.max&&(r=this.max.toString()),r},o.prototype.adjustPrecision=function(r){if(this.precision){var s=parseFloat(r).toFixed(this.precision);r=parseFloat(s).toString()}return r},o.prototype.setMin=function(r){return this.min===r||(this.min=r,Rs(this.eInput,"min",r)),this},o.prototype.setMax=function(r){return this.max===r||(this.max=r,Rs(this.eInput,"max",r)),this},o.prototype.setPrecision=function(r){return this.precision=r,this},o.prototype.setStep=function(r){return this.step===r||(this.step=r,Rs(this.eInput,"step",r)),this},o.prototype.setValue=function(r,s){return(r=this.adjustPrecision(r))!=this.normalizeValue(r)?this:d.prototype.setValue.call(this,r,s)},o}(Ty),Zp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Zn=function(d){function o(r){return d.call(this,r,"ag-range-field","range")||this}return Zp(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this);var r=this.config,s=r.min,u=r.max,c=r.step;null!=s&&this.setMinValue(s),null!=u&&this.setMaxValue(u),this.setStep(c||1)},o.prototype.addInputListeners=function(){var r=this,s=Mi();this.addManagedListener(this.eInput,s?"change":"input",function(c){r.setValue(c.target.value)})},o.prototype.setMinValue=function(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this},o.prototype.setMaxValue=function(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this},o.prototype.setStep=function(r){return this.eInput.setAttribute("step",r.toString()),this},o.prototype.setValue=function(r,s){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());var u=d.prototype.setValue.call(this,r,s);return this.eInput.value=r,u},o}(ml),Iy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},m0=function(d){function o(r){var s=d.call(this,r,o.TEMPLATE)||this;return s.radius=0,s.offsetX=0,s.offsetY=0,s}return Iy(o,d),o.prototype.postConstruct=function(){var r=this;d.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(s){r.parentCircleRect=r.eParentCircle.getBoundingClientRect()},onDragging:function(s){return r.calculateAngleDrag(s)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(s){(null==s||""===s)&&(s="0"),s=r.eAngleValue.normalizeValue(s);var u=parseFloat(s);u>180&&(u-=360),r.setValue(u)}),this.updateNumberInput(),Q(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,bt.EVENT_CHANGED,function(){r.eAngleValue.getInputElement().contains(document.activeElement)||r.updateNumberInput()})},o.prototype.updateNumberInput=function(){var r=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(r.toString())},o.prototype.positionChildCircle=function(r){var s=this.parentCircleRect||{width:24,height:24},u=this.eChildCircle,_=s.height/2;u.style.left=s.width/2+8*Math.cos(r)+"px",u.style.top=_+8*Math.sin(r)+"px"},o.prototype.calculatePolar=function(){var r=this.offsetX,s=this.offsetY,u=Math.atan2(s,r);this.degrees=this.toDegrees(u),this.radius=Math.sqrt(r*r+s*s),this.positionChildCircle(u)},o.prototype.calculateCartesian=function(){var r=this.toRadians(this.getValue()),s=this.getRadius();this.setOffsetX(Math.cos(r)*s).setOffsetY(Math.sin(r)*s)},o.prototype.setOffsetX=function(r){return this.offsetX!==r&&(this.offsetX=r,this.calculatePolar()),this},o.prototype.setOffsetY=function(r){return this.offsetY!==r&&(this.offsetY=r,this.calculatePolar()),this},o.prototype.calculateAngleDrag=function(r){var s=this.parentCircleRect,k=Math.atan2(r.clientY-s.top-s.height/2,r.clientX-s.left-s.width/2);this.setValue(k,!0)},o.prototype.toDegrees=function(r){return r/Math.PI*180},o.prototype.toRadians=function(r){return r/180*Math.PI},o.prototype.normalizeNegativeValue=function(r){return r<0?360+r:r},o.prototype.normalizeAngle180=function(r){return(r%=2*Math.PI)<-Math.PI?r+=2*Math.PI:r>=Math.PI&&(r-=2*Math.PI),r},o.prototype.getRadius=function(){return this.radius},o.prototype.setRadius=function(r){return this.radius===r||(this.radius=r,this.calculateCartesian()),this},o.prototype.onValueChange=function(r){var s=this;return this.addManagedListener(this,bt.EVENT_CHANGED,function(){r(s.degrees)}),this},o.prototype.getValue=function(r){return r?this.toRadians(this.degrees):this.degrees},o.prototype.setValue=function(r,s){var u;return u=s?r:this.normalizeAngle180(this.toRadians(r)),r=this.toDegrees(u),this.degrees!==r&&(this.degrees=Math.floor(r),this.calculateCartesian(),this.positionChildCircle(u),this.dispatchEvent({type:bt.EVENT_CHANGED})),this},o.prototype.setWidth=function(r){return Pi(this.getGui(),r),this},o.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),d.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',xh([Ke("eLabel")],o.prototype,"eLabel",void 0),xh([Ke("eParentCircle")],o.prototype,"eParentCircle",void 0),xh([Ke("eChildCircle")],o.prototype,"eChildCircle",void 0),xh([Ke("eAngleValue")],o.prototype,"eAngleValue",void 0),xh([Y("dragService")],o.prototype,"dragService",void 0),o}(it),Uc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wg=function(d){function o(r){return d.call(this,r,"ag-toggle-button")||this}return Uc(o,d),o.prototype.setValue=function(r,s){return d.prototype.setValue.call(this,r,s),vt(this.getGui(),"ag-selected",this.getValue()),this},o}(Np),Wc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),gw=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},za=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Wc(o,d),o.prototype.getFirstRow=function(){var s,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?s=Ee.PINNED_TOP:this.rowModel.getRowCount()?(s=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(s=Ee.PINNED_BOTTOM),void 0===s?null:{rowIndex:r,rowPinned:s}},o.prototype.getLastRow=function(){var r,s=null,u=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return u?(s=Ee.PINNED_BOTTOM,r=u-1):this.rowModel.getRowCount()?(s=null,r=this.paginationProxy.getPageLastRow()):c&&(s=Ee.PINNED_TOP,r=c-1),void 0===r?null:{rowIndex:r,rowPinned:s}},o.prototype.getRowNode=function(r){switch(r.rowPinned){case Ee.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case Ee.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},o.prototype.sameRow=function(r,s){return!r&&!s||!(r&&!s||!r&&s)&&r.rowIndex===s.rowIndex&&r.rowPinned==s.rowPinned},o.prototype.before=function(r,s){switch(r.rowPinned){case Ee.PINNED_TOP:if(s.rowPinned!==Ee.PINNED_TOP)return!0;break;case Ee.PINNED_BOTTOM:if(s.rowPinned!==Ee.PINNED_BOTTOM)return!1;break;default:if(Q(s.rowPinned))return s.rowPinned!==Ee.PINNED_TOP}return r.rowIndex<s.rowIndex},gw([Y("rowModel")],o.prototype,"rowModel",void 0),gw([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),gw([Y("paginationProxy")],o.prototype,"paginationProxy",void 0),gw([Le("rowPositionUtils")],o)}(ot),BT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xy=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return BT(o,d),o.prototype.createId=function(r){return this.createIdFromValues(r.rowIndex,r.column,r.rowPinned)},o.prototype.createIdFromValues=function(r,s,u){return r+"."+(null==u?"null":u)+"."+s.getId()},o.prototype.equals=function(r,s){return r.column===s.column&&r.rowPinned===s.rowPinned&&r.rowIndex===s.rowIndex},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("cellPositionUtils")],o)}(ot),VT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Oh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Hm=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return VT(o,d),o.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},o.prototype.isEmpty=function(r){return Re(r===Ee.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},o.prototype.isRowsToRender=function(r){return!this.isEmpty(r)},o.prototype.getRowAtPixel=function(r,s){var u=s===Ee.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Re(u))return 0;for(var c=0;c<u.length;c++){var _=u[c];if(_.rowTop+_.rowHeight-1>=r)return c}return u.length-1},o.prototype.setPinnedTopRowData=function(r){this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:ae.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setPinnedBottomRowData=function(r){this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:ae.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.createNodesFromData=function(r,s){var u=this,c=[];if(r){var _=0;r.forEach(function(C,A){var x=new Tn(u.beans);x.data=C,x.id=(s?Tn.ID_PREFIX_TOP_PINNED:Tn.ID_PREFIX_BOTTOM_PINNED)+A,x.rowPinned=s?Ee.PINNED_TOP:Ee.PINNED_BOTTOM,x.setRowTop(_),x.setRowHeight(u.gridOptionsWrapper.getRowHeightForNode(x).height),x.setRowIndex(A),_+=x.rowHeight,c.push(x)})}return c},o.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},o.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},o.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},o.prototype.getPinnedTopRow=function(r){return this.pinnedTopRows[r]},o.prototype.getPinnedBottomRow=function(r){return this.pinnedBottomRows[r]},o.prototype.forEachPinnedTopRow=function(r){Re(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)},o.prototype.forEachPinnedBottomRow=function(r){Re(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)},o.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},o.prototype.getTotalHeight=function(r){if(!r||0===r.length)return 0;var s=ke(r);return s.rowTop+s.rowHeight},Oh([Y("columnApi")],o.prototype,"columnApi",void 0),Oh([Y("gridApi")],o.prototype,"gridApi",void 0),Oh([Y("beans")],o.prototype,"beans",void 0),Oh([se],o.prototype,"init",null),Oh([Le("pinnedRowModel")],o)}(ot),y0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mh=function(o){this.cellValueChanges=o},mw=function(d){function o(r,s,u){var c=d.call(this,r)||this;return c.initialRange=s,c.finalRange=u,c}return y0(o,d),o}(Mh),v0=function(){function d(o){this.actionStack=[],this.maxStackSize=o||d.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return d.prototype.pop=function(){return this.actionStack.pop()},d.prototype.push=function(o){!(o.cellValueChanges&&o.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))},d.prototype.clear=function(){this.actionStack=[]},d.prototype.getCurrentStackSize=function(){return this.actionStack.length},d.DEFAULT_STACK_SIZE=10,d}(),HT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Od=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Sx=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.cellValueChanges=[],r.activeCellEdit=null,r.activeRowEdit=null,r.isPasting=!1,r.isFilling=!1,r.onCellValueChanged=function(s){var u={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned},c=null!==r.activeCellEdit&&r.cellPositionUtils.equals(r.activeCellEdit,u),_=null!==r.activeRowEdit&&r.rowPositionUtils.sameRow(r.activeRowEdit,u);if(c||_||r.isPasting||r.isFilling){var W=s.oldValue,ee=s.value,le={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:s.column.getColId(),newValue:ee,oldValue:W};r.cellValueChanges.push(le)}},r.clearStacks=function(){r.undoStack.clear(),r.redoStack.clear()},r}return HT(o,d),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var r=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();r<=0||(this.undoStack=new v0(r),this.redoStack=new v0(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,ae.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},o.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},o.prototype.undo=function(){if(this.undoStack){var r=this.undoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(s){return s.oldValue}),r instanceof mw?this.processRangeAndCellFocus(r.cellValueChanges,r.initialRange):this.processRangeAndCellFocus(r.cellValueChanges),this.redoStack.push(r))}},o.prototype.redo=function(){if(this.redoStack){var r=this.redoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(s){return s.newValue}),r instanceof mw?this.processRangeAndCellFocus(r.cellValueChanges,r.finalRange):this.processRangeAndCellFocus(r.cellValueChanges),this.undoStack.push(r))}},o.prototype.processAction=function(r,s){var u=this;r.cellValueChanges.forEach(function(c){var A=c.columnId,k=u.getRowNode({rowIndex:c.rowIndex,rowPinned:c.rowPinned});!k.displayed||k.setDataValue(A,s(c))})},o.prototype.processRangeAndCellFocus=function(r,s){var u;if(s){var c=s.startRow,_=s.endRow;return u={rowPinned:c.rowPinned,rowIndex:c.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(u),void this.gridApi.addCellRange({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,rowEndIndex:_.rowIndex,rowEndPinned:_.rowPinned,columnStart:s.startColumn,columns:s.columns})}var A=r[0],ee=this.getRowNode({rowIndex:A.rowIndex,rowPinned:A.rowPinned});this.setLastFocusedCell(u={rowPinned:A.rowPinned,rowIndex:ee.rowIndex,columnId:A.columnId})},o.prototype.setLastFocusedCell=function(r){var s=r.rowIndex,u=r.columnId,c=r.rowPinned;this.gridApi.ensureIndexVisible(s),this.gridApi.ensureColumnVisible(u),Gt.isRegistered(q.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(s,u,c,!0)},o.prototype.addRowEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_ROW_EDITING_STARTED,function(s){r.activeRowEdit={rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,ae.EVENT_ROW_EDITING_STOPPED,function(){var s=new Mh(r.cellValueChanges);r.pushActionsToUndoStack(s),r.activeRowEdit=null})},o.prototype.addCellEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_CELL_EDITING_STARTED,function(s){r.activeCellEdit={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,ae.EVENT_CELL_EDITING_STOPPED,function(){if(r.activeCellEdit=null,!r.activeRowEdit&&!r.isPasting&&!r.isFilling){var u=new Mh(r.cellValueChanges);r.pushActionsToUndoStack(u)}})},o.prototype.addPasteListeners=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_PASTE_START,function(){r.isPasting=!0}),this.addManagedListener(this.eventService,ae.EVENT_PASTE_END,function(){var s=new Mh(r.cellValueChanges);r.pushActionsToUndoStack(s),r.isPasting=!1})},o.prototype.addFillListeners=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_FILL_START,function(){r.isFilling=!0}),this.addManagedListener(this.eventService,ae.EVENT_FILL_END,function(s){var u=new mw(r.cellValueChanges,s.initialRange,s.finalRange);r.pushActionsToUndoStack(u),r.isFilling=!1})},o.prototype.pushActionsToUndoStack=function(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(r){switch(r.rowPinned){case Ee.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case Ee.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},Od([Y("focusService")],o.prototype,"focusService",void 0),Od([Y("gridApi")],o.prototype,"gridApi",void 0),Od([Y("rowModel")],o.prototype,"rowModel",void 0),Od([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Od([Y("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),Od([Y("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Od([se],o.prototype,"init",null),Od([Le("undoRedoService")],o)}(ot),lr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ph=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},C0=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return lr(o,d),o.prototype.findHeader=function(r,s){var u;if(u=r.column instanceof Zi?this.columnModel["getDisplayedGroup"+s](r.column):this.columnModel["getDisplayedCol"+s](r.column))return{column:u,headerRowIndex:r.headerRowIndex}},o.prototype.findColAtEdgeForHeaderRow=function(r,s){var u=this.columnModel.getAllDisplayedColumns(),c=u["start"===s?0:u.length-1];if(c){var C=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(r);return console.log("level="+r+" type = "+C),C==q.A6C.COLUMN_GROUP?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(c,r)}:{headerRowIndex:null==C?-1:r,column:c}}},Ph([Y("columnModel")],o.prototype,"columnModel",void 0),Ph([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),Ph([Le("headerPositionUtils")],o)}(ot),_w=function(){function d(){}return d.prototype.buildColumnDefs=function(o,r,s){var u=this,c=[],_={};return o.forEach(function(C){for(var x=!0,k=u.createDefFromColumn(C,r,s),W=C.getOriginalParent();W;){var ee=null;if(W.isPadding())W=W.getOriginalParent();else{var le=_[W.getGroupId()];if(le){le.children.push(k),x=!1;break}(ee=u.createDefFromGroup(W))&&(ee.children=[k],_[ee.groupId]=ee,k=ee,W=W.getOriginalParent())}}x&&c.push(k)}),c},d.prototype.createDefFromGroup=function(o){var r=Ks(o.getColGroupDef(),["children"]);return r&&(r.groupId=o.getGroupId()),r},d.prototype.createDefFromColumn=function(o,r,s){var u=Ks(o.getColDef());return u.colId=o.getColId(),u.width=o.getActualWidth(),u.rowGroup=o.isRowGroupActive(),u.rowGroupIndex=o.isRowGroupActive()?r.indexOf(o):null,u.pivot=o.isPivotActive(),u.pivotIndex=o.isPivotActive()?s.indexOf(o):null,u.aggFunc=o.isValueActive()?o.getAggFunc():null,u.hide=!o.isVisible()||void 0,u.pinned=o.isPinned()?o.getPinned():null,u.sort=o.getSort()?o.getSort():null,u.sortIndex=null!=o.getSortIndex()?o.getSortIndex():null,u},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("columnDefFactory")],d)}(),Md=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},lu=function(){function d(){}return d.prototype.getInitialRowClasses=function(o){var r=[];return Q(o.extraCssClass)&&r.push(o.extraCssClass),r.push("ag-row"),r.push(o.rowFocused?"ag-row-focus":"ag-row-no-focus"),o.fadeRowIn&&r.push("ag-opacity-zero"),r.push(o.rowIsEven?"ag-row-even":"ag-row-odd"),o.rowNode.isRowPinned()&&r.push("ag-row-pinned"),o.rowNode.isSelected()&&r.push("ag-row-selected"),o.rowNode.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+o.rowLevel),o.rowNode.stub&&r.push("ag-row-loading"),o.fullWidthRow&&r.push("ag-full-width-row"),o.expandable&&(r.push("ag-row-group"),r.push(o.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),o.rowNode.dragging&&r.push("ag-row-dragging"),Lt(r,this.processClassesFromGridOptions(o.rowNode,o.scope)),Lt(r,this.preProcessRowClassRules(o.rowNode,o.scope)),r.push(o.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),o.firstRowOnPage&&r.push("ag-row-first"),o.lastRowOnPage&&r.push("ag-row-last"),o.fullWidthRow&&(o.pinned===Ee.PINNED_LEFT&&r.push("ag-cell-last-left-pinned"),o.pinned===Ee.PINNED_RIGHT&&r.push("ag-cell-first-right-pinned")),r},d.prototype.processClassesFromGridOptions=function(o,r){var s=[],u=function(x){"string"==typeof x?s.push(x):Array.isArray(x)&&x.forEach(function(k){return s.push(k)})},c=this.gridOptionsWrapper.getRowClass();if(c){if("function"==typeof c)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];u(c)}var _=this.gridOptionsWrapper.getRowClassFunc();return _&&u(_({data:o.data,node:o,rowIndex:o.rowIndex,$scope:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),s},d.prototype.preProcessRowClassRules=function(o,r){var s=[];return this.processRowClassRules(o,r,function(u){s.push(u)},function(u){}),s},d.prototype.processRowClassRules=function(o,r,s,u){var c={data:o.data,node:o,rowIndex:o.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:r,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),c,s,u)},d.prototype.calculateRowLevel=function(o){return o.group?o.level:o.parent?o.parent.level+1:0},Md([Y("stylingService")],d.prototype,"stylingService",void 0),Md([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Md([Le("rowCssClassCalculator")],d)}(),Wm=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wn=function(d){function o(r){var s=d.call(this)||this;return s.state=o.STATE_WAITING_TO_LOAD,s.version=0,s.id=r,s}return Wm(o,d),o.prototype.getId=function(){return this.id},o.prototype.load=function(){this.state=o.STATE_LOADING,this.loadFromDatasource()},o.prototype.getVersion=function(){return this.version},o.prototype.setStateWaitingToLoad=function(){this.version++,this.state=o.STATE_WAITING_TO_LOAD},o.prototype.getState=function(){return this.state},o.prototype.pageLoadFailed=function(r){this.isRequestMostRecentAndLive(r)&&(this.state=o.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},o.prototype.success=function(r,s){this.successCommon(r,s)},o.prototype.pageLoaded=function(r,s,u){this.successCommon(r,{rowData:s,rowCount:u})},o.prototype.isRequestMostRecentAndLive=function(r){var s=r===this.version,u=this.isAlive();return s&&u},o.prototype.successCommon=function(r,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(r)&&(this.state=o.STATE_LOADED,this.processServerResult(s))},o.prototype.dispatchLoadCompleted=function(r){void 0===r&&(r=!0),this.dispatchEvent({type:o.EVENT_LOAD_COMPLETE,success:r,block:this})},o.EVENT_LOAD_COMPLETE="loadComplete",o.STATE_WAITING_TO_LOAD="needsLoading",o.STATE_LOADING="loading",o.STATE_LOADED="loaded",o.STATE_FAILED="failed",o}(ot),UT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kp=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},WT=function(d,o){return function(r,s){o(r,s,d)}},Dr=function(d){function o(){var s=null!==d&&d.apply(this,arguments)||this;return s.activeBlockLoadsCount=0,s.blocks=[],s.active=!0,s}var r;return UT(o,d),r=o,o.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var s=this.gridOptionsWrapper.getBlockLoadDebounceMillis();s&&s>0&&(this.checkBlockToLoadDebounce=Pt.debounce(this.performCheckBlocksToLoad.bind(this),s))},o.prototype.setBeans=function(s){this.logger=s.create("RowNodeBlockLoader")},o.prototype.addBlock=function(s){this.blocks.push(s),s.addEventListener(wn.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},o.prototype.removeBlock=function(s){Pt.removeFromArray(this.blocks,s)},o.prototype.destroy=function(){d.prototype.destroy.call(this),this.active=!1},o.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},o.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},o.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var s=null;this.blocks.forEach(function(u){u.getState()===wn.STATE_WAITING_TO_LOAD&&(s=u)}),s&&(s.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},o.prototype.getBlockState=function(){var s={};return this.blocks.forEach(function(u){var c=u.getBlockStateJson();s[c.id]=c.state}),s},o.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},o.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},o.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Kp([se],o.prototype,"postConstruct",null),Kp([WT(0,vn("loggerFactory"))],o.prototype,"setBeans",null),r=Kp([Le("rowNodeBlockLoader")],o)}(ot),bg=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},yw=function(){function d(){}return d.prototype.doFullSort=function(o,r){var u=o.map(function(c,_){return{currentPos:_,rowNode:c}});return u.sort(this.compareRowNodes.bind(this,r)),u.map(function(c){return c.rowNode})},d.prototype.compareRowNodes=function(o,r,s){for(var u=r.rowNode,c=s.rowNode,_=0,C=o.length;_<C;_++){var ee,A=o[_],x=A.sort===Ee.SORT_DESC,k=this.getValue(u,A.column),W=this.getValue(c,A.column),le=this.getComparator(A,u);if(ee=le?le(k,W,u,c,x):Pt.defaultComparator(k,W,this.gridOptionsWrapper.isAccentedSort()),!isNaN(ee)&&0!==ee)return A.sort===Ee.SORT_ASC?ee:-1*ee}return r.currentPos-s.currentPos},d.prototype.getComparator=function(o,r){var s=o.column,u=s.getColDef().comparator;if(null!=u)return u;if(r.rowGroupColumn)return r.rowGroupColumn.getColDef().comparator;if(s.getColDef().showRowGroup){var c=!r.group&&s.getColDef().field;if(c){var _=this.columnModel.getPrimaryColumn(c);if(_)return _.getColDef().comparator}}},d.prototype.getValue=function(o,r){return this.valueService.getValue(r,o,!1,!1)},bg([Y("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),bg([Y("valueService")],d.prototype,"valueService",void 0),bg([Y("columnModel")],d.prototype,"columnModel",void 0),bg([Le("rowNodeSorter")],d)}(),vw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jm=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}return vw(o,d),o.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(s){return s(r)}),this.readyCallbacks.length=0}},o.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},o.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},o.prototype.registerFakeHScrollCtrl=function(r){this.fakeHScrollCtrl=r,this.checkReady()},o.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},o.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},o.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},o.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},o.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},o.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},o.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},o.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},o.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},o.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},o.prototype.registerHeaderContainer=function(r,s){switch(s){case Ee.PINNED_LEFT:this.leftHeaderRowContainerCtrl=r;break;case Ee.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r}this.checkReady()},o.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},o.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},o.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},o.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},o.prototype.getGridCtrl=function(){return this.gridCtrl},o.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},o.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},o.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},o.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},o.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},o.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case Ee.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case Ee.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("ctrlsService")],o)}(ot),Oy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Cw=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.registry={},r}return Oy(o,d),o.prototype.register=function(r){this.registry[r.controllerName]=r.controllerClass},o.prototype.getInstance=function(r){var s=this.registry[r];if(null!=s)return new s},function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Le("ctrlsFactory")],o)}(ot),w0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),My=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Eg=function(d){function o(){return d.call(this)||this}return w0(o,d),o.prototype.setComp=function(r,s,u,c){this.view=r,this.eViewport=u,this.eContainer=c,this.eGui=s,this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var _=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,_),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,_),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,_),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},o.prototype.addActiveListenerToggles=function(){var r=this;["mouseenter","mousedown","touchstart"].forEach(function(c){return r.addManagedListener(r.eGui,c,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(c){return r.addManagedListener(r.eGui,c,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},o.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=ld()},o.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},o.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var r=this;this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,function(s){"horizontal"===s.direction&&r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL_END,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},o.prototype.setFakeHScrollSpacerWidths=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),s=this.columnModel.getDisplayedColumnsRightWidth(),u=!this.enableRtl&&r,c=this.gridOptionsWrapper.getScrollbarWidth();u&&(s+=c),this.view.setRightSpacerFixedWidth(s),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",s<=c);var _=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&r&&(_+=c),this.view.setLeftSpacerFixedWidth(_),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",_<=c)},o.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,u=this.gridOptionsWrapper.isSuppressHorizontalScroll(),c=r&&this.gridOptionsWrapper.getScrollbarWidth()||0,C=u?0:0===c&&s?15:c,A=Mi()&&r;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",s),this.view.setHeight(C),this.view.setViewportHeight(C+(A?1:0)),this.view.setContainerHeight(C)},o.prototype.getViewport=function(){return this.eViewport},o.prototype.getContainer=function(){return this.eContainer},My([Y("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),My([Y("columnModel")],o.prototype,"columnModel",void 0),My([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),My([se],o.prototype,"postConstruct",null),o}(ot),Jp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),zu=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Xp=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return Jp(o,d),o.prototype.postConstruct=function(){var r=this,s={addOrRemoveCssClass:function(c,_){return r.addOrRemoveCssClass(c,_)},setHeight:function(c){return Ri(r.getGui(),c)},setContainerHeight:function(c){return Ri(r.eContainer,c)},setViewportHeight:function(c){return Ri(r.eViewport,c)},setRightSpacerFixedWidth:function(c){return Pi(r.eRightSpacer,c)},setLeftSpacerFixedWidth:function(c){return Pi(r.eLeftSpacer,c)},includeLeftSpacerScrollerCss:function(c,_){return vt(r.eLeftSpacer,c,_)},includeRightSpacerScrollerCss:function(c,_){return vt(r.eRightSpacer,c,_)}};this.createManagedBean(new Eg).setComp(s,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Ao(function(c){return r.eContainer.style.width=c+"px"}))},o.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',zu([Ke("eLeftSpacer")],o.prototype,"eLeftSpacer",void 0),zu([Ke("eRightSpacer")],o.prototype,"eRightSpacer",void 0),zu([Ke("eViewport")],o.prototype,"eViewport",void 0),zu([Ke("eContainer")],o.prototype,"eContainer",void 0),zu([se],o.prototype,"postConstruct",null),o}(Sn),zT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ef=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},tf=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return zT(o,d),o.prototype.postConstruct=function(){var r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_DOM_LAYOUT,r)},o.prototype.checkContainerWidths=function(){var r=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_PRINT,s=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),u=r?0:this.columnModel.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,this.eventService.dispatchEvent({type:ae.EVENT_LEFT_PINNED_WIDTH_CHANGED})),u!=this.rightWidth&&(this.rightWidth=u,this.eventService.dispatchEvent({type:ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},o.prototype.getPinnedRightWidth=function(){return this.rightWidth},o.prototype.getPinnedLeftWidth=function(){return this.leftWidth},ef([Y("columnModel")],o.prototype,"columnModel",void 0),ef([se],o.prototype,"postConstruct",null),ef([Le("pinnedWidthService")],o)}(ot),b0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),E0=function(d){function o(r){var s=d.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return s.params=r,s}return b0(o,d),o.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),o.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},o.prototype.addKeyDownListener=function(){var r=this,s=this.getGui(),u=this.params;this.addManagedListener(s,"keydown",function(_){lo(r.gridOptionsWrapper,_,u.node,u.column,!0)||u.onKeyDown(_)})},o.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([se],o.prototype,"postConstruct",null),o}(Ga),bw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),zm=function(){return(zm=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},$m=function(d){function o(r,s,u,c,_,C,A){var x=d.call(this)||this;x.scope=null,x.rendererVersion=0,x.editorVersion=0,x.scope=r,x.beans=s,x.column=u.getColumn(),x.rowNode=u.getRowNode(),x.rowCtrl=u.getRowCtrl(),x.autoHeightCell=c,x.eRow=C,x.setTemplate('<div comp-id="'+x.getCompId()+'"/>');var k=x.getGui(),W=k.style;x.eCellValue=k;var ee=function(ce,Me,He){var ht=He||k;null!=Me&&""!=Me?ht.setAttribute(ce,Me):ht.removeAttribute(ce)},le={addOrRemoveCssClass:function(ce,Me){return x.addOrRemoveCssClass(ce,Me)},setUserStyles:function(ce){return ih(k,ce)},setAriaSelected:function(ce){return zr(k,ce)},setAriaExpanded:function(ce){return hd(k,ce)},getFocusableElement:function(){return x.getFocusableElement()},setLeft:function(ce){return W.left=ce},setWidth:function(ce){return W.width=ce},setAriaColIndex:function(ce){return Dc(x.getGui(),ce)},setHeight:function(ce){return W.height=ce},setZIndex:function(ce){return W.zIndex=ce},setTabIndex:function(ce){return ee("tabindex",ce.toString())},setRole:function(ce){return Vo(k,ce)},setColId:function(ce){return ee("col-id",ce)},setTitle:function(ce){return ee("title",ce)},setUnselectable:function(ce){return ee("unselectable",ce,x.eCellValue)},setTransition:function(ce){return W.transition=ce||""},setIncludeSelection:function(ce){return x.includeSelection=ce},setIncludeRowDrag:function(ce){return x.includeRowDrag=ce},setIncludeDndSource:function(ce){return x.includeDndSource=ce},setForceWrapper:function(ce){return x.forceWrapper=ce},setRenderDetails:function(ce,Me,He){return x.setRenderDetails(ce,Me,He)},setEditDetails:function(ce,Me,He){return x.setEditDetails(ce,Me,He)},getCellEditor:function(){return x.cellEditor||null},getCellRenderer:function(){return x.cellRenderer||null},getParentOfValue:function(){return x.eCellValue}};return x.cellCtrl=u,u.setComp(le,x.scope,x.getGui(),_,A),x}return bw(o,d),o.prototype.setRenderDetails=function(r,s,u){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var _=this.isUsingAngular1Template(),C=this.setupControlsWrapper();r?!u&&!C&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),_?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(s))}},o.prototype.setEditDetails=function(r,s,u){r?this.createCellEditorInstance(r,s,u):this.destroyEditor()},o.prototype.removeControlsWrapper=function(){this.eCellValue=this.getGui(),this.eCellWrapper=null,this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},o.prototype.setupControlsWrapper=function(){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection||this.forceWrapper;return this.addOrRemoveCssClass("ag-cell-value",!r),r&&!this.eCellWrapper?(this.addControlsWrapper(),!0):!(r||!this.eCellWrapper||(this.removeControlsWrapper(),0))},o.prototype.addControlsWrapper=function(){this.getGui().innerHTML='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                <span ref="eCellValue" class="ag-cell-value" role="presentation"></span>\n            </div>',this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.forceWrapper||this.eCellValue.setAttribute("unselectable","on");var s=this.eCellValue.id="cell-"+this.getCompId(),u=[];this.includeRowDrag&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue),u.push(this.checkboxSelectionComp.getCheckboxId())),u.push(s),sh(this.getGui(),u.join(" "))},o.prototype.createCellEditorInstance=function(r,s,u){var c=this,_=this.editorVersion,C=r.newAgStackInstance();if(C){var A=r.params;C.then(function(k){return c.afterCellEditorCreated(_,k,A,s,u)}),Z(this.cellEditor)&&A.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},o.prototype.insertValueWithoutCellRenderer=function(r){var s=null!=r?ls(r):null;null!=s?this.eCellValue.innerHTML=s:oo(this.eCellValue)},o.prototype.insertValueUsingAngular1Template=function(){var _,r=this,s=this.column.getColDef(),u=s.template,c=s.templateUrl;null!=u?_=u:null!=c&&(_=this.beans.templateService.getTemplate(c,function(){return r.cellCtrl.refreshCell({forceRefresh:!0})})),null!=_&&(this.eCellValue.innerHTML=_,this.updateAngular1ScopeAndCompile())},o.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},o.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),ia(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},o.prototype.destroyEditor=function(){var r=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),ia(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},o.prototype.refreshCellRenderer=function(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;var s=this.cellRenderer.refresh(r.params);return!0===s||void 0===s},o.prototype.createCellRendererInstance=function(r){var s=this,u=this.beans.gridOptionsWrapper.isAngularCompileRows(),c=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),C=this.rendererVersion,A=r.componentClass,x=function(){if(s.rendererVersion===C&&s.isAlive()){var W=r.newAgStackInstance(),ee=s.afterCellRendererCreated.bind(s,C,A);W&&W.then(ee)}};u||c||this.autoHeightCell||!this.firstRender?x():this.beans.animationFrameService.createTask(x,this.rowNode.rowIndex,"createTasksP2")},o.prototype.isUsingAngular1Template=function(){var r=this.column.getColDef();return null!=r.template||null!=r.templateUrl},o.prototype.getCtrl=function(){return this.cellCtrl},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.afterCellRendererCreated=function(r,s,u){this.isAlive()&&r===this.rendererVersion?(this.cellRenderer=u,this.cellRendererClass=s,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui&&(oo(this.eCellValue),this.eCellValue.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile())):this.beans.context.destroyBean(u)},o.prototype.afterCellEditorCreated=function(r,s,u,c,_){if(r!==this.editorVersion)this.beans.context.destroyBean(s);else{if(s.isCancelBeforeStart&&s.isCancelBeforeStart())return this.beans.context.destroyBean(s),void this.cellCtrl.stopEditing();if(!s.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(s);this.cellEditor=s,this.cellEditorGui=s.getGui(),c||void 0!==s.isPopup&&s.isPopup()?(c||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(u,_)):this.addInCellEditor(),s.afterGuiAttached&&s.afterGuiAttached()}},o.prototype.addInCellEditor=function(){var r=this.getGui();r.contains(document.activeElement)&&r.focus(),this.destroyRenderer(),this.removeControlsWrapper(),this.clearCellElement(),this.cellEditorGui&&r.appendChild(this.cellEditorGui)},o.prototype.addPopupCellEditor=function(r,s){var u=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new E0(r));var _=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&_.appendChild(this.cellEditorGui);var C=this.beans.popupService,A=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),k=(null!=s||c.getPopupPosition&&c.getPopupPosition(),{column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:_,keepWithinBounds:!0}),W="under"===s?C.positionPopupUnderComponent.bind(C,k):C.positionPopupOverComponent.bind(C,k),ee=this.beans.gridOptionsWrapper.getLocaleTextFunc(),le=C.addPopup({modal:A,eChild:_,closeOnEsc:!0,closedCallback:function(){u.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:W,ariaLabel:ee("ariaLabelCellEditor","Cell Editor")});le&&(this.hideEditorPopup=le.hideFunc)},o.prototype.detach=function(){this.eRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControlsWrapper(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),d.prototype.destroy.call(this)},o.prototype.clearCellElement=function(){var r=this.getGui();r.contains(document.activeElement)&&!Mi()&&r.focus({preventScroll:!0}),oo(r)},o.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=zm({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove(),this.angularCompiledElement=this.beans.$compile(this.eCellValue.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply())},o}(Sn),S0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ym=function(d){function o(r,s,u){var c=d.call(this)||this;c.cellComps={},c.beans=s,c.rowCtrl=r,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle()+'"/>');var _=c.getGui(),C=_.style;return r.setComp({setDisplay:function(x){null==x?C.removeProperty("display"):C.setProperty("display","none")},setDomOrder:function(x){return c.domOrder=x},setCellCtrls:function(x){return c.setCellCtrls(x)},showFullWidth:function(x){return c.showFullWidth(x)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(x,k){return c.addOrRemoveCssClass(x,k)},setAriaExpanded:function(x){return hd(_,x)},setUserStyles:function(x){return ih(_,x)},setAriaSelected:function(x){return zr(_,x)},setAriaLabel:function(x){Eo(_,null==x?"":x)},setHeight:function(x){return C.height=x},setTop:function(x){return C.top=x},setTransform:function(x){return C.transform=x},setRowIndex:function(x){return _.setAttribute("row-index",x)},setRole:function(x){return Vo(_,x)},setAriaRowIndex:function(x){return hp(c.getGui(),x)},setRowId:function(x){return _.setAttribute("row-id",x)},setRowBusinessKey:function(x){return _.setAttribute("row-business-key",x)},setTabIndex:function(x){return _.setAttribute("tabindex",x.toString())}},c.getGui(),u),c}return S0(o,d),o.prototype.getInitialStyle=function(){var r=this.rowCtrl.getInitialTransform(),s=this.rowCtrl.getInitialRowTop();return r?"transform: "+r:"top: "+s},o.prototype.showFullWidth=function(r){var s=this,c=r.newAgStackInstance(this.rowCtrl.getFullWidthCellRendererType());!c||c.then(function(_){if(s.isAlive()){var C=_.getGui();s.getGui().appendChild(C),s.rowCtrl.getRowType()===Yo.FullWidthDetail&&s.rowCtrl.setupDetailRowAutoHeight(C),s.setFullWidthRowComp(_)}else s.beans.context.destroyBean(_)})},o.prototype.setCellCtrls=function(r){var s=this,u=Ai({},this.cellComps);r.forEach(function(_){var C=_.getInstanceId();null==s.cellComps[C]?s.newCellComp(_):u[C]=null});var c=Rt(u).filter(function(_){return null!=_});this.destroyCells(c),this.ensureDomOrder(r)},o.prototype.ensureDomOrder=function(r){var s=this;if(this.domOrder){var u=[];r.forEach(function(c){var _=s.cellComps[c.getInstanceId()];_&&u.push(_.getGui())}),th(this.getGui(),u)}},o.prototype.newCellComp=function(r){var s=new $m(this.rowCtrl.getScope(),this.beans,r,!1,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=s,this.getGui().appendChild(s.getGui())},o.prototype.destroy=function(){d.prototype.destroy.call(this),this.destroyAllCells()},o.prototype.destroyAllCells=function(){var r=Rt(this.cellComps).filter(function(s){return null!=s});this.destroyCells(r)},o.prototype.setFullWidthRowComp=function(r){var s=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(function(){s.fullWidthCellRenderer=s.beans.context.destroyBean(s.fullWidthCellRenderer)})},o.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},o.prototype.destroyCells=function(r){var s=this;r.forEach(function(u){if(u){var c=u.getCtrl().getInstanceId();s.cellComps[c]===u&&(u.detach(),u.destroy(),s.cellComps[c]=null)}})},o}(Sn),D0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nh=function(){return(Nh=Object.assign||function(d){for(var o,r=1,s=arguments.length;r<s;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Pd=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},qm=function(d){function o(){var r=d.call(this,function(){var d=Sn.elementGettingCreated.getAttribute("name"),o=Gp.getRowContainerCssClasses(d);return d===q.hA6.CENTER?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation" unselectable="on">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>':d===q.hA6.TOP_CENTER||d===q.hA6.BOTTOM_CENTER?'<div class="'+o.viewport+'" ref="eViewport" role="presentation" unselectable="on">\n                <div class="'+o.container+'" ref="eContainer" role="presentation" unselectable="on"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer" role="presentation" unselectable="on"></div>'}())||this;return r.rowComps={},r.name=Sn.elementGettingCreated.getAttribute("name"),r}return D0(o,d),o.prototype.postConstruct=function(){var r=this,s={setViewportHeight:function(c){return r.eViewport.style.height=c},setRowCtrls:function(c){return r.setRowCtrls(c)},setDomOrder:function(c){r.domOrder=c},setContainerWidth:function(c){return r.eContainer.style.width=c}};this.createManagedBean(new Gp(this.name)).setComp(s,this.eContainer,this.eViewport,this.eWrapper)},o.prototype.preDestroy=function(){this.setRowCtrls([])},o.prototype.setRowCtrls=function(r){var s=this,u=Nh({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(function(_){var C=_.getInstanceId(),A=u[C];if(A)s.rowComps[C]=A,delete u[C],s.ensureDomOrder(A.getGui());else{var x=s.newRowComp(_);s.rowComps[C]=x,s.appendRow(x.getGui())}}),Rt(u).forEach(function(_){s.eContainer.removeChild(_.getGui()),_.destroy()})},o.prototype.appendRow=function(r){this.domOrder?nh(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r},o.prototype.ensureDomOrder=function(r){this.domOrder&&(hl(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)},o.prototype.newRowComp=function(r){var s=Gp.getPinned(this.name);return new Ym(r,this.beans,s)},Pd([Y("beans")],o.prototype,"beans",void 0),Pd([Ke("eViewport")],o.prototype,"eViewport",void 0),Pd([Ke("eContainer")],o.prototype,"eContainer",void 0),Pd([Ke("eWrapper")],o.prototype,"eWrapper",void 0),Pd([se],o.prototype,"postConstruct",null),Pd([$e],o.prototype,"preDestroy",null),o}(Sn),T0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},kh=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.events=[],r}return T0(o,d),o.prototype.postConstruct=function(){this.rowModel.getType()==Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.dispatchExpanded=function(r){var s=this;this.events.push(r),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){s.clientSideRowModel&&s.clientSideRowModel.onRowGroupOpened(),s.events.forEach(function(u){return s.eventService.dispatchEvent(u)}),s.events=[]})),this.dispatchExpandedDebounced()},Fh([Y("animationFrameService")],o.prototype,"animationFrameService",void 0),Fh([Y("rowModel")],o.prototype,"rowModel",void 0),Fh([se],o.prototype,"postConstruct",null),Fh([Le("rowNodeEventThrottle")],o)}(ot),Ny=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),nf=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ew=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Ny(o,d),o.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},o.prototype.showMenuAfterMouseEvent=function(r,s){var u=this;this.showPopup(r,function(c){u.popupService.positionPopupUnderMouseEvent({column:r,type:"columnMenu",mouseEvent:s,ePopup:c})},s.target)},o.prototype.showMenuAfterButtonClick=function(r,s,u){var c=this;this.showPopup(r,function(_){c.popupService.positionPopupUnderComponent({type:u,eventSource:s,ePopup:_,keepWithinBounds:!0,column:r})},s)},o.prototype.showPopup=function(r,s,u){var c=this,_=this.filterManager.getOrCreateFilterWrapper(r,"COLUMN_MENU"),C=document.createElement("div");Vo(C,"presentation"),ut(C,"ag-menu"),this.tabListener=this.addManagedListener(C,"keydown",function(le){return c.trapFocusWithin(le,C)}),_.guiPromise.then(function(le){return C.appendChild(le)});var A,x=u||this.ctrlsService.getGridBodyCtrl().getGui(),W=this.gridOptionsWrapper.getLocaleTextFunc(),ee=this.popupService.addPopup({modal:!0,eChild:C,closeOnEsc:!0,closedCallback:function(le){r.setMenuVisible(!1,"contextMenu");var ce=le instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),ce&&u&&Oa(u)){var Me=c.focusService.findTabbableParent(u);Me&&Me.focus()}},positionCallback:function(){return s(C)},anchorToElement:x,ariaLabel:W("ariaLabelColumnMenu","Column Menu")});ee&&(this.hidePopup=A=ee.hideFunc),_.filterPromise.then(function(le){s(C),le.afterGuiAttached&&le.afterGuiAttached({container:"columnMenu",hidePopup:A})}),r.setMenuVisible(!0,"contextMenu")},o.prototype.trapFocusWithin=function(r,s){r.keyCode!==at.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(s,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(s,r.shiftKey))},o.prototype.isMenuEnabled=function(r){return r.isFilterAllowed()},nf([Y("filterManager")],o.prototype,"filterManager",void 0),nf([Y("popupService")],o.prototype,"popupService",void 0),nf([Y("focusService")],o.prototype,"focusService",void 0),nf([Y("ctrlsService")],o.prototype,"ctrlsService",void 0),nf([Le("menuFactory")],o)}(ot),Fy=function(){function d(o,r,s){r?(this.gridOptions=r,(new Zm).create(o,r,function(u){var c=new Sh(o);u.createBean(c)},s)):console.error("AG Grid: no gridOptions provided to the grid")}return d.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},d}(),Zm=function(){function d(){}return d.prototype.create=function(o,r,s,u){var c=this,_=!!r.debug,C=this.getRegisteredModules(u),A=this.createBeansList(r.rowModelType,C),x=this.createProvidedBeans(o,r,u);if(A){var k={providedBeanInstances:x,beanClasses:A,debug:_},W=new Rm("AG Grid",function(){return r.debug}),ee=new Rm("Context",function(){return k.debug}),le=new Gr(k,ee),ce=le.getBean("beans");this.registerModuleUserComponents(ce,C),this.registerStackComponents(ce,C),this.registerControllers(ce,C),s(le),ce.ctrlsService.whenReady(function(){c.setColumnsAndData(ce),c.dispatchGridReadyEvent(ce,r);var Me=Gt.isRegistered(q.GXE.EnterpriseCoreModule);W.log("initialised successfully, enterprise = "+Me)})}},d.prototype.registerControllers=function(o,r){r.forEach(function(s){s.controllers&&s.controllers.forEach(function(u){return o.ctrlsFactory.register(u)})})},d.prototype.registerStackComponents=function(o,r){var s=this.createAgStackComponentsList(r);o.agStackComponentsRegistry.setupComponents(s)},d.prototype.getRegisteredModules=function(o){var r=o?o.modules:null,s=Gt.getRegisteredModules(),u=[],c={};function _(C,A){var k;c[(k=A).moduleName]||(c[k.moduleName]=!0,u.push(k),Gt.register(k,C)),A.dependantModules&&A.dependantModules.forEach(_.bind(null,C))}return r&&r.forEach(_.bind(null,!0)),s&&s.forEach(_.bind(null,!Gt.isPackageBased())),u},d.prototype.registerModuleUserComponents=function(o,r){this.extractModuleEntity(r,function(u){return u.userComponents?u.userComponents:[]}).forEach(function(u){o.userComponentRegistry.registerDefaultComponent(u.componentName,u.componentClass)})},d.prototype.createProvidedBeans=function(o,r,s){var u=s?s.frameworkOverrides:null;Z(u)&&(u=new ew);var c={gridOptions:r,eGridDiv:o,$scope:s?s.$scope:null,$compile:s?s.$compile:null,globalEventListener:s?s.globalEventListener:null,frameworkOverrides:u};return s&&s.providedBeanInstances&&Ai(c,s.providedBeanInstances),c},d.prototype.createAgStackComponentsList=function(o){var r=[{componentName:"AgCheckbox",componentClass:Np},{componentName:"AgRadioButton",componentClass:t0},{componentName:"AgToggleButton",componentClass:wg},{componentName:"AgInputTextField",componentClass:Ty},{componentName:"AgInputTextArea",componentClass:Ay},{componentName:"AgInputNumberField",componentClass:Ry},{componentName:"AgInputRange",componentClass:Zn},{componentName:"AgSelect",componentClass:uo},{componentName:"AgSlider",componentClass:qp},{componentName:"AgAngleSelect",componentClass:m0},{componentName:"AgColorPicker",componentClass:LT},{componentName:"AgGridBody",componentClass:Bp},{componentName:"AgHeaderRoot",componentClass:VE},{componentName:"AgPagination",componentClass:_g},{componentName:"AgOverlayWrapper",componentClass:Bm},{componentName:"AgGroupComponent",componentClass:Rn},{componentName:"AgPanel",componentClass:Dn},{componentName:"AgDialog",componentClass:fa},{componentName:"AgRowContainer",componentClass:qm},{componentName:"AgFakeHorizontalScroll",componentClass:Xp}],s=this.extractModuleEntity(o,function(u){return u.agStackComponents?u.agStackComponents:[]});return r.concat(s)},d.prototype.createBeansList=function(o,r){var s=this.getRowModelClass(o,r);if(s){var u=[s,st,za,xy,C0,s0,bh,$f,RT,xT,au,uC,h0,Td,Hm,JC,ea,Ei,Nt,QE,mE,fy,Tf,AE,iw,Ip,KE,rr,zC,aw,d0,Fm,NC,QC,no,JE,Ew,jo,Mr,Gc,e0,Lm,by,Vp,ET,Ah,Vc,hg,r0,$p,nw,DT,jp,Sx,cl,_w,lu,Dr,yw,jm,tf,kh,Cw],c=this.extractModuleEntity(r,function(C){return C.beans?C.beans:[]});u.push.apply(u,c);var _=[];return u.forEach(function(C){_.indexOf(C)<0&&_.push(C)}),_}},d.prototype.extractModuleEntity=function(o,r){return[].concat.apply([],o.map(r))},d.prototype.setColumnsAndData=function(o){var r=o.gridOptionsWrapper.getColumnDefs();o.columnModel.setColumnDefs(r||[],"gridInitializing"),o.rowModel.start()},d.prototype.dispatchGridReadyEvent=function(o,r){o.eventService.dispatchEvent({type:ae.EVENT_GRID_READY,api:r.api,columnApi:r.columnApi})},d.prototype.getRowModelClass=function(o,r){o||(o=Ee.ROW_MODEL_TYPE_CLIENT_SIDE);var s={};r.forEach(function(c){rn(c.rowModels,function(_,C){s[_]=C})});var u=s[o];if(Q(u))return u;o===Ee.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+q.GXE.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+o),o===Ee.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+q.GXE.ViewportRowModelModule+" is registered.';"),o===Ee.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+q.GXE.ServerSideRowModelModule+" is registered.';"),o===Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+q.GXE.ClientSideRowModelModule+" is registered.';")},d}();var Gy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),rf=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){function o(r){var s=d.call(this,o.getTemplate(r.cssClass))||this;return s.items=[],s.params=r,r.items&&r.items.forEach(function(u){return s.addItem(u)}),s}Gy(o,d),o.prototype.postConstruct=function(){this.createManagedBean(new L(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},o.getTemplate=function(r){return'<div class="ag-tabs '+r+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(r?r+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(r?r+"-body":"")+'"></div>\n        </div>'},o.prototype.handleKeyDown=function(r){switch(r.keyCode){case at.RIGHT:case at.LEFT:if(!this.eHeader.contains(document.activeElement))return;var s=this.items.indexOf(this.activeItem),u=r.keyCode===at.RIGHT?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===u)return;r.preventDefault();var c=this.items[u];this.showItemWrapper(c),c.eHeaderButton.focus();break;case at.UP:case at.DOWN:r.stopPropagation()}},o.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented){var s=this,u=s.focusService,c=s.eHeader,_=s.eBody,C=s.activeItem,A=document.activeElement;if(r.preventDefault(),c.contains(A))u.focusInto(_,r.shiftKey);else if(u.isFocusUnderManagedComponent(_))C.eHeaderButton.focus();else{var x=u.findNextFocusableElement(_,!1,r.shiftKey);x?x.focus():C.eHeaderButton.focus()}}},o.prototype.setAfterAttachedParams=function(r){this.afterAttachedParams=r},o.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},o.prototype.addItem=function(r){var s=document.createElement("span");Vo(s,"tab"),s.setAttribute("tabIndex","-1"),s.appendChild(r.title),ut(s,"ag-tab"),this.eHeader.appendChild(s),Eo(s,r.titleLabel);var u={tabbedItem:r,eHeaderButton:s};this.items.push(u),s.addEventListener("click",this.showItemWrapper.bind(this,u))},o.prototype.showItem=function(r){var s=he(this.items,function(u){return u.tabbedItem===r});s&&this.showItemWrapper(s)},o.prototype.showItemWrapper=function(r){var s=this;this.params.onItemClicked&&this.params.onItemClicked({item:r.tabbedItem}),this.activeItem!==r?(oo(this.eBody),r.tabbedItem.bodyPromise.then(function(u){s.eBody.appendChild(u);var c=!s.focusService.isKeyboardMode();s.focusService.focusInto(s.eBody,!1,c),r.tabbedItem.afterAttachedCallback&&r.tabbedItem.afterAttachedCallback(s.afterAttachedParams)}),this.activeItem&&Cr(this.activeItem.eHeaderButton,"ag-tab-selected"),ut(r.eHeaderButton,"ag-tab-selected"),this.activeItem=r):qi(this.params.onActiveItemClicked)},rf([Y("focusService")],o.prototype,"focusService",void 0),rf([Ke("eHeader")],o.prototype,"eHeader",void 0),rf([Ke("eBody")],o.prototype,"eBody",void 0),rf([se],o.prototype,"postConstruct",null)}(Sn);!function(d){d.Applied="Applied",d.StoreNotFound="StoreNotFound",d.StoreLoading="StoreLoading",d.StoreWaitingToLoad="StoreWaitingToLoad",d.StoreLoadingFailed="StoreLoadingFailed",d.StoreWrongType="StoreWrongType",d.Cancelled="Cancelled"}(q.Qk6||(q.Qk6={}));var Dg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nd=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$T=(function(d){function o(r,s,u){void 0===r&&(r="default"),void 0===s&&(s="listbox");var c=d.call(this,o.getTemplate(r))||this;return c.cssIdentifier=r,c.ariaRole=s,c.listName=u,c.renderedRows=new Map,c.rowHeight=20,c.isDestroyed=!1,c}Dg(o,d),o.prototype.postConstruct=function(){var r=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(s){return r.onFocusIn(s)},onFocusOut:function(s){return r.onFocusOut(s)},focusInnerElement:function(s){return r.focusInnerElement(s)},onTabKeyDown:function(s){return r.onTabKeyDown(s)},handleKeyDown:function(s){return r.handleKeyDown(s)}}),this.setAriaProperties()},o.prototype.setAriaProperties=function(){var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),u=this.eContainer;Vo(u,this.ariaRole),Eo(u,s)},o.prototype.addResizeObserver=function(){var r=this.drawVirtualRows.bind(this),s=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(s)},o.prototype.focusInnerElement=function(r){this.focusRow(r?this.model.getRowCount()-1:0)},o.prototype.onFocusIn=function(r){var s=r.target;return Rr(s,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=up(s)-1),!1},o.prototype.onFocusOut=function(r){return this.getFocusableElement().contains(r.relatedTarget)||(this.lastFocusedRowIndex=null),!1},o.prototype.handleKeyDown=function(r){switch(r.keyCode){case at.UP:case at.DOWN:this.navigate(r.keyCode===at.UP)&&r.preventDefault()}},o.prototype.onTabKeyDown=function(r){this.navigate(r.shiftKey)?r.preventDefault():this.focusService.focusInto(this.getGui(),!r.shiftKey)},o.prototype.navigate=function(r){if(null==this.lastFocusedRowIndex)return!1;var s=this.lastFocusedRowIndex+(r?-1:1);return!(s<0||s>=this.model.getRowCount()||(this.focusRow(s),0))},o.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},o.prototype.focusRow=function(r){var s=this;this.ensureIndexVisible(r),window.setTimeout(function(){var u=s.renderedRows.get(r);u&&u.eDiv.focus()},10)},o.prototype.getComponentAt=function(r){var s=this.renderedRows.get(r);return s&&s.rowComponent},o.getTemplate=function(r){return'\n            <div class="ag-virtual-list-viewport ag-'+r+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+r+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},o.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},o.prototype.ensureIndexVisible=function(r){var s=this.model.getRowCount();if("number"!=typeof r||r<0||r>=s)console.warn("invalid row index for ensureIndexVisible: "+r);else{var u=r*this.rowHeight,c=u+this.rowHeight,_=this.getGui(),C=_.scrollTop,A=_.offsetHeight,W=C+A<c;C>u?_.scrollTop=u:W&&(_.scrollTop=c-A)}},o.prototype.setComponentCreator=function(r){this.componentCreator=r},o.prototype.getRowHeight=function(){return this.rowHeight},o.prototype.getScrollTop=function(){return this.getGui().scrollTop},o.prototype.setRowHeight=function(r){this.rowHeight=r,this.refresh()},o.prototype.refresh=function(){var r=this;if(null!=this.model&&!this.isDestroyed){var s=this.model.getRowCount();this.eContainer.style.height=s*this.rowHeight+"px",dn(function(){return r.eContainer.clientHeight>=s*r.rowHeight},function(){r.isDestroyed||(r.clearVirtualRows(),r.drawVirtualRows())})}},o.prototype.clearVirtualRows=function(){var r=this;this.renderedRows.forEach(function(s,u){return r.removeRow(u)})},o.prototype.drawVirtualRows=function(){var r=this.getGui(),s=r.scrollTop,u=s+r.offsetHeight,c=Math.floor(s/this.rowHeight),_=Math.floor(u/this.rowHeight);this.ensureRowsRendered(c,_)},o.prototype.ensureRowsRendered=function(r,s){var u=this;this.renderedRows.forEach(function(_,C){(C<r||C>s)&&C!==u.lastFocusedRowIndex&&u.removeRow(C)});for(var c=r;c<=s;c++)this.renderedRows.has(c)||c<this.model.getRowCount()&&this.insertRow(c)},o.prototype.insertRow=function(r){var s=this,u=this.model.getRow(r),c=document.createElement("div");if(ut(c,"ag-virtual-list-item"),ut(c,"ag-"+this.cssIdentifier+"-virtual-list-item"),Vo(c,"tree"===this.ariaRole?"treeitem":"option"),Sc(c,this.model.getRowCount()),Ru(c,r+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var _=this.model.isRowSelected(r);zr(c,!!_),Ho(c,_)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*r+"px";var C=this.componentCreator(u,c);C.addGuiEventListener("focusin",function(){return s.lastFocusedRowIndex=r}),c.appendChild(C.getGui()),this.renderedRows.has(r-1)?this.renderedRows.get(r-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(r+1)?this.renderedRows.get(r+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(r,{rowComponent:C,eDiv:c})},o.prototype.removeRow=function(r){var s=this.renderedRows.get(r);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(r)},o.prototype.addScrollListener=function(){var r=this;this.addGuiEventListener("scroll",function(){return r.drawVirtualRows()})},o.prototype.setModel=function(r){this.model=r},o.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,d.prototype.destroy.call(this))},Nd([Y("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Nd([Y("focusService")],o.prototype,"focusService",void 0),Nd([Ke("eContainer")],o.prototype,"eContainer",void 0),Nd([se],o.prototype,"postConstruct",null)}(Ad),function(){function d(){}return d.prototype.wrap=function(o,r,s,u,c){var _=this;void 0===s&&(s=[]);var C=this.createWrapper(o,u,c);return r.forEach(function(A){_.createMethod(C,A,!0)}),s.forEach(function(A){_.createMethod(C,A,!1)}),C},d.prototype.unwrap=function(o){return o},d.prototype.createMethod=function(o,r,s){o.addMethod(r,this.createMethodProxy(o,r,s))},d.prototype.createMethodProxy=function(o,r,s){return function(){return o.hasMethod(r)?o.callMethod(r,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}},d}());!function(d){d.Column="column",d.GroupedColumn="groupedColumn",d.StackedColumn="stackedColumn",d.NormalizedColumn="normalizedColumn",d.Bar="bar",d.GroupedBar="groupedBar",d.StackedBar="stackedBar",d.NormalizedBar="normalizedBar",d.Line="line",d.Scatter="scatter",d.Bubble="bubble",d.Pie="pie",d.Doughnut="doughnut",d.Area="area",d.StackedArea="stackedArea",d.NormalizedArea="normalizedArea",d.Histogram="histogram"}(q.oXM||(q.oXM={}));var zi="undefined"==typeof global?{}:global;zi.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,zi.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,zi.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,zi.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,zi.Node="undefined"==typeof Node?{}:Node,zi.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var Dw=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var s=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],_=0,C=c.length;_<C;_++,u++)s[u]=c[_];return s},YT=function(){function d(o,r,s,u,c,_,C,A){this.nextId=0,this.allNodesMap={},this.rootNode=o,this.gridOptionsWrapper=r,this.eventService=s,this.columnModel=u,this.gridApi=c,this.columnApi=_,this.beans=A,this.selectionService=C,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=d.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return d.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},d.prototype.getCopyOfNodesMap=function(){return Pt.cloneObject(this.allNodesMap)},d.prototype.getRowNode=function(o){return this.allNodesMap[o]},d.prototype.setRowData=function(o){var r=this;if("string"!=typeof o){var s=this.rootNode,u=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?s.allLeafChildren=o.map(function(c){return r.createNode(c,r.rootNode,d.TOP_LEVEL)}):(s.allLeafChildren=[],s.childrenAfterGroup=[]),u&&(u.childrenAfterFilter=s.childrenAfterFilter,u.childrenAfterGroup=s.childrenAfterGroup,u.childrenAfterSort=s.childrenAfterSort,u.childrenMapped=s.childrenMapped,u.allLeafChildren=s.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},d.prototype.updateRowData=function(o,r){var s={remove:[],update:[],add:[]},u=[];return this.executeRemove(o,s,u),this.executeUpdate(o,s,u),this.executeAdd(o,s),this.updateSelection(u),r&&Pt.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),s},d.prototype.updateSelection=function(o){var r=o.length>0;r&&o.forEach(function(u){u.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),r&&this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},d.prototype.executeAdd=function(o,r){var s=this,u=o.add,c=o.addIndex;if(!Pt.missingOrEmpty(u)){var _=u.map(function(W){return s.createNode(W,s.rootNode,d.TOP_LEVEL)});if("number"==typeof c&&c>=0){var A=this.rootNode.allLeafChildren,x=A.slice(0,c),k=A.slice(c,A.length);this.rootNode.allLeafChildren=Dw(x,_,k)}else this.rootNode.allLeafChildren=Dw(this.rootNode.allLeafChildren,_);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=_}},d.prototype.executeRemove=function(o,r,s){var u=this,c=o.remove;if(!Pt.missingOrEmpty(c)){var _={};c.forEach(function(C){var A=u.lookupRowNode(C);!A||(A.isSelected()&&s.push(A),A.clearRowTopAndRowIndex(),_[A.id]=!0,delete u.allNodesMap[A.id],r.remove.push(A))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(C){return!_[C.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},d.prototype.executeUpdate=function(o,r,s){var u=this,c=o.update;Pt.missingOrEmpty(c)||c.forEach(function(_){var C=u.lookupRowNode(_);!C||(C.updateData(_),!C.selectable&&C.isSelected()&&s.push(C),u.setMasterForRow(C,_,d.TOP_LEVEL,!1),r.update.push(C))})},d.prototype.lookupRowNode=function(o){var s,r=this.gridOptionsWrapper.getRowNodeIdFunc();if(Pt.exists(r)){var u=r(o);if(!(s=this.allNodesMap[u]))return console.error("AG Grid: could not find row id="+u+", data item was not found for this id"),null}else if(!(s=Pt.find(this.rootNode.allLeafChildren,function(c){return c.data===o})))return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowNodeId to help the Grid find matching row data"),null;return s},d.prototype.createNode=function(o,r,s){var u=new Tn(this.beans);return u.group=!1,this.setMasterForRow(u,o,s,!0),r&&!this.suppressParentsInRowNodes&&(u.parent=r),u.level=s,u.setDataAndId(o,this.nextId.toString()),this.allNodesMap[u.id]&&console.warn("ag-grid: duplicate node id '"+u.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[u.id]=u,this.nextId++,u},d.prototype.setMasterForRow=function(o,r,s,u){if(this.doingTreeData)o.setMaster(!1),u&&(o.expanded=!1);else if(o.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(r))),u){var c=this.columnModel.getRowGroupColumns();o.expanded=!!o.master&&this.isExpanded(s+(c?c.length:0))}},d.prototype.isExpanded=function(o){var r=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===r||o<r},d.TOP_LEVEL=0,d.ROOT_NODE_ID="ROOT_NODE_ID",d}(),By=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Yr=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},uu=(()=>(function(d){d[d.Normal=0]="Normal",d[d.AfterFilter=1]="AfterFilter",d[d.AfterFilterAndSort=2]="AfterFilterAndSort",d[d.PivotNodes=3]="PivotNodes"}(uu||(uu={})),uu))(),Qm=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return By(o,d),o.prototype.init=function(){var r=this.refreshModel.bind(this,{step:q.j_r.EVERYTHING}),s=this.refreshModel.bind(this,{step:q.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,s),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:q.j_r.PIVOT})),this.addManagedListener(this.eventService,ae.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,r);var u=this.refreshModel.bind(this,{step:q.j_r.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,u),this.addManagedListener(this.gridOptionsWrapper,Nt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,u),this.rootNode=new Tn(this.beans),this.nodeManager=new YT(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},o.prototype.start=function(){var r=this.gridOptionsWrapper.getRowData();r&&this.setRowData(r)},o.prototype.ensureRowHeightsValid=function(r,s,u,c){var _,C=!1;do{_=!1;for(var A=this.getRowIndexAtPixel(r),x=this.getRowIndexAtPixel(s),k=Math.max(A,u),W=Math.min(x,c),ee=k;ee<=W;ee++){var le=this.getRow(ee);if(le.rowHeightEstimated){var ce=this.gridOptionsWrapper.getRowHeightForNode(le);le.setRowHeight(ce.height),_=!0,C=!0}}_&&this.setRowTopAndRowIndex()}while(_);return C},o.prototype.setRowTopAndRowIndex=function(){for(var r=this.gridOptionsWrapper.getDefaultRowHeight(),s=0,u=new Set,c=this.gridOptionsWrapper.getDomLayout()===Ee.DOM_LAYOUT_NORMAL,_=0;_<this.rowsToDisplay.length;_++){var C=this.rowsToDisplay[_];if(null!=C.id&&u.add(C.id),null==C.rowHeight){var A=this.gridOptionsWrapper.getRowHeightForNode(C,c,r);C.setRowHeight(A.height,A.estimated)}C.setRowTop(s),C.setRowIndex(_),s+=C.rowHeight}return u},o.prototype.clearRowTopAndRowIndex=function(r,s){var u=r.isActive(),c=function(C){C&&null!=C.id&&!s.has(C.id)&&C.clearRowTopAndRowIndex()},_=function(C){c(C),c(C.detailNode),c(C.sibling),C.hasChildren()&&C.childrenAfterGroup&&(u&&-1!=C.level&&!C.expanded||C.childrenAfterGroup.forEach(_))};_(this.rootNode)},o.prototype.ensureRowsAtPixel=function(r,s,u){var c=this;void 0===u&&(u=0);var _=this.getRowIndexAtPixel(s);return this.getRow(_)!==r[0]&&(r.forEach(function(A){Pt.removeFromArray(c.rootNode.allLeafChildren,A)}),r.forEach(function(A,x){Pt.insertIntoArray(c.rootNode.allLeafChildren,A,Math.max(_+u,0)+x)}),this.refreshModel({step:q.j_r.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},o.prototype.highlightRowAtPixel=function(r,s){var u=null!=s?this.getRowIndexAtPixel(s):null,c=null!=u?this.getRow(u):null;if(c&&r&&c!==r&&null!=s){var _=this.getHighlightPosition(s,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(_),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},o.prototype.getHighlightPosition=function(r,s){if(!s){var u=this.getRowIndexAtPixel(r);if(!(s=this.getRow(u||0)))return q.oh5.Below}return r-s.rowTop<s.rowHeight/2?q.oh5.Above:q.oh5.Below},o.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},o.prototype.isLastRowIndexKnown=function(){return!0},o.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},o.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},o.prototype.getTopLevelRowDisplayedIndex=function(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;var u=this.rootNode.childrenAfterSort[r];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},o.prototype.getRowBounds=function(r){if(Pt.missing(this.rowsToDisplay))return null;var s=this.rowsToDisplay[r];return s?{rowTop:s.rowTop,rowHeight:s.rowHeight}:null},o.prototype.onRowGroupOpened=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:q.j_r.MAP,keepRenderedRows:!0,animate:r})},o.prototype.onFilterChanged=function(r){if(!r.afterDataChange){var s=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:q.j_r.FILTER,keepRenderedRows:!0,animate:s})}},o.prototype.onSortChanged=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:q.j_r.SORT,keepRenderedRows:!0,animate:r,keepEditingRows:!0})},o.prototype.getType=function(){return Ee.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:q.j_r.PIVOT}):this.refreshModel({step:q.j_r.AGGREGATE})},o.prototype.createChangePath=function(r){var s=Pt.missingOrEmpty(r),u=new ry(!1,this.rootNode);return(s||this.gridOptionsWrapper.isTreeData())&&u.setInactive(),u},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(r){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==r.rowNodeTransactions)return!1;var s=Pt.filter(r.rowNodeTransactions,function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==s||0==s.length},o.prototype.refreshModel=function(r){var s=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var u=this.createChangePath(r.rowNodeTransactions);switch(r.step){case q.j_r.EVERYTHING:this.doRowGrouping(r.groupState,r.rowNodeTransactions,r.rowNodeOrder,u,!!r.afterColumnsChanged);case q.j_r.FILTER:this.doFilter(u);case q.j_r.PIVOT:this.doPivot(u);case q.j_r.AGGREGATE:this.doAggregate(u);case q.j_r.SORT:this.doSort(r.rowNodeTransactions,u);case q.j_r.MAP:this.doRowsToDisplay()}var c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(u,c),this.eventService.dispatchEvent({type:ae.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){s.$scope.$apply()},0)}},o.prototype.isEmpty=function(){var r=Pt.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Pt.missing(this.rootNode)||r||!this.columnModel.isReady()},o.prototype.isRowsToRender=function(){return Pt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},o.prototype.getNodesInRangeForSelection=function(r,s){var _,u=!s,c=!1,C=[],A=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(x){var k=u&&!c;if(u||(x===s||x===r)&&(u=!0),!x.group||!A){var ee=u&&!c,le=x.isParentOfNode(_);(ee||le)&&C.push(x)}k&&(x===s||x===r)&&(c=!0,_=x===s?s:r)}),C},o.prototype.setDatasource=function(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")},o.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},o.prototype.getRootNode=function(){return this.rootNode},o.prototype.getRow=function(r){return this.rowsToDisplay[r]},o.prototype.isRowPresent=function(r){return this.rowsToDisplay.indexOf(r)>=0},o.prototype.getRowIndexAtPixel=function(r){if(this.isEmpty())return-1;var s=0,u=this.rowsToDisplay.length-1;if(r<=0)return 0;if(Pt.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;for(;;){var _=Math.floor((s+u)/2),C=this.rowsToDisplay[_];if(this.isRowInPixel(C,r))return _;C.rowTop<r?s=_+1:C.rowTop>r&&(u=_-1)}},o.prototype.isRowInPixel=function(r,s){return r.rowTop<=s&&r.rowTop+r.rowHeight>s},o.prototype.forEachLeafNode=function(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(s,u){return r(s,u)})},o.prototype.forEachNode=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,r,uu.Normal,0)},o.prototype.forEachNodeAfterFilter=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,r,uu.AfterFilter,0)},o.prototype.forEachNodeAfterFilterAndSort=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,r,uu.AfterFilterAndSort,0)},o.prototype.forEachPivotNode=function(r){this.recursivelyWalkNodesAndCallback([this.rootNode],r,uu.PivotNodes,0)},o.prototype.recursivelyWalkNodesAndCallback=function(r,s,u,c){if(!r)return c;for(var _=0;_<r.length;_++){var C=r[_];if(s(C,c++),C.hasChildren()){var A=null;switch(u){case uu.Normal:A=C.childrenAfterGroup;break;case uu.AfterFilter:A=C.childrenAfterFilter;break;case uu.AfterFilterAndSort:A=C.childrenAfterSort;break;case uu.PivotNodes:A=C.leafGroup?null:C.childrenAfterSort}A&&(c=this.recursivelyWalkNodesAndCallback(A,s,u,c))}}return c},o.prototype.doAggregate=function(r){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.expandOrCollapseAll=function(r){var s=this.gridOptionsWrapper.isTreeData();this.rootNode&&function u(C){!C||C.forEach(function(A){(s?Pt.exists(A.childrenAfterGroup):A.group)&&(A.expanded=r,u(A.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:q.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:ae.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})},o.prototype.doSort=function(r,s){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:s})},o.prototype.doRowGrouping=function(r,s,u,c,_){this.groupStage?(s?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:s,rowNodeOrder:u,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:_}),this.restoreGroupState(r)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(c)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},o.prototype.restoreGroupState=function(r){!r||Pt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,u){"boolean"==typeof r[u]&&(s.expanded=r[u])})},o.prototype.doFilter=function(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.doPivot=function(r){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var r={};return Pt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,u){return r[u]=s.expanded}),r},o.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},o.prototype.getRowNode=function(r){if("string"==typeof r&&0==r.indexOf(Tn.ID_PREFIX_ROW_GROUP)){var u=void 0;return this.forEachNode(function(c){c.id===r&&(u=c)}),u}return this.nodeManager.getRowNode(r)},o.prototype.setRowData=function(r){var s=this.getGroupState();this.nodeManager.setRowData(r),this.eventService.dispatchEvent({type:ae.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:q.j_r.EVERYTHING,groupState:s,newData:!0})},o.prototype.batchUpdateRowData=function(r,s){var u=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){u.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:s})},o.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},o.prototype.executeBatchUpdateRowData=function(){var r=this;this.valueCache.onDataChanged();var s=[],u=[],c=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(C){var A=r.nodeManager.updateRowData(C.rowDataTransaction,void 0);u.push(A),C.callback&&s.push(C.callback.bind(null,A)),"number"==typeof C.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(u,void 0,c),s.length>0&&window.setTimeout(function(){s.forEach(function(C){return C()})},0),u.length>0){var _={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:ae.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u};this.eventService.dispatchEvent(_)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},o.prototype.updateRowData=function(r,s){this.valueCache.onDataChanged();var u=this.nodeManager.updateRowData(r,s);return this.commonUpdateRowData([u],s,"number"==typeof r.addIndex),u},o.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var s={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var u=0;u<this.rootNode.allLeafChildren.length;u++)s[this.rootNode.allLeafChildren[u].id]=u;return s}},o.prototype.commonUpdateRowData=function(r,s,u){u&&(s=this.createRowNodeOrder()),this.refreshModel({step:q.j_r.EVERYTHING,rowNodeTransactions:r,rowNodeOrder:s,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:ae.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},o.prototype.onRowHeightChanged=function(){this.refreshModel({step:q.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},o.prototype.resetRowHeights=function(){var r=!1;this.forEachNode(function(s){s.setRowHeight(s.rowHeight,!0);var u=s.detailNode;u&&u.setRowHeight(u.rowHeight,!0),r=!0}),r&&this.onRowHeightChanged()},Yr([Y("columnModel")],o.prototype,"columnModel",void 0),Yr([Y("$scope")],o.prototype,"$scope",void 0),Yr([Y("selectionService")],o.prototype,"selectionService",void 0),Yr([Y("valueCache")],o.prototype,"valueCache",void 0),Yr([Y("columnApi")],o.prototype,"columnApi",void 0),Yr([Y("gridApi")],o.prototype,"gridApi",void 0),Yr([Y("animationFrameService")],o.prototype,"animationFrameService",void 0),Yr([Y("beans")],o.prototype,"beans",void 0),Yr([Y("filterStage")],o.prototype,"filterStage",void 0),Yr([Y("sortStage")],o.prototype,"sortStage",void 0),Yr([Y("flattenStage")],o.prototype,"flattenStage",void 0),Yr([Tt("groupStage")],o.prototype,"groupStage",void 0),Yr([Tt("aggregationStage")],o.prototype,"aggregationStage",void 0),Yr([Tt("pivotStage")],o.prototype,"pivotStage",void 0),Yr([se],o.prototype,"init",null),Yr([Le("rowModel")],o)}(ot),Gh=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jc=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},qT=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Gh(o,d),o.prototype.execute=function(r){var s=r.rowNode;this.filterService.filter(r.changedPath),this.selectableService.updateSelectableAfterFiltering(s)},jc([Y("selectableService")],o.prototype,"selectableService",void 0),jc([Y("filterService")],o.prototype,"filterService",void 0),jc([Le("filterStage")],o)}(ot),ur=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ga=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Jm=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return ur(o,d),o.prototype.execute=function(r){var s=this.sortController.getSortOptions(),u=Pt.exists(s)&&s.length>0,c=u&&Pt.exists(r.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),_=c?this.calculateDirtyNodes(r.rowNodeTransactions):null,C=Pt.missingOrEmpty(this.columnModel.getValueColumns()),A=Pt.some(s,function(x){return!!x.column.getColDef().showRowGroup});this.sortService.sort(s,u,c,_,r.changedPath,C,A)},o.prototype.calculateDirtyNodes=function(r){var s={},u=function(c){c&&c.forEach(function(_){return s[_.id]=!0})};return r&&r.forEach(function(c){u(c.add),u(c.update),u(c.remove)}),s},ga([Y("sortService")],o.prototype,"sortService",void 0),ga([Y("sortController")],o.prototype,"sortController",void 0),ga([Y("columnModel")],o.prototype,"columnModel",void 0),ga([Le("sortStage")],o)}(ot),Vy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Tw=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Xm=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Vy(o,d),o.prototype.execute=function(r){var s=r.rowNode,u=[],c={value:0},_=this.columnModel.isPivotMode(),C=_&&s.leafGroup;return this.recursivelyAddToRowsToDisplay(C?[s]:s.childrenAfterSort,u,c,_,0),!C&&u.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(s),this.addRowNodeToRowsToDisplay(s.sibling,u,c,0)),u},o.prototype.recursivelyAddToRowsToDisplay=function(r,s,u,c,_){if(!Pt.missingOrEmpty(r))for(var C=this.gridOptionsWrapper.isGroupHideOpenParents(),A=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),x=!A&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),k=0;k<r.length;k++){var W=r[k],ee=W.hasChildren(),ce=A&&ee&&1===W.childrenAfterGroup.length,Me=x&&ee&&W.leafGroup&&1===W.childrenAfterGroup.length;if(!(c&&!ee||C&&W.expanded&&(!c||!W.leafGroup)||ce||Me)&&this.addRowNodeToRowsToDisplay(W,s,u,_),!c||!W.leafGroup)if(ee){var Qe=ce||Me;(W.expanded||Qe)&&(this.recursivelyAddToRowsToDisplay(W.childrenAfterSort,s,u,c,Qe?_:_+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(W),this.addRowNodeToRowsToDisplay(W.sibling,s,u,_)))}else if(W.master&&W.expanded){var Zt=this.createDetailNode(W);this.addRowNodeToRowsToDisplay(Zt,s,u,_)}}},o.prototype.addRowNodeToRowsToDisplay=function(r,s,u,c){var _=this.gridOptionsWrapper.isGroupMultiAutoColumn();s.push(r),r.setUiLevel(_?0:c)},o.prototype.ensureFooterNodeExists=function(r){if(!Pt.exists(r.sibling)){var s=new Tn(this.beans);Object.keys(r).forEach(function(u){s[u]=r[u]}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,Pt.exists(s.id)&&(s.id="rowGroupFooter_"+s.id),s.sibling=r,r.sibling=s}},o.prototype.createDetailNode=function(r){if(Pt.exists(r.detailNode))return r.detailNode;var s=new Tn(this.beans);return s.detail=!0,s.selectable=!1,s.parent=r,Pt.exists(r.id)&&(s.id="detail_"+r.id),s.data=r.data,s.level=r.level+1,r.detailNode=s,s},Tw([Y("columnModel")],o.prototype,"columnModel",void 0),Tw([Y("beans")],o.prototype,"beans",void 0),Tw([Le("flattenStage")],o)}(ot),Fd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$a=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Bh=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Fd(o,d),o.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},o.prototype.sort=function(r,s,u,c,_,C,A){var x=this,k=this.gridOptionsWrapper.isGroupMaintainOrder(),W=Pt.some(this.columnModel.getAllGridColumns(),function(le){return le.isRowGroupActive()});_&&_.forEachChangedNodeDepthFirst(function(le){x.pullDownGroupDataForHideOpenParents(le.childrenAfterFilter,!0),le.childrenAfterSort=s?k&&W&&!le.leafGroup&&!A?le.childrenAfterFilter.slice(0):u?x.doDeltaSort(le,r,c,_,C):x.rowNodeSorter.doFullSort(le.childrenAfterFilter,r):le.childrenAfterFilter.slice(0),le.sibling&&(le.sibling.childrenAfterSort=le.childrenAfterSort),x.updateChildIndexes(le),x.postSortFunc&&x.postSortFunc(le.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(_)},o.prototype.mapNodeToSortedNode=function(r,s){return{currentPos:s,rowNode:r}},o.prototype.doDeltaSort=function(r,s,u,c,_){var C=r.childrenAfterSort.filter(function(W){var ee=!u[W.id],le=_||c&&c.canSkip(W);return ee&&le}).map(this.mapNodeToSortedNode.bind(this)),A={};C.forEach(function(W){return A[W.rowNode.id]=W.rowNode});var x=r.childrenAfterFilter.filter(function(W){return!A[W.id]}).map(this.mapNodeToSortedNode.bind(this));return x.sort(this.rowNodeSorter.compareRowNodes.bind(this,s)),(0===x.length?C:0===C.length?x:this.mergeSortedArrays(s,C,x)).map(function(W){return W.rowNode})},o.prototype.mergeSortedArrays=function(r,s,u){for(var c=[],_=0,C=0;_<s.length&&C<u.length;){var A=this.rowNodeSorter.compareRowNodes(r,s[_],u[C]);c.push(A<0?s[_++]:u[C++])}for(;_<s.length;)c.push(s[_++]);for(;C<u.length;)c.push(u[C++]);return c},o.prototype.updateChildIndexes=function(r){if(!Pt.missing(r.childrenAfterSort))for(var s=r.childrenAfterSort,u=0;u<s.length;u++){var c=s[u],C=u===r.childrenAfterSort.length-1;c.setFirstChild(0===u),c.setLastChild(C),c.setChildIndex(u)}},o.prototype.updateGroupDataForHideOpenParents=function(r){var s=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return Pt.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(_){s.pullDownGroupDataForHideOpenParents(_.childrenAfterSort,!1),_.childrenAfterSort.forEach(function(C){C.hasChildren()&&c(C)})};r&&r.executeFromRootNode(function(_){return c(_)})}},o.prototype.pullDownGroupDataForHideOpenParents=function(r,s){var u=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||Pt.missing(r)||r.forEach(function(c){u.columnModel.getGroupDisplayColumns().forEach(function(C){var A=C.getColDef().showRowGroup;if("string"==typeof A){var k=u.columnModel.getPrimaryColumn(A);if(k!==c.rowGroupColumn)if(s)c.setGroupValue(C.getId(),void 0);else{var ee=c.getFirstChildOfFirstChild(k);ee&&c.setGroupValue(C.getId(),ee.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},$a([Y("columnModel")],o.prototype,"columnModel",void 0),$a([Y("rowNodeSorter")],o.prototype,"rowNodeSorter",void 0),$a([se],o.prototype,"init",null),$a([Le("sortService")],o)}(ot),Hy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ys=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},cu=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Hy(o,d),o.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},o.prototype.filter=function(r){var s=this.filterManager.isAnyFilterPresent();this.filterNodes(s,r)},o.prototype.filterNodes=function(r,s){var u=this,c=function(x,k){x.hasChildren()?(x.childrenAfterFilter=r&&!k?x.childrenAfterGroup.filter(function(W){var ee=W.childrenAfterFilter&&W.childrenAfterFilter.length>0,le=W.data&&u.filterManager.doesRowPassFilter({rowNode:W});return ee||le}):x.childrenAfterGroup,u.setAllChildrenCount(x)):(x.childrenAfterFilter=x.childrenAfterGroup,x.setAllChildrenCount(null)),x.sibling&&(x.sibling.childrenAfterFilter=x.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var _=function(x,k){if(x.childrenAfterGroup)for(var W=0;W<x.childrenAfterGroup.length;W++){var ee=x.childrenAfterGroup[W],le=k||u.filterManager.doesRowPassFilter({rowNode:ee});ee.childrenAfterGroup?_(x.childrenAfterGroup[W],le):c(ee,le)}c(x,k)};s.executeFromRootNode(function(x){return _(x,!1)})}else s.forEachChangedNodeDepthFirst(function(x){return c(x,!1)},!0)},o.prototype.setAllChildrenCountTreeData=function(r){var s=0;r.childrenAfterFilter.forEach(function(u){s++,s+=u.allChildrenCount}),r.setAllChildrenCount(s)},o.prototype.setAllChildrenCountGridGrouping=function(r){var s=0;r.childrenAfterFilter.forEach(function(u){u.group?s+=u.allChildrenCount:s++}),r.setAllChildrenCount(s)},o.prototype.setAllChildrenCount=function(r){this.doingTreeData?this.setAllChildrenCountTreeData(r):this.setAllChildrenCountGridGrouping(r)},o.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},ys([Y("filterManager")],o.prototype,"filterManager",void 0),ys([se],o.prototype,"postConstruct",null),ys([Le("filterService")],o)}(ot),Ya=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Uy=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},I0=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Ya(o,d),o.prototype.postConstruct=function(){this.rowModel.getType()===Ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.createTransactionForRowData=function(r){if(Pt.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var s=this.gridOptionsWrapper.getRowNodeIdFunc();if(s&&!Pt.missing(s)){var u={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),C=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Pt.exists(r)&&r.forEach(function(A,x){var k=s(A),W=c[k];C&&(C[k]=x),W?(W.data!==A&&u.update.push(A),c[k]=void 0):u.add.push(A)}),Pt.iterateObject(c,function(A,x){x&&u.remove.push(x.data)}),[u,C]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Uy([Y("rowModel")],o.prototype,"rowModel",void 0),Uy([se],o.prototype,"postConstruct",null),Uy([Le("immutableService")],o)}(ot),ZT={moduleName:q.GXE.ClientSideRowModelModule,beans:[qT,Jm,Xm,Bh,cu,I0],rowModels:{clientSide:Qm}},KT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Aw=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},x0=function(d){function o(r,s,u){var c=d.call(this,r)||this;return c.parentCache=s,c.params=u,c.startRow=r*u.blockSize,c.endRow=c.startRow+u.blockSize,c}return KT(o,d),o.prototype.postConstruct=function(){this.createRowNodes()},o.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},o.prototype.setDataAndId=function(r,s,u){!r.id&&r.alreadyRendered&&(r.alreadyRendered=!1),Pt.exists(s)?r.setDataAndId(s,u.toString()):r.setDataAndId(void 0,void 0)},o.prototype.loadFromDatasource=function(){var r=this,s=this.createLoadParams();Pt.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){r.params.datasource.getRows(s)},0)},o.prototype.processServerFail=function(){},o.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},o.prototype.forEachNode=function(r,s,u){var c=this;this.rowNodes.forEach(function(_,C){c.startRow+C<u&&r(_,s.next())})},o.prototype.getLastAccessed=function(){return this.lastAccessed},o.prototype.getRow=function(r,s){return void 0===s&&(s=!1),s||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]},o.prototype.getStartRow=function(){return this.startRow},o.prototype.getEndRow=function(){return this.endRow},o.prototype.createRowNodes=function(){this.rowNodes=[];for(var r=0;r<this.params.blockSize;r++){var s=this.startRow+r,u=new Tn(this.beans);u.setRowHeight(this.params.rowHeight),u.uiLevel=0,u.setRowIndex(s),u.setRowTop(this.params.rowHeight*s),this.rowNodes.push(u)}},o.prototype.processServerResult=function(r){var s=this;this.rowNodes.forEach(function(c,_){s.setDataAndId(c,r.rowData?r.rowData[_]:void 0,s.startRow+_)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)},o.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(r){r.clearRowTopAndRowIndex()})},Aw([Y("beans")],o.prototype,"beans",void 0),Aw([se],o.prototype,"postConstruct",null),Aw([$e],o.prototype,"destroyRowNodes",null),o}(wn),Rw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),kd=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},O0=function(d,o){return function(r,s){o(r,s,d)}},M0=function(d){function o(r){var s=d.call(this)||this;return s.lastRowIndexKnown=!1,s.blocks={},s.blockCount=0,s.rowCount=r.initialRowCount,s.params=r,s}return Rw(o,d),o.prototype.setBeans=function(r){this.logger=r.create("InfiniteCache")},o.prototype.getRow=function(r,s){void 0===s&&(s=!1);var u=Math.floor(r/this.params.blockSize),c=this.blocks[u];if(!c){if(s)return;c=this.createBlock(u)}return c.getRow(r)},o.prototype.createBlock=function(r){var s=this.createBean(new x0(r,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s},o.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(s){return s.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},o.prototype.destroyAllBlocks=function(){var r=this;this.getBlocksInOrder().forEach(function(s){return r.destroyBlock(s)})},o.prototype.getRowCount=function(){return this.rowCount},o.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},o.prototype.pageLoaded=function(r,s){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+r.getId()+", lastRow = "+s),this.checkRowCount(r,s),this.onCacheUpdated())},o.prototype.purgeBlocksIfNeeded=function(r){var s=this,u=this.getBlocksInOrder().filter(function(x){return x!=r});u.sort(function(x,k){return k.getLastAccessed()-x.getLastAccessed()});var _=this.params.maxBlocksInCache>0,C=_?this.params.maxBlocksInCache-1:null,A=o.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(x,k){if(x.getState()===x0.STATE_WAITING_TO_LOAD&&k>=A||_&&k>=C){if(s.isBlockCurrentlyDisplayed(x)||s.isBlockFocused(x))return;s.removeBlockFromCache(x)}})},o.prototype.isBlockFocused=function(r){var s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||null!=s.rowPinned)return!1;var u=r.getStartRow(),c=r.getEndRow();return s.rowIndex>=u&&s.rowIndex<c},o.prototype.isBlockCurrentlyDisplayed=function(r){var s=r.getStartRow(),u=r.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,u)},o.prototype.removeBlockFromCache=function(r){!r||this.destroyBlock(r)},o.prototype.checkRowCount=function(r,s){if("number"==typeof s&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(r.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},o.prototype.setRowCount=function(r,s){this.rowCount=r,Pt.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},o.prototype.forEachNodeDeep=function(r){var s=this,u=new Os;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(r,u,s.rowCount)})},o.prototype.getBlocksInOrder=function(){return Pt.getAllValuesInObject(this.blocks).sort(function(u,c){return u.getId()-c.getId()})},o.prototype.destroyBlock=function(r){delete this.blocks[r.getId()],this.destroyBean(r),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(r)},o.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:ae.EVENT_STORE_UPDATED}))},o.prototype.destroyAllBlocksPastVirtualRowCount=function(){var r=this,s=[];this.getBlocksInOrder().forEach(function(u){u.getId()*r.params.blockSize>=r.rowCount&&s.push(u)}),s.length>0&&s.forEach(function(u){return r.destroyBlock(u)})},o.prototype.purgeCache=function(){var r=this;this.getBlocksInOrder().forEach(function(s){return r.removeBlockFromCache(s)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},o.prototype.getRowNodesInRange=function(r,s){var u=this,c=[],_=-1,C=!1,A=new Os;Pt.missing(r)&&(C=!0);var x=!1;return this.getBlocksInOrder().forEach(function(W){if(!x){if(C&&_+1!==W.getId())return void(x=!0);_=W.getId(),W.forEachNode(function(ee){var le=ee===r||ee===s;(C||le)&&c.push(ee),le&&(C=!C)},A,u.rowCount)}}),x||C?[]:c},o.MAX_EMPTY_BLOCKS_TO_KEEP=2,kd([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),kd([Y("focusService")],o.prototype,"focusService",void 0),kd([O0(0,vn("loggerFactory"))],o.prototype,"setBeans",null),kd([$e],o.prototype,"destroyAllBlocks",null),o}(ot),QT=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$u=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},P0=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return QT(o,d),o.prototype.getRowBounds=function(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}},o.prototype.ensureRowHeightsValid=function(r,s,u,c){return!1},o.prototype.init=function(){var r=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return r.destroyCache()}),this.verifyProps())},o.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&Pt.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},o.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},o.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ae.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},o.prototype.onFilterChanged=function(){this.reset()},o.prototype.onSortChanged=function(){this.reset()},o.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},o.prototype.isSortModelDifferent=function(){return!Pt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},o.prototype.getType=function(){return Ee.ROW_MODEL_TYPE_INFINITE},o.prototype.setDatasource=function(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()},o.prototype.isEmpty=function(){return!this.infiniteCache},o.prototype.isRowsToRender=function(){return!!this.infiniteCache},o.prototype.getNodesInRangeForSelection=function(r,s){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,s):[]},o.prototype.reset=function(){if(this.datasource){Pt.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionService.reset(),this.resetCache();var s=this.createModelUpdatedEvent();this.eventService.dispatchEvent(s)}},o.prototype.createModelUpdatedEvent=function(){return{type:ae.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},o.prototype.resetCache=function(){this.destroyCache();var r=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(r,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Os},this.infiniteCache=this.createBean(new M0(this.cacheParams))},o.prototype.defaultIfInvalid=function(r,s){return r>0?r:s},o.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},o.prototype.onCacheUpdated=function(){var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},o.prototype.getRow=function(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)},o.prototype.getRowNode=function(r){var s=void 0;return this.forEachNode(function(u){u.id===r&&(s=u)}),s},o.prototype.forEachNode=function(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)},o.prototype.getTopLevelRowCount=function(){return this.getRowCount()},o.prototype.getTopLevelRowDisplayedIndex=function(r){return r},o.prototype.getRowIndexAtPixel=function(r){if(0!==this.rowHeight){var s=Math.floor(r/this.rowHeight),u=this.getRowCount()-1;return s>u?u:s}return 0},o.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},o.prototype.isRowPresent=function(r){return!!this.getRowNode(r.id)},o.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},o.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},o.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},o.prototype.setRowCount=function(r,s){this.infiniteCache&&this.infiniteCache.setRowCount(r,s)},$u([Y("filterManager")],o.prototype,"filterManager",void 0),$u([Y("sortController")],o.prototype,"sortController",void 0),$u([Y("selectionService")],o.prototype,"selectionService",void 0),$u([Y("gridApi")],o.prototype,"gridApi",void 0),$u([Y("columnApi")],o.prototype,"columnApi",void 0),$u([Y("rowRenderer")],o.prototype,"rowRenderer",void 0),$u([Y("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),$u([se],o.prototype,"init",null),$u([$e],o.prototype,"destroyDatasource",null),$u([Le("rowModel")],o)}(ot),Wy={moduleName:q.GXE.InfiniteRowModelModule,rowModels:{infinite:P0}},N0=function(){function d(){}return d.prototype.setBeans=function(o){this.beans=o},d.prototype.getFileName=function(o){var r=this.getDefaultFileExtension();return(null==o||!o.length)&&(o=this.getDefaultFileName()),-1===o.indexOf(".")?o+"."+r:o},d.prototype.getMergedParamsAndData=function(o){var r=this.mergeDefaultParams(o);return{mergedParams:r,data:this.beans.gridSerializer.serialize(this.createSerializingSession(r),r)}},d.prototype.mergeDefaultParams=function(o){var r=this.getDefaultExportParams(),s={};return Pt.assign(s,r),Pt.assign(s,o),s},d}(),Tg=function(){function d(o){this.groupColumns=[];var s=o.valueService,u=o.gridOptionsWrapper,c=o.processCellCallback,_=o.processHeaderCallback,C=o.processGroupHeaderCallback,A=o.processRowGroupCallback;this.columnModel=o.columnModel,this.valueService=s,this.gridOptionsWrapper=u,this.processCellCallback=c,this.processHeaderCallback=_,this.processGroupHeaderCallback=C,this.processRowGroupCallback=A}return d.prototype.prepare=function(o){this.groupColumns=Pt.filter(o,function(r){return!!r.getColDef().showRowGroup})},d.prototype.extractHeaderValue=function(o){var r=this.getHeaderName(this.processHeaderCallback,o);return null!=r?r:""},d.prototype.extractRowCellValue=function(o,r,s,u,c){var A,_=this.gridOptionsWrapper.isGroupMultiAutoColumn()?c.rowGroupIndex:0;A=c&&c.group&&(r===_&&-1!==this.groupColumns.indexOf(o)||0===r&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(c):this.valueService.getValue(o,c);var x=this.processCell(s,c,o,A,this.processCellCallback,u);return null!=x?x:""},d.prototype.getHeaderName=function(o,r){return o?o({column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(r,"csv",!0)},d.prototype.createValueForGroupNode=function(o){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var r=[o.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;o.parent;)r.push((o=o.parent).key);return r.reverse().join(" -> ")},d.prototype.processCell=function(o,r,s,u,c,_){return c?c({accumulatedRowIndex:o,column:s,node:r,value:u,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:_}):null!=u?u:""},d}(),e_=function(){function d(){}return d.download=function(o,r){var s=document.defaultView||window;if(s)if(s.navigator.msSaveOrOpenBlob)s.navigator.msSaveOrOpenBlob(r,o);else{var u=document.createElement("a"),c=s.URL.createObjectURL(r);u.setAttribute("href",c),u.setAttribute("download",o),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(u),s.setTimeout(function(){s.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},d}(),jy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Iw=function(d){function o(r){var s=d.call(this,r)||this;s.isFirstLine=!0,s.result="";var c=r.columnSeparator;return s.suppressQuotes=r.suppressQuotes,s.columnSeparator=c,s}return jy(o,d),o.prototype.addCustomContent=function(r){var s=this;!r||("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(function(u){s.beginNewLine(),u.forEach(function(c,_){0!==_&&(s.result+=s.columnSeparator),s.result+=s.putInQuotes(c.data.value||""),c.mergeAcross&&s.appendEmptyCells(c.mergeAcross)})}))},o.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},o.prototype.onNewHeaderGroupingRowColumn=function(r,s,u){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(u)},o.prototype.appendEmptyCells=function(r){for(var s=1;s<=r;s++)this.result+=this.columnSeparator+this.putInQuotes("")},o.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},o.prototype.onNewHeaderRowColumn=function(r,s){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))},o.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},o.prototype.onNewBodyRowColumn=function(r,s,u){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(r,s,s,Ee.EXPORT_TYPE_CSV,u))},o.prototype.putInQuotes=function(r){return this.suppressQuotes?r:null==r?'""':("string"==typeof r?s=r:"function"==typeof r.toString?s=r.toString():(console.warn("unknown value type during csv conversion"),s=""),'"'+s.replace(/"/g,'""')+'"');var s},o.prototype.parse=function(){return this.result},o.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},o}(Tg),zy=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hh=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$y=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return zy(o,d),o.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},o.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("csv")},o.prototype.export=function(r){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var s=this.getMergedParamsAndData(r),u=s.mergedParams,c=s.data,_=new Blob(["\ufeff",c],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"});return e_.download(this.getFileName(u.fileName),_),c},o.prototype.exportDataAsCsv=function(r){return this.export(r)},o.prototype.getDataAsCsv=function(r){return this.getMergedParamsAndData(r).data},o.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},o.prototype.getDefaultFileName=function(){return"export.csv"},o.prototype.getDefaultFileExtension=function(){return"csv"},o.prototype.createSerializingSession=function(r){var s=this;return new Iw({columnModel:s.columnModel,valueService:s.valueService,gridOptionsWrapper:s.gridOptionsWrapper,processCellCallback:r.processCellCallback||void 0,processHeaderCallback:r.processHeaderCallback||void 0,processGroupHeaderCallback:r.processGroupHeaderCallback||void 0,processRowGroupCallback:r.processRowGroupCallback||void 0,suppressQuotes:r.suppressQuotes||!1,columnSeparator:r.columnSeparator||","})},o.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Hh([Y("columnModel")],o.prototype,"columnModel",void 0),Hh([Y("valueService")],o.prototype,"valueService",void 0),Hh([Y("gridSerializer")],o.prototype,"gridSerializer",void 0),Hh([Y("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Hh([se],o.prototype,"postConstruct",null),Hh([Le("csvCreator")],o)}(N0),F0=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c])})(o,r)};return function(o,r){function s(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),sf=function(d,o,r,s){var _,u=arguments.length,c=u<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,s);else for(var C=d.length-1;C>=0;C--)(_=d[C])&&(c=(u<3?_(c):u>3?_(o,r,c):_(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d[d.HEADER_GROUPING=0]="HEADER_GROUPING",d[d.HEADER=1]="HEADER",d[d.BODY=2]="BODY"}(q.aCu||(q.aCu={}));var Yy=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return F0(o,d),o.prototype.serialize=function(r,s){void 0===s&&(s={});var u=this.getColumnsToExport(s.allColumns,s.columnKeys);return Pt.compose(this.prepareSession(u),this.prependContent(s),this.exportColumnGroups(s,u),this.exportHeaders(s,u),this.processPinnedTopRows(s,u),this.processRows(s,u),this.processPinnedBottomRows(s,u),this.appendContent(s))(r).parse()},o.prototype.processRow=function(r,s,u,c){var _=s.shouldRowBeSkipped||function(){return!1},C=this.gridOptionsWrapper,A=C.getContext(),x=C.getApi(),k=C.getColumnApi(),W=C.isGroupRemoveSingleChildren(),ee=C.isGroupHideOpenParents(),le=C.isGroupRemoveLowestSingleChildren(),ce=this.columnModel.isPivotMode()?c.leafGroup:!c.group,ht=1===c.allChildrenCount&&(W||le&&c.leafGroup);if((s.skipGroups||s.skipRowGroups)&&s.skipGroups&&Pt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!ce&&(s.skipRowGroups||ht||ee)||s.onlySelected&&!c.isSelected()||s.skipPinnedTop&&"top"===c.rowPinned||s.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup)&&!_({node:c,api:x,context:A})){var _t=r.onNewBodyRow();if(u.forEach(function(zn,hn){_t.onColumn(zn,hn,c)}),s.getCustomContentBelowRow){var Zt=s.getCustomContentBelowRow({node:c,api:x,columnApi:k,context:A});Zt&&r.addCustomContent(Zt)}}},o.prototype.appendContent=function(r){return function(s){var u=r.customFooter||r.appendContent;return u&&(r.customFooter&&Pt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),s.addCustomContent(u)),s}},o.prototype.prependContent=function(r){return function(s){var u=r.customHeader||r.prependContent;return u&&(r.customHeader&&Pt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),s.addCustomContent(u)),s}},o.prototype.prepareSession=function(r){return function(s){return s.prepare(r),s}},o.prototype.exportColumnGroups=function(r,s){var u=this;return function(c){if(r.skipColumnGroupHeaders)r.columnGroups&&Pt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var _=new Bi,C=u.displayedGroupCreator.createDisplayedGroups(s,u.columnModel.getGridBalancedTree(),_,null);u.recursivelyAddHeaderGroups(C,c,r.processGroupHeaderCallback)}return c}},o.prototype.exportHeaders=function(r,s){return function(u){if(r.skipHeader||r.skipColumnHeaders)r.skipHeader&&Pt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=u.onNewHeaderRow();s.forEach(function(_,C){c.onColumn(_,C,void 0)})}return u}},o.prototype.processPinnedTopRows=function(r,s){var u=this;return function(c){var _=u.processRow.bind(u,c,r,s);return u.pinnedRowModel.forEachPinnedTopRow(_),c}},o.prototype.processRows=function(r,s){var u=this;return function(c){var _=u.rowModel,C=_.getType(),A=C===Ee.ROW_MODEL_TYPE_CLIENT_SIDE,x=C===Ee.ROW_MODEL_TYPE_SERVER_SIDE,k=!A&&r.onlySelected,W=u.processRow.bind(u,c,r,s);return u.columnModel.isPivotMode()?A?_.forEachPivotNode(W):_.forEachNode(W):r.onlySelectedAllPages||k?u.selectionService.getSelectedNodes().forEach(W):A||x?_.forEachNodeAfterFilterAndSort(W):_.forEachNode(W),c}},o.prototype.processPinnedBottomRows=function(r,s){var u=this;return function(c){var _=u.processRow.bind(u,c,r,s);return u.pinnedRowModel.forEachPinnedBottomRow(_),c}},o.prototype.getColumnsToExport=function(r,s){void 0===r&&(r=!1);var u=this.columnModel.isPivotMode();return s&&s.length?this.columnModel.getGridColumns(s):r&&!u?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([Ee.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},o.prototype.recursivelyAddHeaderGroups=function(r,s,u){var c=[];r.forEach(function(_){!_.getChildren||_.getChildren().forEach(function(A){return c.push(A)})}),r.length>0&&r[0]instanceof Zi&&this.doAddHeaderHeader(s,r,u),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,s,u)},o.prototype.doAddHeaderHeader=function(r,s,u){var c=this,_=r.onNewHeaderGroupingRow(),C=0;s.forEach(function(A){var k,x=A;k=u?u({columnGroup:x,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(x,"header"),_.onColumn(k||"",C++,x.getLeafColumns().length-1)})},sf([Y("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),sf([Y("columnModel")],o.prototype,"columnModel",void 0),sf([Y("rowModel")],o.prototype,"rowModel",void 0),sf([Y("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),sf([Y("selectionService")],o.prototype,"selectionService",void 0),sf([Le("gridSerializer")],o)}(ot),t_={moduleName:q.GXE.CsvExportModule,beans:[$y,Yy]},XT=(function(){function d(){}d.createHeader=function(o){void 0===o&&(o={});var u=["version"];return o.version||(o.version="1.0"),o.encoding&&u.push("encoding"),o.standalone&&u.push("standalone"),"<?xml "+u.map(function(_){return _+'="'+o[_]+'"'}).join(" ")+" ?>"},d.createXml=function(o,r){var s=this,u="";o.properties&&(o.properties.prefixedAttributes&&o.properties.prefixedAttributes.forEach(function(_){Object.keys(_.map).forEach(function(C){u+=s.returnAttributeIfPopulated(_.prefix+C,_.map[C],r)})}),o.properties.rawMap&&Object.keys(o.properties.rawMap).forEach(function(_){u+=s.returnAttributeIfPopulated(_,o.properties.rawMap[_],r)}));var c="<"+o.name+u;return o.children||null!=o.textNode?null!=o.textNode?c+">"+o.textNode+"</"+o.name+">\r\n":(c+=">\r\n",o.children&&o.children.forEach(function(_){c+=s.createXml(_,r)}),c+"</"+o.name+">\r\n"):c+"/>\r\n"},d.returnAttributeIfPopulated=function(o,r,s){if(!r&&""!==r&&0!==r)return"";var u=r;return"boolean"==typeof r&&s&&(u=s(r))," "+o+'="'+u+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function d(){}d.addFolders=function(o){o.forEach(this.addFolder.bind(this))},d.addFolder=function(o){this.folders.push({path:o,created:new Date,isBase64:!1})},d.addFile=function(o,r,s){void 0===s&&(s=!1),this.files.push({path:o,created:new Date,content:r,isBase64:s})},d.getContent=function(o){void 0===o&&(o="application/zip");var r=this.buildFileStream(),s=this.buildUint8Array(r);return this.clearStream(),new Blob([s],{type:o})},d.clearStream=function(){this.folders=[],this.files=[]},d.buildFileStream=function(o){void 0===o&&(o="");for(var r=this.folders.concat(this.files),s=r.length,u="",c=0,_=0,C=0,A=r;C<A.length;C++){var k=this.getHeader(A[C],c),W=k.fileHeader,ee=k.folderHeader,le=k.content;c+=W.length+le.length,_+=ee.length,o+=W+le,u+=ee}return o+u+this.buildFolderEnd(s,_,c)},d.getHeader=function(o,r){var s=o.content,u=o.path,c=o.created,_=o.isBase64,A=Pt.decToHex,x=(0,Pt.utf8_encode)(u),k=x!==u,W=this.convertTime(c),ee=this.convertDate(c),le="";if(k){var ce=A(1,1)+A(this.getFromCrc32Table(x),4)+x;le="up"+A(ce.length,2)+ce}var Me=s?this.getConvertedContent(s,_):{size:0,content:""},He=Me.size,ht=Me.content,nt="\n\0"+(k?"\0\b":"\0\0")+"\0\0"+A(W,2)+A(ee,2)+A(He?this.getFromCrc32Table(ht):0,4)+A(He,4)+A(He,4)+A(x.length,2)+A(le.length,2);return{fileHeader:"PK\x03\x04"+nt+x+le,folderHeader:"PK\x01\x02\x14\0"+nt+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+A(r,4)+x+le,content:ht||""}},d.getConvertedContent=function(o,r){return void 0===r&&(r=!1),r&&(o=o.split(";base64,")[1]),{size:(o=r?atob(o):o).length,content:o}},d.buildFolderEnd=function(o,r,s){var u=Pt.decToHex;return"PK\x05\x06\0\0\0\0"+u(o,2)+u(o,2)+u(r,4)+u(s,4)+"\0\0"},d.buildUint8Array=function(o){for(var r=new Uint8Array(o.length),s=0;s<r.length;s++)r[s]=o.charCodeAt(s);return r},d.getFromCrc32Table=function(o){if(!o.length)return 0;for(var r=o.length,s=new Uint8Array(r),u=0;u<r;u++)s[u]=o.charCodeAt(u);var c=-1;for(u=0;u<r;u++)c=c>>>8^XT[255&(c^s[u])];return-1^c},d.convertTime=function(o){var r=o.getHours();return r<<=6,r|=o.getMinutes(),(r<<=5)|o.getSeconds()/2},d.convertDate=function(o){var r=o.getFullYear()-1980;return r<<=4,r|=o.getMonth()+1,(r<<=5)|o.getDate()},d.folders=[],d.files=[]}();Gt.register(ZT,!1),Gt.register(Wy,!1),Gt.register(t_,!1),q.j_S=Uo,q.Nk3=$T,q.plv=us,q.rjZ=Fy,q.vA3=ew},2329:(kt,q,j)=>{"use strict";j.d(q,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=j(8026);(0,a.registerVersion)("firebase","9.3.0","app")},7841:(kt,q,j)=>{"use strict";j.d(q,{Z:()=>a.Z});var a=j(3394);a.Z.registerVersion("firebase","9.3.0","app-compat")},4828:(kt,q,j)=>{"use strict";j.r(q);var a=j(8239),Q=j(3394),Z=j(7354),Re=j(3854),fe=(j(8026),j(5422),j(3910));function ye(){return window}function de(){return(de=(0,a.Z)(function*(Ie,Ce,se){var $e;const{BuildInfo:Le}=ye();(0,Z.ap)(Ce.sessionId,"AuthEvent did not contain a session ID");const Y=yield xe(Ce.sessionId),Tt={};return(0,Z.aq)()?Tt.ibi=Le.packageName:(0,Z.ar)()?Tt.apn=Le.packageName:(0,Z.as)(Ie,"operation-not-supported-in-this-environment"),Le.displayName&&(Tt.appDisplayName=Le.displayName),Tt.sessionId=Y,(0,Z.at)(Ie,se,Ce.type,void 0,null!==($e=Ce.eventId)&&void 0!==$e?$e:void 0,Tt)})).apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(Ie){const{BuildInfo:Ce}=ye(),se={};(0,Z.aq)()?se.iosBundleId=Ce.packageName:(0,Z.ar)()?se.androidPackageName=Ce.packageName:(0,Z.as)(Ie,"operation-not-supported-in-this-environment"),yield(0,Z.au)(Ie,se)})).apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(Ie,Ce,se){const{cordova:$e}=ye();let Le=()=>{};try{yield new Promise((Y,Tt)=>{let ri=null;function vn(){var mn;Y();const Ei=null===(mn=$e.plugins.browsertab)||void 0===mn?void 0:mn.close;"function"==typeof Ei&&Ei(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function qn(){ri||(ri=window.setTimeout(()=>{Tt((0,Z.av)(Ie,"redirect-cancelled-by-user"))},2e3))}function Gi(){"visible"===(null==document?void 0:document.visibilityState)&&qn()}Ce.addPassiveListener(vn),document.addEventListener("resume",qn,!1),(0,Z.ar)()&&document.addEventListener("visibilitychange",Gi,!1),Le=()=>{Ce.removePassiveListener(vn),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",Gi,!1),ri&&window.clearTimeout(ri)}})}finally{Le()}})).apply(this,arguments)}function xe(Ie){return ke.apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(Ie){const Ce=pt(Ie),se=yield crypto.subtle.digest("SHA-256",Ce);return Array.from(new Uint8Array(se)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(Ie){if((0,Z.ap)(/[0-9a-zA-Z]+/.test(Ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ie);const Ce=new ArrayBuffer(Ie.length),se=new Uint8Array(Ce);for(let $e=0;$e<Ie.length;$e++)se[$e]=Ie.charCodeAt($e);return se}class Ln extends Z.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ce=>{this.resolveInialized=Ce})}addPassiveListener(Ce){this.passiveListeners.add(Ce)}removePassiveListener(Ce){this.passiveListeners.delete(Ce)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ce){return this.resolveInialized(),this.passiveListeners.forEach(se=>se(Ce)),super.onEvent(Ce)}initialized(){var Ce=this;return(0,a.Z)(function*(){yield Ce.initPromise})()}}function Wt(Ie){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,a.Z)(function*(Ie){const Ce=yield In()._get(Ft(Ie));return Ce&&(yield In()._remove(Ft(Ie))),Ce})).apply(this,arguments)}function fn(){const Ie=[],Ce="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let se=0;se<20;se++){const $e=Math.floor(Math.random()*Ce.length);Ie.push(Ce.charAt($e))}return Ie.join("")}function In(){return(0,Z.ax)(Z.b)}function Ft(Ie){return(0,Z.ay)("authEvent",Ie.config.apiKey,Ie.name)}function al(Ie){if(!(null==Ie?void 0:Ie.includes("?")))return{};const[Ce,...se]=Ie.split("?");return(0,Re.zd)(se.join("?"))}function Un(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Z.av)("no-auth-event")}}function fi(){var Ie;return(null===(Ie=null==self?void 0:self.location)||void 0===Ie?void 0:Ie.protocol)||null}function Li(Ie=(0,Re.z$)()){return!("file:"!==fi()&&"ionic:"!==fi()||!Ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function yo(){try{const Ie=self.localStorage,Ce=Z.aG();if(Ie)return Ie.setItem(Ce,"1"),Ie.removeItem(Ce),!function(Ie=(0,Re.z$)()){return(0,Re.w1)()&&11===(null==document?void 0:document.documentMode)||function(Ie=(0,Re.z$)()){return/Edge\/\d+/.test(Ie)}(Ie)}()||(0,Re.hl)()}catch(Ie){return vo()&&(0,Re.hl)()}return!1}function vo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function lt(){return("http:"===fi()||"https:"===fi()||(0,Re.ru)()||Li())&&!((0,Re.b$)()||(0,Re.UG)())&&yo()&&!vo()}function hr(){return Li()&&"undefined"!=typeof document}function Rt(){return(Rt=(0,a.Z)(function*(){return!!hr()&&new Promise(Ie=>{const Ce=setTimeout(()=>{Ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ce),Ie(!0)})})})).apply(this,arguments)}const en={LOCAL:"local",NONE:"none",SESSION:"session"},Ai=Z.aw,Wr="persistence";function Qt(Ie){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(Ie){yield Ie._initializationPromise;const Ce=Lr(),se=Z.ay(Wr,Ie.config.apiKey,Ie.name);(null==Ce?void 0:Ce.sessionStorage)&&Ce.sessionStorage.setItem(se,Ie._getPersistence())})).apply(this,arguments)}function Lr(){return"undefined"!=typeof window?window:null}const Gn=Z.aw;class yt{constructor(){this.browserResolver=Z.ax(Z.k),this.cordovaResolver=Z.ax(class{constructor(){this._redirectPersistence=Z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Z.aA}_initialize(Ce){var se=this;return(0,a.Z)(function*(){const $e=Ce._key();let Le=se.eventManagers.get($e);return Le||(Le=new Ln(Ce),se.eventManagers.set($e,Le),se.attachCallbackListeners(Ce,Le)),Le})()}_openPopup(Ce){(0,Z.as)(Ce,"operation-not-supported-in-this-environment")}_openRedirect(Ce,se,$e,Le){var Y=this;return(0,a.Z)(function*(){!function(Ie){var Ce,se,$e,Le,Y,Tt,ri,vn,qn,Gi;const mn=ye();(0,Z.aw)("function"==typeof(null===(Ce=null==mn?void 0:mn.universalLinks)||void 0===Ce?void 0:Ce.subscribe),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Z.aw)(void 0!==(null===(se=null==mn?void 0:mn.BuildInfo)||void 0===se?void 0:se.packageName),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Z.aw)("function"==typeof(null===(Y=null===(Le=null===($e=null==mn?void 0:mn.cordova)||void 0===$e?void 0:$e.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===Y?void 0:Y.openUrl),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Z.aw)("function"==typeof(null===(vn=null===(ri=null===(Tt=null==mn?void 0:mn.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===ri?void 0:ri.browsertab)||void 0===vn?void 0:vn.isAvailable),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Z.aw)("function"==typeof(null===(Gi=null===(qn=null==mn?void 0:mn.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===Gi?void 0:Gi.open),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ce);const Tt=yield Y._initialize(Ce);yield Tt.initialized(),Tt.resetRedirect(),(0,Z.aB)(),yield Y._originValidation(Ce);const ri=function(Ie,Ce,se=null){return{type:Ce,eventId:se,urlResponse:null,sessionId:fn(),postBody:null,tenantId:Ie.tenantId,error:(0,Z.av)(Ie,"no-auth-event")}}(Ce,$e,Le);yield function(Ie,Ce){return In()._set(Ft(Ie),Ce)}(Ce,ri);const vn=yield function(Ie,Ce,se){return de.apply(this,arguments)}(Ce,ri,se),qn=yield function(Ie){const{cordova:Ce}=ye();return new Promise(se=>{Ce.plugins.browsertab.isAvailable($e=>{let Le=null;$e?Ce.plugins.browsertab.openUrl(Ie):Le=Ce.InAppBrowser.open(Ie,(0,Z.ao)()?"_blank":"_system","location=yes"),se(Le)})})}(vn);return function(Ie,Ce,se){return qe.apply(this,arguments)}(Ce,Tt,qn)})()}_isIframeWebStorageSupported(Ce,se){throw new Error("Method not implemented.")}_originValidation(Ce){const se=Ce._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function(Ie){return Ne.apply(this,arguments)}(Ce)),this.originValidationPromises[se]}attachCallbackListeners(Ce,se){const{universalLinks:$e,handleOpenURL:Le,BuildInfo:Y}=ye(),Tt=setTimeout((0,a.Z)(function*(){yield Wt(Ce),se.onEvent(Un())}),500),ri=function(){var Gi=(0,a.Z)(function*(mn){clearTimeout(Tt);const Ei=yield Wt(Ce);let Ee=null;Ei&&(null==mn?void 0:mn.url)&&(Ee=function(Ie,Ce){var se,$e;const Le=function(Ie){const Ce=al(Ie),se=Ce.link?decodeURIComponent(Ce.link):void 0,$e=al(se).link,Le=Ce.deep_link_id?decodeURIComponent(Ce.deep_link_id):void 0;return al(Le).link||Le||$e||se||Ie}(Ce);if(Le.includes("/__/auth/callback")){const Y=al(Le),Tt=Y.firebaseError?function(Ie){try{return JSON.parse(Ie)}catch(Ce){return null}}(decodeURIComponent(Y.firebaseError)):null,ri=null===($e=null===(se=null==Tt?void 0:Tt.code)||void 0===se?void 0:se.split("auth/"))||void 0===$e?void 0:$e[1],vn=ri?(0,Z.av)(ri):null;return vn?{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,sessionId:Ie.sessionId,urlResponse:Le,postBody:null}}return null}(Ei,mn.url)),se.onEvent(Ee||Un())});return function(Ei){return Gi.apply(this,arguments)}}();void 0!==$e&&"function"==typeof $e.subscribe&&$e.subscribe(null,ri);const vn=Le,qn=`${Y.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var Gi=(0,a.Z)(function*(mn){if(mn.toLowerCase().startsWith(qn)&&ri({url:mn}),"function"==typeof vn)try{vn(mn)}catch(Ei){console.error(Ei)}});return function(mn){return Gi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Z.a,this._completeRedirectFn=Z.aA}_initialize(Ce){var se=this;return(0,a.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(Ce)})()}_openPopup(Ce,se,$e,Le){var Y=this;return(0,a.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(Ce,se,$e,Le)})()}_openRedirect(Ce,se,$e,Le){var Y=this;return(0,a.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(Ce,se,$e,Le)})()}_isIframeWebStorageSupported(Ce,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ce,se)}_originValidation(Ce){return this.assertedUnderlyingResolver._originValidation(Ce)}get _shouldInitProactively(){return hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ce=this;return(0,a.Z)(function*(){if(Ce.underlyingResolver)return;const se=yield function(){return Rt.apply(this,arguments)}();Ce.underlyingResolver=se?Ce.cordovaResolver:Ce.browserResolver})()}}function jt(Ie){return Ie.unwrap()}function Qs(Ie){return an(Ie)}function an(Ie){const{_tokenResponse:Ce}=Ie instanceof Re.ZR?Ie.customData:Ie;if(!Ce)return null;if(!(Ie instanceof Re.ZR)&&"temporaryProof"in Ce&&"phoneNumber"in Ce)return Z.P.credentialFromResult(Ie);const se=Ce.providerId;if(!se||se===Z.o.PASSWORD)return null;let $e;switch(se){case Z.o.GOOGLE:$e=Z.N;break;case Z.o.FACEBOOK:$e=Z.M;break;case Z.o.GITHUB:$e=Z.Q;break;case Z.o.TWITTER:$e=Z.V;break;default:const{oauthIdToken:Le,oauthAccessToken:Y,oauthTokenSecret:Tt,pendingToken:ri,nonce:vn}=Ce;return Y||Tt||Le||ri?ri?se.startsWith("saml.")?Z.aJ._create(se,ri):Z.I._fromParams({providerId:se,signInMethod:se,pendingToken:ri,idToken:Le,accessToken:Y}):new Z.T(se).credential({idToken:Le,accessToken:Y,rawNonce:vn}):null}return Ie instanceof Re.ZR?$e.credentialFromError(Ie):$e.credentialFromResult(Ie)}function bi(Ie,Ce){return Ce.catch(se=>{throw se instanceof Re.ZR&&function(Ie,Ce){var se;const $e=null===(se=Ce.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===Ce.code)Ce.resolver=new pe(Ie,Z.am(Ie,Ce));else if($e){const Le=an(Ce),Y=Ce;Le&&(Y.credential=Le,Y.tenantId=$e.tenantId||void 0,Y.email=$e.email||void 0,Y.phoneNumber=$e.phoneNumber||void 0)}}(Ie,se),se}).then(se=>{const Le=se.user;return{operationType:se.operationType,credential:Qs(se),additionalUserInfo:Z.ak(se),user:ve.getOrCreate(Le)}})}function ll(Ie,Ce){return _e.apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(Ie,Ce){const se=yield Ce;return{verificationId:se.verificationId,confirm:$e=>bi(Ie,se.confirm($e))}})).apply(this,arguments)}class pe{constructor(Ce,se){this.resolver=se,this.auth=Ce.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ce){return bi(jt(this.auth),this.resolver.resolveSignIn(Ce))}}class ve{constructor(Ce){this._delegate=Ce,this.multiFactor=Z.an(Ce)}static getOrCreate(Ce){return ve.USER_MAP.has(Ce)||ve.USER_MAP.set(Ce,new ve(Ce)),ve.USER_MAP.get(Ce)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ce){return this._delegate.getIdTokenResult(Ce)}getIdToken(Ce){return this._delegate.getIdToken(Ce)}linkAndRetrieveDataWithCredential(Ce){return this.linkWithCredential(Ce)}linkWithCredential(Ce){var se=this;return(0,a.Z)(function*(){return bi(se.auth,Z.Y(se._delegate,Ce))})()}linkWithPhoneNumber(Ce,se){var $e=this;return(0,a.Z)(function*(){return ll($e.auth,Z.l($e._delegate,Ce,se))})()}linkWithPopup(Ce){var se=this;return(0,a.Z)(function*(){return bi(se.auth,Z.d(se._delegate,Ce,yt))})()}linkWithRedirect(Ce){var se=this;return(0,a.Z)(function*(){return yield Qt(Z.aC(se.auth)),Z.g(se._delegate,Ce,yt)})()}reauthenticateAndRetrieveDataWithCredential(Ce){return this.reauthenticateWithCredential(Ce)}reauthenticateWithCredential(Ce){var se=this;return(0,a.Z)(function*(){return bi(se.auth,Z.Z(se._delegate,Ce))})()}reauthenticateWithPhoneNumber(Ce,se){return ll(this.auth,Z.r(this._delegate,Ce,se))}reauthenticateWithPopup(Ce){return bi(this.auth,Z.e(this._delegate,Ce,yt))}reauthenticateWithRedirect(Ce){var se=this;return(0,a.Z)(function*(){return yield Qt(Z.aC(se.auth)),Z.h(se._delegate,Ce,yt)})()}sendEmailVerification(Ce){return Z.aa(this._delegate,Ce)}unlink(Ce){var se=this;return(0,a.Z)(function*(){return yield Z.aj(se._delegate,Ce),se})()}updateEmail(Ce){return Z.af(this._delegate,Ce)}updatePassword(Ce){return Z.ag(this._delegate,Ce)}updatePhoneNumber(Ce){return Z.u(this._delegate,Ce)}updateProfile(Ce){return Z.ae(this._delegate,Ce)}verifyBeforeUpdateEmail(Ce,se){return Z.ab(this._delegate,Ce,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ve.USER_MAP=new WeakMap;const Ze=Z.aw;let Fe=(()=>{class Ie{constructor(se,$e){if(this.app=se,$e.isInitialized())return this._delegate=$e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=se.options;Ze(Le,"invalid-api-key",{appName:se.name});let Y=[Z.K];if("undefined"!=typeof window){Y=function(Ie,Ce){const se=Lr();if(!(null==se?void 0:se.sessionStorage))return[];const $e=Z.ay(Wr,Ie,Ce);switch(se.sessionStorage.getItem($e)){case en.NONE:return[Z.K];case en.LOCAL:return[Z.i,Z.a];case en.SESSION:return[Z.a];default:return[]}}(Le,se.name);for(const ri of[Z.i,Z.b,Z.a])Y.includes(ri)||Y.push(ri)}Ze(Le,"invalid-api-key",{appName:se.name});const Tt="undefined"!=typeof window?yt:void 0;this._delegate=$e.initialize({options:{persistence:Y,popupRedirectResolver:Tt}}),this._delegate._updateErrorMap(Z.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ve.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,$e){Z.E(this._delegate,se,$e)}applyActionCode(se){return Z.a1(this._delegate,se)}checkActionCode(se){return Z.a2(this._delegate,se)}confirmPasswordReset(se,$e){return Z.a0(this._delegate,se,$e)}createUserWithEmailAndPassword(se,$e){var Le=this;return(0,a.Z)(function*(){return bi(Le._delegate,Z.a4(Le._delegate,se,$e))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return Z.a9(this._delegate,se)}isSignInWithEmailLink(se){return Z.a7(this._delegate,se)}getRedirectResult(){var se=this;return(0,a.Z)(function*(){Ze(lt(),se._delegate,"operation-not-supported-in-this-environment");const $e=yield Z.j(se._delegate,yt);return $e?bi(se._delegate,Promise.resolve($e)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function(Ie,Ce){(0,Z.aC)(Ie)._logFramework(Ce)}(this._delegate,se)}onAuthStateChanged(se,$e,Le){const{next:Y,error:Tt,complete:ri}=St(se,$e,Le);return this._delegate.onAuthStateChanged(Y,Tt,ri)}onIdTokenChanged(se,$e,Le){const{next:Y,error:Tt,complete:ri}=St(se,$e,Le);return this._delegate.onIdTokenChanged(Y,Tt,ri)}sendSignInLinkToEmail(se,$e){return Z.a6(this._delegate,se,$e)}sendPasswordResetEmail(se,$e){return Z.$(this._delegate,se,$e||void 0)}setPersistence(se){var $e=this;return(0,a.Z)(function*(){let Le;switch(function(Ie,Ce){Ai(Object.values(en).includes(Ce),Ie,"invalid-persistence-type"),(0,Re.b$)()?Ai(Ce!==en.SESSION,Ie,"unsupported-persistence-type"):(0,Re.UG)()?Ai(Ce===en.NONE,Ie,"unsupported-persistence-type"):vo()?Ai(Ce===en.NONE||Ce===en.LOCAL&&(0,Re.hl)(),Ie,"unsupported-persistence-type"):Ai(Ce===en.NONE||yo(),Ie,"unsupported-persistence-type")}($e._delegate,se),se){case en.SESSION:Le=Z.a;break;case en.LOCAL:Le=(yield Z.ax(Z.i)._isAvailable())?Z.i:Z.b;break;case en.NONE:Le=Z.K;break;default:return Z.as("argument-error",{appName:$e._delegate.name})}return $e._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return bi(this._delegate,Z.W(this._delegate))}signInWithCredential(se){return bi(this._delegate,Z.X(this._delegate,se))}signInWithCustomToken(se){return bi(this._delegate,Z._(this._delegate,se))}signInWithEmailAndPassword(se,$e){return bi(this._delegate,Z.a5(this._delegate,se,$e))}signInWithEmailLink(se,$e){return bi(this._delegate,Z.a8(this._delegate,se,$e))}signInWithPhoneNumber(se,$e){return ll(this._delegate,Z.s(this._delegate,se,$e))}signInWithPopup(se){var $e=this;return(0,a.Z)(function*(){return Ze(lt(),$e._delegate,"operation-not-supported-in-this-environment"),bi($e._delegate,Z.c($e._delegate,se,yt))})()}signInWithRedirect(se){var $e=this;return(0,a.Z)(function*(){return Ze(lt(),$e._delegate,"operation-not-supported-in-this-environment"),yield Qt($e._delegate),Z.f($e._delegate,se,yt)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return Z.a3(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ie.Persistence=en,Ie})();function St(Ie,Ce,se){let $e=Ie;"function"!=typeof Ie&&({next:$e,error:Ce,complete:se}=Ie);const Le=$e;return{next:Tt=>Le(Tt&&ve.getOrCreate(Tt)),error:Ce,complete:se}}class dn{constructor(){this.providerId="phone",this._delegate=new Z.P(jt(Q.Z.auth()))}static credential(Ce,se){return Z.P.credential(Ce,se)}verifyPhoneNumber(Ce,se){return this._delegate.verifyPhoneNumber(Ce,se)}unwrap(){return this._delegate}}dn.PHONE_SIGN_IN_METHOD=Z.P.PHONE_SIGN_IN_METHOD,dn.PROVIDER_ID=Z.P.PROVIDER_ID;const Jn=Z.aw;var Ie;(Ie=Q.Z).INTERNAL.registerComponent(new fe.wA("auth-compat",Ce=>{const se=Ce.getProvider("app-compat").getImmediate(),$e=Ce.getProvider("auth");return new Fe(se,$e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Z.A.EMAIL_SIGNIN,PASSWORD_RESET:Z.A.PASSWORD_RESET,RECOVER_EMAIL:Z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Z.A.VERIFY_EMAIL}},EmailAuthProvider:Z.L,FacebookAuthProvider:Z.M,GithubAuthProvider:Z.Q,GoogleAuthProvider:Z.N,OAuthProvider:Z.T,SAMLAuthProvider:Z.U,PhoneAuthProvider:dn,PhoneMultiFactorGenerator:Z.m,RecaptchaVerifier:class{constructor(Ce,se,$e=Q.Z.app()){var Le;Jn(null===(Le=$e.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:$e.name}),this._delegate=new Z.R(Ce,se,$e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Z.V,Auth:Fe,AuthCredential:Z.G,Error:Re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ie.registerVersion("@firebase/auth-compat","0.2.1")},6676:function(kt,q){!function(j){"use strict";function a(Ue){return Array.prototype.slice.call(Ue)}function Q(Ue){return new Promise(function(xe,ke){Ue.onsuccess=function(){xe(Ue.result)},Ue.onerror=function(){ke(Ue.error)}})}function Z(Ue,xe,ke){var pt,Ot=new Promise(function(Ln,Hn){Q(pt=Ue[xe].apply(Ue,ke)).then(Ln,Hn)});return Ot.request=pt,Ot}function Re(Ue,xe,ke){var pt=Z(Ue,xe,ke);return pt.then(function(Ot){if(Ot)return new oe(Ot,pt.request)})}function Ae(Ue,xe,ke){ke.forEach(function(pt){Object.defineProperty(Ue.prototype,pt,{get:function(){return this[xe][pt]},set:function(Ot){this[xe][pt]=Ot}})})}function be(Ue,xe,ke,pt){pt.forEach(function(Ot){Ot in ke.prototype&&(Ue.prototype[Ot]=function(){return Z(this[xe],Ot,arguments)})})}function fe(Ue,xe,ke,pt){pt.forEach(function(Ot){Ot in ke.prototype&&(Ue.prototype[Ot]=function(){return this[xe][Ot].apply(this[xe],arguments)})})}function ye(Ue,xe,ke,pt){pt.forEach(function(Ot){Ot in ke.prototype&&(Ue.prototype[Ot]=function(){return Re(this[xe],Ot,arguments)})})}function we(Ue){this._index=Ue}function oe(Ue,xe){this._cursor=Ue,this._request=xe}function de(Ue){this._store=Ue}function he(Ue){this._tx=Ue,this.complete=new Promise(function(xe,ke){Ue.oncomplete=function(){xe()},Ue.onerror=function(){ke(Ue.error)},Ue.onabort=function(){ke(Ue.error)}})}function Ne(Ue,xe,ke){this._db=Ue,this.oldVersion=xe,this.transaction=new he(ke)}function Xe(Ue){this._db=Ue}Ae(we,"_index",["name","keyPath","multiEntry","unique"]),be(we,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ye(we,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ae(oe,"_cursor",["direction","key","primaryKey","value"]),be(oe,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ue){Ue in IDBCursor.prototype&&(oe.prototype[Ue]=function(){var xe=this,ke=arguments;return Promise.resolve().then(function(){return xe._cursor[Ue].apply(xe._cursor,ke),Q(xe._request).then(function(pt){if(pt)return new oe(pt,xe._request)})})})}),de.prototype.createIndex=function(){return new we(this._store.createIndex.apply(this._store,arguments))},de.prototype.index=function(){return new we(this._store.index.apply(this._store,arguments))},Ae(de,"_store",["name","keyPath","indexNames","autoIncrement"]),be(de,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ye(de,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fe(de,"_store",IDBObjectStore,["deleteIndex"]),he.prototype.objectStore=function(){return new de(this._tx.objectStore.apply(this._tx,arguments))},Ae(he,"_tx",["objectStoreNames","mode"]),fe(he,"_tx",IDBTransaction,["abort"]),Ne.prototype.createObjectStore=function(){return new de(this._db.createObjectStore.apply(this._db,arguments))},Ae(Ne,"_db",["name","version","objectStoreNames"]),fe(Ne,"_db",IDBDatabase,["deleteObjectStore","close"]),Xe.prototype.transaction=function(){return new he(this._db.transaction.apply(this._db,arguments))},Ae(Xe,"_db",["name","version","objectStoreNames"]),fe(Xe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ue){[de,we].forEach(function(xe){Ue in xe.prototype&&(xe.prototype[Ue.replace("open","iterate")]=function(){var ke=a(arguments),pt=ke[ke.length-1],Ot=this._store||this._index,Ln=Ot[Ue].apply(Ot,ke.slice(0,-1));Ln.onsuccess=function(){pt(Ln.result)}})})}),[we,de].forEach(function(Ue){Ue.prototype.getAll||(Ue.prototype.getAll=function(xe,ke){var pt=this,Ot=[];return new Promise(function(Ln){pt.iterateCursor(xe,function(Hn){Hn?(Ot.push(Hn.value),void 0===ke||Ot.length!=ke?Hn.continue():Ln(Ot)):Ln(Ot)})})})}),j.openDb=function(Ue,xe,ke){var pt=Z(indexedDB,"open",[Ue,xe]),Ot=pt.request;return Ot&&(Ot.onupgradeneeded=function(Ln){ke&&ke(new Ne(Ot.result,Ln.oldVersion,Ot.transaction))}),pt.then(function(Ln){return new Xe(Ln)})},j.deleteDb=function(Ue){return Z(indexedDB,"deleteDatabase",[Ue])},Object.defineProperty(j,"__esModule",{value:!0})}(q)},3098:(kt,q,j)=>{"use strict";j.d(q,{P:()=>Ae});var a=j(9193),Q=j(5917),Z=j(205);class Ae{constructor(fe,ye,we){this.kind=fe,this.value=ye,this.error=we,this.hasValue="N"===fe}observe(fe){switch(this.kind){case"N":return fe.next&&fe.next(this.value);case"E":return fe.error&&fe.error(this.error);case"C":return fe.complete&&fe.complete()}}do(fe,ye,we){switch(this.kind){case"N":return fe&&fe(this.value);case"E":return ye&&ye(this.error);case"C":return we&&we()}}accept(fe,ye,we){return fe&&"function"==typeof fe.next?this.observe(fe):this.do(fe,ye,we)}toObservable(){switch(this.kind){case"N":return(0,Q.of)(this.value);case"E":return(0,Z._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(fe){return void 0!==fe?new Ae("N",fe):Ae.undefinedValueNotification}static createError(fe){return new Ae("E",void 0,fe)}static createComplete(){return Ae.completeNotification}}Ae.completeNotification=new Ae("C"),Ae.undefinedValueNotification=new Ae("N",void 0)},7574:(kt,q,j)=>{"use strict";j.d(q,{y:()=>de});var a=j(7393),Z=j(9181),Re=j(6490),be=j(6554),fe=j(4487);var oe=j(2494);let de=(()=>{class Ne{constructor(rt){this._isScalar=!1,rt&&(this._subscribe=rt)}lift(rt){const qe=new Ne;return qe.source=this,qe.operator=rt,qe}subscribe(rt,qe,Ue){const{operator:xe}=this,ke=function(Ne,Xe,rt){if(Ne){if(Ne instanceof a.L)return Ne;if(Ne[Z.b])return Ne[Z.b]()}return Ne||Xe||rt?new a.L(Ne,Xe,rt):new a.L(Re.c)}(rt,qe,Ue);if(ke.add(xe?xe.call(ke,this.source):this.source||oe.v.useDeprecatedSynchronousErrorHandling&&!ke.syncErrorThrowable?this._subscribe(ke):this._trySubscribe(ke)),oe.v.useDeprecatedSynchronousErrorHandling&&ke.syncErrorThrowable&&(ke.syncErrorThrowable=!1,ke.syncErrorThrown))throw ke.syncErrorValue;return ke}_trySubscribe(rt){try{return this._subscribe(rt)}catch(qe){oe.v.useDeprecatedSynchronousErrorHandling&&(rt.syncErrorThrown=!0,rt.syncErrorValue=qe),function(Ne){for(;Ne;){const{closed:Xe,destination:rt,isStopped:qe}=Ne;if(Xe||qe)return!1;Ne=rt&&rt instanceof a.L?rt:null}return!0}(rt)?rt.error(qe):console.warn(qe)}}forEach(rt,qe){return new(qe=he(qe))((Ue,xe)=>{let ke;ke=this.subscribe(pt=>{try{rt(pt)}catch(Ot){xe(Ot),ke&&ke.unsubscribe()}},xe,Ue)})}_subscribe(rt){const{source:qe}=this;return qe&&qe.subscribe(rt)}[be.L](){return this}pipe(...rt){return 0===rt.length?this:function(Ne){return 0===Ne.length?fe.y:1===Ne.length?Ne[0]:function(rt){return Ne.reduce((qe,Ue)=>Ue(qe),rt)}}(rt)(this)}toPromise(rt){return new(rt=he(rt))((qe,Ue)=>{let xe;this.subscribe(ke=>xe=ke,ke=>Ue(ke),()=>qe(xe))})}}return Ne.create=Xe=>new Ne(Xe),Ne})();function he(Ne){if(Ne||(Ne=oe.v.Promise||Promise),!Ne)throw new Error("no Promise impl found");return Ne}},6490:(kt,q,j)=>{"use strict";j.d(q,{c:()=>Z});var a=j(2494),Q=j(4449);const Z={closed:!0,next(Re){},error(Re){if(a.v.useDeprecatedSynchronousErrorHandling)throw Re;(0,Q.z)(Re)},complete(){}}},9765:(kt,q,j)=>{"use strict";j.d(q,{Yc:()=>fe,xQ:()=>ye});var a=j(7574),Q=j(7393),Z=j(5319),Re=j(7971),Ae=j(8858),be=j(9181);class fe extends Q.L{constructor(de){super(de),this.destination=de}}let ye=(()=>{class oe extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[be.b](){return new fe(this)}lift(he){const Ne=new we(this,this);return Ne.operator=he,Ne}next(he){if(this.closed)throw new Re.N;if(!this.isStopped){const{observers:Ne}=this,Xe=Ne.length,rt=Ne.slice();for(let qe=0;qe<Xe;qe++)rt[qe].next(he)}}error(he){if(this.closed)throw new Re.N;this.hasError=!0,this.thrownError=he,this.isStopped=!0;const{observers:Ne}=this,Xe=Ne.length,rt=Ne.slice();for(let qe=0;qe<Xe;qe++)rt[qe].error(he);this.observers.length=0}complete(){if(this.closed)throw new Re.N;this.isStopped=!0;const{observers:he}=this,Ne=he.length,Xe=he.slice();for(let rt=0;rt<Ne;rt++)Xe[rt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(he){if(this.closed)throw new Re.N;return super._trySubscribe(he)}_subscribe(he){if(this.closed)throw new Re.N;return this.hasError?(he.error(this.thrownError),Z.w.EMPTY):this.isStopped?(he.complete(),Z.w.EMPTY):(this.observers.push(he),new Ae.W(this,he))}asObservable(){const he=new a.y;return he.source=this,he}}return oe.create=(de,he)=>new we(de,he),oe})();class we extends ye{constructor(de,he){super(),this.destination=de,this.source=he}next(de){const{destination:he}=this;he&&he.next&&he.next(de)}error(de){const{destination:he}=this;he&&he.error&&this.destination.error(de)}complete(){const{destination:de}=this;de&&de.complete&&this.destination.complete()}_subscribe(de){const{source:he}=this;return he?this.source.subscribe(de):Z.w.EMPTY}}},8858:(kt,q,j)=>{"use strict";j.d(q,{W:()=>Q});var a=j(5319);class Q extends a.w{constructor(Re,Ae){super(),this.subject=Re,this.subscriber=Ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Re=this.subject,Ae=Re.observers;if(this.subject=null,!Ae||0===Ae.length||Re.isStopped||Re.closed)return;const be=Ae.indexOf(this.subscriber);-1!==be&&Ae.splice(be,1)}}},7393:(kt,q,j)=>{"use strict";j.d(q,{L:()=>fe});var a=j(9105),Q=j(6490),Z=j(5319),Re=j(9181),Ae=j(2494),be=j(4449);class fe extends Z.w{constructor(oe,de,he){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Q.c;break;case 1:if(!oe){this.destination=Q.c;break}if("object"==typeof oe){oe instanceof fe?(this.syncErrorThrowable=oe.syncErrorThrowable,this.destination=oe,oe.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,oe));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,oe,de,he)}}[Re.b](){return this}static create(oe,de,he){const Ne=new fe(oe,de,he);return Ne.syncErrorThrowable=!1,Ne}next(oe){this.isStopped||this._next(oe)}error(oe){this.isStopped||(this.isStopped=!0,this._error(oe))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(oe){this.destination.next(oe)}_error(oe){this.destination.error(oe),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:oe}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=oe,this}}class ye extends fe{constructor(oe,de,he,Ne){super(),this._parentSubscriber=oe;let Xe,rt=this;(0,a.m)(de)?Xe=de:de&&(Xe=de.next,he=de.error,Ne=de.complete,de!==Q.c&&(rt=Object.create(de),(0,a.m)(rt.unsubscribe)&&this.add(rt.unsubscribe.bind(rt)),rt.unsubscribe=this.unsubscribe.bind(this))),this._context=rt,this._next=Xe,this._error=he,this._complete=Ne}next(oe){if(!this.isStopped&&this._next){const{_parentSubscriber:de}=this;Ae.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable?this.__tryOrSetError(de,this._next,oe)&&this.unsubscribe():this.__tryOrUnsub(this._next,oe)}}error(oe){if(!this.isStopped){const{_parentSubscriber:de}=this,{useDeprecatedSynchronousErrorHandling:he}=Ae.v;if(this._error)he&&de.syncErrorThrowable?(this.__tryOrSetError(de,this._error,oe),this.unsubscribe()):(this.__tryOrUnsub(this._error,oe),this.unsubscribe());else if(de.syncErrorThrowable)he?(de.syncErrorValue=oe,de.syncErrorThrown=!0):(0,be.z)(oe),this.unsubscribe();else{if(this.unsubscribe(),he)throw oe;(0,be.z)(oe)}}}complete(){if(!this.isStopped){const{_parentSubscriber:oe}=this;if(this._complete){const de=()=>this._complete.call(this._context);Ae.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable?(this.__tryOrSetError(oe,de),this.unsubscribe()):(this.__tryOrUnsub(de),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(oe,de){try{oe.call(this._context,de)}catch(he){if(this.unsubscribe(),Ae.v.useDeprecatedSynchronousErrorHandling)throw he;(0,be.z)(he)}}__tryOrSetError(oe,de,he){if(!Ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{de.call(this._context,he)}catch(Ne){return Ae.v.useDeprecatedSynchronousErrorHandling?(oe.syncErrorValue=Ne,oe.syncErrorThrown=!0,!0):((0,be.z)(Ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:oe}=this;this._context=null,this._parentSubscriber=null,oe.unsubscribe()}}},5319:(kt,q,j)=>{"use strict";j.d(q,{w:()=>be});var a=j(9796),Q=j(1555),Z=j(9105);const Ae=(()=>{function ye(we){return Error.call(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((oe,de)=>`${de+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we,this}return ye.prototype=Object.create(Error.prototype),ye})();class be{constructor(we){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,we&&(this._ctorUnsubscribe=!0,this._unsubscribe=we)}unsubscribe(){let we;if(this.closed)return;let{_parentOrParents:oe,_ctorUnsubscribe:de,_unsubscribe:he,_subscriptions:Ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,oe instanceof be)oe.remove(this);else if(null!==oe)for(let Xe=0;Xe<oe.length;++Xe)oe[Xe].remove(this);if((0,Z.m)(he)){de&&(this._unsubscribe=void 0);try{he.call(this)}catch(Xe){we=Xe instanceof Ae?fe(Xe.errors):[Xe]}}if((0,a.k)(Ne)){let Xe=-1,rt=Ne.length;for(;++Xe<rt;){const qe=Ne[Xe];if((0,Q.K)(qe))try{qe.unsubscribe()}catch(Ue){we=we||[],Ue instanceof Ae?we=we.concat(fe(Ue.errors)):we.push(Ue)}}}if(we)throw new Ae(we)}add(we){let oe=we;if(!we)return be.EMPTY;switch(typeof we){case"function":oe=new be(we);case"object":if(oe===this||oe.closed||"function"!=typeof oe.unsubscribe)return oe;if(this.closed)return oe.unsubscribe(),oe;if(!(oe instanceof be)){const Ne=oe;oe=new be,oe._subscriptions=[Ne]}break;default:throw new Error("unrecognized teardown "+we+" added to Subscription.")}let{_parentOrParents:de}=oe;if(null===de)oe._parentOrParents=this;else if(de instanceof be){if(de===this)return oe;oe._parentOrParents=[de,this]}else{if(-1!==de.indexOf(this))return oe;de.push(this)}const he=this._subscriptions;return null===he?this._subscriptions=[oe]:he.push(oe),oe}remove(we){const oe=this._subscriptions;if(oe){const de=oe.indexOf(we);-1!==de&&oe.splice(de,1)}}}var ye;function fe(ye){return ye.reduce((we,oe)=>we.concat(oe instanceof Ae?oe.errors:oe),[])}be.EMPTY=((ye=new be).closed=!0,ye)},2494:(kt,q,j)=>{"use strict";j.d(q,{v:()=>Q});let a=!1;const Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Z){if(Z){const Re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Re.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=Z},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(kt,q,j)=>{"use strict";j.d(q,{IY:()=>Re,Ds:()=>be,ft:()=>ye});var a=j(7393),Q=j(7574),Z=j(7444);class Re extends a.L{constructor(oe){super(),this.parent=oe}_next(oe){this.parent.notifyNext(oe)}_error(oe){this.parent.notifyError(oe),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class be extends a.L{notifyNext(oe){this.destination.next(oe)}notifyError(oe){this.destination.error(oe)}notifyComplete(){this.destination.complete()}}function ye(we,oe){if(oe.closed)return;if(we instanceof Q.y)return we.subscribe(oe);let de;try{de=(0,Z.s)(we)(oe)}catch(he){oe.error(he)}return de}},2441:(kt,q,j)=>{"use strict";j.d(q,{c:()=>Ae,N:()=>be});var a=j(9765),Q=j(7574),Z=j(5319),Re=j(1307);class Ae extends Q.y{constructor(de,he){super(),this.source=de,this.subjectFactory=he,this._refCount=0,this._isComplete=!1}_subscribe(de){return this.getSubject().subscribe(de)}getSubject(){const de=this._subject;return(!de||de.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let de=this._connection;return de||(this._isComplete=!1,de=this._connection=new Z.w,de.add(this.source.subscribe(new fe(this.getSubject(),this))),de.closed&&(this._connection=null,de=Z.w.EMPTY)),de}refCount(){return(0,Re.x)()(this)}}const be=(()=>{const oe=Ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:oe._subscribe},_isComplete:{value:oe._isComplete,writable:!0},getSubject:{value:oe.getSubject},connect:{value:oe.connect},refCount:{value:oe.refCount}}})();class fe extends a.Yc{constructor(de,he){super(de),this.connectable=he}_error(de){this._unsubscribe(),super._error(de)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const de=this.connectable;if(de){this.connectable=null;const he=de._connection;de._refCount=0,de._subject=null,de._connection=null,he&&he.unsubscribe()}}}},9193:(kt,q,j)=>{"use strict";j.d(q,{E:()=>Q,c:()=>Z});var a=j(7574);const Q=new a.y(Ae=>Ae.complete());function Z(Ae){return Ae?function(Ae){return new a.y(be=>Ae.schedule(()=>be.complete()))}(Ae):Q}},4402:(kt,q,j)=>{"use strict";j.d(q,{D:()=>rt});var a=j(7574),Q=j(7444),Z=j(5319),Re=j(6554),fe=j(4087),ye=j(377),de=j(4072),he=j(9489);function rt(qe,Ue){return Ue?function(qe,Ue){if(null!=qe){if(function(qe){return qe&&"function"==typeof qe[Re.L]}(qe))return function(qe,Ue){return new a.y(xe=>{const ke=new Z.w;return ke.add(Ue.schedule(()=>{const pt=qe[Re.L]();ke.add(pt.subscribe({next(Ot){ke.add(Ue.schedule(()=>xe.next(Ot)))},error(Ot){ke.add(Ue.schedule(()=>xe.error(Ot)))},complete(){ke.add(Ue.schedule(()=>xe.complete()))}}))})),ke})}(qe,Ue);if((0,de.t)(qe))return function(qe,Ue){return new a.y(xe=>{const ke=new Z.w;return ke.add(Ue.schedule(()=>qe.then(pt=>{ke.add(Ue.schedule(()=>{xe.next(pt),ke.add(Ue.schedule(()=>xe.complete()))}))},pt=>{ke.add(Ue.schedule(()=>xe.error(pt)))}))),ke})}(qe,Ue);if((0,he.z)(qe))return(0,fe.r)(qe,Ue);if(function(qe){return qe&&"function"==typeof qe[ye.hZ]}(qe)||"string"==typeof qe)return function(qe,Ue){if(!qe)throw new Error("Iterable cannot be null");return new a.y(xe=>{const ke=new Z.w;let pt;return ke.add(()=>{pt&&"function"==typeof pt.return&&pt.return()}),ke.add(Ue.schedule(()=>{pt=qe[ye.hZ](),ke.add(Ue.schedule(function(){if(xe.closed)return;let Ot,Ln;try{const Hn=pt.next();Ot=Hn.value,Ln=Hn.done}catch(Hn){return void xe.error(Hn)}Ln?xe.complete():(xe.next(Ot),this.schedule())}))})),ke})}(qe,Ue)}throw new TypeError((null!==qe&&typeof qe||qe)+" is not observable")}(qe,Ue):qe instanceof a.y?qe:new a.y((0,Q.s)(qe))}},6693:(kt,q,j)=>{"use strict";j.d(q,{n:()=>Re});var a=j(7574),Q=j(5015),Z=j(4087);function Re(Ae,be){return be?(0,Z.r)(Ae,be):new a.y((0,Q.V)(Ae))}},6682:(kt,q,j)=>{"use strict";j.d(q,{T:()=>Ae});var a=j(7574),Q=j(4869),Z=j(3282),Re=j(6693);function Ae(...be){let fe=Number.POSITIVE_INFINITY,ye=null,we=be[be.length-1];return(0,Q.K)(we)?(ye=be.pop(),be.length>1&&"number"==typeof be[be.length-1]&&(fe=be.pop())):"number"==typeof we&&(fe=be.pop()),null===ye&&1===be.length&&be[0]instanceof a.y?be[0]:(0,Z.J)(fe)((0,Re.n)(be,ye))}},5917:(kt,q,j)=>{"use strict";j.d(q,{of:()=>Re});var a=j(4869),Q=j(6693),Z=j(4087);function Re(...Ae){let be=Ae[Ae.length-1];return(0,a.K)(be)?(Ae.pop(),(0,Z.r)(Ae,be)):(0,Q.n)(Ae)}},205:(kt,q,j)=>{"use strict";j.d(q,{_:()=>Q});var a=j(7574);function Q(Re,Ae){return new a.y(Ae?be=>Ae.schedule(Z,0,{error:Re,subscriber:be}):be=>be.error(Re))}function Z({error:Re,subscriber:Ae}){Ae.error(Re)}},8002:(kt,q,j)=>{"use strict";j.d(q,{U:()=>Q});var a=j(7393);function Q(Ae,be){return function(ye){if("function"!=typeof Ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new Z(Ae,be))}}class Z{constructor(be,fe){this.project=be,this.thisArg=fe}call(be,fe){return fe.subscribe(new Re(be,this.project,this.thisArg))}}class Re extends a.L{constructor(be,fe,ye){super(be),this.project=fe,this.count=0,this.thisArg=ye||this}_next(be){let fe;try{fe=this.project.call(this.thisArg,be,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(fe)}}},3282:(kt,q,j)=>{"use strict";j.d(q,{J:()=>Z});var a=j(9773),Q=j(4487);function Z(Re=Number.POSITIVE_INFINITY){return(0,a.zg)(Q.y,Re)}},9773:(kt,q,j)=>{"use strict";j.d(q,{zg:()=>Re});var a=j(8002),Q=j(4402),Z=j(5345);function Re(ye,we,oe=Number.POSITIVE_INFINITY){return"function"==typeof we?de=>de.pipe(Re((he,Ne)=>(0,Q.D)(ye(he,Ne)).pipe((0,a.U)((Xe,rt)=>we(he,Xe,Ne,rt))),oe)):("number"==typeof we&&(oe=we),de=>de.lift(new Ae(ye,oe)))}class Ae{constructor(we,oe=Number.POSITIVE_INFINITY){this.project=we,this.concurrent=oe}call(we,oe){return oe.subscribe(new be(we,this.project,this.concurrent))}}class be extends Z.Ds{constructor(we,oe,de=Number.POSITIVE_INFINITY){super(we),this.project=oe,this.concurrent=de,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(we){this.active<this.concurrent?this._tryNext(we):this.buffer.push(we)}_tryNext(we){let oe;const de=this.index++;try{oe=this.project(we,de)}catch(he){return void this.destination.error(he)}this.active++,this._innerSub(oe)}_innerSub(we){const oe=new Z.IY(this),de=this.destination;de.add(oe);const he=(0,Z.ft)(we,oe);he!==oe&&de.add(he)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(we){this.destination.next(we)}notifyComplete(){const we=this.buffer;this.active--,we.length>0?this._next(we.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(kt,q,j)=>{"use strict";j.d(q,{QV:()=>Z,ht:()=>Ae});var a=j(7393),Q=j(3098);function Z(fe,ye=0){return function(oe){return oe.lift(new Re(fe,ye))}}class Re{constructor(ye,we=0){this.scheduler=ye,this.delay=we}call(ye,we){return we.subscribe(new Ae(ye,this.scheduler,this.delay))}}class Ae extends a.L{constructor(ye,we,oe=0){super(ye),this.scheduler=we,this.delay=oe}static dispatch(ye){const{notification:we,destination:oe}=ye;we.observe(oe),this.unsubscribe()}scheduleMessage(ye){this.destination.add(this.scheduler.schedule(Ae.dispatch,this.delay,new be(ye,this.destination)))}_next(ye){this.scheduleMessage(Q.P.createNext(ye))}_error(ye){this.scheduleMessage(Q.P.createError(ye)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.P.createComplete()),this.unsubscribe()}}class be{constructor(ye,we){this.notification=ye,this.destination=we}}},1307:(kt,q,j)=>{"use strict";j.d(q,{x:()=>Q});var a=j(7393);function Q(){return function(be){return be.lift(new Z(be))}}class Z{constructor(be){this.connectable=be}call(be,fe){const{connectable:ye}=this;ye._refCount++;const we=new Re(be,ye),oe=fe.subscribe(we);return we.closed||(we.connection=ye.connect()),oe}}class Re extends a.L{constructor(be,fe){super(be),this.connectable=fe}_unsubscribe(){const{connectable:be}=this;if(!be)return void(this.connection=null);this.connectable=null;const fe=be._refCount;if(fe<=0)return void(this.connection=null);if(be._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:ye}=this,we=be._connection;this.connection=null,we&&(!ye||we===ye)&&we.unsubscribe()}}},8819:(kt,q,j)=>{"use strict";j.d(q,{B:()=>fe});var a=j(2441);var Re=j(1307),Ae=j(9765);function be(){return new Ae.xQ}function fe(){return ye=>(0,Re.x)()(function(ye,we){return function(de){let he;he="function"==typeof ye?ye:function(){return ye};const Ne=Object.create(de,a.N);return Ne.source=de,Ne.subjectFactory=he,Ne}}(be)(ye))}},9673:(kt,q,j)=>{"use strict";j.d(q,{R:()=>Ae});var a=j(7574),Q=j(4581),Z=j(6561);class Re extends a.y{constructor(ye,we=0,oe=Q.e){super(),this.source=ye,this.delayTime=we,this.scheduler=oe,(!(0,Z.k)(we)||we<0)&&(this.delayTime=0),(!oe||"function"!=typeof oe.schedule)&&(this.scheduler=Q.e)}static create(ye,we=0,oe=Q.e){return new Re(ye,we,oe)}static dispatch(ye){const{source:we,subscriber:oe}=ye;return this.add(we.subscribe(oe))}_subscribe(ye){return this.scheduler.schedule(Re.dispatch,this.delayTime,{source:this.source,subscriber:ye})}}function Ae(fe,ye=0){return function(oe){return oe.lift(new be(fe,ye))}}class be{constructor(ye,we){this.scheduler=ye,this.delay=we}call(ye,we){return new Re(we,this.delay,this.scheduler).subscribe(ye)}}},8307:(kt,q,j)=>{"use strict";j.d(q,{b:()=>Re});var a=j(7393),Q=j(8640),Z=j(9105);function Re(fe,ye,we){return function(de){return de.lift(new Ae(fe,ye,we))}}class Ae{constructor(ye,we,oe){this.nextOrObserver=ye,this.error=we,this.complete=oe}call(ye,we){return we.subscribe(new be(ye,this.nextOrObserver,this.error,this.complete))}}class be extends a.L{constructor(ye,we,oe,de){super(ye),this._tapNext=Q.Z,this._tapError=Q.Z,this._tapComplete=Q.Z,this._tapError=oe||Q.Z,this._tapComplete=de||Q.Z,(0,Z.m)(we)?(this._context=this,this._tapNext=we):we&&(this._context=we,this._tapNext=we.next||Q.Z,this._tapError=we.error||Q.Z,this._tapComplete=we.complete||Q.Z)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(we){return void this.destination.error(we)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(we){return void this.destination.error(we)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},4087:(kt,q,j)=>{"use strict";j.d(q,{r:()=>Z});var a=j(7574),Q=j(5319);function Z(Re,Ae){return new a.y(be=>{const fe=new Q.w;let ye=0;return fe.add(Ae.schedule(function(){ye!==Re.length?(be.next(Re[ye++]),be.closed||fe.add(this.schedule())):be.complete()})),fe})}},6465:(kt,q,j)=>{"use strict";j.d(q,{o:()=>Z});var a=j(5319);class Q extends a.w{constructor(Ae,be){super()}schedule(Ae,be=0){return this}}class Z extends Q{constructor(Ae,be){super(Ae,be),this.scheduler=Ae,this.work=be,this.pending=!1}schedule(Ae,be=0){if(this.closed)return this;this.state=Ae;const fe=this.id,ye=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ye,fe,be)),this.pending=!0,this.delay=be,this.id=this.id||this.requestAsyncId(ye,this.id,be),this}requestAsyncId(Ae,be,fe=0){return setInterval(Ae.flush.bind(Ae,this),fe)}recycleAsyncId(Ae,be,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return be;clearInterval(be)}execute(Ae,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(Ae,be);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,be){let ye,fe=!1;try{this.work(Ae)}catch(we){fe=!0,ye=!!we&&we||new Error(we)}if(fe)return this.unsubscribe(),ye}_unsubscribe(){const Ae=this.id,be=this.scheduler,fe=be.actions,ye=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ye&&fe.splice(ye,1),null!=Ae&&(this.id=this.recycleAsyncId(be,Ae,null)),this.delay=null}}},6102:(kt,q,j)=>{"use strict";j.d(q,{v:()=>Q});let a=(()=>{class Z{constructor(Ae,be=Z.now){this.SchedulerAction=Ae,this.now=be}schedule(Ae,be=0,fe){return new this.SchedulerAction(this,Ae).schedule(fe,be)}}return Z.now=()=>Date.now(),Z})();class Q extends a{constructor(Re,Ae=a.now){super(Re,()=>Q.delegate&&Q.delegate!==this?Q.delegate.now():Ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Re,Ae=0,be){return Q.delegate&&Q.delegate!==this?Q.delegate.schedule(Re,Ae,be):super.schedule(Re,Ae,be)}flush(Re){const{actions:Ae}=this;if(this.active)return void Ae.push(Re);let be;this.active=!0;do{if(be=Re.execute(Re.state,Re.delay))break}while(Re=Ae.shift());if(this.active=!1,be){for(;Re=Ae.shift();)Re.unsubscribe();throw be}}}},4581:(kt,q,j)=>{"use strict";j.d(q,{e:()=>he,E:()=>de});let a=1;const Q=Promise.resolve(),Z={};function Re(Ne){return Ne in Z&&(delete Z[Ne],!0)}const Ae={setImmediate(Ne){const Xe=a++;return Z[Xe]=!0,Q.then(()=>Re(Xe)&&Ne()),Xe},clearImmediate(Ne){Re(Ne)}};var fe=j(6465),we=j(6102);const de=new class extends we.v{flush(Xe){this.active=!0,this.scheduled=void 0;const{actions:rt}=this;let qe,Ue=-1,xe=rt.length;Xe=Xe||rt.shift();do{if(qe=Xe.execute(Xe.state,Xe.delay))break}while(++Ue<xe&&(Xe=rt.shift()));if(this.active=!1,qe){for(;++Ue<xe&&(Xe=rt.shift());)Xe.unsubscribe();throw qe}}}(class extends fe.o{constructor(Xe,rt){super(Xe,rt),this.scheduler=Xe,this.work=rt}requestAsyncId(Xe,rt,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Xe,rt,qe):(Xe.actions.push(this),Xe.scheduled||(Xe.scheduled=Ae.setImmediate(Xe.flush.bind(Xe,null))))}recycleAsyncId(Xe,rt,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(Xe,rt,qe);0===Xe.actions.length&&(Ae.clearImmediate(rt),Xe.scheduled=void 0)}}),he=de},3637:(kt,q,j)=>{"use strict";j.d(q,{z:()=>Z,P:()=>Re});var a=j(6465);const Z=new(j(6102).v)(a.o),Re=Z},7771:(kt,q,j)=>{"use strict";j.d(q,{c:()=>be,N:()=>Ae});var a=j(6465),Z=j(6102);const Ae=new class extends Z.v{}(class extends a.o{constructor(ye,we){super(ye,we),this.scheduler=ye,this.work=we}schedule(ye,we=0){return we>0?super.schedule(ye,we):(this.delay=we,this.state=ye,this.scheduler.flush(this),this)}execute(ye,we){return we>0||this.closed?super.execute(ye,we):this._execute(ye,we)}requestAsyncId(ye,we,oe=0){return null!==oe&&oe>0||null===oe&&this.delay>0?super.requestAsyncId(ye,we,oe):ye.flush(this)}}),be=Ae},377:(kt,q,j)=>{"use strict";j.d(q,{hZ:()=>Q});const Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(kt,q,j)=>{"use strict";j.d(q,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(kt,q,j)=>{"use strict";j.d(q,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(kt,q,j)=>{"use strict";j.d(q,{N:()=>Q});const Q=(()=>{function Z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Z.prototype=Object.create(Error.prototype),Z})()},4449:(kt,q,j)=>{"use strict";function a(Q){setTimeout(()=>{throw Q},0)}j.d(q,{z:()=>a})},4487:(kt,q,j)=>{"use strict";function a(Q){return Q}j.d(q,{y:()=>a})},9796:(kt,q,j)=>{"use strict";j.d(q,{k:()=>a});const a=Array.isArray||(Q=>Q&&"number"==typeof Q.length)},9489:(kt,q,j)=>{"use strict";j.d(q,{z:()=>a});const a=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},9105:(kt,q,j)=>{"use strict";function a(Q){return"function"==typeof Q}j.d(q,{m:()=>a})},6561:(kt,q,j)=>{"use strict";j.d(q,{k:()=>Q});var a=j(9796);function Q(Z){return!(0,a.k)(Z)&&Z-parseFloat(Z)+1>=0}},1555:(kt,q,j)=>{"use strict";function a(Q){return null!==Q&&"object"==typeof Q}j.d(q,{K:()=>a})},4072:(kt,q,j)=>{"use strict";function a(Q){return!!Q&&"function"!=typeof Q.subscribe&&"function"==typeof Q.then}j.d(q,{t:()=>a})},4869:(kt,q,j)=>{"use strict";function a(Q){return Q&&"function"==typeof Q.schedule}j.d(q,{K:()=>a})},8640:(kt,q,j)=>{"use strict";function a(){}j.d(q,{Z:()=>a})},7444:(kt,q,j)=>{"use strict";j.d(q,{s:()=>de});var a=j(5015),Q=j(4449),Re=j(377),be=j(6554),ye=j(9489),we=j(4072),oe=j(1555);const de=he=>{if(he&&"function"==typeof he[be.L])return(he=>Ne=>{const Xe=he[be.L]();if("function"!=typeof Xe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Xe.subscribe(Ne)})(he);if((0,ye.z)(he))return(0,a.V)(he);if((0,we.t)(he))return(he=>Ne=>(he.then(Xe=>{Ne.closed||(Ne.next(Xe),Ne.complete())},Xe=>Ne.error(Xe)).then(null,Q.z),Ne))(he);if(he&&"function"==typeof he[Re.hZ])return(he=>Ne=>{const Xe=he[Re.hZ]();for(;;){let rt;try{rt=Xe.next()}catch(qe){return Ne.error(qe),Ne}if(rt.done){Ne.complete();break}if(Ne.next(rt.value),Ne.closed)break}return"function"==typeof Xe.return&&Ne.add(()=>{Xe.return&&Xe.return()}),Ne})(he);{const Xe=`You provided ${(0,oe.K)(he)?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Xe)}}},5015:(kt,q,j)=>{"use strict";j.d(q,{V:()=>a});const a=Q=>Z=>{for(let Re=0,Ae=Q.length;Re<Ae&&!Z.closed;Re++)Z.next(Q[Re]);Z.complete()}},9770:(kt,q,j)=>{"use strict";var a=j(7716);let Q=null;function Z(){return Q}const fe=new a.OlP("DocumentToken");let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:we,token:n,providedIn:"platform"}),n})();function we(){return(0,a.LFG)(de)}const oe=new a.OlP("Location Initialized");let de=(()=>{class n extends ye{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(e){const i=Z().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Z().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,l){he()?this._history.pushState(e,i,l):this.location.hash=l}replaceState(e,i,l){he()?this._history.replaceState(e,i,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=(0,a.Yz7)({factory:Ne,token:n,providedIn:"platform"}),n})();function he(){return!!window.history.pushState}function Ne(){return new de((0,a.LFG)(fe))}function Xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function rt(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let Ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:xe,token:n,providedIn:"root"}),n})();function xe(n){const t=(0,a.LFG)(fe).location;return new pt((0,a.LFG)(ye),t&&t.origin||"")}const ke=new a.OlP("appBaseHref");let pt=(()=>{class n extends Ue{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${i}${l}`:i}pushState(e,i,l,h){const m=this.prepareExternalUrl(l+qe(h));this._platformLocation.pushState(e,i,m)}replaceState(e,i,l,h){const m=this.prepareExternalUrl(l+qe(h));this._platformLocation.replaceState(e,i,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,l;null===(l=(i=this._platformLocation).historyGo)||void 0===l||l.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ye),a.LFG(ke,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ot=(()=>{class n extends Ue{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,l,h){let m=this.prepareExternalUrl(l+qe(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(e,i,m)}replaceState(e,i,l,h){let m=this.prepareExternalUrl(l+qe(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,l;null===(l=(i=this._platformLocation).historyGo)||void 0===l||l.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ye),a.LFG(ke,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ln=(()=>{class n{constructor(e,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=rt(Wt(l)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qe(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Wt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",l=null){this._platformStrategy.pushState(l,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),l)}replaceState(e,i="",l=null){this._platformStrategy.replaceState(l,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,l;null===(l=(i=this._platformStrategy).historyGo)||void 0===l||l.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(l=>l(e,i))}subscribe(e,i,l){return this._subject.subscribe({next:e,error:i,complete:l})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ue),a.LFG(ye))},n.normalizeQueryParams=qe,n.joinWithSlash=Xe,n.stripTrailingSlash=rt,n.\u0275prov=(0,a.Yz7)({factory:Hn,token:n,providedIn:"root"}),n})();function Hn(){return new Ln((0,a.LFG)(Ue),(0,a.LFG)(ye))}function Wt(n){return n.replace(/\/index.html$/,"")}const Oi={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var gn=(()=>((gn=gn||{})[gn.Decimal=0]="Decimal",gn[gn.Percent=1]="Percent",gn[gn.Currency=2]="Currency",gn[gn.Scientific=3]="Scientific",gn))(),fn=(()=>((fn=fn||{})[fn.Zero=0]="Zero",fn[fn.One=1]="One",fn[fn.Two=2]="Two",fn[fn.Few=3]="Few",fn[fn.Many=4]="Many",fn[fn.Other=5]="Other",fn))(),Lt=(()=>((Lt=Lt||{})[Lt.Decimal=0]="Decimal",Lt[Lt.Group=1]="Group",Lt[Lt.List=2]="List",Lt[Lt.PercentSign=3]="PercentSign",Lt[Lt.PlusSign=4]="PlusSign",Lt[Lt.MinusSign=5]="MinusSign",Lt[Lt.Exponential=6]="Exponential",Lt[Lt.SuperscriptingExponent=7]="SuperscriptingExponent",Lt[Lt.PerMille=8]="PerMille",Lt[Lt.Infinity=9]="Infinity",Lt[Lt.NaN=10]="NaN",Lt[Lt.TimeSeparator=11]="TimeSeparator",Lt[Lt.CurrencyDecimal=12]="CurrencyDecimal",Lt[Lt.CurrencyGroup=13]="CurrencyGroup",Lt))();function Li(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(void 0===i){if(t===Lt.CurrencyDecimal)return e[a.wAp.NumberSymbols][Lt.Decimal];if(t===Lt.CurrencyGroup)return e[a.wAp.NumberSymbols][Lt.Group]}return i}const vo=a.kL8;const vn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function No(n,t,e,i,l){const m=function(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),l=i[0],h=i[1],m=-1!==l.indexOf(".")?l.split("."):[l.substring(0,l.lastIndexOf("0")+1),l.substring(l.lastIndexOf("0")+1)],v=m[0],E=m[1]||"";e.posPre=v.substr(0,v.indexOf("#"));for(let M=0;M<E.length;M++){const F=E.charAt(M);"0"===F?e.minFrac=e.maxFrac=M+1:"#"===F?e.maxFrac=M+1:e.posSuf+=F}const T=v.split(",");if(e.gSize=T[1]?T[1].length:0,e.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,h){const M=l.length-e.posPre.length-e.posSuf.length,F=h.indexOf("#");e.negPre=h.substr(0,F).replace(/'/g,""),e.negSuf=h.substr(F+M).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function(n,t){return(0,a.cg1)(n)[a.wAp.NumberFormats][t]}(t,gn.Currency),Li(t,Lt.MinusSign));return m.minFrac=function(n){let t;const e=Oi[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),m.maxFrac=m.minFrac,function(n,t,e,i,l,h,m=!1){let v="",E=!1;if(isFinite(n)){let T=function(n){let i,l,h,m,v,t=Math.abs(n)+"",e=0;for((l=t.indexOf("."))>-1&&(t=t.replace(".","")),(h=t.search(/e/i))>0?(l<0&&(l=h),l+=+t.slice(h+1),t=t.substring(0,h)):l<0&&(l=t.length),h=0;"0"===t.charAt(h);h++);if(h===(v=t.length))i=[0],l=1;else{for(v--;"0"===t.charAt(v);)v--;for(l-=h,i=[],m=0;h<=v;h++,m++)i[m]=Number(t.charAt(h))}return l>22&&(i=i.splice(0,21),e=l-1,l=1),{digits:i,exponent:e,integerLen:l}}(n);m&&(T=function(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(T));let M=t.minInt,F=t.minFrac,V=t.maxFrac;if(h){const gt=h.match(vn);if(null===gt)throw new Error(`${h} is not a valid digit info`);const Ut=gt[1],Yt=gt[3],ki=gt[5];null!=Ut&&(M=ln(Ut)),null!=Yt&&(F=ln(Yt)),null!=ki?V=ln(ki):null!=Yt&&F>V&&(V=F)}!function(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,l=i.length-n.integerLen;const h=Math.min(Math.max(t,l),e);let m=h+n.integerLen,v=i[m];if(m>0){i.splice(Math.max(n.integerLen,m));for(let F=m;F<i.length;F++)i[F]=0}else{l=Math.max(0,l),n.integerLen=1,i.length=Math.max(1,m=h+1),i[0]=0;for(let F=1;F<m;F++)i[F]=0}if(v>=5)if(m-1<0){for(let F=0;F>m;F--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[m-1]++;for(;l<Math.max(0,h);l++)i.push(0);let E=0!==h;const T=t+n.integerLen,M=i.reduceRight(function(F,V,K,re){return re[K]=(V+=F)<10?V:V-10,E&&(0===re[K]&&K>=T?re.pop():E=!1),V>=10?1:0},0);M&&(i.unshift(M),n.integerLen++)}(T,F,V);let K=T.digits,re=T.integerLen;const me=T.exponent;let Pe=[];for(E=K.every(gt=>!gt);re<M;re++)K.unshift(0);for(;re<0;re++)K.unshift(0);re>0?Pe=K.splice(re,K.length):(Pe=K,K=[0]);const Je=[];for(K.length>=t.lgSize&&Je.unshift(K.splice(-t.lgSize,K.length).join(""));K.length>t.gSize;)Je.unshift(K.splice(-t.gSize,K.length).join(""));K.length&&Je.unshift(K.join("")),v=Je.join(Li(e,i)),Pe.length&&(v+=Li(e,l)+Pe.join("")),me&&(v+=Li(e,Lt.Exponential)+"+"+me)}else v=Li(e,Lt.Infinity);return v=n<0&&!E?t.negPre+v+t.negSuf:t.posPre+v+t.posSuf,v}(n,m,t,Lt.CurrencyGroup,Lt.CurrencyDecimal,l).replace("\xa4",e).replace("\xa4","").trim()}function ln(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class fr{}let vr=(()=>{class n extends fr{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(vo(i||this.locale)(e)){case fn.Zero:return"zero";case fn.One:return"one";case fn.Two:return"two";case fn.Few:return"few";case fn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ir(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[l,h]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(l.trim()===t)return decodeURIComponent(h)}return null}let Co=(()=>{class n{constructor(e,i,l,h){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=l,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(l=>{i?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class os{constructor(t,e,i,l){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let on=(()=>{class n{constructor(e,i,l){this._viewContainer=e,this._template=i,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((l,h,m)=>{if(null==l.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new os(null,this._ngForOf,-1,-1),null===m?void 0:m),E=new tp(l,v);i.push(E)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const v=this._viewContainer.get(h);this._viewContainer.move(v,m);const E=new tp(l,v);i.push(E)}});for(let l=0;l<i.length;l++)this._perViewChange(i[l].view,i[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=h,m.context.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class tp{constructor(t,e){this.record=t,this.view=e}}let Pn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ot,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ot{constructor(){this.$implicit=null,this.ngIf=null}}function uc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Js{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ss=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),rr=(()=>{class n{constructor(e,i,l){this.ngSwitch=l,l._addCase(),this._view=new Js(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ss,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ae=(()=>{class n{constructor(e,i,l){l._addDefault(new Js(e,i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ss,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),wo=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),n})();function Ds(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,a.AaK)(n)}'`)}class cc{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class np{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const ls=new np,ip=new cc;let Ea=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return ls;if((0,a.F4k)(e))return ip;throw Ds(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),Qg=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"json",type:n,pure:!1}),n})(),op=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,l="symbol",h,m){if(!function(n){return!(null==n||""===n||n!=n)}(e))return null;m=m||this._locale,"boolean"==typeof l&&(l=l?"symbol":"code");let v=i||this._defaultCurrencyCode;"code"!==l&&(v="symbol"===l||"symbol-narrow"===l?function(n,t,e="en"){const i=function(n){return(0,a.cg1)(n)[a.wAp.Currencies]}(e)[n]||Oi[n]||[],l=i[1];return"narrow"===t&&"string"==typeof l?l:i[0]||n}(v,"symbol"===l?"wide":"narrow",m):l);try{return No(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),m,v,i,h)}catch(E){throw Ds(n,E.message)}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},n.\u0275pipe=a.Yjl({name:"currency",type:n,pure:!0}),n})();let oi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:fr,useClass:vr}]}),n})();function Xs(n){return"browser"===n}function ea(n){return"server"===n}let hc=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new us((0,a.LFG)(fe),window)}),n})();class us{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=i.currentNode;for(;l;){const h=l.shadowRoot;if(h){const m=h.getElementById(t)||h.querySelector(`[name="${t}"]`);if(m)return m}l=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(i-h[0],l-h[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=pc(this.window.history)||pc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function pc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sp{}class bu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new bu,Q||(Q=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null);return null==e?null:function(n){ci=ci||document.createElement("a"),ci.setAttribute("href",n);const t=ci.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ir(document.cookie,t)}}let ci,ta=null;const sd=new a.OlP("TRANSITION_ID"),Lo=[{provide:a.ip1,useFactory:function(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=Z(),l=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let h=0;h<l.length;h++)i.remove(l[h])})}},deps:[sd,fe,a.zs3],multi:!0}];class gr{static init(){(0,a.VLi)(new gr)}addToWindow(t){a.dqk.getAngularTestability=(i,l=!0)=>{const h=t.findTestabilityInTree(i,l);if(null==h)throw new Error("Could not find testability for element.");return h},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const l=a.dqk.getAllAngularTestabilities();let h=l.length,m=!1;const v=function(E){m=m||E,h--,0==h&&i(m)};l.forEach(function(E){E.whenStable(v)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:i?Z().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ta=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const dl=new a.OlP("EventManagerPlugins");let tt=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,l){return this._findPluginFor(i).addEventListener(e,i,l)}addGlobalEventListener(e,i,l){return this._findPluginFor(i).addGlobalEventListener(e,i,l)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const l=this._plugins;for(let h=0;h<l.length;h++){const m=l[h];if(m.supports(e))return this._eventNameToPlugin.set(e,m),m}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dl),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const l=Z().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,i)}}let Cr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),i.add(l))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),vt=(()=>{class n extends Cr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,l){e.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,l.push(i.appendChild(m))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Xd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,l)=>{this._addStylesToHost(e,l,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Xd))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Xd(n){Z().remove(n)}const Rr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},io=/%COMP%/g;function Ki(n,t,e){for(let i=0;i<t.length;i++){let l=t[i];Array.isArray(l)?Ki(n,l,e):(l=l.replace(io,n),e.push(l))}return e}function Go(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ro=(()=>{class n{constructor(e,i,l){this.eventManager=e,this.sharedStylesHost=i,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ir(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let l=this.rendererByCompId.get(i.id);return l||(l=new ia(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,l)),l.applyToHost(e),l}case 1:case a.ifc.ShadowDom:return new Oa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const l=Ki(i.id,i.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(tt),a.LFG(vt),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ir{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Rr[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,l){if(l){e=l+":"+e;const h=Rr[l];h?t.setAttributeNS(h,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const l=Rr[i];l?t.removeAttributeNS(l,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,l){l&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,l&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Go(i)):this.eventManager.addEventListener(t,e,Go(i))}}class ia extends Ir{constructor(t,e,i,l){super(t),this.component=i;const h=Ki(l+"-"+i.id,i.styles,[]);e.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(io,l+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(io,l+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Oa extends Ir{constructor(t,e,i,l){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Ki(l.id,l.styles,[]);for(let m=0;m<h.length;m++){const v=document.createElement("style");v.textContent=h[m],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bo=(()=>{class n extends ut{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,l){return e.addEventListener(i,l,!1),()=>this.removeEventListener(e,i,l)}removeEventListener(e,i,l){return e.removeEventListener(i,l)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=["alt","control","meta","shift"],Tu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pl=(()=>{class n extends ut{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,l){const h=n.parseEventName(i),m=n.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z().onAndCancel(e,h.domEventName,m))}static parseEventName(e){const i=e.toLowerCase().split("."),l=i.shift();if(0===i.length||"keydown"!==l&&"keyup"!==l)return null;const h=n._normalizeKey(i.pop());let m="";if(ra.forEach(E=>{const T=i.indexOf(E);T>-1&&(i.splice(T,1),m+=E+".")}),m+=h,0!=i.length||0===h.length)return null;const v={};return v.domEventName=l,v.fullKey=m,v}static getEventFullKey(e){let i="",l=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Pi.hasOwnProperty(t)&&(t=Pi[t]))}return Tu[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),ra.forEach(h=>{h!=l&&Mf[h](e)&&(i+=h+".")}),i+=l,i}static eventCallback(e,i,l){return h=>{n.getEventFullKey(h)===e&&l.runGuarded(()=>i(h))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ui=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){bu.makeCurrent(),gr.init()},multi:!0},{provide:fe,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),Hl=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:dl,useClass:Bo,multi:!0,deps:[fe,a.R0b,a.Lbi]},{provide:dl,useClass:pl,multi:!0,deps:[fe]},[],{provide:ro,useClass:ro,deps:[tt,vt,a.AFp]},{provide:a.FYo,useExisting:ro},{provide:Cr,useExisting:vt},{provide:vt,useClass:vt,deps:[fe]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:tt,useClass:tt,deps:[dl,a.R0b]},{provide:sp,useClass:Ta,deps:[]},[]];let oh=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:sd,useExisting:a.AFp},Lo]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Hl,imports:[oi,a.hGG]}),n})();"undefined"!=typeof window&&window;class Ac{}const Ho="*";function so(n,t){return{type:7,name:n,definitions:t,options:{}}}function Xn(n,t=null){return{type:4,styles:t,timings:n}}function fp(n,t=null){return{type:2,steps:n,options:t}}function Vt(n){return{type:6,styles:n,offset:null}}function Ci(n,t,e){return{type:0,name:n,styles:t,options:e}}function Wl(n){return{type:5,steps:n}}function ei(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function wr(n=null){return{type:9,options:n}}function ao(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function fd(n){Promise.resolve(null).then(n)}class Na{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class lh{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,l=0;const h=this.players.length;0==h?fd(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++e==h&&this._onFinish()}),m.onDestroy(()=>{++i==h&&this._onDestroy()}),m.onStart(()=>{++l==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,v)=>Math.max(m,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const l=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(l)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function jl(){return"undefined"!=typeof window&&void 0!==window.document}function lo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hs(n){switch(n.length){case 0:return new Na;case 1:return n[0];default:return new lh(n)}}function zl(n,t,e,i,l={},h={}){const m=[],v=[];let E=-1,T=null;if(i.forEach(M=>{const F=M.offset,V=F==E,K=V&&T||{};Object.keys(M).forEach(re=>{let me=re,Pe=M[re];if("offset"!==re)switch(me=t.normalizePropertyName(me,m),Pe){case"!":Pe=l[re];break;case Ho:Pe=h[re];break;default:Pe=t.normalizeStyleValue(re,me,Pe,m)}K[me]=Pe}),V||v.push(K),T=K,E=F}),m.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${m.join(M)}`)}return v}function xs(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Iu(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Iu(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Iu(e,"destroy",n)))}}function Iu(n,t,e){const i=e.totalTime,h=gp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),m=n._data;return null!=m&&(h._data=m),h}function gp(n,t,e,i,l="",h=0,m){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:l,totalTime:h,disabled:!!m}}function So(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Ff(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let kf=(n,t)=>!1,gd=(n,t)=>!1,Lf=(n,t,e)=>[];const mp=lo();(mp||"undefined"!=typeof Element)&&(kf=jl()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),gd=(()=>{if(mp||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):gd}})(),Lf=(n,t,e)=>{let i=[];if(e){const l=n.querySelectorAll(t);for(let h=0;h<l.length;h++)i.push(l[h])}else{const l=n.querySelector(t);l&&i.push(l)}return i});let Os=null,Uo=!1;function ch(n){Os||(Os=("undefined"!=typeof document?document.body:null)||{},Uo=!!Os.style&&"WebkitAppearance"in Os.style);let t=!0;return Os.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Os.style,!t&&Uo&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Os.style)),t}const xu=gd,ps=kf,Do=Lf;function Ji(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Fa=(()=>{class n{validateStyleProperty(e){return ch(e)}matchesElement(e,i){return xu(e,i)}containsElement(e,i){return ps(e,i)}query(e,i,l){return Do(e,i,l)}computeStyle(e,i,l){return l||""}animate(e,i,l,h,m,v=[],E){return new Na(l,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ka=(()=>{class n{}return n.NOOP=new Fa,n})();const Ke="ng-enter",$l="ng-leave",md="ng-trigger",Rc=".ng-trigger",ql="ng-animating",_p=".ng-animating";function Wo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ic(parseFloat(t[1]),t[2])}function Ic(n,t){switch(t){case"s":return 1e3*n;default:return n}}function To(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let l,h=0,m="";if("string"==typeof n){const v=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};l=Ic(parseFloat(v[1]),v[2]);const E=v[3];null!=E&&(h=Ic(parseFloat(E),v[4]));const T=v[5];T&&(m=T)}else l=n;if(!e){let v=!1,E=t.length;l<0&&(t.push("Duration values below 0 are not allowed for this animation step."),v=!0),h<0&&(t.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&t.splice(E,0,`The provided timing value "${n}" is invalid.`)}return{duration:l,delay:h,easing:m}}(n,t,e)}function aa(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function gl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else aa(n,e);return e}function L(n,t,e){return e?t+":"+e+";":""}function B(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=L(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=L(0,gs(e),n.style[e]));n.setAttribute("style",t)}function J(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const l=Xi(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[l]),n.style[l]=t[i]}),lo()&&B(n))}function ue(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Xi(e);n.style[i]=""}),lo()&&B(n))}function Te(n){return Array.isArray(n)?1==n.length?n[0]:fp(n):n}const it=new RegExp("{{\\s*(.+?)\\s*}}","g");function xt(n){let t=[];if("string"==typeof n){let e;for(;e=it.exec(n);)t.push(e[1]);it.lastIndex=0}return t}function bt(n,t,e){const i=n.toString(),l=i.replace(it,(h,m)=>{let v=t[m];return t.hasOwnProperty(m)||(e.push(`Please provide a value for the animation param ${m}`),v=""),v.toString()});return l==i?n:l}function Nn(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const gi=/-+([a-z0-9])/g;function Xi(n){return n.replace(gi,(...t)=>t[1].toUpperCase())}function gs(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Br(n,t){return 0===n||0===t}function xc(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let h=t[0],m=[];if(i.forEach(v=>{h.hasOwnProperty(v)||m.push(v),h[v]=e[v]}),m.length)for(var l=1;l<t.length;l++){let v=t[l];m.forEach(function(E){v[E]=Ou(n,E)})}}return t}function Or(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ou(n,t){return window.getComputedStyle(n)[t]}function La(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const E=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const l=i[1],h=i[2],m=i[3];t.push(co(l,m));"<"==h[0]&&!("*"==l&&"*"==m)&&t.push(co(m,l))}(i,e,t)):e.push(n),e}const sr=new Set(["true","1"]),Ms=new Set(["false","0"]);function co(n,t){const e=sr.has(n)||Ms.has(n),i=sr.has(t)||Ms.has(t);return(l,h)=>{let m="*"==n||n==l,v="*"==t||t==h;return!m&&e&&"boolean"==typeof l&&(m=l?sr.has(n):Ms.has(n)),!v&&i&&"boolean"==typeof h&&(v=h?sr.has(t):Ms.has(t)),m&&v}}const yd=new RegExp("s*:selfs*,?","g");function $r(n,t,e){return new Gf(n).build(t,e)}class Gf{constructor(t){this._driver=t}build(t,e){const i=new Zl(e);return this._resetContextStyleTimingState(i),Or(this,Te(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,l=e.depCount=0;const h=[],m=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const E=v,T=E.name;T.toString().split(/\s*,\s*/).forEach(M=>{E.name=M,h.push(this.visitState(E,e))}),E.name=T}else if(1==v.type){const E=this.visitTransition(v,e);i+=E.queryCount,l+=E.depCount,m.push(E)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:h,transitions:m,queryCount:i,depCount:l,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),l=t.options&&t.options.params||null;if(i.containsDynamicStyles){const h=new Set,m=l||{};if(i.styles.forEach(v=>{if(ua(v)){const E=v;Object.keys(E).forEach(T=>{xt(E[T]).forEach(M=>{m.hasOwnProperty(M)||h.add(M)})})}}),h.size){const v=Nn(h.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:t.name,style:i,options:l?{params:l}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Or(this,Te(t.animation),e);return{type:1,matchers:La(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Mc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Or(this,i,e)),options:Mc(t.options)}}visitGroup(t,e){const i=e.currentTime;let l=0;const h=t.steps.map(m=>{e.currentTime=i;const v=Or(this,m,e);return l=Math.max(l,e.currentTime),v});return e.currentTime=l,{type:3,steps:h,options:Mc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Mu(To(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=Mu(0,0,"");return h.dynamic=!0,h.strValue=i,h}return e=e||To(i,t),Mu(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let l,h=t.styles?t.styles:Vt({});if(5==h.type)l=this.visitKeyframes(h,e);else{let m=t.styles,v=!1;if(!m){v=!0;const T={};i.easing&&(T.easing=i.easing),m=Vt(T)}e.currentTime+=i.duration+i.delay;const E=this.visitStyle(m,e);E.isEmptyStep=v,l=E}return e.currentAnimateTimings=null,{type:4,timings:i,style:l,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(m=>{"string"==typeof m?m==Ho?i.push(m):e.errors.push(`The provided style string value ${m} is not allowed.`):i.push(m)}):i.push(t.styles);let l=!1,h=null;return i.forEach(m=>{if(ua(m)){const v=m,E=v.easing;if(E&&(h=E,delete v.easing),!l)for(let T in v)if(v[T].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:i,easing:h,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let l=e.currentTime,h=e.currentTime;i&&h>0&&(h-=i.duration+i.delay),t.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void e.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const E=e.collectedStyles[e.currentQuerySelector],T=E[v];let M=!0;T&&(h!=l&&h>=T.startTime&&l<=T.endTime&&(e.errors.push(`The CSS property "${v}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${l}ms"`),M=!1),h=T.startTime),M&&(E[v]={startTime:h,endTime:l}),e.options&&function(n,t,e){const i=t.params||{},l=xt(n);l.length&&l.forEach(h=>{i.hasOwnProperty(h)||e.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[v],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let h=0;const m=[];let v=!1,E=!1,T=0;const M=t.steps.map(Je=>{const gt=this._makeStyleAst(Je,e);let Ut=null!=gt.offset?gt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(ua(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(ua(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(gt.styles),Yt=0;return null!=Ut&&(h++,Yt=gt.offset=Ut),E=E||Yt<0||Yt>1,v=v||Yt<T,T=Yt,m.push(Yt),gt});E&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&e.errors.push("Please ensure that all keyframe offsets are in order");const F=t.steps.length;let V=0;h>0&&h<F?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(V=1/(F-1));const K=F-1,re=e.currentTime,me=e.currentAnimateTimings,Pe=me.duration;return M.forEach((Je,gt)=>{const Ut=V>0?gt==K?1:V*gt:m[gt],Yt=Ut*Pe;e.currentTime=re+me.delay+Yt,me.duration=Yt,this._validateStyleAst(Je,e),Je.offset=Ut,i.styles.push(Je)}),i}visitReference(t,e){return{type:8,animation:Or(this,Te(t.animation),e),options:Mc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Mc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Mc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,l=t.options||{};e.queryCount++,e.currentQuery=t;const[h,m]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(yd,"")),[n=n.replace(/@\*/g,Rc).replace(/@\w+/g,e=>Rc+"-"+e.substr(1)).replace(/:animating/g,_p),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+h:h,So(e.collectedStyles,e.currentQuerySelector,{});const v=Or(this,Te(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:h,limit:l.limit||0,optional:!!l.optional,includeSelf:m,animation:v,originalSelector:t.selector,options:Mc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:To(t.timings,e.errors,!0);return{type:12,animation:Or(this,Te(t.animation),e),timings:i,options:null}}}class Zl{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ua(n){return!Array.isArray(n)&&"object"==typeof n}function Mc(n){return n?(n=aa(n)).params&&(n.params=function(n){return n?aa(n):null}(n.params)):n={},n}function Mu(n,t,e){return{duration:n,delay:t,easing:e}}function hh(n,t,e,i,l,h,m=null,v=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:l,delay:h,totalTime:l+h,easing:m,subTimeline:v}}class Cp{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Pc=new RegExp(":enter","g"),wp=new RegExp(":leave","g");function im(n,t,e,i,l,h={},m={},v,E,T=[]){return(new vd).buildKeyframes(n,t,e,i,l,h,m,v,E,T)}class vd{buildKeyframes(t,e,i,l,h,m,v,E,T,M=[]){T=T||new Cp;const F=new rm(t,e,T,l,h,M,[]);F.options=E,F.currentTimeline.setStyles([m],null,F.errors,E),Or(this,i,F);const V=F.timelines.filter(K=>K.containsAnimation());if(V.length&&Object.keys(v).length){const K=V[V.length-1];K.allowOnlyTimelineStyles()||K.setStyles([v],null,F.errors,E)}return V.length?V.map(K=>K.buildKeyframes()):[hh(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const l=e.createSubContext(t.options),h=e.currentTimeline.currentTime,m=this._visitSubInstructions(i,l,l.options);h!=m&&e.transformIntoNewTimeline(m)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let h=e.currentTimeline.currentTime;const m=null!=i.duration?Wo(i.duration):null,v=null!=i.delay?Wo(i.delay):null;return 0!==m&&t.forEach(E=>{const T=e.appendInstructionToTimeline(E,m,v);h=Math.max(h,T.duration+T.delay)}),h}visitReference(t,e){e.updateOptions(t.options,!0),Or(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let l=e;const h=t.options;if(h&&(h.params||h.delay)&&(l=e.createSubContext(h),l.transformIntoNewTimeline(),null!=h.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Cd);const m=Wo(h.delay);l.delayNextStep(m)}t.steps.length&&(t.steps.forEach(m=>Or(this,m,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>i&&l.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let l=e.currentTimeline.currentTime;const h=t.options&&t.options.delay?Wo(t.options.delay):0;t.steps.forEach(m=>{const v=e.createSubContext(t.options);h&&v.delayNextStep(h),Or(this,m,v),l=Math.max(l,v.currentTimeline.currentTime),i.push(v.currentTimeline)}),i.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(l),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return To(e.params?bt(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),l=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),l.snapshotCurrentStyles());const h=t.style;5==h.type?this.visitKeyframes(h,e):(e.incrementTime(i.duration),this.visitStyle(h,e),l.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,l=e.currentAnimateTimings;!l&&i.getCurrentStyleProperties().length&&i.forwardFrame();const h=l&&l.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(h):i.setStyles(t.styles,h,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,l=e.currentTimeline.duration,h=i.duration,v=e.createSubContext().currentTimeline;v.easing=i.easing,t.styles.forEach(E=>{v.forwardTime((E.offset||0)*h),v.setStyles(E.styles,E.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(l+h),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,l=t.options||{},h=l.delay?Wo(l.delay):0;h&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cd);let m=i;const v=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!l.optional,e.errors);e.currentQueryTotal=v.length;let E=null;v.forEach((T,M)=>{e.currentQueryIndex=M;const F=e.createSubContext(t.options,T);h&&F.delayNextStep(h),T===e.element&&(E=F.currentTimeline),Or(this,t.animation,F),F.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,F.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,l=e.currentTimeline,h=t.timings,m=Math.abs(h.duration),v=m*(e.currentQueryTotal-1);let E=m*e.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":E=v-E;break;case"full":E=i.currentStaggerTime}const M=e.currentTimeline;E&&M.delayNextStep(E);const F=M.currentTime;Or(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=l.currentTime-F+(l.startTime-i.currentTimeline.startTime)}}const Cd={};class rm{constructor(t,e,i,l,h,m,v,E){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=l,this._leaveClassName=h,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new wd(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let l=this.options;null!=i.duration&&(l.duration=Wo(i.duration)),null!=i.delay&&(l.delay=Wo(i.delay));const h=i.params;if(h){let m=l.params;m||(m=this.options.params={}),Object.keys(h).forEach(v=>{(!e||!m.hasOwnProperty(v))&&(m[v]=bt(h[v],m,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(l=>{i[l]=e[l]})}}return t}createSubContext(t=null,e,i){const l=e||this.element,h=new rm(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,i||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(t),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(t){return this.previousNode=Cd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const l={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},h=new om(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,l,t.stretchStartingKeyframe);return this.timelines.push(h),l}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,l,h,m){let v=[];if(l&&v.push(this.element),t.length>0){t=(t=t.replace(Pc,"."+this._enterClassName)).replace(wp,"."+this._leaveClassName);let T=this._driver.query(this.element,t,1!=i);0!==i&&(T=i<0?T.slice(T.length+i,T.length):T.slice(0,i)),v.push(...T)}return!h&&0==v.length&&m.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),v}}class wd{constructor(t,e,i,l){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new wd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ho,this._currentKeyframe[e]=Ho}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,l){e&&(this._previousKeyframe.easing=e);const h=l&&l.params||{},m=function(n,t){const e={};let i;return n.forEach(l=>{"*"===l?(i=i||Object.keys(t),i.forEach(h=>{e[h]=Ho})):gl(l,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(m).forEach(v=>{const E=bt(m[v],h,i);this._pendingStyles[v]=E,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:Ho),this._updateStyle(v,E)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],l=t._styleSummary[e];(!i||l.time>i.time)&&this._updateStyle(e,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((v,E)=>{const T=gl(v,!0);Object.keys(T).forEach(M=>{const F=T[M];"!"==F?t.add(M):F==Ho&&e.add(M)}),i||(T.offset=E/this.duration),l.push(T)});const h=t.size?Nn(t.values()):[],m=e.size?Nn(e.values()):[];if(i){const v=l[0],E=aa(v);v.offset=0,E.offset=1,l=[v,E]}return hh(this.element,l,h,m,this.duration,this.startTime,this.easing,!1)}}class om extends wd{constructor(t,e,i,l,h,m,v=!1){super(t,e,m.delay),this.keyframes=i,this.preStyleProps=l,this.postStyleProps=h,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:l}=this.timings;if(this._stretchStartingKeyframe&&e){const h=[],m=i+e,v=e/m,E=gl(t[0],!1);E.offset=0,h.push(E);const T=gl(t[0],!1);T.offset=K_(v),h.push(T);const M=t.length-1;for(let F=1;F<=M;F++){let V=gl(t[F],!1);V.offset=K_((e+V.offset*i)/m),h.push(V)}i=m,e=0,l="",t=h}return hh(this.element,t,this.preStyleProps,this.postStyleProps,i,e,l,!0)}}function K_(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Pu{}class eC extends Pu{normalizePropertyName(t,e){return Xi(t)}normalizeStyleValue(t,e,i,l){let h="";const m=i.toString().trim();if(Vf[e]&&0!==i&&"0"!==i)if("number"==typeof i)h="px";else{const v=i.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&l.push(`Please provide a CSS unit value for ${t}:${i}`)}return m+h}}const Vf=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ph(n,t,e,i,l,h,m,v,E,T,M,F,V){return{type:0,element:n,triggerName:t,isRemovalTransition:l,fromState:e,fromStyles:h,toState:i,toStyles:m,timelines:v,queriedElements:E,preStyleProps:T,postStyleProps:M,totalTime:F,errors:V}}const Hf={};class fh{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,l){return function(n,t,e,i,l){return n.some(h=>h(t,e,i,l))}(this.ast.matchers,t,e,i,l)}buildStyles(t,e,i){const l=this._stateStyles["*"],h=this._stateStyles[t],m=l?l.buildStyles(e,i):{};return h?h.buildStyles(e,i):m}build(t,e,i,l,h,m,v,E,T,M){const F=[],V=this.ast.options&&this.ast.options.params||Hf,re=this.buildStyles(i,v&&v.params||Hf,F),me=E&&E.params||Hf,Pe=this.buildStyles(l,me,F),Je=new Set,gt=new Map,Ut=new Map,Yt="void"===l,ki={params:Object.assign(Object.assign({},V),me)},Ur=M?[]:im(t,e,this.ast.animation,h,m,re,Pe,ki,T,F);let Ys=0;if(Ur.forEach(j_=>{Ys=Math.max(j_.duration+j_.delay,Ys)}),F.length)return ph(e,this._triggerName,i,l,Yt,re,Pe,[],[],gt,Ut,Ys,F);Ur.forEach(j_=>{const z_=j_.element,Pq=So(gt,z_,{});j_.preStyleProps.forEach(lE=>Pq[lE]=!0);const cx=So(Ut,z_,{});j_.postStyleProps.forEach(lE=>cx[lE]=!0),z_!==e&&Je.add(z_)});const ol=Nn(Je.values());return ph(e,this._triggerName,i,l,Yt,re,Pe,Ur,ol,gt,Ut,Ys)}}class tC{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},l=aa(this.defaultParams);return Object.keys(t).forEach(h=>{const m=t[h];null!=m&&(l[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(v=>{let E=m[v];E.length>1&&(E=bt(E,l,e));const T=this.normalizer.normalizePropertyName(v,e);E=this.normalizer.normalizeStyleValue(v,T,E,e),i[T]=E})}}),i}}class Q_{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(l=>{this.states[l.name]=new tC(l.style,l.options&&l.options.params||{},i)}),am(this.states,"true","1"),am(this.states,"false","0"),e.transitions.forEach(l=>{this.transitionFactories.push(new fh(t,l,this.states))}),this.fallbackTransition=function(n,t,e){return new fh(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,l){return this.transitionFactories.find(m=>m.match(t,e,i,l))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function am(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const yl=new Cp;class gh{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],l=$r(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=l}_buildPlayer(t,e,i){const l=t.element,h=zl(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(l,h,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const l=[],h=this._animations[t];let m;const v=new Map;if(h?(m=im(this._driver,e,h,Ke,$l,{},{},i,yl,l),m.forEach(M=>{const F=So(v,M.element,{});M.postStyleProps.forEach(V=>F[V]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),m=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);v.forEach((M,F)=>{Object.keys(M).forEach(V=>{M[V]=this._driver.computeStyle(F,V,Ho)})});const T=hs(m.map(M=>{const F=v.get(M.element);return this._buildPlayer(M,{},F)}));return this._playersById[t]=T,T.onDestroy(()=>this.destroy(t)),this.players.push(T),T}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,l){const h=gp(e,"","","");return xs(this._getPlayer(t),i,h,l),()=>{}}command(t,e,i,l){if("register"==i)return void this.register(t,l[0]);if("create"==i)return void this.create(t,e,l[0]||{});const h=this._getPlayer(t);switch(i){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(t)}}}const mh="ng-animate-queued",J_="ng-animate-disabled",Ep=".ng-animate-disabled",lm=[],ey={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ba="__ng_removed";class Uf{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const h=aa(t);delete h.value,this.options=h}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(l=>{null==i[l]&&(i[l]=e[l])})}}}const _h="void",um=new Uf(_h);class Nc{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,O(e,this._hostClassName)}listen(t,e,i,l){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const h=So(this._elementListeners,t,[]),m={name:e,phase:i,callback:l};h.push(m);const v=So(this._engine.statesByElement,t,{});return v.hasOwnProperty(e)||(O(t,md),O(t,md+"-"+e),v[e]=um),()=>{this._engine.afterFlush(()=>{const E=h.indexOf(m);E>=0&&h.splice(E,1),this._triggers[e]||delete v[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,l=!0){const h=this._getTrigger(e),m=new ca(this.id,e,t);let v=this._engine.statesByElement.get(t);v||(O(t,md),O(t,md+"-"+e),this._engine.statesByElement.set(t,v={}));let E=v[e];const T=new Uf(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&E&&T.absorbOptions(E.options),v[e]=T,E||(E=um),T.value!==_h&&E.value===T.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let l=0;l<e.length;l++){const h=e[l];if(!t.hasOwnProperty(h)||n[h]!==t[h])return!1}return!0}(E.params,T.params)){const me=[],Pe=h.matchStyles(E.value,E.params,me),Je=h.matchStyles(T.value,T.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{ue(t,Pe),J(t,Je)})}return}const V=So(this._engine.playersByElement,t,[]);V.forEach(me=>{me.namespaceId==this.id&&me.triggerName==e&&me.queued&&me.destroy()});let K=h.matchTransition(E.value,T.value,t,T.params),re=!1;if(!K){if(!l)return;K=h.fallbackTransition,re=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:E,toState:T,player:m,isFallbackTransition:re}),re||(O(t,mh),m.onStart(()=>{S(t,mh)})),m.onDone(()=>{let me=this.players.indexOf(m);me>=0&&this.players.splice(me,1);const Pe=this._engine.playersByElement.get(t);if(Pe){let Je=Pe.indexOf(m);Je>=0&&Pe.splice(Je,1)}}),this.players.push(m),V.push(m),m}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(l=>l.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Rc,!0);i.forEach(l=>{if(l[Ba])return;const h=this._engine.fetchNamespacesByElement(l);h.size?h.forEach(m=>m.triggerLeaveAnimation(l,e,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(t,e,i,l){const h=this._engine.statesByElement.get(t);if(h){const m=[];if(Object.keys(h).forEach(v=>{if(this._triggers[v]){const E=this.trigger(t,v,_h,l);E&&m.push(E)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&hs(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const l=new Set;e.forEach(h=>{const m=h.name;if(l.has(m))return;l.add(m);const E=this._triggers[m].fallbackTransition,T=i[m]||um,M=new Uf(_h),F=new ca(this.id,m,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:m,transition:E,fromState:T,toState:M,player:F,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let l=!1;if(i.totalAnimations){const h=i.players.length?i.playersByQueriedElement.get(t):[];if(h&&h.length)l=!0;else{let m=t;for(;m=m.parentNode;)if(i.statesByElement.get(m)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(t),l)i.markElementAsRemoved(this.id,t,!1,e);else{const h=t[Ba];(!h||h===ey)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){O(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const l=i.player;if(l.destroyed)return;const h=i.element,m=this._elementListeners.get(h);m&&m.forEach(v=>{if(v.name==i.triggerName){const E=gp(h,i.triggerName,i.fromState.value,i.toState.value);E._data=t,xs(i.player,v.phase,E,v.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):e.push(i)}),this._queue=[],e.sort((i,l)=>{const h=i.transition.ast.depCount,m=l.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(i.element,l.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Tn{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,h)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Nc(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let l=!1;for(let h=i;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,e)){this._namespaceList.splice(h+1,0,t),l=!0;break}l||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let l=this._namespaceLookup[t];l&&l.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const l=this._namespaceList.indexOf(i);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const l=Object.keys(i);for(let h=0;h<l.length;h++){const m=i[l[h]].namespaceId;if(m){const v=this._fetchNamespace(m);v&&e.add(v)}}}return e}trigger(t,e,i,l){if(Sp(e)){const h=this._fetchNamespace(t);if(h)return h.trigger(e,i,l),!0}return!1}insertNode(t,e,i,l){if(!Sp(e))return;const h=e[Ba];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(t){const m=this._fetchNamespace(t);m&&m.insertNode(e,i)}l&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),O(t,J_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),S(t,J_))}removeNode(t,e,i,l){if(Sp(e)){const h=t?this._fetchNamespace(t):null;if(h?h.removeNode(e,l):this.markElementAsRemoved(t,e,!1,l),i){const m=this.namespacesByHostElement.get(e);m&&m.id!==t&&m.removeNode(e,l)}}else this._onRemovalComplete(e,l)}markElementAsRemoved(t,e,i,l){this.collectedLeaveElements.push(e),e[Ba]={namespaceId:t,setForRemoval:l,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,l,h){return Sp(e)?this._fetchNamespace(t).listen(e,i,l,h):()=>{}}_buildInstruction(t,e,i,l,h){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,l,t.fromState.options,t.toState.options,e,h)}destroyInnerAnimations(t){let e=this.driver.query(t,Rc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,_p,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ba];if(e&&e.setForRemoval){if(t[Ba]=ey,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ep)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ep,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,l)=>this._balanceNamespaceList(i,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)O(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let l=0;l<i.length;l++)i[l]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?hs(e).onDone(()=>{i.forEach(l=>l())}):i.forEach(l=>l())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Cp,l=[],h=new Map,m=[],v=new Map,E=new Map,T=new Map,M=new Set;this.disabledNodes.forEach(Xt=>{M.add(Xt);const yn=this.driver.query(Xt,".ng-animate-queued",!0);for(let Yn=0;Yn<yn.length;Yn++)M.add(yn[Yn])});const F=this.bodyNode,V=Array.from(this.statesByElement.keys()),K=Dp(V,this.collectedEnterElements),re=new Map;let me=0;K.forEach((Xt,yn)=>{const Yn=Ke+me++;re.set(yn,Yn),Xt.forEach(Hi=>O(Hi,Yn))});const Pe=[],Je=new Set,gt=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const yn=this.collectedLeaveElements[Xt],Yn=yn[Ba];Yn&&Yn.setForRemoval&&(Pe.push(yn),Je.add(yn),Yn.hasAnimation?this.driver.query(yn,".ng-star-inserted",!0).forEach(Hi=>Je.add(Hi)):gt.add(yn))}const Ut=new Map,Yt=Dp(V,Array.from(Je));Yt.forEach((Xt,yn)=>{const Yn=$l+me++;Ut.set(yn,Yn),Xt.forEach(Hi=>O(Hi,Yn))}),t.push(()=>{K.forEach((Xt,yn)=>{const Yn=re.get(yn);Xt.forEach(Hi=>S(Hi,Yn))}),Yt.forEach((Xt,yn)=>{const Yn=Ut.get(yn);Xt.forEach(Hi=>S(Hi,Yn))}),Pe.forEach(Xt=>{this.processLeaveNode(Xt)})});const ki=[],Ur=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(e).forEach(Yn=>{const Hi=Yn.player,sl=Yn.element;if(ki.push(Hi),this.collectedEnterElements.length){const Kg=sl[Ba];if(Kg&&Kg.setForMove)return void Hi.destroy()}const Zg=!F||!this.driver.containsElement(F,sl),qd=Ut.get(sl),Qv=re.get(sl),ns=this._buildInstruction(Yn,i,Qv,qd,Zg);if(ns.errors&&ns.errors.length)Ur.push(ns);else{if(Zg)return Hi.onStart(()=>ue(sl,ns.fromStyles)),Hi.onDestroy(()=>J(sl,ns.toStyles)),void l.push(Hi);if(Yn.isFallbackTransition)return Hi.onStart(()=>ue(sl,ns.fromStyles)),Hi.onDestroy(()=>J(sl,ns.toStyles)),void l.push(Hi);ns.timelines.forEach(Kg=>Kg.stretchStartingKeyframe=!0),i.append(sl,ns.timelines),m.push({instruction:ns,player:Hi,element:sl}),ns.queriedElements.forEach(Kg=>So(v,Kg,[]).push(Hi)),ns.preStyleProps.forEach((Kg,dx)=>{const sN=Object.keys(Kg);if(sN.length){let uE=E.get(dx);uE||E.set(dx,uE=new Set),sN.forEach(FH=>uE.add(FH))}}),ns.postStyleProps.forEach((Kg,dx)=>{const sN=Object.keys(Kg);let uE=T.get(dx);uE||T.set(dx,uE=new Set),sN.forEach(FH=>uE.add(FH))})}});if(Ur.length){const Xt=[];Ur.forEach(yn=>{Xt.push(`@${yn.triggerName} has failed due to:\n`),yn.errors.forEach(Yn=>Xt.push(`- ${Yn}\n`))}),ki.forEach(yn=>yn.destroy()),this.reportError(Xt)}const Ys=new Map,ol=new Map;m.forEach(Xt=>{const yn=Xt.element;i.has(yn)&&(ol.set(yn,yn),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Ys))}),l.forEach(Xt=>{const yn=Xt.element;this._getPreviousPlayers(yn,!1,Xt.namespaceId,Xt.triggerName,null).forEach(Hi=>{So(Ys,yn,[]).push(Hi),Hi.destroy()})});const j_=Pe.filter(Xt=>De(Xt,E,T)),z_=new Map;Wf(z_,this.driver,gt,T,Ho).forEach(Xt=>{De(Xt,E,T)&&j_.push(Xt)});const cx=new Map;K.forEach((Xt,yn)=>{Wf(cx,this.driver,new Set(Xt),E,"!")}),j_.forEach(Xt=>{const yn=z_.get(Xt),Yn=cx.get(Xt);z_.set(Xt,Object.assign(Object.assign({},yn),Yn))});const lE=[],Nq=[],Fq={};m.forEach(Xt=>{const{element:yn,player:Yn,instruction:Hi}=Xt;if(i.has(yn)){if(M.has(yn))return Yn.onDestroy(()=>J(yn,Hi.toStyles)),Yn.disabled=!0,Yn.overrideTotalTime(Hi.totalTime),void l.push(Yn);let sl=Fq;if(ol.size>1){let qd=yn;const Qv=[];for(;qd=qd.parentNode;){const ns=ol.get(qd);if(ns){sl=ns;break}Qv.push(qd)}Qv.forEach(ns=>ol.set(ns,sl))}const Zg=this._buildAnimation(Yn.namespaceId,Hi,Ys,h,cx,z_);if(Yn.setRealPlayer(Zg),sl===Fq)lE.push(Yn);else{const qd=this.playersByElement.get(sl);qd&&qd.length&&(Yn.parentPlayer=hs(qd)),l.push(Yn)}}else ue(yn,Hi.fromStyles),Yn.onDestroy(()=>J(yn,Hi.toStyles)),Nq.push(Yn),M.has(yn)&&l.push(Yn)}),Nq.forEach(Xt=>{const yn=h.get(Xt.element);if(yn&&yn.length){const Yn=hs(yn);Xt.setRealPlayer(Yn)}}),l.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<Pe.length;Xt++){const yn=Pe[Xt],Yn=yn[Ba];if(S(yn,$l),Yn&&Yn.hasAnimation)continue;let Hi=[];if(v.size){let Zg=v.get(yn);Zg&&Zg.length&&Hi.push(...Zg);let qd=this.driver.query(yn,_p,!0);for(let Qv=0;Qv<qd.length;Qv++){let ns=v.get(qd[Qv]);ns&&ns.length&&Hi.push(...ns)}}const sl=Hi.filter(Zg=>!Zg.destroyed);sl.length?R(this,yn,sl):this.processLeaveNode(yn)}return Pe.length=0,lE.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const yn=this.players.indexOf(Xt);this.players.splice(yn,1)}),Xt.play()}),lE}elementContainsData(t,e){let i=!1;const l=e[Ba];return l&&l.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,l,h){let m=[];if(e){const v=this.playersByQueriedElement.get(t);v&&(m=v)}else{const v=this.playersByElement.get(t);if(v){const E=!h||h==_h;v.forEach(T=>{T.queued||!E&&T.triggerName!=l||m.push(T)})}}return(i||l)&&(m=m.filter(v=>!(i&&i!=v.namespaceId||l&&l!=v.triggerName))),m}_beforeAnimationBuild(t,e,i){const h=e.element,m=e.isRemovalTransition?void 0:t,v=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const T=E.element,M=T!==h,F=So(i,T,[]);this._getPreviousPlayers(T,M,m,v,e.toState).forEach(K=>{const re=K.getRealPlayer();re.beforeDestroy&&re.beforeDestroy(),K.destroy(),F.push(K)})}ue(h,e.fromStyles)}_buildAnimation(t,e,i,l,h,m){const v=e.triggerName,E=e.element,T=[],M=new Set,F=new Set,V=e.timelines.map(re=>{const me=re.element;M.add(me);const Pe=me[Ba];if(Pe&&Pe.removedBeforeQueried)return new Na(re.duration,re.delay);const Je=me!==E,gt=function(n){const t=[];return $(n,t),t}((i.get(me)||lm).map(Ys=>Ys.getRealPlayer())).filter(Ys=>!!Ys.element&&Ys.element===me),Ut=h.get(me),Yt=m.get(me),ki=zl(0,this._normalizer,0,re.keyframes,Ut,Yt),Ur=this._buildPlayer(re,ki,gt);if(re.subTimeline&&l&&F.add(me),Je){const Ys=new ca(t,v,me);Ys.setRealPlayer(Ur),T.push(Ys)}return Ur});T.forEach(re=>{So(this.playersByQueriedElement,re.element,[]).push(re),re.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const l=i.indexOf(e);i.splice(l,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const l=i.indexOf(e);i.splice(l,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,re.element,re))}),M.forEach(re=>O(re,ql));const K=hs(V);return K.onDestroy(()=>{M.forEach(re=>S(re,ql)),J(E,e.toStyles)}),F.forEach(re=>{So(l,re,[]).push(K)}),K}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Na(t.duration,t.delay)}}class ca{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Na,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>xs(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){So(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Sp(n){return n&&1===n.nodeType}function jo(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Wf(n,t,e,i,l){const h=[];e.forEach(E=>h.push(jo(E)));const m=[];i.forEach((E,T)=>{const M={};E.forEach(F=>{const V=M[F]=t.computeStyle(T,F,l);(!V||0==V.length)&&(T[Ba]=sC,m.push(T))}),n.set(T,M)});let v=0;return e.forEach(E=>jo(E,h[v++])),m}function Dp(n,t){const e=new Map;if(n.forEach(v=>e.set(v,[])),0==t.length)return e;const l=new Set(t),h=new Map;function m(v){if(!v)return 1;let E=h.get(v);if(E)return E;const T=v.parentNode;return E=e.has(T)?T:l.has(T)?1:m(T),h.set(v,E),E}return t.forEach(v=>{const E=m(v);1!==E&&e.get(E).push(v)}),e}const Fu="$$classes";function O(n,t){if(n.classList)n.classList.add(t);else{let e=n[Fu];e||(e=n[Fu]={}),e[t]=!0}}function S(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Fu];e&&delete e[t]}}function R(n,t,e){hs(e).onDone(()=>n.processLeaveNode(t))}function $(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof lh?$(i.players,t):t.push(i)}}function De(n,t,e){const i=e.get(n);if(!i)return!1;let l=t.get(n);return l?i.forEach(h=>l.add(h)):t.set(n,i),e.delete(n),!0}class je{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(l,h)=>{},this._transitionEngine=new Tn(t,e,i),this._timelineEngine=new gh(t,e,i),this._transitionEngine.onRemovalComplete=(l,h)=>this.onRemovalComplete(l,h)}registerTrigger(t,e,i,l,h){const m=t+"-"+l;let v=this._triggerCache[m];if(!v){const E=[],T=$r(this._driver,h,E);if(E.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);v=function(n,t,e){return new Q_(n,t,e)}(l,T,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(e,l,v)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,l){this._transitionEngine.insertNode(t,e,i,l)}onRemove(t,e,i,l){this._transitionEngine.removeNode(t,e,l||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,l){if("@"==i.charAt(0)){const[h,m]=Ff(i);this._timelineEngine.command(h,e,m,l)}else this._transitionEngine.trigger(t,e,i,l)}listen(t,e,i,l,h){if("@"==i.charAt(0)){const[m,v]=Ff(i);return this._timelineEngine.listen(m,e,v,h)}return this._transitionEngine.listen(t,e,i,l,h)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function At(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=nn(t[0]),t.length>1&&(i=nn(t[t.length-1]))):t&&(e=nn(t)),e||i?new mt(n,e,i):null}let mt=(()=>{class n{constructor(e,i,l){this._element=e,this._startStyles=i,this._endStyles=l,this._state=0;let h=n.initialStylesByElement.get(e);h||n.initialStylesByElement.set(e,h={}),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&J(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(J(this._element,this._initialStyles),this._endStyles&&(J(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ue(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ue(this._element,this._endStyles),this._endStyles=null),J(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nn(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const l=e[i];mi(l)&&(t=t||{},t[l]=n[l])}return t}function mi(n){return"display"===n||"position"===n}const ti="animation",ku="animationend";class Tp{constructor(t,e,i,l,h,m,v){this._element=t,this._name=e,this._duration=i,this._delay=l,this._easing=h,this._fillMode=m,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(n,t){const e=cm(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Zf(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),qf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zf(this._element,this._name,"paused")}resume(){zf(this._element,this._name,"running")}setPosition(t){const e=$f(this._element,this._name);this._position=t*this._duration,Zf(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),qf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=cm(n,"").split(","),l=Yf(i,t);l>=0&&(i.splice(l,1),Zf(n,"",i.join(",")))}(this._element,this._name))}}function zf(n,t,e){Zf(n,"PlayState",e,$f(n,t))}function $f(n,t){const e=cm(n,"");return e.indexOf(",")>0?Yf(e.split(","),t):Yf([e],t)}function Yf(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function qf(n,t,e){e?n.removeEventListener(ku,t):n.addEventListener(ku,t)}function Zf(n,t,e,i){const l=ti+t;if(null!=i){const h=n.style[l];if(h.length){const m=h.split(",");m[i]=e,e=m.join(",")}}n.style[l]=e}function cm(n,t){return n.style[ti+t]||""}class lC{constructor(t,e,i,l,h,m,v,E){this.element=t,this.keyframes=e,this.animationName=i,this._duration=l,this._delay=h,this._finalStyles=v,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=l+h,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Tp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Ou(this.element,i))})}this.currentSnapshot=t}}class cE extends Na{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ji(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class iy{constructor(){this._count=0}validateStyleProperty(t){return ch(t)}matchesElement(t,e){return xu(t,e)}containsElement(t,e){return ps(t,e)}query(t,e,i){return Do(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(v=>Ji(v));let l=`@keyframes ${e} {\n`,h="";i.forEach(v=>{h=" ";const E=parseFloat(v.offset);l+=`${h}${100*E}% {\n`,h+=" ",Object.keys(v).forEach(T=>{const M=v[T];switch(T){case"offset":return;case"easing":return void(M&&(l+=`${h}animation-timing-function: ${M};\n`));default:return void(l+=`${h}${T}: ${M};\n`)}}),l+=`${h}}\n`}),l+="}\n";const m=document.createElement("style");return m.textContent=l,m}animate(t,e,i,l,h,m=[],v){const E=m.filter(Pe=>Pe instanceof lC),T={};Br(i,l)&&E.forEach(Pe=>{let Je=Pe.currentSnapshot;Object.keys(Je).forEach(gt=>T[gt]=Je[gt])});const M=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(l=>{"offset"==l||"easing"==l||(t[l]=i[l])})}),t}(e=xc(t,e,T));if(0==i)return new cE(t,M);const F="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(t,F,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(V);const re=At(t,e),me=new lC(t,e,F,i,l,h,M,re);return me.onDestroy(()=>{var n;(n=V).parentNode.removeChild(n)}),me}}class Ch{constructor(t,e,i,l){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ou(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class cC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(hE().toString()),this._cssKeyframesDriver=new iy}validateStyleProperty(t){return ch(t)}matchesElement(t,e){return xu(t,e)}containsElement(t,e){return ps(t,e)}query(t,e,i){return Do(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,l,h,m=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,l,h,m);const M={duration:i,delay:l,fill:0==l?"both":"forwards"};h&&(M.easing=h);const F={},V=m.filter(re=>re instanceof Ch);Br(i,l)&&V.forEach(re=>{let me=re.currentSnapshot;Object.keys(me).forEach(Pe=>F[Pe]=me[Pe])});const K=At(t,e=xc(t,e=e.map(re=>gl(re,!1)),F));return new Ch(t,e,M,K)}}function hE(){return jl()&&Element.prototype.animate||{}}let eT=(()=>{class n extends Ac{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(e)?fp(e):e;return pC(this._renderer,null,i,"register",[l]),new pE(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class pE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hC(this._id,t,e||{},this._renderer)}}class hC{constructor(t,e,i,l){this.id=t,this.element=e,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return pC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function pC(n,t,e,i,l){return n.setProperty(t,`@@${e}:${i}`,l)}const fE="@.disabled";let gE=(()=>{class n{constructor(e,i,l){this.delegate=e,this.engine=i,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(h,m)=>{m&&m.parentNode(h)&&m.removeChild(h.parentNode,h)}}createRenderer(e,i){const h=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(h);return M||(M=new Qf("",h,this.engine),this._rendererCache.set(h,M)),M}const m=i.id,v=i.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const E=M=>{Array.isArray(M)?M.forEach(E):this.engine.registerTrigger(m,v,e,M.name,M)};return i.data.animation.forEach(E),new Nt(this,v,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,l){e>=0&&e<this._microtaskId?this._zone.run(()=>i(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,v]=h;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(je),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Qf{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,l=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,l)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,l){this.delegate.setAttribute(t,e,i,l)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,l){this.delegate.setStyle(t,e,i,l)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==fE?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Nt extends Qf{constructor(t,e,i,l){super(e,i,l),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==fE?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const l=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let h=e.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(h)),this.engine.listen(this.namespaceId,l,h,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,i,v)})}return this.delegate.listen(t,e,i)}}let Xf=(()=>{class n extends je{constructor(e,i,l){super(e.body,i,l)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(ka),a.LFG(Pu))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Mr=new a.OlP("AnimationModuleType"),Ed=[{provide:Ac,useClass:eT},{provide:Pu,useFactory:function(){return new eC}},{provide:je,useClass:Xf},{provide:a.FYo,useFactory:function(n,t,e){return new gE(n,t,e)},deps:[ro,je,a.R0b]}],vl=[{provide:ka,useFactory:function(){return"function"==typeof hE()?new cC:new iy}},{provide:Mr,useValue:"BrowserAnimations"},...Ed],gC=[{provide:ka,useClass:Fa},{provide:Mr,useValue:"NoopAnimations"},...Ed];let nT=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?gC:vl}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:vl,imports:[oh]}),n})();var Ns=j(8939),iT=j(7354),ie=j(3854),Lu=j(8026),Gu=j(5422),Sd=j(3910),Ct=j(8002),Ii=j(4402),Va=j(5345);function Pr(n,t){return"function"==typeof t?e=>e.pipe(Pr((i,l)=>(0,Ii.D)(n(i,l)).pipe((0,Ct.U)((h,m)=>t(i,h,l,m))))):e=>e.lift(new oy(n))}class oy{constructor(t){this.project=t}call(t,e){return e.subscribe(new Fn(t,this.project))}}class Fn extends Va.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(l){return void this.destination.error(l)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Va.IY(this),l=this.destination;l.add(i),this.innerSubscription=(0,Va.ft)(t,i),this.innerSubscription!==i&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var st=j(9765),It=j(5917),ji=j(7574),Nr=j(6682),eg=j(9746),dm=j(7771),er=j(5319),mC=j(7971),_C=j(8858);class tg extends st.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new _E(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=i.length;let m;if(this.closed)throw new mC.N;if(this.isStopped||this.hasError?m=er.w.EMPTY:(this.observers.push(t),m=new _C.W(this,t)),l&&t.add(t=new eg.ht(t,l)),e)for(let v=0;v<h&&!t.closed;v++)t.next(i[v]);else for(let v=0;v<h&&!t.closed;v++)t.next(i[v].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),m}_getNow(){return(this.scheduler||dm.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,l=this._events,h=l.length;let m=0;for(;m<h&&!(t-l[m].time<i);)m++;return h>e&&(m=Math.max(m,h-e)),m>0&&l.splice(0,m),l}}class _E{constructor(t,e){this.time=t,this.value=e}}function yE(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},l=>l.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let l,m,h=0,v=!1,E=!1;return function(M){let F;h++,!l||v?(v=!1,l=new tg(n,t,i),F=l.subscribe(this),m=M.subscribe({next(V){l.next(V)},error(V){v=!0,l.error(V)},complete(){E=!0,m=void 0,l.complete()}}),E&&(m=void 0)):F=l.subscribe(this),this.add(()=>{h--,F.unsubscribe(),F=void 0,m&&!E&&e&&0===h&&(m.unsubscribe(),m=void 0,l=void 0)})}}(i))}const hm=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var $o=j(7393);function On(n,t){return function(i){return i.lift(new rT(n,t))}}class rT{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oT(t,this.predicate,this.thisArg))}}class oT extends $o.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}const CE=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var Fc=j(9193);function Bn(n){return t=>0===n?(0,Fc.c)():t.lift(new sy(n))}class sy{constructor(t){if(this.total=t,this.total<0)throw new CE}call(t,e){return e.subscribe(new yC(t,this.total))}}class yC extends $o.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function vC(n=null){return t=>t.lift(new CC(n))}class CC{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Yo(t,this.defaultValue))}}class Yo extends $o.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function wE(n=Ha){return t=>t.lift(new bE(n))}class bE{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new EE(t,this.errorFactory))}}class EE extends $o.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ha(){return new hm}var wC=j(4487);function ho(n,t){const e=arguments.length>=2;return i=>i.pipe(n?On((l,h)=>n(l,h,i)):wC.y,Bn(1),e?vC(t):wE(()=>new hm))}function bC(n,t){return t?Pr(()=>n,t):Pr(()=>n)}var Ip=j(9673),ar=j(4278);j(2329);var Ve=j(8239);const IE=new Map,xE={activated:!1,tokenObservers:[]},OE={initialized:!1,enabled:!1};function Ao(n){return IE.get(n)||xE}function da(n,t){IE.set(n,t)}function mm(){return OE}class lT{constructor(t,e,i,l,h){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=l,l>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ve.Z)(function*(){e.stop();try{e.pending=new ie.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new ie.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Fs=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function FE(n){if(!Ao(n).activated)throw Fs.create("use-before-activation",{appName:n.name})}function Op(n,t){return uy.apply(this,arguments)}function uy(){return(uy=(0,Ve.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});l&&(i["X-Firebase-Client"]=l.getPlatformInfoString());const h={method:"POST",body:JSON.stringify(t),headers:i};let m,v;try{m=yield fetch(n,h)}catch(F){throw Fs.create("fetch-network-error",{originalErrorMessage:F.message})}if(200!==m.status)throw Fs.create("fetch-status-error",{httpStatus:m.status});try{v=yield m.json()}catch(F){throw Fs.create("fetch-parse-error",{originalErrorMessage:F.message})}const E=v.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const T=1e3*Number(E[1]),M=Date.now();return{token:v.attestationToken,expireTimeMillis:M+T,issuedAtTimeMillis:M}})).apply(this,arguments)}function kE(n,t){const{projectId:e,appId:i,apiKey:l}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const ha="firebase-app-check-store";let Pp=null;function hy(){return Pp||(Pp=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var l;t(Fs.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=i=>{const l=i.target.result;switch(i.oldVersion){case 0:l.createObjectStore(ha,{keyPath:"compositeKey"})}}}catch(e){t(Fs.create("storage-open",{originalErrorMessage:e.message}))}}),Pp)}function rg(){return(rg=(0,Ve.Z)(function*(n,t){const i=(yield hy()).transaction(ha,"readwrite"),h=i.objectStore(ha).put({compositeKey:n,value:t});return new Promise((m,v)=>{h.onsuccess=E=>{m()},i.onerror=E=>{var T;v(Fs.create("storage-set",{originalErrorMessage:null===(T=E.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Fp=new Gu.Yd("@firebase/app-check");function cT(n,t){return(0,ie.hl)()?function(n,t){return function(n,t){return rg.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Fp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function kp(){return mm().enabled}function wm(){return BE.apply(this,arguments)}function BE(){return(BE=(0,Ve.Z)(function*(){const n=mm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yx={error:"UNKNOWN_ERROR"};function IC(n){return ie.US.encodeString(JSON.stringify(n),!1)}function xC(n){return og.apply(this,arguments)}function og(){return(og=(0,Ve.Z)(function*(n,t=!1){const e=n.app;FE(e);const i=Ao(e);let h,m,l=i.token;if(!l){const v=yield i.cachedTokenPromise;v&&Lp(v)&&(l=v,da(e,Object.assign(Object.assign({},i),{token:l})),MC(e,{token:l.token}))}if(!t&&l&&Lp(l))return{token:l.token};if(kp()){const v=yield Op(kE(e,yield wm()),n.platformLoggerProvider);return yield cT(e,v),da(e,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{l=yield i.provider.getToken()}catch(v){Fp.error(v),h=v}return l?(m={token:l.token},da(e,Object.assign(Object.assign({},i),{token:l})),yield cT(e,l)):m=wh(h),MC(e,m),m})).apply(this,arguments)}function OC(n,t){const e=Ao(n),i=e.tokenObservers.filter(l=>l.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),da(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function MC(n,t){const e=Ao(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(l){}}function Lp(n){return n.expireTimeMillis-Date.now()>0}function wh(n){return{token:IC(yx),error:n}}class PC{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ao(this.app);for(const e of t)OC(this.app,e.next);return Promise.resolve()}}const Dm="app-check-internal";(0,Lu._registerComponent)(new Sd.wA("app-check",n=>function(n,t){return new PC(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Dm).initialize()})),(0,Lu._registerComponent)(new Sd.wA(Dm,n=>function(n){return{getToken:t=>xC(n,t),addTokenListener:t=>function(n,t,e,i){const{app:l}=n,h=Ao(l),m={next:e,error:i,type:t},v=Object.assign(Object.assign({},h),{tokenObservers:[...h.tokenObservers,m]});if(!v.tokenRefresher){const E=function(n){const{app:t}=n;return new lT((0,Ve.Z)(function*(){let i;if(i=Ao(t).token?yield xC(n,!0):yield xC(n),i.error)throw i.error}),()=>!0,()=>{const e=Ao(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n);v.tokenRefresher=E}if(!v.tokenRefresher.isRunning()&&h.isTokenAutoRefreshEnabled&&v.tokenRefresher.start(),h.token&&Lp(h.token)){const E=h.token;Promise.resolve().then(()=>e({token:E.token})).catch(()=>{})}else null==h.token&&h.cachedTokenPromise.then(E=>{E&&Lp(E)&&e({token:E.token})}).catch(()=>{});da(l,v)}(n,"INTERNAL",t),removeTokenListener:t=>OC(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lu.registerVersion)("@firebase/app-check","0.5.0");class Tm{constructor(){return(0,ar.vb)("app-check")}}"undefined"!=typeof window&&window;var Vu=j(7841);const GC=new a.OlP("angularfire2.auth.use-emulator"),BC=new a.OlP("angularfire2.auth.settings"),VC=new a.OlP("angularfire2.auth.tenant-id"),Gp=new a.OlP("angularfire2.auth.langugage-code"),HC=new a.OlP("angularfire2.auth.use-device-language"),kc=new a.OlP("angularfire.auth.persistence"),UC=(n,t,e,i,l,h,m,v)=>(0,Ns.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),i&&(E.tenantId=i),E.languageCode=l,h&&E.useDeviceLanguage(),m)for(const[T,M]of Object.entries(m))E.settings[T]=M;return v&&E.setPersistence(v),E},[e,i,l,h,m,v]);let Bp=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M,F,V,K){const re=new st.xQ,me=(0,It.of)(void 0).pipe((0,eg.QV)(m.outsideAngular),Pr(()=>h.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,4828)))),(0,Ct.U)(()=>(0,Ns.on)(e,h,i)),(0,Ct.U)(Pe=>UC(Pe,h,v,T,M,F,E,V)),yE({bufferSize:1,refCount:!1}));if(ea(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{me.pipe(ho()).subscribe();const Je=me.pipe(Pr(Yt=>Yt.getRedirectResult().then(ki=>ki,()=>null)),ar.iC,yE({bufferSize:1,refCount:!1})),gt=me.pipe(Pr(Yt=>new ji.y(ki=>({unsubscribe:h.runOutsideAngular(()=>Yt.onAuthStateChanged(Ur=>ki.next(Ur),Ur=>ki.error(Ur),()=>ki.complete()))})))),Ut=me.pipe(Pr(Yt=>new ji.y(ki=>({unsubscribe:h.runOutsideAngular(()=>Yt.onIdTokenChanged(Ur=>ki.next(Ur),Ur=>ki.error(Ur),()=>ki.complete()))}))));this.authState=Je.pipe(bC(gt),(0,Ip.R)(m.outsideAngular),(0,eg.QV)(m.insideAngular)),this.user=Je.pipe(bC(Ut),(0,Ip.R)(m.outsideAngular),(0,eg.QV)(m.insideAngular)),this.idToken=this.user.pipe(Pr(Yt=>Yt?(0,Ii.D)(Yt.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe(Pr(Yt=>Yt?(0,Ii.D)(Yt.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,Nr.T)(Je,re,this.authState.pipe(On(Yt=>!Yt))).pipe((0,Ct.U)(Yt=>(null==Yt?void 0:Yt.user)?Yt:null),(0,Ip.R)(m.outsideAngular),(0,eg.QV)(m.insideAngular))}return(0,Ns.pX)(this,me,h,{spy:{apply:(Pe,Je,gt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&gt.then(Ut=>re.next(Ut))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ns.Dh),a.LFG(Ns.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ar.HU),a.LFG(GC,8),a.LFG(BC,8),a.LFG(VC,8),a.LFG(Gp,8),a.LFG(HC,8),a.LFG(kc,8),a.LFG(Tm,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),li=(()=>{class n{constructor(){Vu.Z.registerVersion("angularfire",ar.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Bp]}),n})();var bh=j(3637),WC=j(8819);function _s(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(l){return l.lift(new jC(n,t,e))}}class jC{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new KE(t,this.accumulator,this.seed,this.hasSeed))}}class KE extends $o.L{constructor(t,e,i,l){super(t),this.accumulator=e,this._seed=i,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(l){this.destination.error(l)}this.seed=i,this.destination.next(i)}}function Lc(n,t){return e=>e.lift(new yT(n,t))}class yT{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new zC(t,this.compare,this.keySelector))}}class zC extends $o.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:l}=this;e=l?l(t):t}catch(l){return this.destination.error(l)}let i=!1;if(this.hasKey)try{const{compare:l}=this;i=l(this.key,e)}catch(l){return this.destination.error(l)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class $C extends $o.L{notifyNext(t,e,i,l,h){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Hu extends $o.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var vT=j(7444);function Gc(n,t,e,i,l=new Hu(n,e,i)){if(!l.closed)return t instanceof ji.y?t.subscribe(l):(0,vT.s)(t)(l)}function vy(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new Am(n,e))}}class Am{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new iu(t,this.observables,this.project))}}class iu extends $C{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const l=e.length;this.values=new Array(l);for(let h=0;h<l;h++)this.toRespond.push(h);for(let h=0;h<l;h++)this.add(Gc(this,e[h],void 0,h))}notifyNext(t,e,i){this.values[i]=e;const l=this.toRespond;if(l.length>0){const h=l.indexOf(i);-1!==h&&l.splice(h,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class QE{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new qC(t,this.predicate))}}class qC extends $o.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}j(4828);var KC=j(3394);const QC="@firebase/database";let Im="";function xm(n){Im=n}class JE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ie.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ie.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class XE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ie.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Om=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new JE(t)}}catch(t){}return new XE},Td=Om("localStorage"),Cy=Om("sessionStorage"),Wa=new Gu.Yd("@firebase/database"),Uu=function(){let n=1;return function(){return n++}}(),Mm=function(n){const t=(0,ie.dS)(n),e=new ie.gQ;e.update(t);const i=e.digest();return ie.US.encodeByteArray(i)},cg=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=cg.apply(null,i):t+="object"==typeof i?(0,ie.Pz)(i):i,t+=" "}return t};let Eh=null,CT=!0;const Ad=function(n,t){(0,ie.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Wa.logLevel=Gu.in.VERBOSE,Eh=Wa.log.bind(Wa),t&&Cy.set("logging_enabled",!0)):"function"==typeof n?Eh=n:(Eh=null,Cy.remove("logging_enabled"))},Ro=function(...n){if(!0===CT&&(CT=!1,null===Eh&&!0===Cy.get("logging_enabled")&&Ad(!0)),Eh){const t=cg.apply(null,n);Eh(t)}},bl=function(n){return function(...t){Ro(n,...t)}},Sh=function(...n){const t="FIREBASE INTERNAL ERROR: "+cg(...n);Wa.error(t)},Bc=function(...n){const t=`FIREBASE FATAL ERROR: ${cg(...n)}`;throw Wa.error(t),new Error(t)},Vr=function(...n){const t="FIREBASE WARNING: "+cg(...n);Wa.warn(t)},wy=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vc="[MIN_NAME]",ru="[MAX_NAME]",Dh=function(n,t){if(n===t)return 0;if(n===Vc||t===ru)return-1;if(t===Vc||n===ru)return 1;{const e=Th(n),i=Th(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},e0=function(n,t){return n===t?0:n<t?-1:1},dg=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Pz)(t))},ou=function(n){if("object"!=typeof n||null===n)return(0,ie.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ie.Pz)(t[i]),e+=":",e+=ou(n[t[i]]);return e+="}",e},by=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let l=0;l<e;l+=t)i.push(n.substring(l,l+t>e?e:l+t));return i};function qo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const XC=function(n){(0,ie.hu)(!wy(n),"Invalid JSON number");const i=1023;let l,h,m,v,E;0===n?(h=0,m=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),i),h=v+i,m=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(h=0,m=Math.round(n/Math.pow(2,-1074))));const T=[];for(E=52;E;E-=1)T.push(m%2?1:0),m=Math.floor(m/2);for(E=11;E;E-=1)T.push(h%2?1:0),h=Math.floor(h/2);T.push(l?1:0),T.reverse();const M=T.join("");let F="";for(E=0;E<64;E+=8){let V=parseInt(M.substr(E,8),2).toString(16);1===V.length&&(V="0"+V),F+=V}return F.toLowerCase()},bT=new RegExp("^-?(0*)\\d{1,10}$"),ew=-2147483648,n0=2147483647,Th=function(n){if(bT.test(n)){const t=Number(n);if(t>=ew&&t<=n0)return t}return null},Ah=function(n){try{n()}catch(t){setTimeout(()=>{throw Vr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Rh=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class ET{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Rd{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ro("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vr(t)}}let Id=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Nm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iw="websocket",pg="long_polling";class Up{constructor(t,e,i,l,h=!1,m="",v=!1){this.secure=e,this.namespace=i,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Td.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Td.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function rw(n,t,e){let i;if((0,ie.hu)("string"==typeof t,"typeof type must == string"),(0,ie.hu)("object"==typeof e,"typeof params must == object"),t===iw)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==pg)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return qo(e,(h,m)=>{l.push(h+"="+m)}),i+l.join("&")}class ow{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ie.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ie.p$)(this.counters_)}}const Fm={},sw={};function fg(n){const t=n.toString();return Fm[t]||(Fm[t]=new ow),Fm[t]}class TT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<i.length;++l)i[l]&&Ah(()=>{this.onMessage_(i[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wu{constructor(t,e,i,l,h,m,v){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(t),this.stats_=fg(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),rw(e,pg,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new TT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lm((...h)=>{const[m,v,E,T,M]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===m)this.id=v,this.password=E;else{if("close"!==m)throw new Error("Unrecognized command received: "+m);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[m,v]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Nm.test(location.hostname)&&(i.r="f");const l=this.urlFn(i);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wu.forceAllow_=!0}static forceDisallow(){Wu.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Wu.forceAllow_&&(Wu.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ie.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ie.h$)(e),l=by(i,1840);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ie.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Lm{constructor(t,e,i,l){if(this.onDisconnect=i,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Uu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Lm.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(v){Ro("frame writing exception"),v.stack&&Ro(v.stack),Ro(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ro("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const m=this.pendingSegs.shift();i=i+"&seg"+l+"="+m.seg+"&ts"+l+"="+m.ts+"&d"+l+"="+m.d,l++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),i()})}addTag(t,e){(0,ie.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const l=i.readyState;(!l||"loaded"===l||"complete"===l)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ro("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let jp=null;"undefined"!=typeof MozWebSocket?jp=MozWebSocket:"undefined"!=typeof WebSocket&&(jp=WebSocket);let zp=(()=>{class n{constructor(e,i,l,h,m,v,E){this.connId=e,this.applicationId=l,this.appCheckToken=h,this.authToken=m,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=fg(i),this.connURL=n.connectionURL_(i,v,E,h),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,l,h){const m={v:"5"};return!(0,ie.Yr)()&&"undefined"!=typeof location&&location.hostname&&Nm.test(location.hostname)&&(m.r="f"),i&&(m.s=i),l&&(m.ls=l),h&&(m.ac=h),rw(e,iw,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Td.set("previous_websocket_failure",!0);try{if((0,ie.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${Im}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,v=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;v&&(h.proxy={origin:v}),this.mySock=new jp(this.connURL,[],h)}else this.mySock=new jp(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const h=l.message||l.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const h=l.message||l.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==jp&&!n.forceDisallow_}static previouslyFailed(){return Td.isInMemoryStorage||!0===Td.get("previous_websocket_failure")}markConnectionHealthy(){Td.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=(0,ie.cI)(i);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const i=(0,ie.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=by(i,16384);l.length>1&&this.sendString_(String(l.length));for(let h=0;h<l.length;h++)this.sendString_(l[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class gg{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wu,zp]}initTransports_(t){const e=zp&&zp.isAvailable();let i=e&&!zp.previouslyFailed();if(t.webSocketOnly&&(e||Vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zp];else{const l=this.transports_=[];for(const h of gg.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Gm{constructor(t,e,i,l,h,m,v,E,T,M){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=v,this.onDisconnect_=E,this.onKill_=T,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new gg(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Rh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=dg("t",t),i=dg("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=dg("t",t),i=dg("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=dg("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Sh("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sh("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Rh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Td.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class au{put(t,e,i,l){}merge(t,e,i,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class yg{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ie.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let l=0;l<i.length;l++)i[l].callback.apply(i[l].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const l=this.getInitialEvent(t);l&&e.apply(i,l)}off(t,e,i){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let h=0;h<l.length;h++)if(l[h].callback===e&&(!i||i===l[h].context))return void l.splice(h,1)}validateEventType_(t){(0,ie.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Sr extends yg{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sr}getInitialEvent(t){return(0,ie.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Wn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[i]=this.pieces_[l],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function jn(){return new Wn("")}function Rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function El(n){return n.pieces_.length-n.pieceNum_}function Di(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Wn(n.pieces_,t)}function xd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ju(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Yp(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Wn(t,0)}function Ti(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Wn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let l=0;l<i.length;l++)i[l].length>0&&e.push(i[l])}return new Wn(e,0)}function Dn(n){return n.pieceNum_>=n.pieces_.length}function Ls(n,t){const e=Rn(n),i=Rn(t);if(null===e)return t;if(e===i)return Ls(Di(n),Di(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Vm(n,t){const e=ju(n,0),i=ju(t,0);for(let l=0;l<e.length&&l<i.length;l++){const h=Dh(e[l],i[l]);if(0!==h)return h}return e.length===i.length?0:e.length<i.length?-1:1}function Dy(n,t){if(El(n)!==El(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function fa(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(El(n)>El(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class f0{constructor(t,e){this.errorPrefix_=e,this.parts_=ju(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);Ay(this)}}function Ay(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ih(n))}function Ih(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Cg extends yg{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Cg}getInitialEvent(t){return(0,ie.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const qp=1e3;let xh,Zp=(()=>{class n extends au{constructor(e,i,l,h,m,v,E,T){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=h,this.onServerInfoUpdate_=m,this.authTokenProvider_=v,this.appCheckTokenProvider_=E,this.authOverride_=T,this.id=n.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Sr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,l){const h=++this.requestNumber_,m={r:h,a:e,b:i};this.log_((0,ie.Pz)(m)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(m),l&&(this.requestCBHash_[h]=l)}get(e){this.initConnection_();const i=new ie.BH,l={p:e._path.toString(),q:e._queryObject},h={action:"g",request:l,onComplete:v=>{const E=v.d;"ok"===v.s?(this.onDataUpdate_(l.p,E,!1,null),i.resolve(E)):i.reject(E)}};this.outstandingGets_.push(h),this.outstandingGetCount_++;const m=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const v=this.outstandingGets_[m];void 0===v||h!==v||(delete this.outstandingGets_[m],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+m+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(m),i.promise}listen(e,i,l,h){this.initConnection_();const m=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+m),this.listens.has(v)||this.listens.set(v,new Map),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(v).has(m),"listen() called twice for same path/queryId.");const E={onComplete:h,hashFn:i,query:e,tag:l};this.listens.get(v).set(m,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(e){const i=e.query,l=i._path.toString(),h=i._queryIdentifier;this.log_("Listen on "+l+" for "+h);const m={p:l};e.tag&&(m.q=i._queryObject,m.t=e.tag),m.h=e.hashFn(),this.sendRequest("q",m,E=>{const T=E.d,M=E.s;n.warnOnListenWarnings_(T,i),(this.listens.get(l)&&this.listens.get(l).get(h))===e&&(this.log_("listen response",E),"ok"!==M&&this.removeListen_(l,h),e.onComplete&&e.onComplete(M,T))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ie.r3)(e,"w")){const l=(0,ie.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const h='".indexOn": "'+i._queryParams.getIndex().toString()+'"',m=i._path.toString();Vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${m} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ie.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ie.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(i,l,h=>{const m=h.s,v=h.d||"error";this.authToken_===e&&("ok"===m?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(m,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,l=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(e,i){const l=e._path.toString(),h=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+h),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,h)&&this.connected_&&this.sendUnlisten_(l,h,e._queryObject,i)}sendUnlisten_(e,i,l,h){this.log_("Unlisten on "+e+" for "+i);const m={p:e};h&&(m.q=l,m.t=h),this.sendRequest("n",m)}onDisconnectPut(e,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:l})}onDisconnectMerge(e,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:l})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,l,h){const m={p:i,d:l};this.log_("onDisconnect "+e,m),this.sendRequest(e,m,v=>{h&&setTimeout(()=>{h(v.s,v.d)},Math.floor(0))})}put(e,i,l,h){this.putInternal("p",e,i,l,h)}merge(e,i,l,h){this.putInternal("m",e,i,l,h)}putInternal(e,i,l,h,m){this.initConnection_();const v={p:i,d:l};void 0!==m&&(v.h=m),this.outstandingPuts_.push({action:e,request:v,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,h=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,l,m=>{this.log_(i+" response",m),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(m.s,m.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ie.Pz)(e));const i=e.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Sh("Unrecognized action received from server: "+(0,ie.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ve.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),h=e.onRealtimeDisconnect_.bind(e),m=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let E=!1,T=null;const M=function(){T?T.close():(E=!0,h())};e.realtime_={close:M,sendRequest:function(K){(0,ie.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(K)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,re]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);E?Ro("getToken() completed but was canceled"):(Ro("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=re&&re.token,T=new Gm(m,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,l,h,me=>{Vr(me+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(K){e.log_("Failed to get token: "+K),E||(e.repoInfo_.nodeAdmin&&Vr(K),M())}}})()}interrupt(e){Ro("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ro("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let l;l=i?i.map(m=>ou(m)).join("$"):"default";const h=this.removeListen_(e,l);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(e,i){const l=new Wn(e).toString();let h;if(this.listens.has(l)){const m=this.listens.get(l);h=m.get(i),m.delete(i),0===m.size&&this.listens.delete(l)}else h=void 0;return h}onAuthRevoked_(e,i){Ro("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ro("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Im.replace(/\./g,"-")]=1,(0,ie.uI)()?e["framework.cordova"]=1:(0,ie.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sr.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Zn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Zn(t,e)}}class Iy{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Zn(Vc,t),l=new Zn(Vc,e);return 0!==this.compare(i,l)}minPost(){return Zn.MIN}}class m0 extends Iy{static get __EMPTY_NODE(){return xh}static set __EMPTY_NODE(t){xh=t}compare(t,e){return Dh(t.name,e.name)}isDefinedOn(t){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Zn.MIN}maxPost(){return new Zn(ru,xh)}makePost(t,e){return(0,ie.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Zn(t,xh)}toString(){return".key"}}const Uc=new m0;class wg{constructor(t,e,i,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!t.isEmpty();)if(t=t,m=e?i(t.key,e):1,l&&(m*=-1),m<0)t=this.isReverse_?t.left:t.right;else{if(0===m){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let xy,Wc=(()=>{class n{constructor(e,i,l,h,m){this.key=e,this.value=i,this.color=null!=l?l:n.RED,this.left=null!=h?h:za.EMPTY_NODE,this.right=null!=m?m:za.EMPTY_NODE}copy(e,i,l,h,m){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=m?m:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,i,l),null):0===m?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,l)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return za.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let l,h;if(l=this,i(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===i(e,l.key)){if(l.right.isEmpty())return za.EMPTY_NODE;h=l.right.min_(),l=l.copy(h.key,h.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class za{constructor(t,e=za.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new za(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wc.BLACK,null,null))}remove(t){return new za(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,l=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return l?l.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(l=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new wg(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new wg(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new wg(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new wg(this.root_,null,this.comparator_,!0,t)}}function BT(n,t){return Dh(n.name,t.name)}function _0(n,t){return Dh(n,t)}za.EMPTY_NODE=new class{copy(t,e,i,l,h){return this}insert(t,e,i){return new Wc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Oh=function(n){return"number"==typeof n?"number:"+XC(n):"string:"+n},Hm=function(n){if(n.isLeafNode()){const t=n.val();(0,ie.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ie.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===xy||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===xy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let y0,mw,v0,Mh=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Hm(this.priorityNode_)}static set __childrenNodeConstructor(e){y0=e}static get __childrenNodeConstructor(){return y0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Dn(e)?this:".priority"===Rn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const l=Rn(e);return null===l?i:i.isEmpty()&&".priority"!==l?this:((0,ie.hu)(".priority"!==l||1===El(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Di(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Oh(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?XC(this.value_):this.value_,this.lazyHash_=Mm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,l=typeof this.value_,h=n.VALUE_TYPE_ORDER.indexOf(i),m=n.VALUE_TYPE_ORDER.indexOf(l);return(0,ie.hu)(h>=0,"Unknown leaf type: "+i),(0,ie.hu)(m>=0,"Unknown leaf type: "+l),h===m?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:m-h}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const lr=new class extends Iy{compare(t,e){const i=t.node.getPriority(),l=e.node.getPriority(),h=i.compareTo(l);return 0===h?Dh(t.name,e.name):h}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Zn.MIN}maxPost(){return new Zn(ru,new Mh("[PRIORITY-POST]",v0))}makePost(t,e){const i=mw(t);return new Zn(e,new Mh("[PRIORITY-POST]",i))}toString(){return".priority"}},Ph=Math.log(2);class C0{constructor(t){this.count=parseInt(Math.log(t+1)/Ph,10),this.current_=this.count-1;const l=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Um=function(n,t,e,i){n.sort(t);const l=function(E,T){const M=T-E;let F,V;if(0===M)return null;if(1===M)return F=n[E],V=e?e(F):F,new Wc(V,F.node,Wc.BLACK,null,null);{const K=parseInt(M/2,10)+E,re=l(E,K),me=l(K+1,T);return F=n[K],V=e?e(F):F,new Wc(V,F.node,Wc.BLACK,re,me)}},v=function(E){let T=null,M=null,F=n.length;const V=function(re,me){const Pe=F-re,Je=F;F-=re;const gt=l(Pe+1,Je),Ut=n[Pe],Yt=e?e(Ut):Ut;K(new Wc(Yt,Ut.node,me,null,gt))},K=function(re){T?(T.left=re,T=re):(M=re,T=re)};for(let re=0;re<E.count;++re){const me=E.nextBitIsOne(),Pe=Math.pow(2,E.count-(re+1));me?V(Pe,Wc.BLACK):(V(Pe,Wc.BLACK),V(Pe,Wc.RED))}return M}(new C0(n.length));return new za(i||t,v)};let _w;const Md={};class lu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ie.hu)(Md&&lr,"ChildrenNode.ts has not been loaded"),_w=_w||new lu({".priority":Md},{".priority":lr}),_w}get(t){const e=(0,ie.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof za?e:null}hasIndex(t){return(0,ie.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ie.hu)(t!==Uc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let l=!1;const h=e.getIterator(Zn.Wrap);let v,m=h.getNext();for(;m;)l=l||t.isDefinedOn(m.node),i.push(m),m=h.getNext();v=l?Um(i,t.getCompare()):Md;const E=t.toString(),T=Object.assign({},this.indexSet_);T[E]=t;const M=Object.assign({},this.indexes_);return M[E]=v,new lu(M,T)}addToIndexes(t,e){const i=(0,ie.UI)(this.indexes_,(l,h)=>{const m=(0,ie.DV)(this.indexSet_,h);if((0,ie.hu)(m,"Missing index implementation for "+h),l===Md){if(m.isDefinedOn(t.node)){const v=[],E=e.getIterator(Zn.Wrap);let T=E.getNext();for(;T;)T.name!==t.name&&v.push(T),T=E.getNext();return v.push(t),Um(v,m.getCompare())}return Md}{const v=e.get(t.name);let E=l;return v&&(E=E.remove(new Zn(t.name,v))),E.insert(t,t.node)}});return new lu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ie.UI)(this.indexes_,l=>{if(l===Md)return l;{const h=e.get(t.name);return h?l.remove(new Zn(t.name,h)):l}});return new lu(i,this.indexSet_)}}let Wm,wn=(()=>{class n{constructor(e,i,l){this.children_=e,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Hm(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wm||(Wm=new n(new za(_0),null,lu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wm}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Wm:i}}getChild(e){const i=Rn(e);return null===i?this:this.getImmediateChild(i).getChild(Di(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const l=new Zn(e,i);let h,m;i.isEmpty()?(h=this.children_.remove(e),m=this.indexMap_.removeFromIndexes(l,this.children_)):(h=this.children_.insert(e,i),m=this.indexMap_.addToIndexes(l,this.children_));const v=h.isEmpty()?Wm:this.priorityNode_;return new n(h,v,m)}}updateChild(e,i){const l=Rn(e);if(null===l)return i;{(0,ie.hu)(".priority"!==Rn(e)||1===El(e),".priority must be the last token in a path");const h=this.getImmediateChild(l).updateChild(Di(e),i);return this.updateImmediateChild(l,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let l=0,h=0,m=!0;if(this.forEachChild(lr,(v,E)=>{i[v]=E.val(e),l++,m&&n.INTEGER_REGEXP_.test(v)?h=Math.max(h,Number(v)):m=!1}),!e&&m&&h<2*l){const v=[];for(const E in i)v[E]=i[E];return v}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Oh(this.getPriority().val())+":"),this.forEachChild(lr,(i,l)=>{const h=l.hash();""!==h&&(e+=":"+i+":"+h)}),this.lazyHash_=""===e?"":Mm(e)}return this.lazyHash_}getPredecessorChildName(e,i,l){const h=this.resolveIndex_(l);if(h){const m=h.getPredecessorKey(new Zn(e,i));return m?m.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const l=i.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Zn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const l=i.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Zn(i,this.children_.get(i)):null}forEachChild(e,i){const l=this.resolveIndex_(e);return l?l.inorderTraversal(h=>i(h.name,h.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(e,h=>h);{const h=this.children_.getIteratorFrom(e.name,Zn.Wrap);let m=h.peek();for(;null!=m&&i.compare(m,e)<0;)h.getNext(),m=h.peek();return h}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(e,h=>h);{const h=this.children_.getReverseIteratorFrom(e.name,Zn.Wrap);let m=h.peek();for(;null!=m&&i.compare(m,e)>0;)h.getNext(),m=h.peek();return h}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Kp?-1:0}withIndex(e){if(e===Uc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Uc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const l=this.getIterator(lr),h=i.getIterator(lr);let m=l.getNext(),v=h.getNext();for(;m&&v;){if(m.name!==v.name||!m.node.equals(v.node))return!1;m=l.getNext(),v=h.getNext()}return null===m&&null===v}return!1}return!1}}resolveIndex_(e){return e===Uc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Kp=new class extends wn{constructor(){super(new za(_0),wn.EMPTY_NODE,lu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wn.EMPTY_NODE}isEmpty(){return!1}};function Dr(n,t=null){if(null===n)return wn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ie.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Mh(n,Dr(t));if(n instanceof Array){let e=wn.EMPTY_NODE;return qo(n,(i,l)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const h=Dr(l);(h.isLeafNode()||!h.isEmpty())&&(e=e.updateImmediateChild(i,h))}}),e.updatePriority(Dr(t))}{const e=[];let i=!1;if(qo(n,(m,v)=>{if("."!==m.substring(0,1)){const E=Dr(v);E.isEmpty()||(i=i||!E.getPriority().isEmpty(),e.push(new Zn(m,E)))}}),0===e.length)return wn.EMPTY_NODE;const h=Um(e,BT,m=>m.name,_0);if(i){const m=Um(e,lr.getCompare());return new wn(h,Dr(t),new lu({".priority":m},{".priority":lr}))}return new wn(h,Dr(t),lu.Default)}}Object.defineProperties(Zn,{MIN:{value:new Zn(Vc,wn.EMPTY_NODE)},MAX:{value:new Zn(ru,Kp)}}),m0.__EMPTY_NODE=wn.EMPTY_NODE,Mh.__childrenNodeConstructor=wn,xy=Kp,v0=Kp,function(n){mw=n}(Dr);class bg extends Iy{constructor(t){super(),this.indexPath_=t,(0,ie.hu)(!Dn(t)&&".priority"!==Rn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),l=this.extractChild(e.node),h=i.compareTo(l);return 0===h?Dh(t.name,e.name):h}makePost(t,e){const i=Dr(t),l=wn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Zn(e,l)}maxPost(){const t=wn.EMPTY_NODE.updateChild(this.indexPath_,Kp);return new Zn(ru,t)}toString(){return ju(this.indexPath_,0).join("/")}}const vw=new class extends Iy{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Dh(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Zn.MIN}maxPost(){return Zn.MAX}makePost(t,e){const i=Dr(t);return new Zn(e,i)}toString(){return".value"}},Qp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cw=function(){let n=0;const t=[];return function(e){const i=e===n;let l;n=e;const h=new Array(8);for(l=7;l>=0;l--)h[l]=Qp.charAt(e%64),e=Math.floor(e/64);(0,ie.hu)(0===e,"Cannot push at time == 0");let m=h.join("");if(i){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)m+=Qp.charAt(t[l]);return(0,ie.hu)(20===m.length,"nextPushId: Length should be 20."),m}}(),w0=function(n){if(n===""+n0)return"-";const t=Th(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let m=0;m<e.length;m++)e[m]=n.charAt(m);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return ru;const h=Qp.charAt(Qp.indexOf(e[i])+1);return e[i]=h,e.slice(0,i+1).join("")},My=function(n){if(n===""+ew)return Vc;const t=Th(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+n0:(delete e[e.length-1],e.join("")):(e[e.length-1]=Qp.charAt(Qp.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Eg(n){return{type:"value",snapshotNode:n}}function Jp(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function zu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Xp(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class ef{constructor(t){this.index_=t}updateChild(t,e,i,l,h,m){(0,ie.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(l).equals(i.getChild(l))&&v.isEmpty()===i.isEmpty()||(null!=m&&(i.isEmpty()?t.hasChild(e)?m.trackChildChange(zu(e,v)):(0,ie.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?m.trackChildChange(Jp(e,i)):m.trackChildChange(Xp(e,i,v))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(lr,(l,h)=>{e.hasChild(l)||i.trackChildChange(zu(l,h))}),e.isLeafNode()||e.forEachChild(lr,(l,h)=>{if(t.hasChild(l)){const m=t.getImmediateChild(l);m.equals(h)||i.trackChildChange(Xp(l,h,m))}else i.trackChildChange(Jp(l,h))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tf{constructor(t){this.indexedFilter_=new ef(t.getIndex()),this.index_=t.getIndex(),this.startPost_=tf.getStartPost_(t),this.endPost_=tf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,l,h,m){return this.matches(new Zn(e,i))||(i=wn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,l,h,m)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wn.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(wn.EMPTY_NODE);const h=this;return e.forEachChild(lr,(m,v)=>{h.matches(new Zn(m,v))||(l=l.updateImmediateChild(m,wn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class b0{constructor(t){this.rangedFilter_=new tf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,l,h,m){return this.rangedFilter_.matches(new Zn(e,i))||(i=wn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,l,h,m):this.fullLimitUpdateChild_(t,e,i,h,m)}updateFullNode(t,e,i){let l;if(e.isLeafNode()||e.isEmpty())l=wn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let h;l=wn.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const v=h.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!E)break;l=l.updateImmediateChild(v.name,v.node),m++}}else{let h,m,v,E;if(l=e.withIndex(this.index_),l=l.updatePriority(wn.EMPTY_NODE),this.reverse_){E=l.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),m=this.rangedFilter_.getStartPost();const F=this.index_.getCompare();v=(V,K)=>F(K,V)}else E=l.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),m=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let T=0,M=!1;for(;E.hasNext();){const F=E.getNext();!M&&v(h,F)<=0&&(M=!0),M&&T<this.limit_&&v(F,m)<=0?T++:l=l.updateImmediateChild(F.name,wn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,l,h){let m;if(this.reverse_){const F=this.index_.getCompare();m=(V,K)=>F(K,V)}else m=this.index_.getCompare();const v=t;(0,ie.hu)(v.numChildren()===this.limit_,"");const E=new Zn(e,i),T=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),M=this.rangedFilter_.matches(E);if(v.hasChild(e)){const F=v.getImmediateChild(e);let V=l.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=V&&(V.name===e||v.hasChild(V.name));)V=l.getChildAfterChild(this.index_,V,this.reverse_);const K=null==V?1:m(V,E);if(M&&!i.isEmpty()&&K>=0)return null!=h&&h.trackChildChange(Xp(e,i,F)),v.updateImmediateChild(e,i);{null!=h&&h.trackChildChange(zu(e,F));const me=v.updateImmediateChild(e,wn.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=h&&h.trackChildChange(Jp(V.name,V.node)),me.updateImmediateChild(V.name,V.node)):me}}return i.isEmpty()?t:M&&m(T,E)>=0?(null!=h&&(h.trackChildChange(zu(T.name,T.node)),h.trackChildChange(Jp(e,i))),v.updateImmediateChild(e,i).updateImmediateChild(T.name,wn.EMPTY_NODE)):t}}class ww{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ru}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lr}copy(){const t=new ww;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function $m(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ym(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Nh(n,t){const e=n.copy();return e.index_=t,e}function Pd(n){const t={};if(n.isDefault())return t;let e;return n.index_===lr?e="$priority":n.index_===vw?e="$value":n.index_===Uc?e="$key":((0,ie.hu)(n.index_ instanceof bg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ie.Pz)(e),n.startSet_&&(t.startAt=(0,ie.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,ie.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,ie.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,ie.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Py(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==lr&&(t.i=n.index_.toString()),t}class qm extends au{constructor(t,e,i,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.log_=bl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ie.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,l){const h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);const m=qm.getListenId_(t,i),v={};this.listens_[m]=v;const E=Pd(t._queryParams);this.restRequest_(h+".json",E,(T,M)=>{let F=M;if(404===T&&(F=null,T=null),null===T&&this.onDataUpdate_(h,F,!1,i),(0,ie.DV)(this.listens_,m)===v){let V;V=T?401===T?"permission_denied":"rest_error:"+T:"ok",l(V,null)}})}unlisten(t,e){const i=qm.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Pd(t._queryParams),i=t._path.toString(),l=new ie.BH;return this.restRequest_(i+".json",e,(h,m)=>{let v=m;404===h&&(v=null,h=null),null===h?(this.onDataUpdate_(i,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(e.auth=l.accessToken),h&&h.token&&(e.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(e);this.log_("Sending REST request for "+m);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+m+" received. status:",v.status,"response:",v.responseText);let E=null;if(v.status>=200&&v.status<300){try{E=(0,ie.cI)(v.responseText)}catch(T){Vr("Failed to parse JSON response for "+m+": "+v.responseText)}i(null,E)}else 401!==v.status&&404!==v.status&&Vr("Got unsuccessful REST response for "+m+" Status: "+v.status),i(v.status);i=null}},v.open("GET",m,!0),v.send()})}}class T0{constructor(){this.rootNode_=wn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Fh(){return{value:null,children:new Map}}function kh(n,t,e){if(Dn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Rn(t);n.children.has(i)||n.children.set(i,Fh()),kh(n.children.get(i),t=Di(t),e)}}function Ny(n,t){if(Dn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(lr,(i,l)=>{kh(n,new Wn(i),l)}),Ny(n,t)}}if(n.children.size>0){const e=Rn(t);return t=Di(t),n.children.has(e)&&Ny(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function nf(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,l)=>{nf(l,new Wn(t.toString()+"/"+i),e)})}class Fy{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&qo(this.last_,(i,l)=>{e[i]=e[i]-l}),this.last_=t,e}}class Sw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fy(t);const i=1e4+2e4*Math.random();Rh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;qo(t,(l,h)=>{h>0&&(0,ie.r3)(this.statsToReport_,l)&&(e[l]=h,i=!0)}),i&&this.server_.reportStats(e),Rh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Sl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Sl||(Sl={})),Sl))();function rf(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Km{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Sl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Dn(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Wn(t));return new Km(jn(),e,this.revert)}}return(0,ie.hu)(Rn(this.path)===t,"operationForChild called for unrelated child."),new Km(Di(this.path),this.affectedTree,this.revert)}}class Sg{constructor(t,e){this.source=t,this.path=e,this.type=Sl.LISTEN_COMPLETE}operationForChild(t){return Dn(this.path)?new Sg(this.source,jn()):new Sg(this.source,Di(this.path))}}class Dg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Sl.OVERWRITE}operationForChild(t){return Dn(this.path)?new Dg(this.source,jn(),this.snap.getImmediateChild(t)):new Dg(this.source,Di(this.path),this.snap)}}class Nd{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Sl.MERGE}operationForChild(t){if(Dn(this.path)){const e=this.children.subtree(new Wn(t));return e.isEmpty()?null:e.value?new Dg(this.source,jn(),e.value):new Nd(this.source,jn(),e)}return(0,ie.hu)(Rn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Nd(this.source,Di(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Lh{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Dn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class R0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zi(n,t,e,i,l,h){const m=i.filter(v=>v.type===e);m.sort((v,E)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Zn(t.childName,t.snapshotNode),l=new Zn(e.childName,e.snapshotNode);return n.index_.compare(i,l)}(n,v,E)),m.forEach(v=>{const E=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,h);l.forEach(T=>{T.respondsTo(v.type)&&t.push(T.createEvent(E,n.query_))})})}function By(n,t){return{eventCache:n,serverCache:t}}function Yr(n,t,e,i){return By(new Lh(t,e,i),n.serverCache)}function uu(n,t,e,i){return By(n.eventCache,new Lh(t,e,i))}function Qm(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Gh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let jc;class ur{constructor(t,e=(()=>(jc||(jc=new za(e0)),jc))()){this.value=t,this.children=e}static fromObject(t){let e=new ur(null);return qo(t,(i,l)=>{e=e.set(new Wn(i),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:jn(),value:this.value};if(Dn(t))return null;{const i=Rn(t),l=this.children.get(i);if(null!==l){const h=l.findRootMostMatchingPathAndValue(Di(t),e);return null!=h?{path:Ti(new Wn(i),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Dn(t))return this;{const e=Rn(t),i=this.children.get(e);return null!==i?i.subtree(Di(t)):new ur(null)}}set(t,e){if(Dn(t))return new ur(e,this.children);{const i=Rn(t),h=(this.children.get(i)||new ur(null)).set(Di(t),e),m=this.children.insert(i,h);return new ur(this.value,m)}}remove(t){if(Dn(t))return this.children.isEmpty()?new ur(null):new ur(null,this.children);{const e=Rn(t),i=this.children.get(e);if(i){const l=i.remove(Di(t));let h;return h=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&h.isEmpty()?new ur(null):new ur(this.value,h)}return this}}get(t){if(Dn(t))return this.value;{const e=Rn(t),i=this.children.get(e);return i?i.get(Di(t)):null}}setTree(t,e){if(Dn(t))return e;{const i=Rn(t),h=(this.children.get(i)||new ur(null)).setTree(Di(t),e);let m;return m=h.isEmpty()?this.children.remove(i):this.children.insert(i,h),new ur(this.value,m)}}fold(t){return this.fold_(jn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((l,h)=>{i[l]=h.fold_(Ti(t,l),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,jn(),e)}findOnPath_(t,e,i){const l=!!this.value&&i(e,this.value);if(l)return l;if(Dn(t))return null;{const h=Rn(t),m=this.children.get(h);return m?m.findOnPath_(Di(t),Ti(e,h),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,jn(),e)}foreachOnPath_(t,e,i){if(Dn(t))return this;{this.value&&i(e,this.value);const l=Rn(t),h=this.children.get(l);return h?h.foreachOnPath_(Di(t),Ti(e,l),i):new ur(null)}}foreach(t){this.foreach_(jn(),t)}foreach_(t,e){this.children.inorderTraversal((i,l)=>{l.foreach_(Ti(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ga{constructor(t){this.writeTree_=t}static empty(){return new ga(new ur(null))}}function Jm(n,t,e){if(Dn(t))return new ga(new ur(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const l=i.path;let h=i.value;const m=Ls(l,t);return h=h.updateChild(m,e),new ga(n.writeTree_.set(l,h))}{const l=new ur(e),h=n.writeTree_.setTree(t,l);return new ga(h)}}}function Vy(n,t,e){let i=n;return qo(e,(l,h)=>{i=Jm(i,Ti(t,l),h)}),i}function Tw(n,t){if(Dn(t))return ga.empty();{const e=n.writeTree_.setTree(t,new ur(null));return new ga(e)}}function Xm(n,t){return null!=Fd(n,t)}function Fd(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ls(e.path,t)):null}function $a(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(lr,(i,l)=>{t.push(new Zn(i,l))}):n.writeTree_.children.inorderTraversal((i,l)=>{null!=l.value&&t.push(new Zn(i,l.value))}),t}function Bh(n,t){if(Dn(t))return n;{const e=Fd(n,t);return new ga(null!=e?new ur(e):n.writeTree_.subtree(t))}}function Hy(n){return n.writeTree_.isEmpty()}function ys(n,t){return cu(jn(),n.writeTree_,t)}function cu(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((l,h)=>{".priority"===l?((0,ie.hu)(null!==h.value,"Priority writes must always be leaf nodes"),i=h.value):e=cu(Ti(n,l),h,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ti(n,".priority"),i)),e}}function Ya(n,t){return $y(t,n)}function Aw(n,t){if(n.snap)return fa(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&fa(Ti(n.path,e),t))return!0;return!1}function Rw(n){return n.visible}function kd(n,t,e){let i=ga.empty();for(let l=0;l<n.length;++l){const h=n[l];if(t(h)){const m=h.path;let v;if(h.snap)fa(e,m)?(v=Ls(e,m),i=Jm(i,v,h.snap)):fa(m,e)&&(v=Ls(m,e),i=Jm(i,jn(),h.snap.getChild(v)));else{if(!h.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(fa(e,m))v=Ls(e,m),i=Vy(i,v,h.children);else if(fa(m,e))if(v=Ls(m,e),Dn(v))i=Vy(i,jn(),h.children);else{const E=(0,ie.DV)(h.children,Rn(v));if(E){const T=E.getChild(Di(v));i=Jm(i,jn(),T)}}}}}return i}function O0(n,t,e,i,l){if(i||l){const h=Bh(n.visibleWrites,t);return!l&&Hy(h)?e:l||null!=e||Xm(h,jn())?ys(kd(n.allWrites,function(T){return(T.visible||l)&&(!i||!~i.indexOf(T.writeId))&&(fa(T.path,t)||fa(t,T.path))},t),e||wn.EMPTY_NODE):null}{const h=Fd(n.visibleWrites,t);if(null!=h)return h;{const m=Bh(n.visibleWrites,t);return Hy(m)?e:null!=e||Xm(m,jn())?ys(m,e||wn.EMPTY_NODE):null}}}function Tg(n,t,e,i){return O0(n.writeTree,n.treePath,t,e,i)}function e_(n,t){return function(n,t,e){let i=wn.EMPTY_NODE;const l=Fd(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(lr,(h,m)=>{i=i.updateImmediateChild(h,m)}),i;if(e){const h=Bh(n.visibleWrites,t);return e.forEachChild(lr,(m,v)=>{const E=ys(Bh(h,new Wn(m)),v);i=i.updateImmediateChild(m,E)}),$a(h).forEach(m=>{i=i.updateImmediateChild(m.name,m.node)}),i}return $a(Bh(n.visibleWrites,t)).forEach(m=>{i=i.updateImmediateChild(m.name,m.node)}),i}(n.writeTree,n.treePath,t)}function jy(n,t,e,i){return function(n,t,e,i,l){(0,ie.hu)(i||l,"Either existingEventSnap or existingServerSnap must exist");const h=Ti(t,e);if(Xm(n.visibleWrites,h))return null;{const m=Bh(n.visibleWrites,h);return Hy(m)?l.getChild(e):ys(m,l.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Vh(n,t){return function(n,t){return Fd(n.visibleWrites,t)}(n.writeTree,Ti(n.treePath,t))}function zy(n,t,e){return function(n,t,e,i){const l=Ti(t,e),h=Fd(n.visibleWrites,l);return null!=h?h:i.isCompleteForChild(e)?ys(Bh(n.visibleWrites,l),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Hh(n,t){return $y(Ti(n.treePath,t),n.writeTree)}function $y(n,t){return{treePath:n,writeTree:t}}class F0{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ie.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(i);if(l){const h=l.type;if("child_added"===e&&"child_removed"===h)this.changeMap.set(i,Xp(i,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===h)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===h)this.changeMap.set(i,zu(i,l.oldSnap));else if("child_changed"===e&&"child_added"===h)this.changeMap.set(i,Jp(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==h)throw(0,ie.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(i,Xp(i,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Yy=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class t_{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Lh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zy(this.writes_,t,i)}}getChildAfterChild(t,e,i){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gh(this.viewCache_),h=function(n,t,e,i,l,h){return function(n,t,e,i,l,h,m){let v;const E=Bh(n.visibleWrites,t),T=Fd(E,jn());if(null!=T)v=T;else{if(null==e)return[];v=ys(E,e)}if(v=v.withIndex(m),v.isEmpty()||v.isLeafNode())return[];{const M=[],F=m.getCompare(),V=h?v.getReverseIteratorFrom(i,m):v.getIteratorFrom(i,m);let K=V.getNext();for(;K&&M.length<l;)0!==F(K,i)&&M.push(K),K=V.getNext();return M}}(n.writeTree,n.treePath,t,e,i,l,h)}(this.writes_,l,e,1,i,t);return 0===h.length?null:h[0]}}function d(n,t,e,i,l,h){const m=t.eventCache;if(null!=Vh(i,e))return t;{let v,E;if(Dn(e))if((0,ie.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const T=Gh(t),F=e_(i,T instanceof wn?T:wn.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),F,h)}else{const T=Tg(i,Gh(t));v=n.filter.updateFullNode(t.eventCache.getNode(),T,h)}else{const T=Rn(e);if(".priority"===T){(0,ie.hu)(1===El(e),"Can't have a priority with additional path components");const M=m.getNode();E=t.serverCache.getNode();const F=jy(i,e,M,E);v=null!=F?n.filter.updatePriority(M,F):m.getNode()}else{const M=Di(e);let F;if(m.isCompleteForChild(T)){E=t.serverCache.getNode();const V=jy(i,e,m.getNode(),E);F=null!=V?m.getNode().getImmediateChild(T).updateChild(M,V):m.getNode().getImmediateChild(T)}else F=zy(i,T,t.serverCache);v=null!=F?n.filter.updateChild(m.getNode(),T,F,M,l,h):m.getNode()}}return Yr(t,v,m.isFullyInitialized()||Dn(e),n.filter.filtersNodes())}}function o(n,t,e,i,l,h,m,v){const E=t.serverCache;let T;const M=m?n.filter:n.filter.getIndexedFilter();if(Dn(e))T=M.updateFullNode(E.getNode(),i,null);else if(M.filtersNodes()&&!E.isFiltered()){const K=E.getNode().updateChild(e,i);T=M.updateFullNode(E.getNode(),K,null)}else{const K=Rn(e);if(!E.isCompleteForPath(e)&&El(e)>1)return t;const re=Di(e),Pe=E.getNode().getImmediateChild(K).updateChild(re,i);T=".priority"===K?M.updatePriority(E.getNode(),Pe):M.updateChild(E.getNode(),K,Pe,re,Yy,null)}const F=uu(t,T,E.isFullyInitialized()||Dn(e),M.filtersNodes());return d(n,F,e,l,new t_(l,F,h),v)}function r(n,t,e,i,l,h,m){const v=t.eventCache;let E,T;const M=new t_(l,t,h);if(Dn(e))T=n.filter.updateFullNode(t.eventCache.getNode(),i,m),E=Yr(t,T,!0,n.filter.filtersNodes());else{const F=Rn(e);if(".priority"===F)T=n.filter.updatePriority(t.eventCache.getNode(),i),E=Yr(t,T,v.isFullyInitialized(),v.isFiltered());else{const V=Di(e),K=v.getNode().getImmediateChild(F);let re;if(Dn(V))re=i;else{const me=M.getCompleteChild(F);re=null!=me?".priority"===xd(V)&&me.getChild(Yp(V)).isEmpty()?me:me.updateChild(V,i):wn.EMPTY_NODE}E=K.equals(re)?t:Yr(t,n.filter.updateChild(v.getNode(),F,re,V,M,m),v.isFullyInitialized(),n.filter.filtersNodes())}}return E}function s(n,t){return n.eventCache.isCompleteForChild(t)}function c(n,t,e){return e.foreach((i,l)=>{t=t.updateChild(i,l)}),t}function _(n,t,e,i,l,h,m,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let T,E=t;T=Dn(e)?i:new ur(null).setTree(e,i);const M=t.serverCache.getNode();return T.children.inorderTraversal((F,V)=>{if(M.hasChild(F)){const re=c(0,t.serverCache.getNode().getImmediateChild(F),V);E=o(n,E,new Wn(F),re,l,h,m,v)}}),T.children.inorderTraversal((F,V)=>{const K=!t.serverCache.isCompleteForChild(F)&&void 0===V.value;if(!M.hasChild(F)&&!K){const me=c(0,t.serverCache.getNode().getImmediateChild(F),V);E=o(n,E,new Wn(F),me,l,h,m,v)}}),E}class k{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,l=new ef(i.getIndex()),h=function(n){return n.loadsAllData()?new ef(n.getIndex()):n.hasLimit()?new b0(n):new tf(n)}(i);this.processor_=function(n){return{filter:n}}(h);const m=e.serverCache,v=e.eventCache,E=l.updateFullNode(wn.EMPTY_NODE,m.getNode(),null),T=h.updateFullNode(wn.EMPTY_NODE,v.getNode(),null),M=new Lh(E,m.isFullyInitialized(),l.filtersNodes()),F=new Lh(T,v.isFullyInitialized(),h.filtersNodes());this.viewCache_=By(F,M),this.eventGenerator_=new R0(this.query_)}get query(){return this.query_}}function le(n,t){const e=Gh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Dn(t)&&!e.getImmediateChild(Rn(t)).isEmpty())?e.getChild(t):null}function ce(n){return 0===n.eventRegistrations_.length}function He(n,t,e){const i=[];if(e){(0,ie.hu)(null==t,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(e,l);m&&i.push(m)})}if(t){let l=[];for(let h=0;h<n.eventRegistrations_.length;++h){const m=n.eventRegistrations_[h];if(m.matches(t)){if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(h+1));break}}else l.push(m)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return i}function ht(n,t,e,i){t.type===Sl.MERGE&&null!==t.source.queryId&&((0,ie.hu)(Gh(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(Qm(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,h=function(n,t,e,i,l){const h=new F0;let m,v;if(e.type===Sl.OVERWRITE){const T=e;T.source.fromUser?m=r(n,t,T.path,T.snap,i,l,h):((0,ie.hu)(T.source.fromServer,"Unknown source."),v=T.source.tagged||t.serverCache.isFiltered()&&!Dn(T.path),m=o(n,t,T.path,T.snap,i,l,v,h))}else if(e.type===Sl.MERGE){const T=e;T.source.fromUser?m=function(n,t,e,i,l,h,m){let v=t;return i.foreach((E,T)=>{const M=Ti(e,E);s(t,Rn(M))&&(v=r(n,v,M,T,l,h,m))}),i.foreach((E,T)=>{const M=Ti(e,E);s(t,Rn(M))||(v=r(n,v,M,T,l,h,m))}),v}(n,t,T.path,T.children,i,l,h):((0,ie.hu)(T.source.fromServer,"Unknown source."),v=T.source.tagged||t.serverCache.isFiltered(),m=_(n,t,T.path,T.children,i,l,v,h))}else if(e.type===Sl.ACK_USER_WRITE){const T=e;m=T.revert?function(n,t,e,i,l,h){let m;if(null!=Vh(i,e))return t;{const v=new t_(i,t,l),E=t.eventCache.getNode();let T;if(Dn(e)||".priority"===Rn(e)){let M;if(t.serverCache.isFullyInitialized())M=Tg(i,Gh(t));else{const F=t.serverCache.getNode();(0,ie.hu)(F instanceof wn,"serverChildren would be complete if leaf node"),M=e_(i,F)}M=M,T=n.filter.updateFullNode(E,M,h)}else{const M=Rn(e);let F=zy(i,M,t.serverCache);null==F&&t.serverCache.isCompleteForChild(M)&&(F=E.getImmediateChild(M)),T=null!=F?n.filter.updateChild(E,M,F,Di(e),v,h):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(E,M,wn.EMPTY_NODE,Di(e),v,h):E,T.isEmpty()&&t.serverCache.isFullyInitialized()&&(m=Tg(i,Gh(t)),m.isLeafNode()&&(T=n.filter.updateFullNode(T,m,h)))}return m=t.serverCache.isFullyInitialized()||null!=Vh(i,jn()),Yr(t,T,m,n.filter.filtersNodes())}}(n,t,T.path,i,l,h):function(n,t,e,i,l,h,m){if(null!=Vh(l,e))return t;const v=t.serverCache.isFiltered(),E=t.serverCache;if(null!=i.value){if(Dn(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return o(n,t,e,E.getNode().getChild(e),l,h,v,m);if(Dn(e)){let T=new ur(null);return E.getNode().forEachChild(Uc,(M,F)=>{T=T.set(new Wn(M),F)}),_(n,t,e,T,l,h,v,m)}return t}{let T=new ur(null);return i.foreach((M,F)=>{const V=Ti(e,M);E.isCompleteForPath(V)&&(T=T.set(M,E.getNode().getChild(V)))}),_(n,t,e,T,l,h,v,m)}}(n,t,T.path,T.affectedTree,i,l,h)}else{if(e.type!==Sl.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+e.type);m=function(n,t,e,i,l){const h=t.serverCache;return d(n,uu(t,h.getNode(),h.isFullyInitialized()||Dn(e),h.isFiltered()),e,i,Yy,l)}(n,t,e.path,i,h)}const E=h.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const l=i.getNode().isLeafNode()||i.getNode().isEmpty(),h=Qm(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!i.getNode().equals(h)||!i.getNode().getPriority().equals(h.getPriority()))&&e.push(Eg(Qm(t)))}}(t,m,E),{viewCache:m,changes:E}}(n.processor_,l,t,e,i);return function(n,t){(0,ie.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,h.viewCache),(0,ie.hu)(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=h.viewCache,Qe(n,h.changes,h.viewCache.eventCache.getNode(),null)}function Qe(n,t,e,i){return function(n,t,e,i){const l=[],h=[];return t.forEach(m=>{"child_changed"===m.type&&n.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(m.childName,m.snapshotNode))}),zi(n,l,"child_removed",t,i,e),zi(n,l,"child_added",t,i,e),zi(n,l,"child_moved",h,i,e),zi(n,l,"child_changed",t,i,e),zi(n,l,"value",t,i,e),l}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let _t,pn;class Zt{constructor(){this.views=new Map}}function ni(n,t,e,i){const l=t.source.queryId;if(null!==l){const h=n.views.get(l);return(0,ie.hu)(null!=h,"SyncTree gave us an op for an invalid query."),ht(h,t,e,i)}{let h=[];for(const m of n.views.values())h=h.concat(ht(m,t,e,i));return h}}function hi(n,t,e,i,l){const m=n.views.get(t._queryIdentifier);if(!m){let v=Tg(e,l?i:null),E=!1;v?E=!0:i instanceof wn?(v=e_(e,i),E=!1):(v=wn.EMPTY_NODE,E=!1);const T=By(new Lh(v,E,!1),new Lh(i,l,!1));return new k(t,T)}return m}function Yu(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function $i(n,t){let e=null;for(const i of n.views.values())e=e||le(i,t);return e}function xw(n,t){return t._queryParams.loadsAllData()?eA(n):n.views.get(t._queryIdentifier)}function Ag(n,t){return null!=xw(n,t)}function af(n){return null!=eA(n)}function eA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let hN=1;class Ow{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ur(null),this.pendingWriteTree_={visibleWrites:ga.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tA(n,t,e,i,l){return function(n,t,e,i,l){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:l}),l&&(n.visibleWrites=Jm(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,l),l?qy(n,new Dg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ld(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,ie.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let l=i.visible,h=!1,m=n.allWrites.length-1;for(;l&&m>=0;){const v=n.allWrites[m];v.visible&&(m>=e&&Aw(v,i.path)?l=!1:fa(i.path,v.path)&&(h=!0)),m--}return!!l&&(h?(function(n){n.visibleWrites=kd(n.allWrites,Rw,jn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Tw(n.visibleWrites,i.path):qo(i.children,E=>{n.visibleWrites=Tw(n.visibleWrites,Ti(i.path,E))}),!0))}(n.pendingWriteTree_,t)){let h=new ur(null);return null!=i.snap?h=h.set(jn(),!0):qo(i.children,m=>{h=h.set(new Wn(m),!0)}),qy(n,new Km(i.path,h,e))}return[]}function Tr(n,t,e){return qy(n,new Dg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function iA(n,t,e,i){const l=t._path,h=n.syncPointTree_.get(l);let m=[];if(h&&("default"===t._queryIdentifier||Ag(h,t))){const v=function(n,t,e,i){const l=t._queryIdentifier,h=[];let m=[];const v=af(n);if("default"===l)for(const[E,T]of n.views.entries())m=m.concat(He(T,e,i)),ce(T)&&(n.views.delete(E),T.query._queryParams.loadsAllData()||h.push(T.query));else{const E=n.views.get(l);E&&(m=m.concat(He(E,e,i)),ce(E)&&(n.views.delete(l),E.query._queryParams.loadsAllData()||h.push(E.query)))}return v&&!af(n)&&h.push(new((0,ie.hu)(_t,"Reference.ts has not been loaded"),_t)(t._repo,t._path)),{removed:h,events:m}}(h,t,e,i);(function(n){return 0===n.views.size})(h)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const E=v.removed;m=v.events;const T=-1!==E.findIndex(F=>F._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(l,(F,V)=>af(V));if(T&&!M){const F=n.syncPointTree_.subtree(l);if(!F.isEmpty()){const V=function(n){return n.fold((t,e,i)=>{if(e&&af(e))return[eA(e)];{let l=[];return e&&(l=Yu(e)),qo(i,(h,m)=>{l=l.concat(m)}),l}})}(F);for(let K=0;K<V.length;++K){const re=V[K],me=re.query,Pe=Ix(n,re);n.listenProvider_.startListening(Pw(me),G0(n,me),Pe.hashFn,Pe.onComplete)}}}if(!M&&E.length>0&&!i)if(T){const F=null;n.listenProvider_.stopListening(Pw(t),F)}else E.forEach(F=>{const V=n.queryToTagMap.get(B0(F));n.listenProvider_.stopListening(Pw(F),V)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const l=B0(i),h=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(h)}}}(n,E)}return m}function rA(n,t,e){const i=t._path;let l=null,h=!1;n.syncPointTree_.foreachOnPath(i,(F,V)=>{const K=Ls(F,i);l=l||$i(V,K),h=h||af(V)});let v,m=n.syncPointTree_.get(i);m?(h=h||af(m),l=l||$i(m,jn())):(m=new Zt,n.syncPointTree_=n.syncPointTree_.set(i,m)),null!=l?v=!0:(v=!1,l=wn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((V,K)=>{const re=$i(K,jn());re&&(l=l.updateImmediateChild(V,re))}));const E=Ag(m,t);if(!E&&!t._queryParams.loadsAllData()){const F=B0(t);(0,ie.hu)(!n.queryToTagMap.has(F),"View does not exist, but we have a tag");const V=hN++;n.queryToTagMap.set(F,V),n.tagToQueryMap.set(V,F)}let M=function(n,t,e,i,l,h){const m=hi(n,t,i,l,h);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,m),function(n,t){n.eventRegistrations_.push(t)}(m,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(lr,(h,m)=>{i.push(Jp(h,m))}),e.isFullyInitialized()&&i.push(Eg(e.getNode())),Qe(n,i,e.getNode(),t)}(m,e)}(m,t,e,Ya(n.pendingWriteTree_,i),l,v);if(!E&&!h){const F=xw(m,t);M=M.concat(function(n,t,e){const i=t._path,l=G0(n,t),h=Ix(n,e),m=n.listenProvider_.startListening(Pw(t),l,h.hashFn,h.onComplete),v=n.syncPointTree_.subtree(i);if(l)(0,ie.hu)(!af(v.value),"If we're adding a query, it shouldn't be shadowed");else{const E=v.fold((T,M,F)=>{if(!Dn(T)&&M&&af(M))return[eA(M).query];{let V=[];return M&&(V=V.concat(Yu(M).map(K=>K.query))),qo(F,(K,re)=>{V=V.concat(re)}),V}});for(let T=0;T<E.length;++T){const M=E[T];n.listenProvider_.stopListening(Pw(M),G0(n,M))}}return m}(n,t,F))}return M}function Mw(n,t,e){const l=n.pendingWriteTree_,h=n.syncPointTree_.findOnPath(t,(m,v)=>{const T=$i(v,Ls(m,t));if(T)return T});return O0(l,t,h,e,!0)}function qy(n,t){return Rx(t,n.syncPointTree_,null,Ya(n.pendingWriteTree_,jn()))}function Rx(n,t,e,i){if(Dn(n.path))return Zy(n,t,e,i);{const l=t.get(jn());null==e&&null!=l&&(e=$i(l,jn()));let h=[];const m=Rn(n.path),v=n.operationForChild(m),E=t.children.get(m);if(E&&v){const T=e?e.getImmediateChild(m):null,M=Hh(i,m);h=h.concat(Rx(v,E,T,M))}return l&&(h=h.concat(ni(l,n,i,e))),h}}function Zy(n,t,e,i){const l=t.get(jn());null==e&&null!=l&&(e=$i(l,jn()));let h=[];return t.children.inorderTraversal((m,v)=>{const E=e?e.getImmediateChild(m):null,T=Hh(i,m),M=n.operationForChild(m);M&&(h=h.concat(Zy(M,v,E,T)))}),l&&(h=h.concat(ni(l,n,i,e))),h}function Ix(n,t){const e=t.query,i=G0(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||wn.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return i?function(n,t,e){const i=Ky(n,e);if(i){const l=V0(i),h=l.path,m=l.queryId,v=Ls(h,t);return H0(n,h,new Sg(rf(m),v))}return[]}(n,e._path,i):function(n,t){return qy(n,new Sg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const h=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(l,e);return iA(n,e,null,h)}}}}function G0(n,t){const e=B0(t);return n.queryToTagMap.get(e)}function B0(n){return n._path.toString()+"$"+n._queryIdentifier}function Ky(n,t){return n.tagToQueryMap.get(t)}function V0(n){const t=n.indexOf("$");return(0,ie.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Wn(n.substr(0,t))}}function H0(n,t,e){const i=n.syncPointTree_.get(t);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),ni(i,e,Ya(n.pendingWriteTree_,t),null)}function Pw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,ie.hu)(pn,"Reference.ts has not been loaded"),pn)(n._repo,n._path):n}class oA{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new oA(e)}node(){return this.node_}}class sA{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ti(this.path_,t);return new sA(this.syncTree_,e)}node(){return Mw(this.syncTree_,this.path_)}}const aA=function(n,t,e){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Mx(n[".sv"],t,e):"object"==typeof n[".sv"]?gN(n[".sv"],t):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Mx=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,ie.hu)(!1,"Unexpected server value: "+n)}},gN=function(n,t,e){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const l=t.node();if((0,ie.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return i;const m=l.getValue();return"number"!=typeof m?i:m+i},lA=function(n,t,e,i){return cA(t,new sA(e,n),i)},uA=function(n,t,e){return cA(n,new oA(t),e)};function cA(n,t,e){const i=n.getPriority().val(),l=aA(i,t.getImmediateChild(".priority"),e);let h;if(n.isLeafNode()){const m=n,v=aA(m.getValue(),t,e);return v!==m.getValue()||l!==m.getPriority().val()?new Mh(v,Dr(l)):n}{const m=n;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new Mh(l))),m.forEachChild(lr,(v,E)=>{const T=cA(E,t.getImmediateChild(v),e);T!==E&&(h=h.updateImmediateChild(v,T))}),h}}class Px{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function dA(n,t){let e=t instanceof Wn?t:new Wn(t),i=n,l=Rn(e);for(;null!==l;){const h=(0,ie.DV)(i.node.children,l)||{children:{},childCount:0};i=new Px(l,i,h),e=Di(e),l=Rn(e)}return i}function Qy(n){return n.node.value}function Nx(n,t){n.node.value=t,pA(n)}function hA(n){return n.node.childCount>0}function W0(n,t){qo(n.node.children,(e,i)=>{t(new Px(e,n,i))})}function Fx(n,t,e,i){e&&!i&&t(n),W0(n,l=>{Fx(l,t,!0,i)}),e&&i&&t(n)}function lf(n){return new Wn(null===n.parent?n.name:lf(n.parent)+"/"+n.name)}function pA(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===Qy(n)&&!hA(n)}(e),l=(0,ie.r3)(n.node.children,t);i&&l?(delete n.node.children[t],n.node.childCount--,pA(n)):!i&&!l&&(n.node.children[t]=e.node,n.node.childCount++,pA(n))}(n.parent,n.name,n)}const _N=/[\[\].#$\/\u0000-\u001F\u007F]/,yN=/[\[\].#$\u0000-\u001F\u007F]/,fA=10485760,kw=function(n){return"string"==typeof n&&0!==n.length&&!_N.test(n)},Lx=function(n){return"string"==typeof n&&0!==n.length&&!yN.test(n)},Uh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!wy(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},Wh=function(n,t,e,i){i&&void 0===t||Jy((0,ie.gK)(n,"value"),t,e)},Jy=function(n,t,e){const i=e instanceof Wn?new f0(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ih(i));if("function"==typeof t)throw new Error(n+"contains a function "+Ih(i)+" with contents = "+t.toString());if(wy(t))throw new Error(n+"contains "+t.toString()+" "+Ih(i));if("string"==typeof t&&t.length>fA/3&&(0,ie.ug)(t)>fA)throw new Error(n+"contains a string greater than "+fA+" utf8 bytes "+Ih(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,h=!1;if(qo(t,(m,v)=>{if(".value"===m)l=!0;else if(".priority"!==m&&".sv"!==m&&(h=!0,!kw(m)))throw new Error(n+" contains an invalid key ("+m+") "+Ih(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ie.ug)(t),Ay(n)})(i,m),Jy(n,v,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,ie.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),l&&h)throw new Error(n+' contains ".value" child '+Ih(i)+" in addition to actual children.")}},gA=function(n,t,e,i){if(i&&void 0===t)return;const l=(0,ie.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const h=[];qo(t,(m,v)=>{const E=new Wn(m);if(Jy(l,v,Ti(e,E)),".priority"===xd(E)&&!Uh(v))throw new Error(l+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(E)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const h=ju(i);for(let m=0;m<h.length;m++)if((".priority"!==h[m]||m!==h.length-1)&&!kw(h[m]))throw new Error(n+"contains an invalid key ("+h[m]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Vm);let l=null;for(e=0;e<t.length;e++){if(i=t[e],null!==l&&fa(l,i))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+i.toString());l=i}}(l,h)},mA=function(n,t,e){if(!e||void 0!==t){if(wy(t))throw new Error((0,ie.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Uh(t))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xy=function(n,t,e,i){if(!(i&&void 0===e||kw(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lw=function(n,t,e,i){if(!(i&&void 0===e||Lx(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zc=function(n,t){if(".info"===Rn(t))throw new Error(n+" failed = Can't modify data under /.info/")},yA=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!kw(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Lx(n)}(e))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function j0(n,t){let e=null;for(let i=0;i<t.length;i++){const l=t[i],h=l.getPath();null!==e&&!Dy(h,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:h}),e.events.push(l)}e&&n.eventLists_.push(e)}function vA(n,t,e){j0(n,e),z0(n,i=>Dy(i,t))}function $c(n,t,e){j0(n,e),z0(n,i=>fa(i,t)||fa(t,i))}function z0(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const l=n.eventLists_[i];l&&(t(l.path)?(wN(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function wN(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Eh&&Ro("event: "+e.toString()),Ah(i)}}}const CA="repo_interrupt";class EN{constructor(t,e,i,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fh(),this.transactionQueueTree_=new Px,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bx(n){const e=n.infoData_.getNode(new Wn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Bx(n)})}function Vx(n,t,e,i,l){n.dataUpdateCount++;const h=new Wn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let m=[];if(l)if(i){const E=(0,ie.UI)(e,T=>Dr(T));m=function(n,t,e,i){const l=Ky(n,i);if(l){const h=V0(l),m=h.path,v=h.queryId,E=Ls(m,t),T=ur.fromObject(e);return H0(n,m,new Nd(rf(v),E,T))}return[]}(n.serverSyncTree_,h,E,l)}else{const E=Dr(e);m=function(n,t,e,i){const l=Ky(n,i);if(null!=l){const h=V0(l),m=h.path,v=h.queryId,E=Ls(m,t);return H0(n,m,new Dg(rf(v),E,e))}return[]}(n.serverSyncTree_,h,E,l)}else if(i){const E=(0,ie.UI)(e,T=>Dr(T));m=function(n,t,e){const i=ur.fromObject(e);return qy(n,new Nd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,h,E)}else{const E=Dr(e);m=Tr(n.serverSyncTree_,h,E)}let v=h;m.length>0&&(v=i_(n,h)),$c(n.eventQueue_,v,m)}function Hx(n,t){$0(n,"connected",t),!1===t&&function(n){Rg(n,"onDisconnectEvents");const t=Gw(n),e=Fh();nf(n.onDisconnect_,jn(),(l,h)=>{const m=lA(l,h,n.serverSyncTree_,t);kh(e,l,m)});let i=[];nf(e,jn(),(l,h)=>{i=i.concat(Tr(n.serverSyncTree_,l,h));const m=tv(n,l);i_(n,m)}),n.onDisconnect_=Fh(),$c(n.eventQueue_,jn(),i)}(n)}function $0(n,t,e){const i=new Wn("/.info/"+t),l=Dr(e);n.infoData_.updateSnapshot(i,l);const h=Tr(n.infoSyncTree_,i,l);$c(n.eventQueue_,i,h)}function Bw(n){return n.nextWriteId_++}function wA(n,t,e,i,l){Rg(n,"set",{path:t.toString(),value:e,priority:i});const h=Gw(n),m=Dr(e,i),v=Mw(n.serverSyncTree_,t),E=uA(m,v,h),T=Bw(n),M=tA(n.serverSyncTree_,t,E,T,!0);j0(n.eventQueue_,M),n.server_.put(t.toString(),m.val(!0),(V,K)=>{const re="ok"===V;re||Vr("set at "+t+" failed: "+V);const me=Ld(n.serverSyncTree_,T,!re);$c(n.eventQueue_,t,me),Ig(0,l,V,K)});const F=tv(n,t);i_(n,F),$c(n.eventQueue_,F,[])}function TN(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,l)=>{"ok"===i&&Ny(n.onDisconnect_,t),Ig(0,e,i,l)})}function jx(n,t,e,i){const l=Dr(e);n.server_.onDisconnectPut(t.toString(),l.val(!0),(h,m)=>{"ok"===h&&kh(n.onDisconnect_,t,l),Ig(0,i,h,m)})}function Vw(n,t,e){let i;i=".info"===Rn(t._path)?iA(n.infoSyncTree_,t,e):iA(n.serverSyncTree_,t,e),vA(n.eventQueue_,t._path,i)}function $x(n){n.persistentConnection_&&n.persistentConnection_.interrupt(CA)}function Rg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ro(e,...t)}function Ig(n,t,e,i){t&&Ah(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let h=l;i&&(h+=": "+i);const m=new Error(h);m.code=l,t(m)}})}function DA(n,t,e){return Mw(n.serverSyncTree_,t,e)||wn.EMPTY_NODE}function Hw(n,t=n.transactionQueueTree_){if(t||ev(n,t),Qy(t)){const e=r_(n,t);(0,ie.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function(n,t,e){const i=e.map(T=>T.currentWriteId),l=DA(n,t,i);let h=l;const m=l.hash();for(let T=0;T<e.length;T++){const M=e[T];(0,ie.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const F=Ls(t,M.path);h=h.updateChild(F,M.currentOutputSnapshotRaw)}const v=h.val(!0),E=t;n.server_.put(E.toString(),v,T=>{Rg(n,"transaction put response",{path:E.toString(),status:T});let M=[];if("ok"===T){const F=[];for(let V=0;V<e.length;V++)e[V].status=2,M=M.concat(Ld(n.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&F.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();ev(n,dA(n.transactionQueueTree_,t)),Hw(n,n.transactionQueueTree_),$c(n.eventQueue_,t,M);for(let V=0;V<F.length;V++)Ah(F[V])}else{if("datastale"===T)for(let F=0;F<e.length;F++)e[F].status=3===e[F].status?4:0;else{Vr("transaction at "+E.toString()+" failed: "+T);for(let F=0;F<e.length;F++)e[F].status=4,e[F].abortReason=T}i_(n,t)}},m)}(n,lf(t),e)}else hA(t)&&W0(t,e=>{Hw(n,e)})}function i_(n,t){const e=Zx(n,t),i=lf(e);return function(n,t,e){if(0===t.length)return;const i=[];let l=[];const m=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const E=t[v],T=Ls(e,E.path);let F,M=!1;if((0,ie.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)M=!0,F=E.abortReason,l=l.concat(Ld(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)M=!0,F="maxretry",l=l.concat(Ld(n.serverSyncTree_,E.currentWriteId,!0));else{const V=DA(n,E.path,m);E.currentInputSnapshot=V;const K=t[v].update(V.val());if(void 0!==K){Jy("transaction failed: Data returned ",K,E.path);let re=Dr(K);"object"==typeof K&&null!=K&&(0,ie.r3)(K,".priority")||(re=re.updatePriority(V.getPriority()));const Pe=E.currentWriteId,Je=Gw(n),gt=uA(re,V,Je);E.currentOutputSnapshotRaw=re,E.currentOutputSnapshotResolved=gt,E.currentWriteId=Bw(n),m.splice(m.indexOf(Pe),1),l=l.concat(tA(n.serverSyncTree_,E.path,gt,E.currentWriteId,E.applyLocally)),l=l.concat(Ld(n.serverSyncTree_,Pe,!0))}else M=!0,F="nodata",l=l.concat(Ld(n.serverSyncTree_,E.currentWriteId,!0))}$c(n.eventQueue_,e,l),l=[],M&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&i.push("nodata"===F?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(F),!1,null)))}ev(n,n.transactionQueueTree_);for(let v=0;v<i.length;v++)Ah(i[v]);Hw(n,n.transactionQueueTree_)}(n,r_(n,e),i),i}function Zx(n,t){let e,i=n.transactionQueueTree_;for(e=Rn(t);null!==e&&void 0===Qy(i);)i=dA(i,e),e=Rn(t=Di(t));return i}function r_(n,t){const e=[];return RN(n,t,e),e.sort((i,l)=>i.order-l.order),e}function RN(n,t,e){const i=Qy(t);if(i)for(let l=0;l<i.length;l++)e.push(i[l]);W0(t,l=>{RN(n,l,e)})}function ev(n,t){const e=Qy(t);if(e){let i=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[i]=e[l],i++);e.length=i,Nx(t,e.length>0?e:void 0)}W0(t,i=>{ev(n,i)})}function tv(n,t){const e=lf(Zx(n,t)),i=dA(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,l=>{TA(n,l)}),TA(n,i),Fx(i,l=>{TA(n,l)}),e}function TA(n,t){const e=Qy(t);if(e){const i=[];let l=[],h=-1;for(let m=0;m<e.length;m++)3===e[m].status||(1===e[m].status?((0,ie.hu)(h===m-1,"All SENT items should be at beginning of queue."),h=m,e[m].status=3,e[m].abortReason="set"):((0,ie.hu)(0===e[m].status,"Unexpected transaction status in abort"),e[m].unwatcher(),l=l.concat(Ld(n.serverSyncTree_,e[m].currentWriteId,!0)),e[m].onComplete&&i.push(e[m].onComplete.bind(null,new Error("set"),!1,null))));-1===h?Nx(t,void 0):e.length=h+1,$c(n.eventQueue_,lf(t),l);for(let m=0;m<i.length;m++)Ah(i[m])}}const Kx=function(n,t){const e=xN(n),i=e.namespace;return"firebase.com"===e.domain&&Bc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Bc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Up(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Wn(e.pathString)}},xN=function(n){let t="",e="",i="",l="",h="",m=!0,v="https",E=443;if("string"==typeof n){let T=n.indexOf("//");T>=0&&(v=n.substring(0,T-1),n=n.substring(T+2));let M=n.indexOf("/");-1===M&&(M=n.length);let F=n.indexOf("?");-1===F&&(F=n.length),t=n.substring(0,Math.min(M,F)),M<F&&(l=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let l=e[i];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(h){}t+="/"+l}return t}(n.substring(M,F)));const V=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Vr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,F)));T=t.indexOf(":"),T>=0?(m="https"===v||"wss"===v,E=parseInt(t.substring(T+1),10)):T=t.length;const K=t.slice(0,T);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const re=t.indexOf(".");i=t.substring(0,re).toLowerCase(),e=t.substring(re+1),h=i}"ns"in V&&(h=V.ns)}return{host:t,port:E,domain:e,subdomain:i,secure:m,scheme:v,pathString:l,namespace:h}};class Gd{constructor(t,e,i,l){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Pz)(this.snapshot.exportVal())}}class AA{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ON{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Uw{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ie.BH;return TN(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){zc("OnDisconnect.remove",this._path);const t=new ie.BH;return jx(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){zc("OnDisconnect.set",this._path),Wh("OnDisconnect.set",t,this._path,!1);const e=new ie.BH;return jx(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){zc("OnDisconnect.setWithPriority",this._path),Wh("OnDisconnect.setWithPriority",t,this._path,!1),mA("OnDisconnect.setWithPriority",e,!1);const i=new ie.BH;return function(n,t,e,i,l){const h=Dr(e,i);n.server_.onDisconnectPut(t.toString(),h.val(!0),(m,v)=>{"ok"===m&&kh(n.onDisconnect_,t,h),Ig(0,l,m,v)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){zc("OnDisconnect.update",this._path),gA("OnDisconnect.update",t,this._path,!1);const e=new ie.BH;return function(n,t,e,i){if((0,ie.xb)(e))return Ro("onDisconnect().update() called with empty data.  Don't do anything."),void Ig(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(l,h)=>{"ok"===l&&qo(e,(m,v)=>{const E=Dr(v);kh(n.onDisconnect_,Ti(t,m),E)}),Ig(0,i,l,h)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class du{constructor(t,e,i,l){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=l}get key(){return Dn(this._path)?null:xd(this._path)}get ref(){return new Yc(this._repo,this._path)}get _queryIdentifier(){const t=Py(this._queryParams),e=ou(t);return"{}"===e?"default":e}get _queryObject(){return Py(this._queryParams)}isEqual(t){if(!((t=(0,ie.m9)(t))instanceof du))return!1;const e=this._repo===t._repo,i=Dy(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Y0(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function o_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Uc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Vc)throw new Error(i);if("string"!=typeof t)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==ru)throw new Error(i);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===lr){if(null!=t&&!Uh(t)||null!=e&&!Uh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof bg||n.getIndex()===vw,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function q0(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yc extends du{constructor(t,e){super(t,e,new ww,!1)}get parent(){const t=Yp(this._path);return null===t?null:new Yc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class s_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Wn(t),i=uf(this.ref,t);return new s_(this._node.getChild(e),i,lr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,l)=>t(new s_(l,uf(this.ref,i),lr)))}hasChild(t){const e=new Wn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Z0(n,t){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==t?uf(n._root,t):n._root}function RA(n,t){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const e=Kx(t,n._repo.repoInfo_.nodeAdmin);yA("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Bc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Z0(n,e.path.toString())}function uf(n,t){return null===Rn((n=(0,ie.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lw("child","path",e,!1)):Lw("child","path",t,!1),new Yc(n._repo,Ti(n._path,t));var e}function IA(n,t){n=(0,ie.m9)(n),zc("set",n._path),Wh("set",t,n._path,!1);const e=new ie.BH;return wA(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Qx(n,t){gA("update",t,n._path,!1);const e=new ie.BH;return function(n,t,e,i){Rg(n,"update",{path:t.toString(),value:e});let l=!0;const h=Gw(n),m={};if(qo(e,(v,E)=>{l=!1,m[v]=lA(Ti(t,v),Dr(E),n.serverSyncTree_,h)}),l)Ro("update() called with empty data.  Don't do anything."),Ig(0,i,"ok",void 0);else{const v=Bw(n),E=function(n,t,e,i){!function(n,t,e,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Vy(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const l=ur.fromObject(e);return qy(n,new Nd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(n.serverSyncTree_,t,m,v);j0(n.eventQueue_,E),n.server_.merge(t.toString(),e,(T,M)=>{const F="ok"===T;F||Vr("update at "+t+" failed: "+T);const V=Ld(n.serverSyncTree_,v,!F),K=V.length>0?i_(n,t):t;$c(n.eventQueue_,K,V),Ig(0,i,T,M)}),qo(e,T=>{const M=tv(n,Ti(t,T));i_(n,M)}),$c(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Jx(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(T,M)=>{const F=Ls(T,e);i=i||$i(M,F)});let l=n.syncPointTree_.get(e);l?i=i||$i(l,jn()):(l=new Zt,n.syncPointTree_=n.syncPointTree_.set(e,l));const h=null!=i,m=h?new Lh(i,!0,!1):null;return function(n){return Qm(n.viewCache_)}(hi(l,t,Ya(n.pendingWriteTree_,t._path),h?m.getNode():wn.EMPTY_NODE,h))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const l=Dr(i).withIndex(t._queryParams.getIndex()),h=Tr(n.serverSyncTree_,t._path,l);return vA(n.eventQueue_,t._path,h),Promise.resolve(l)},i=>(Rg(n,"get for query "+(0,ie.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,ie.m9)(n))._repo,n).then(t=>new s_(t,new Yc(n._repo,n._path),n._queryParams.getIndex()))}class Ww{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Gd("value",this,new s_(t.snapshotNode,new Yc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new AA(this,t,e):null}matches(t){return t instanceof Ww&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class K0{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new AA(this,t,e):null}createEvent(t,e){(0,ie.hu)(null!=t.childName,"Child events should have a childName.");const i=uf(new Yc(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new Gd(t.type,this,new s_(t.snapshotNode,i,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof K0&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function jw(n,t,e,i,l){let h;if("object"==typeof i&&(h=void 0,l=i),"function"==typeof i&&(h=i),l&&l.onlyOnce){const E=e,T=(M,F)=>{Vw(n._repo,n,v),E(M,F)};T.userCallback=e.userCallback,T.context=e.context,e=T}const m=new ON(e,h||void 0),v="value"===t?new Ww(m):new K0(t,m);return function(n,t,e){let i;i=".info"===Rn(t._path)?rA(n.infoSyncTree_,t,e):rA(n.serverSyncTree_,t,e),vA(n.eventQueue_,t._path,i)}(n._repo,n,v),()=>Vw(n._repo,n,v)}function Q0(n,t,e,i){return jw(n,"value",t,e,i)}function zw(n,t,e,i){return jw(n,"child_added",t,e,i)}function Xx(n,t,e,i){return jw(n,"child_changed",t,e,i)}function xA(n,t,e,i){return jw(n,"child_moved",t,e,i)}function $w(n,t,e,i){return jw(n,"child_removed",t,e,i)}function Yw(n,t,e){let i=null;const l=e?new ON(e):null;"value"===t?i=new Ww(l):t&&(i=new K0(t,l)),Vw(n._repo,n,i)}class Dl{}class eO extends Dl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wh("endAt",this._value,t._path,!0);const e=Ym(t._queryParams,this._value,this._key);if(q0(e),o_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new du(t._repo,t._path,e,t._orderByCalled)}}class BH extends Dl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wh("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,l;return n.index_===Uc?("string"==typeof t&&(t=My(t)),l=Ym(n,t,e)):(i=null==e?Vc:My(e),l=Ym(n,t,i)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(q0(e),o_(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new du(t._repo,t._path,e,t._orderByCalled)}}class tO extends Dl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wh("startAt",this._value,t._path,!0);const e=$m(t._queryParams,this._value,this._key);if(q0(e),o_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new du(t._repo,t._path,e,t._orderByCalled)}}class BN extends Dl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wh("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===Uc)"string"==typeof t&&(t=w0(t)),i=$m(n,t,e);else{let l;l=null==e?ru:w0(e),i=$m(n,t,l)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(q0(e),o_(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new du(t._repo,t._path,e,t._orderByCalled)}}class HN extends Dl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new du(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class WN extends Dl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new du(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class VH extends Dl{constructor(t){super(),this._path=t}_apply(t){Y0(t,"orderByChild");const e=new Wn(this._path);if(Dn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new bg(e),l=Nh(t._queryParams,i);return o_(l),new du(t._repo,t._path,l,!0)}}class qw extends Dl{_apply(t){Y0(t,"orderByKey");const e=Nh(t._queryParams,Uc);return o_(e),new du(t._repo,t._path,e,!0)}}class YN extends Dl{_apply(t){Y0(t,"orderByPriority");const e=Nh(t._queryParams,lr);return o_(e),new du(t._repo,t._path,e,!0)}}class J0 extends Dl{_apply(t){Y0(t,"orderByValue");const e=Nh(t._queryParams,vw);return o_(e),new du(t._repo,t._path,e,!0)}}class nO extends Dl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Wh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new eO(this._value,this._key)._apply(new tO(this._value,this._key)._apply(t))}}function jh(n,...t){let e=(0,ie.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,ie.hu)(!_t,"__referenceConstructor has already been defined"),_t=n})(Yc),function(n){(0,ie.hu)(!pn,"__referenceConstructor has already been defined"),pn=n}(Yc);const iv={};function OA(n,t,e,i,l){let h=i||n.options.databaseURL;void 0===h&&(n.options.projectId||Bc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ro("Using default host for project ",n.options.projectId),h=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,T,m=Kx(h,l),v=m.repoInfo;"undefined"!=typeof process&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(E=!0,h=`http://${T}?ns=${v.namespace}`,m=Kx(h,l),v=m.repoInfo):E=!m.repoInfo.secure;const M=l&&E?new Id(Id.OWNER):new Rd(n.name,n.options,t);yA("Invalid Firebase Database URL",m),Dn(m.path)||Bc("Database URL must point to the root of a Firebase Database (not including a child path).");const F=function(n,t,e,i){let l=iv[t.name];l||(l={},iv[t.name]=l);let h=l[n.toURLString()];return h&&Bc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new EN(n,false,e,i),l[n.toURLString()]=h,h}(v,n,M,new ET(n.name,e));return new sO(F,n)}class sO{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=fg(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new qm(n.repoInfo_,(i,l,h,m)=>{Vx(n,i,l,h,m)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Hx(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Zp(n.repoInfo_,t,(i,l,h,m)=>{Vx(n,i,l,h,m)},i=>{Hx(n,i)},i=>{!function(n,t){qo(t,(e,i)=>{$0(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return sw[e]||(sw[e]=t()),sw[e]}(n.repoInfo_,()=>new Sw(n.stats_,n.server_)),n.infoData_=new T0,n.infoSyncTree_=new Ow({startListening:(i,l,h,m)=>{let v=[];const E=n.infoData_.getNode(i._path);return E.isEmpty()||(v=Tr(n.infoSyncTree_,i._path,E),setTimeout(()=>{m("ok")},0)),v},stopListening:()=>{}}),$0(n,"connected",!1),n.serverSyncTree_=new Ow({startListening:(i,l,h,m)=>(n.server_.listen(i,h,l,(v,E)=>{const T=m(v,E);$c(n.eventQueue_,i._path,T)}),[]),stopListening:(i,l)=>{n.server_.unlisten(i,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yc(this._repo,jn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=iv[t];(!e||e[n.key]!==n)&&Bc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),$x(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Bc("Cannot call "+t+" on a deleted database.")}}function lO(n,t){Ad(n,t)}class Yi{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Zp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Zp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},xm(Lu.SDK_VERSION),(0,Lu._registerComponent)(new Sd.wA("database",(t,{instanceIdentifier:e})=>OA(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Lu.registerVersion)(QC,"0.12.3",void 0),(0,Lu.registerVersion)(QC,"0.12.3","esm2017");const qc=new Gu.Yd("@firebase/database-compat"),nS=function(n){qc.warn("FIREBASE WARNING: "+n)};class uO{constructor(t){this._delegate=t}cancel(t){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),l=>e(l)),i}setWithPriority(t,e,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const l=this._delegate.setWithPriority(t,e);return i&&l.then(()=>i(null),h=>i(h)),l}update(t,e){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let h=0;h<t.length;++h)l[""+h]=t[h];t=l,nS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),l=>e(l)),i}}class cO{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class u_{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Lw("DataSnapshot.child","path",t,!1),new u_(this._database,this._delegate.child(t))}hasChild(t){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Lw("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new u_(this._database,e)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new qu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ma{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,l){var h;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",e,!1);const m=ma.getCancelAndContextArgs_("Query.on",i,l),v=(T,M)=>{e.call(m.context,new u_(this.database,T),M)};v.userCallback=e,v.context=m.context;const E=null===(h=m.cancel)||void 0===h?void 0:h.bind(m.context);switch(t){case"value":return Q0(this._delegate,v,E),e;case"child_added":return zw(this._delegate,v,E),e;case"child_removed":return $w(this._delegate,v,E),e;case"child_changed":return Xx(this._delegate,v,E),e;case"child_moved":return xA(this._delegate,v,E),e;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ie.Wj)("Query.off","callback",e,!0),(0,ie.lb)("Query.off","context",i,!0),e){const l=()=>{};l.userCallback=e,l.context=i,Yw(this._delegate,t,l)}else Yw(this._delegate,t)}get(){return Jx(this._delegate).then(t=>new u_(this.database,t))}once(t,e,i,l){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",e,!0);const h=ma.getCancelAndContextArgs_("Query.once",i,l),m=new ie.BH,v=(T,M)=>{const F=new u_(this.database,T);e&&e.call(h.context,F,M),m.resolve(F)};v.userCallback=e,v.context=h.context;const E=T=>{h.cancel&&h.cancel.call(h.context,T),m.reject(T)};switch(t){case"value":Q0(this._delegate,v,E,{onlyOnce:!0});break;case"child_added":zw(this._delegate,v,E,{onlyOnce:!0});break;case"child_removed":$w(this._delegate,v,E,{onlyOnce:!0});break;case"child_changed":Xx(this._delegate,v,E,{onlyOnce:!0});break;case"child_moved":xA(this._delegate,v,E,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return m.promise}limitToFirst(t){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new ma(this.database,jh(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new HN(n)}(t)))}limitToLast(t){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new ma(this.database,jh(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new WN(n)}(t)))}orderByChild(t){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new ma(this.database,jh(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lw("orderByChild","path",n,!1),new VH(n)}(t)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new ma(this.database,jh(this._delegate,new qw))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new ma(this.database,jh(this._delegate,new YN))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new ma(this.database,jh(this._delegate,new J0))}startAt(t=null,e){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new ma(this.database,jh(this._delegate,function(n=null,t){return Xy("startAt","key",t,!0),new tO(n,t)}(t,e)))}startAfter(t=null,e){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new ma(this.database,jh(this._delegate,function(n,t){return Xy("startAfter","key",t,!0),new BN(n,t)}(t,e)))}endAt(t=null,e){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new ma(this.database,jh(this._delegate,function(n,t){return Xy("endAt","key",t,!0),new eO(n,t)}(t,e)))}endBefore(t=null,e){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new ma(this.database,jh(this._delegate,function(n,t){return Xy("endBefore","key",t,!0),new BH(n,t)}(t,e)))}equalTo(t,e){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new ma(this.database,jh(this._delegate,function(n,t){return Xy("equalTo","key",t,!0),new nO(n,t)}(t,e)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ma))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const l={cancel:void 0,context:void 0};if(e&&i)l.cancel=e,(0,ie.Wj)(t,"cancel",l.cancel,!0),l.context=i,(0,ie.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,ie.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new qu(this.database,new Yc(this._delegate._repo,this._delegate._path))}}class qu extends ma{constructor(t,e){super(t,new du(e._repo,e._path,new ww,!1)),this.database=t,this._delegate=e}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new qu(this.database,uf(this._delegate,t))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new qu(this.database,t):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new qu(this.database,this._delegate.root)}set(t,e){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",e,!0);const i=IA(this._delegate,t);return e&&i.then(()=>e(null),l=>e(l)),i}update(t,e){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let h=0;h<t.length;++h)l[""+h]=t[h];t=l,nS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zc("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",e,!0);const i=Qx(this._delegate,t);return e&&i.then(()=>e(null),l=>e(l)),i}setWithPriority(t,e,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const l=function(n,t,e){if(zc("setWithPriority",n._path),Wh("setWithPriority",t,n._path,!1),mA("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return wA(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&l.then(()=>i(null),h=>i(h)),l}remove(t){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return zc("remove",n._path),IA(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ie.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const l=function(n,t,e){var i;if(n=(0,ie.m9)(n),zc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,h=new ie.BH,v=Q0(n,()=>{});return function(n,t,e,i,l,h){Rg(n,"transaction on "+t);const m={path:t,update:e,onComplete:i,status:null,order:Uu(),applyLocally:h,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=DA(n,t,void 0);m.currentInputSnapshot=v;const E=m.update(v.val());if(void 0===E)m.unwatcher(),m.currentOutputSnapshotRaw=null,m.currentOutputSnapshotResolved=null,m.onComplete&&m.onComplete(null,!1,m.currentInputSnapshot);else{Jy("transaction failed: Data returned ",E,m.path),m.status=0;const T=dA(n.transactionQueueTree_,t),M=Qy(T)||[];let F;M.push(m),Nx(T,M),"object"==typeof E&&null!==E&&(0,ie.r3)(E,".priority")?(F=(0,ie.DV)(E,".priority"),(0,ie.hu)(Uh(F),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):F=(Mw(n.serverSyncTree_,t)||wn.EMPTY_NODE).getPriority().val();const V=Gw(n),K=Dr(E,F),re=uA(K,v,V);m.currentOutputSnapshotRaw=K,m.currentOutputSnapshotResolved=re,m.currentWriteId=Bw(n);const me=tA(n.serverSyncTree_,t,re,m.currentWriteId,m.applyLocally);$c(n.eventQueue_,t,me),Hw(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,T,M)=>{let F=null;E?h.reject(E):(F=new s_(M,new Yc(n._repo,n._path),lr),h.resolve(new Yi(T,F)))},v,l),h.promise}(this._delegate,t,{applyLocally:i}).then(h=>new cO(h.committed,new u_(this.database,h.snapshot)));return e&&l.then(h=>e(null,h.committed,h.snapshot),h=>e(h,!1,null)),l}setPriority(t,e){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,ie.m9)(n),zc("setPriority",n._path),mA("setPriority",t,!1);const e=new ie.BH;return wA(n._repo,Ti(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),l=>e(l)),i}push(t,e){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,ie.m9)(n),zc("push",n._path),Wh("push",t,n._path,!0);const e=Bx(n._repo),i=Cw(e),l=uf(n,i),h=uf(n,i);let m;return m=null!=t?IA(h,t).then(()=>h):Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}(this._delegate,t),l=i.then(m=>new qu(this.database,m));e&&l.then(()=>e(null),m=>e(m));const h=new qu(this.database,i);return h.then=l.then.bind(l),h.catch=l.catch.bind(l,void 0),h}onDisconnect(){return zc("Reference.onDisconnect",this._delegate._path),new uO(new Uw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class qa{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Bc("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let h;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Bc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Id(Id.OWNER);else if(i.mockUserToken){const m="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);h=new Id(m)}!function(n,t,e,i){n.repoInfo_=new Up(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(l,t,e,h)}(this._delegate,t,e,i)}ref(t){if((0,ie.Dv)("database.ref",0,1,arguments.length),t instanceof qu){const e=RA(this._delegate,t.toString());return new qu(this,e)}{const e=Z0(this._delegate,t);return new qu(this,e)}}refFromURL(t){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=RA(this._delegate,t);return new qu(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),$x(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(CA)}(n._repo)}(this._delegate)}}qa.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var Bd=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:l,nodeAdmin:h=!1}){xm(e);const m=new Sd.zt("auth-internal",new Sd.H0("database-standalone"));return m.setComponent(new Sd.wA("auth-internal",()=>i,"PRIVATE")),{instance:new qa(OA(n,m,void 0,t,h),n),namespace:l}}});const dO=qa.ServerValue;function c_(n){return null==n}function rv(n){return"function"==typeof n.set}function pO(n,t){return rv(t)?t:n.ref(t)}function Og(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(rv(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Qw(n,t,e="on",i=bh.z){return new ji.y(l=>{let h=null;return h=n[e](t,(m,v)=>{i.schedule(()=>{l.next({snapshot:m,prevKey:v})}),"once"===e&&i.schedule(()=>l.complete())},m=>{i.schedule(()=>l.error(m))}),"on"===e?{unsubscribe(){null!=h&&n.off(t,h)}}:{unsubscribe(){}}}).pipe((0,Ct.U)(l=>{const{snapshot:h,prevKey:m}=l;let v=null;return h.exists()&&(v=h.key),{type:t,payload:h,prevKey:m,key:v}}),(0,WC.B)())}function iS(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function NA(n,t){const{payload:e,prevKey:i,key:l}=t,h=iS(n,l),m=function(n,t){if(c_(t))return 0;{const e=iS(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(E=>{const T={payload:E,type:"value",prevKey:v,key:E.key};return v=E.key,n=[...n,T],!1})}return n;case"child_added":if(h>-1){const v=n[h-1];(v&&v.key||null)!==i&&(n=n.filter(E=>E.payload.key!==e.key)).splice(m,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(m,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===l?t:v);case"child_moved":if(h>-1){const v=n.splice(h,1)[0];return(n=n.slice()).splice(m,0,v),n}return n;default:return n}}function FA(n){return(c_(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function d_(n,t,e){return function(n,t,e){return Qw(n,"value","once",e).pipe(Pr(i=>{const l=[(0,It.of)(i)];return t.forEach(h=>l.push(Qw(n,h,"on",e))),(0,Nr.T)(...l).pipe(_s(NA,[]))}),Lc())}(n,t=FA(t),e)}function gO(n,t,e){const i=(t=FA(t)).map(l=>Qw(n,l,"on",e));return(0,Nr.T)(...i)}function kA(n,t){return function(i,l){return Og(i,{stringCase:()=>n.child(i)[t](l),firebaseCase:()=>i[t](l),snapshotCase:()=>i.ref[t](l)})}}function oS(n){return function(e){return e?Og(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function sS(n,t){return function(){return Qw(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new Sd.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new qa(l,i)},"PUBLIC").setServiceProps({Reference:qu,Query:ma,Database:qa,DataSnapshot:u_,enableLogging:lO,INTERNAL:Bd,ServerValue:dO}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.3")}(KC.Z);const zH=new a.OlP("angularfire2.realtimeDatabaseURL"),$H=new a.OlP("angularfire2.database.use-emulator");let _n=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M,F,V,K,re,me,Pe){this.schedulers=v;const Je=E,gt=(0,Ns.on)(e,m,i);T&&UC(gt,m,M,V,K,re,F,me),this.database=(0,Ns.cc)(`${gt.name}.database.${l}`,"AngularFireDatabase",gt.name,()=>{const Ut=m.runOutsideAngular(()=>gt.database(l||void 0));return Je&&Ut.useEmulator(...Je),Ut},[Je])}list(e,i){const l=this.schedulers.ngZone.runOutsideAngular(()=>pO(this.database,e));let h=l;return i&&(h=i(l)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:kA(i,"update"),set:kA(i,"set"),push:l=>i.push(l),remove:oS(i),snapshotChanges:l=>d_(n,l,e).pipe(ar.iC),stateChanges:l=>gO(n,l,e).pipe(ar.iC),auditTrail:l=>function(n,t,e){return function(n,t,e){return function(n,t){return Qw(n,"value","on",t).pipe((0,Ct.U)(e=>{let i;return e.payload.forEach(l=>(i=l.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(vy(t),(0,Ct.U)(([l,h])=>{const m=l.lastKeyToLoad,v=h.map(E=>E.key);return{actions:h,lastKeyToLoad:m,loadedKeys:v}}),function(n){return t=>t.lift(new QE(n))}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,Ct.U)(l=>l.actions))}(n,gO(n,t).pipe(_s((l,h)=>[...l,h],[])),e)}(n,l,e).pipe(ar.iC),valueChanges:(l,h)=>d_(n,l,e).pipe((0,Ct.U)(v=>v.map(E=>h&&h.idField?Object.assign(Object.assign({},E.payload.val()),{[h.idField]:E.key}):E.payload.val())),ar.iC)}}(h,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>sS(n,t.schedulers.outsideAngular)().pipe(ar.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>sS(n,t.schedulers.outsideAngular)().pipe(ar.iC,(0,Ct.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>pO(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ns.Dh),a.LFG(Ns.xv,8),a.LFG(zH,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ar.HU),a.LFG($H,8),a.LFG(Bp,8),a.LFG(GC,8),a.LFG(BC,8),a.LFG(VC,8),a.LFG(Gp,8),a.LFG(HC,8),a.LFG(kc,8),a.LFG(Tm,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YH=(()=>{class n{constructor(){Vu.Z.registerVersion("angularfire",ar.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_n]}),n})(),Xw=(()=>{class n{constructor(e){this.db=e}save(e){this.db.object("/user/"+e.uid).update({name:e.displayName,email:e.email})}get(e){return this.db.object("/user/"+e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_n))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yO=(()=>{class n{setPreviousUrl(e){sessionStorage.setItem("previousUrl",e)}getPreviousUrl(){return sessionStorage.getItem("previousUrl")}deletePreviousUrlKey(){sessionStorage.removeItem("previousUrl")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kr extends st.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mC.N;return this._value}next(t){super.next(this._value=t)}}var aS=j(4869),eb=j(9796),vO=j(6693);const CO={};function po(...n){let t,e;return(0,aS.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,eb.k)(n[0])&&(n=n[0]),(0,vO.n)(n,e).lift(new nF(t))}class nF{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new iF(t,this.resultSelector))}}class iF extends $C{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(CO),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Gc(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const l=this.values,m=this.toRespond?l[i]===CO?--this.toRespond:this.toRespond:0;l[i]=e,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var ov=j(3282);function tb(...n){return(0,ov.J)(1)((0,It.of)(...n))}function lS(n){return new ji.y(t=>{let e;try{e=n()}catch(l){return void t.error(l)}return(e?(0,Ii.D)(e):(0,Fc.c)()).subscribe(t)})}var oF=j(2441);function Ar(...n){const t=n[n.length-1];return(0,aS.K)(t)?(n.pop(),e=>tb(n,e,t)):e=>tb(n,e)}function Mg(n){return function(e){const i=new GA(n),l=e.lift(i);return i.caught=l}}class GA{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sF(t,this.selector,this.caught))}}class sF extends Va.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const i=new Va.IY(this);this.add(i);const l=(0,Va.ft)(e,i);l!==i&&this.add(l)}}}var Za=j(9773);function h_(n,t){return(0,Za.zg)(n,t,1)}function nb(n){return function(e){return 0===n?(0,Fc.c)():e.lift(new aF(n))}}class aF{constructor(t){if(this.total=t,this.total<0)throw new CE}call(t,e){return e.subscribe(new qH(t,this.total))}}class qH extends $o.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,l=this.count++;e.length<i?e.push(t):e[l%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,l=this.ring;for(let h=0;h<i;h++){const m=e++%i;t.next(l[m])}}t.complete()}}var fo=j(8307),uF=j(1307);class cF{constructor(t){this.callback=t}call(t,e){return e.subscribe(new dF(t,this.callback))}}class dF extends $o.L{constructor(t,e){super(t),this.add(new er.w(e))}}class Zu{constructor(t,e){this.id=t,this.url=e}}class BA extends Zu{constructor(t,e,i="imperative",l=null){super(t,e),this.navigationTrigger=i,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ib extends Zu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class VA extends Zu{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rb extends Zu{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZH extends Zu{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bO extends Zu{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hF extends Zu{constructor(t,e,i,l,h){super(t,e),this.urlAfterRedirects=i,this.state=l,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pF extends Zu{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fF extends Zu{constructor(t,e,i,l){super(t,e),this.urlAfterRedirects=i,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EO{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SO{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gF{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KH{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _F{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _i="primary";class HA{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function sv(n){return new HA(n)}const TO="ngNavigationCancelingError";function UA(n){const t=Error("NavigationCancelingError: "+n);return t[TO]=!0,t}function vF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const l={};for(let h=0;h<i.length;h++){const m=i[h],v=n[h];if(m.startsWith(":"))l[m.substring(1)]=v;else if(m!==v.path)return null}return{consumed:n.slice(0,i.length),posParams:l}}function Vd(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let l;for(let h=0;h<e.length;h++)if(l=e[h],!uS(n[l],t[l]))return!1;return!0}function uS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((l,h)=>i[h]===l)}return n===t}function AO(n){return Array.prototype.concat.apply([],n)}function p_(n){return n.length>0?n[n.length-1]:null}function Gs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Zo(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Ii.D)(Promise.resolve(n)):(0,It.of)(n)}const wF={exact:function IO(n,t,e){if(!uv(n.segments,t.segments)||!cS(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!IO(n.children[i],t.children[i],e))return!1;return!0},subset:xO},jA={exact:function(n,t){return Vd(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>uS(n[e],t[e]))},ignored:()=>!0};function zA(n,t,e){return wF[e.paths](n.root,t.root,e.matrixParams)&&jA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function xO(n,t,e){return $A(n,t,t.segments,e)}function $A(n,t,e,i){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!uv(l,e)||t.hasChildren()||!cS(l,e,i))}if(n.segments.length===e.length){if(!uv(n.segments,e)||!cS(n.segments,e,i))return!1;for(const l in t.children)if(!n.children[l]||!xO(n.children[l],t.children[l],i))return!1;return!0}{const l=e.slice(0,n.segments.length),h=e.slice(n.segments.length);return!!(uv(n.segments,l)&&cS(n.segments,l,i)&&n.children[_i])&&$A(n.children[_i],t,h,i)}}function cS(n,t,e){return t.every((i,l)=>jA[e](n[l].parameters,i.parameters))}class av{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sv(this.queryParams)),this._queryParamMap}toString(){return MO.serialize(this)}}class wi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Gs(e,(i,l)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dS(this)}}class ob{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=sv(this.parameters)),this._parameterMap}toString(){return kO(this)}}function uv(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class YA{}class EF{parse(t){const e=new HO(t);return new av(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${f_(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(l=>`${sb(e)}=${sb(l)}`).join("&"):`${sb(e)}=${sb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const MO=new EF;function dS(n){return n.segments.map(t=>kO(t)).join("/")}function f_(n,t){if(!n.hasChildren())return dS(n);if(t){const e=n.children[_i]?f_(n.children[_i],!1):"",i=[];return Gs(n.children,(l,h)=>{h!==_i&&i.push(`${h}:${f_(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Gs(n.children,(i,l)=>{l===_i&&(e=e.concat(t(i,l)))}),Gs(n.children,(i,l)=>{l!==_i&&(e=e.concat(t(i,l)))}),e}(n,(i,l)=>l===_i?[f_(n.children[_i],!1)]:[`${l}:${f_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_i]?`${dS(n)}/${e[0]}`:`${dS(n)}/(${e.join("//")})`}}function PO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sb(n){return PO(n).replace(/%3B/gi,";")}function hS(n){return PO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pS(n){return decodeURIComponent(n)}function FO(n){return pS(n.replace(/\+/g,"%20"))}function kO(n){return`${hS(n.path)}${function(n){return Object.keys(n).map(t=>`;${hS(t)}=${hS(n[t])}`).join("")}(n.parameters)}`}const TF=/^[^\/()?;=#]+/;function Pg(n){const t=n.match(TF);return t?t[0]:""}const LO=/^[^=?&#]+/,BO=/^[^?&#]+/;class HO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wi([],{}):new wi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[_i]=new wi(t,e)),i}parseSegment(){const t=Pg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ob(pS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=Pg(this.remaining);l&&(i=l,this.capture(i))}t[pS(e)]=pS(i)}parseQueryParam(t){const e=function(n){const t=n.match(LO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const m=function(n){const t=n.match(BO);return t?t[0]:""}(this.remaining);m&&(i=m,this.capture(i))}const l=FO(e),h=FO(i);if(t.hasOwnProperty(l)){let m=t[l];Array.isArray(m)||(m=[m],t[l]=m),m.push(h)}else t[l]=h}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pg(this.remaining),l=this.remaining[i.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let h;i.indexOf(":")>-1?(h=i.substr(0,i.indexOf(":")),this.capture(h),this.capture(":")):t&&(h=_i);const m=this.parseChildren();e[h]=1===Object.keys(m).length?m[_i]:new wi([],m),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class qA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ZA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ZA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return fS(t,this._root).map(e=>e.value)}}function ZA(n,t){if(n===t.value)return t;for(const e of t.children){const i=ZA(n,e);if(i)return i}return null}function fS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=fS(n,e);if(i.length)return i.unshift(t),i}return[]}class zh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ab(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class UO extends qA{constructor(t,e){super(t),this.snapshot=e,g_(this,t)}toString(){return this.snapshot.toString()}}function WO(n,t){const e=function(n,t){const m=new Ku([],{},{},"",{},_i,t,null,n.root,-1,{});return new zO("",new zh(m,[]))}(n,t),i=new kr([new ob("",{})]),l=new kr({}),h=new kr({}),m=new kr({}),v=new kr(""),E=new Zc(i,l,m,v,h,_i,t,e.root);return E.snapshot=e.root,new UO(new zh(E,[]),e)}class Zc{constructor(t,e,i,l,h,m,v,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=l,this.data=h,this.outlet=m,this.component=v,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(t=>sv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(t=>sv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const l=e[i],h=e[i-1];if(l.routeConfig&&""===l.routeConfig.path)i--;else{if(h.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ku{constructor(t,e,i,l,h,m,v,E,T,M,F){this.url=t,this.params=e,this.queryParams=i,this.fragment=l,this.data=h,this.outlet=m,this.component=v,this.routeConfig=E,this._urlSegment=T,this._lastPathIndex=M,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zO extends qA{constructor(t,e){super(e),this.url=t,g_(this,e)}toString(){return $O(this._root)}}function g_(n,t){t.value._routerState=n,t.children.forEach(e=>g_(n,e))}function $O(n){const t=n.children.length>0?` { ${n.children.map($O).join(", ")} } `:"";return`${n.value}${t}`}function QA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Vd(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Vd(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Vd(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Vd(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function YO(n,t){return Vd(n.params,t.params)&&function(n,t){return uv(n,t)&&n.every((e,i)=>Vd(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||YO(n.parent,t.parent))}function cv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const l=function(n,t,e){return t.children.map(i=>{for(const l of e.children)if(n.shouldReuseRoute(i.value,l.value.snapshot))return cv(n,i,l);return cv(n,i)})}(n,t,e);return new zh(i,l)}{if(n.shouldAttach(t.value)){const h=n.retrieve(t.value);if(null!==h){const m=h.route;return XA(t,m),m}}const i=function(n){return new Zc(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}(t.value),l=t.children.map(h=>cv(n,h));return new zh(i,l)}}function XA(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)XA(n.children[e],t.children[e])}function gS(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ub(n){return"object"==typeof n&&null!=n&&n.outlets}function nR(n,t,e,i,l){let h={};return i&&Gs(i,(m,v)=>{h[v]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),new av(e.root===n?t:iR(e.root,n,t),h,l)}function iR(n,t,e){const i={};return Gs(n.children,(l,h)=>{i[h]=l===t?e:iR(l,t,e)}),new wi(n.segments,i)}class mS{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&gS(i[0]))throw new Error("Root segment cannot have matrix parameters");const l=i.find(ub);if(l&&l!==p_(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _S{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function rR(n,t,e){if(n||(n=new wi([],{})),0===n.segments.length&&n.hasChildren())return cb(n,t,e);const i=function(n,t,e){let i=0,l=t;const h={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(i>=e.length)return h;const m=n.segments[l],v=e[i];if(ub(v))break;const E=`${v}`,T=i<e.length-1?e[i+1]:null;if(l>0&&void 0===E)break;if(E&&T&&"object"==typeof T&&void 0===T.outlets){if(!Ka(E,T,m))return h;i+=2}else{if(!Ka(E,{},m))return h;i++}l++}return{match:!0,pathIndex:l,commandIndex:i}}(n,t,e),l=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const h=new wi(n.segments.slice(0,i.pathIndex),{});return h.children[_i]=new wi(n.segments.slice(i.pathIndex),n.children),cb(h,0,l)}return i.match&&0===l.length?new wi(n.segments,{}):i.match&&!n.hasChildren()?yS(n,t,e):i.match?cb(n,0,l):yS(n,t,e)}function cb(n,t,e){if(0===e.length)return new wi(n.segments,{});{const i=function(n){return ub(n[0])?n[0].outlets:{[_i]:n}}(e),l={};return Gs(i,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(l[m]=rR(n.children[m],t,h))}),Gs(n.children,(h,m)=>{void 0===i[m]&&(l[m]=h)}),new wi(n.segments,l)}}function yS(n,t,e){const i=n.segments.slice(0,t);let l=0;for(;l<e.length;){const h=e[l];if(ub(h)){const E=QO(h.outlets);return new wi(i,E)}if(0===l&&gS(e[0])){i.push(new ob(n.segments[t].path,xF(e[0]))),l++;continue}const m=ub(h)?h.outlets[_i]:`${h}`,v=l<e.length-1?e[l+1]:null;m&&v&&gS(v)?(i.push(new ob(m,xF(v))),l+=2):(i.push(new ob(m,{})),l++)}return new wi(i,{})}function QO(n){const t={};return Gs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=yS(new wi([],{}),0,e))}),t}function xF(n){const t={};return Gs(n,(e,i)=>t[i]=`${e}`),t}function Ka(n,t,e){return n==e.path&&Vd(t,e.parameters)}class OF{constructor(t,e,i,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=l}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),QA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const l=ab(e);t.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,l[m],i),delete l[m]}),Gs(l,(h,m)=>{this.deactivateRouteAndItsChildren(h,i)})}deactivateRoutes(t,e,i){const l=t.value,h=e?e.value:null;if(l===h)if(l.component){const m=i.getContext(l.outlet);m&&this.deactivateChildRoutes(t,e,m.children)}else this.deactivateChildRoutes(t,e,i);else h&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),l=i&&t.value.component?i.children:e,h=ab(t);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],l);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const l=ab(e);t.children.forEach(h=>{this.activateRoutes(h,l[h.value.outlet],i),this.forwardEvent(new KH(h.value.snapshot))}),t.children.length&&this.forwardEvent(new gF(t.value.snapshot))}activateRoutes(t,e,i){const l=t.value,h=e?e.value:null;if(QA(l),l===h)if(l.component){const m=i.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,m.children)}else this.activateChildRoutes(t,e,i);else if(l.component){const m=i.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const v=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(v.contexts),m.attachRef=v.componentRef,m.route=v.route.value,m.outlet&&m.outlet.attach(v.componentRef,v.route.value),JO(v.route)}else{const v=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),E=v?v.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=E,m.outlet&&m.outlet.activateWith(l,E),this.activateChildRoutes(t,null,m.children)}}else this.activateChildRoutes(t,null,i)}}function JO(n){QA(n.value),n.children.forEach(JO)}class m_{constructor(t,e){this.routes=t,this.module=e}}function Ng(n){return"function"==typeof n}function __(n){return n instanceof av}const hv=Symbol("INITIAL_VALUE");function pv(){return Pr(n=>po(n.map(t=>t.pipe(Bn(1),Ar(hv)))).pipe(_s((t,e)=>{let i=!1;return e.reduce((l,h,m)=>l!==hv?l:(h===hv&&(i=!0),i||!1!==h&&m!==e.length-1&&!__(h)?l:h),t)},hv),On(t=>t!==hv),(0,Ct.U)(t=>__(t)?t:!0===t),Bn(1)))}let db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:function(){return[_R]},encapsulation:2}),n})();function vS(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];JH(i,eM(t,i))}}function JH(n,t){n.children&&vS(n.children,t)}function eM(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function aR(n){const t=n.children&&n.children.map(aR),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_i&&(e.component=db),e}function Qu(n){return n.outlet||_i}function hb(n,t){const e=n.filter(i=>Qu(i)===t);return e.push(...n.filter(i=>Qu(i)!==t)),e}const lR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function CS(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},lR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(t.matcher||vF)(e,n,t);if(!h)return Object.assign({},lR);const m={};Gs(h.posParams,(E,T)=>{m[T]=E.path});const v=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:v,positionalParamSegments:null!==(i=h.posParams)&&void 0!==i?i:{}}}function fv(n,t,e,i,l="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>pb(n,t,i)&&Qu(i)!==_i)}(n,e,i)){const m=new wi(t,function(n,t,e,i){const l={};l[_i]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const h of e)if(""===h.path&&Qu(h)!==_i){const m=new wi([],{});m._sourceSegment=n,m._segmentIndexShift=t.length,l[Qu(h)]=m}return l}(n,t,i,new wi(e,n.children)));return m._sourceSegment=n,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>pb(n,t,i))}(n,e,i)){const m=new wi(n.segments,function(n,t,e,i,l,h){const m={};for(const v of i)if(pb(n,e,v)&&!l[Qu(v)]){const E=new wi([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===h?n.segments.length:t.length,m[Qu(v)]=E}return Object.assign(Object.assign({},l),m)}(n,t,e,i,n.children,l));return m._sourceSegment=n,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:e}}const h=new wi(n.segments,n.children);return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}function pb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function cR(n,t,e,i){return!!(Qu(n)===i||i!==_i&&pb(t,e,n))&&("**"===n.path||CS(t,n,e).matched)}function nM(n,t,e){return 0===t.length&&!n.children[e]}class gv{constructor(t){this.segmentGroup=t||null}}class dR{constructor(t){this.urlTree=t}}function wS(n){return new ji.y(t=>t.error(new gv(n)))}function iM(n){return new ji.y(t=>t.error(new dR(n)))}function rM(n){return new ji.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class sM{constructor(t,e,i,l,h){this.configLoader=e,this.urlSerializer=i,this.urlTree=l,this.config=h,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=fv(this.urlTree.root,[],[],this.config).segmentGroup,e=new wi(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_i).pipe((0,Ct.U)(h=>this.createUrlTree(bS(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mg(h=>{if(h instanceof dR)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof gv?this.noMatchError(h):h}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_i).pipe((0,Ct.U)(l=>this.createUrlTree(bS(l),t.queryParams,t.fragment))).pipe(Mg(l=>{throw l instanceof gv?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const l=t.segments.length>0?new wi([],{[_i]:t}):t;return new av(l,e,i)}expandSegmentGroup(t,e,i,l){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ct.U)(h=>new wi([],h))):this.expandSegment(t,i,e,i.segments,l,!0)}expandChildren(t,e,i){const l=[];for(const h of Object.keys(i.children))"primary"===h?l.unshift(h):l.push(h);return(0,Ii.D)(l).pipe(h_(h=>{const m=i.children[h],v=hb(e,h);return this.expandSegmentGroup(t,v,m,h).pipe((0,Ct.U)(E=>({segment:E,outlet:h})))}),_s((h,m)=>(h[m.outlet]=m.segment,h),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?On((l,h)=>n(l,h,i)):wC.y,nb(1),e?vC(t):wE(()=>new hm))}())}expandSegment(t,e,i,l,h,m){return(0,Ii.D)(i).pipe(h_(v=>this.expandSegmentAgainstRoute(t,e,i,v,l,h,m).pipe(Mg(T=>{if(T instanceof gv)return(0,It.of)(null);throw T}))),ho(v=>!!v),Mg((v,E)=>{if(v instanceof hm||"EmptyError"===v.name){if(nM(e,l,h))return(0,It.of)(new wi([],{}));throw new gv(e)}throw v}))}expandSegmentAgainstRoute(t,e,i,l,h,m,v){return cR(l,e,h,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,h,m):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,l,h,m):wS(e):wS(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,l,h,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,l,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,l){const h=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?iM(h):this.lineralizeSegments(i,h).pipe((0,Za.zg)(m=>{const v=new wi(m,{});return this.expandSegment(t,v,e,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,l,h,m){const{matched:v,consumedSegments:E,lastChild:T,positionalParamSegments:M}=CS(e,l,h);if(!v)return wS(e);const F=this.applyRedirectCommands(E,l.redirectTo,M);return l.redirectTo.startsWith("/")?iM(F):this.lineralizeSegments(l,F).pipe((0,Za.zg)(V=>this.expandSegment(t,e,i,V.concat(h.slice(T)),m,!1)))}matchSegmentAgainstRoute(t,e,i,l,h){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,It.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Ct.U)(V=>(i._loadedConfig=V,new wi(l,{})))):(0,It.of)(new wi(l,{}));const{matched:m,consumedSegments:v,lastChild:E}=CS(e,i,l);if(!m)return wS(e);const T=l.slice(E);return this.getChildConfig(t,i,l).pipe((0,Za.zg)(F=>{const V=F.module,K=F.routes,{segmentGroup:re,slicedSegments:me}=fv(e,v,T,K),Pe=new wi(re.segments,re.children);if(0===me.length&&Pe.hasChildren())return this.expandChildren(V,K,Pe).pipe((0,Ct.U)(Yt=>new wi(v,Yt)));if(0===K.length&&0===me.length)return(0,It.of)(new wi(v,{}));const Je=Qu(i)===h;return this.expandSegment(V,Pe,K,me,Je?_i:h,!0).pipe((0,Ct.U)(Ut=>new wi(v.concat(Ut.segments),Ut.children)))}))}getChildConfig(t,e,i){return e.children?(0,It.of)(new m_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,It.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Za.zg)(l=>l?this.configLoader.load(t.injector,e).pipe((0,Ct.U)(h=>(e._loadedConfig=h,h))):function(n){return new ji.y(t=>t.error(UA(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):(0,It.of)(new m_([],t))}runCanLoadGuards(t,e,i){const l=e.canLoad;if(!l||0===l.length)return(0,It.of)(!0);const h=l.map(m=>{const v=t.get(m);let E;if(function(n){return n&&Ng(n.canLoad)}(v))E=v.canLoad(e,i);else{if(!Ng(v))throw new Error("Invalid CanLoad guard");E=v(e,i)}return Zo(E)});return(0,It.of)(h).pipe(pv(),(0,fo.b)(m=>{if(!__(m))return;const v=UA(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw v.url=m,v}),(0,Ct.U)(m=>!0===m))}lineralizeSegments(t,e){let i=[],l=e.root;for(;;){if(i=i.concat(l.segments),0===l.numberOfChildren)return(0,It.of)(i);if(l.numberOfChildren>1||!l.children[_i])return rM(t.redirectTo);l=l.children[_i]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,l){const h=this.createSegmentGroup(t,e.root,i,l);return new av(h,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Gs(t,(l,h)=>{if("string"==typeof l&&l.startsWith(":")){const v=l.substring(1);i[h]=e[v]}else i[h]=l}),i}createSegmentGroup(t,e,i,l){const h=this.createSegments(t,e.segments,i,l);let m={};return Gs(e.children,(v,E)=>{m[E]=this.createSegmentGroup(t,v,i,l)}),new wi(h,m)}createSegments(t,e,i,l){return e.map(h=>h.path.startsWith(":")?this.findPosParam(t,h,l):this.findOrReturn(h,i))}findPosParam(t,e,i){const l=i[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let i=0;for(const l of e){if(l.path===t.path)return e.splice(i),l;i++}return t}}function bS(n){const t={};for(const i of Object.keys(n.children)){const h=bS(n.children[i]);(h.segments.length>0||h.hasChildren())&&(t[i]=h)}return function(n){if(1===n.numberOfChildren&&n.children[_i]){const t=n.children[_i];return new wi(n.segments.concat(t.segments),t.children)}return n}(new wi(n.segments,t))}class lM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ES{constructor(t,e){this.component=t,this.route=e}}function uM(n,t,e){const i=n._root;return SS(i,t?t._root:null,e,[i.value])}function hR(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function SS(n,t,e,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=ab(t);return n.children.forEach(m=>{(function(n,t,e,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=n.value,m=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const E=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!uv(n.url,t.url);case"pathParamsOrQueryParamsChange":return!uv(n.url,t.url)||!Vd(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YO(n,t)||!Vd(n.queryParams,t.queryParams);case"paramsChange":default:return!YO(n,t)}}(m,h,h.routeConfig.runGuardsAndResolvers);E?l.canActivateChecks.push(new lM(i)):(h.data=m.data,h._resolvedData=m._resolvedData),SS(n,t,h.component?v?v.children:null:e,i,l),E&&v&&v.outlet&&v.outlet.isActivated&&l.canDeactivateChecks.push(new ES(v.outlet.component,m))}else m&&DS(t,v,l),l.canActivateChecks.push(new lM(i)),SS(n,null,h.component?v?v.children:null:e,i,l)})(m,h[m.value.outlet],e,i.concat([m.value]),l),delete h[m.value.outlet]}),Gs(h,(m,v)=>DS(m,e.getContext(v),l)),l}function DS(n,t,e){const i=ab(n),l=n.value;Gs(i,(h,m)=>{DS(h,l.component?t?t.children.getContext(m):null:t,e)}),e.canDeactivateChecks.push(new ES(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class c2{}function VF(n){return new ji.y(t=>t.error(n))}class UF{constructor(t,e,i,l,h,m){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const t=fv(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_i);if(null===e)return null;const i=new Ku([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_i,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new zh(i,e),h=new zO(this.url,l);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(t){const e=t.value,i=jO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const h of Object.keys(e.children)){const m=e.children[h],v=hb(t,h),E=this.processSegmentGroup(v,m,h);if(null===E)return null;i.push(...E)}const l=jF(i);return function(n){n.sort((t,e)=>t.value.outlet===_i?-1:e.value.outlet===_i?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(t,e,i,l){for(const h of t){const m=this.processSegmentAgainstRoute(h,e,i,l);if(null!==m)return m}return nM(e,i,l)?[]:null}processSegmentAgainstRoute(t,e,i,l){if(t.redirectTo||!cR(t,e,i,l))return null;let h,m=[],v=[];if("**"===t.path){const K=i.length>0?p_(i).parameters:{};h=new Ku(i,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zF(t),Qu(t),t.component,t,cM(e),dM(e)+i.length,$F(t))}else{const K=CS(e,t,i);if(!K.matched)return null;m=K.consumedSegments,v=i.slice(K.lastChild),h=new Ku(m,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zF(t),Qu(t),t.component,t,cM(e),dM(e)+m.length,$F(t))}const E=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:T,slicedSegments:M}=fv(e,m,v,E.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===M.length&&T.hasChildren()){const K=this.processChildren(E,T);return null===K?null:[new zh(h,K)]}if(0===E.length&&0===M.length)return[new zh(h,[])];const F=Qu(t)===l,V=this.processSegment(E,T,M,F?_i:l);return null===V?null:[new zh(h,V)]}}function h2(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jF(n){const t=[],e=new Set;for(const i of n){if(!h2(i)){t.push(i);continue}const l=t.find(h=>i.value.routeConfig===h.value.routeConfig);void 0!==l?(l.children.push(...i.children),e.add(l)):t.push(i)}for(const i of e){const l=jF(i.children);t.push(new zh(i.value,l))}return t.filter(i=>!e.has(i))}function cM(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dM(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function zF(n){return n.data||{}}function $F(n){return n.resolve||{}}function fb(n){return Pr(t=>{const e=n(t);return e?(0,Ii.D)(e).pipe((0,Ct.U)(()=>t)):(0,It.of)(t)})}class ZF extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const pR=new a.OlP("ROUTES");class TS{constructor(t,e,i,l){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,Ct.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(e);const m=h.create(t);return new m_(AO(m.injector.get(pR,void 0,a.XFs.Self|a.XFs.Optional)).map(aR),m)}),Mg(h=>{throw e._loader$=void 0,h}));return e._loader$=new oF.c(l,()=>new st.xQ).pipe((0,uF.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Ii.D)(this.loader.load(t)):Zo(t()).pipe((0,Za.zg)(e=>e instanceof a.YKP?(0,It.of)(e):(0,Ii.D)(this.compiler.compileModuleAsync(e))))}}class pM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new y_,this.attachRef=null}}class y_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new pM,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function gM(n){throw n}function AS(n,t,e){return t.parse("/")}function fR(n,t){return(0,It.of)(null)}const y2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vs=(()=>{class n{constructor(e,i,l,h,m,v,E,T){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=l,this.location=h,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new st.xQ,this.errorHandler=gM,this.malformedUriErrorHandler=AS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fR,afterPreactivation:fR},this.urlHandlingStrategy=new _2,this.routeReuseStrategy=new ZF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(a.h0i),this.console=m.get(a.c2e);const V=m.get(a.R0b);this.isNgZoneEnabled=V instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new av(new wi([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new TS(v,E,K=>this.triggerEvent(new EO(K)),K=>this.triggerEvent(new SO(K))),this.routerState=WO(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(On(l=>0!==l.id),(0,Ct.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Pr(l=>{let h=!1,m=!1;return(0,It.of)(l).pipe((0,fo.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pr(v=>{const E=this.browserUrlTree.toString(),T=!this.navigated||v.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return gR(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,It.of)(v).pipe(Pr(F=>{const V=this.transitions.getValue();return i.next(new BA(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),V!==this.transitions.getValue()?Fc.E:Promise.resolve(F)}),function(n,t,e,i){return Pr(l=>function(n,t,e,i,l){return new sM(n,t,e,i,l).apply()}(n,t,e,l.extractedUrl,i).pipe((0,Ct.U)(h=>Object.assign(Object.assign({},l),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fo.b)(F=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:F.urlAfterRedirects})}),function(n,t,e,i,l){return(0,Za.zg)(h=>function(n,t,e,i,l="emptyOnly",h="legacy"){try{const m=new UF(n,t,e,i,l,h).recognize();return null===m?VF(new c2):(0,It.of)(m)}catch(m){return VF(m)}}(n,t,h.urlAfterRedirects,e(h.urlAfterRedirects),i,l).pipe((0,Ct.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,F=>this.serializeUrl(F),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fo.b)(F=>{"eager"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(F.urlAfterRedirects,F),this.browserUrlTree=F.urlAfterRedirects);const V=new ZH(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);i.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:K,source:re,restoredState:me,extras:Pe}=v,Je=new BA(V,this.serializeUrl(K),re,me);i.next(Je);const gt=WO(K,this.rootComponentType).snapshot;return(0,It.of)(Object.assign(Object.assign({},v),{targetSnapshot:gt,urlAfterRedirects:K,extras:Object.assign(Object.assign({},Pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Fc.E}),fb(v=>{const{targetSnapshot:E,id:T,extractedUrl:M,rawUrl:F,extras:{skipLocationChange:V,replaceUrl:K}}=v;return this.hooks.beforePreactivation(E,{navigationId:T,appliedUrlTree:M,rawUrlTree:F,skipLocationChange:!!V,replaceUrl:!!K})}),(0,fo.b)(v=>{const E=new bO(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),(0,Ct.U)(v=>Object.assign(Object.assign({},v),{guards:uM(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Za.zg)(e=>{const{targetSnapshot:i,currentSnapshot:l,guards:{canActivateChecks:h,canDeactivateChecks:m}}=e;return 0===m.length&&0===h.length?(0,It.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Ii.D)(n).pipe((0,Za.zg)(l=>function(n,t,e,i,l){const h=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,It.of)(!0);const m=h.map(v=>{const E=hR(v,t,l);let T;if(function(n){return n&&Ng(n.canDeactivate)}(E))T=Zo(E.canDeactivate(n,t,e,i));else{if(!Ng(E))throw new Error("Invalid CanDeactivate guard");T=Zo(E(n,t,e,i))}return T.pipe(ho())});return(0,It.of)(m).pipe(pv())}(l.component,l.route,e,t,i)),ho(l=>!0!==l,!0))}(m,i,l,n).pipe((0,Za.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,t,e,i){return(0,Ii.D)(t).pipe(h_(l=>tb(function(n,t){return null!==n&&t&&t(new DO(n)),(0,It.of)(!0)}(l.route.parent,i),function(n,t){return null!==n&&t&&t(new mF(n)),(0,It.of)(!0)}(l.route,i),function(n,t,e){const i=t[t.length-1],h=t.slice(0,t.length-1).reverse().map(m=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(m)).filter(m=>null!==m).map(m=>lS(()=>{const v=m.guards.map(E=>{const T=hR(E,m.node,e);let M;if(function(n){return n&&Ng(n.canActivateChild)}(T))M=Zo(T.canActivateChild(i,n));else{if(!Ng(T))throw new Error("Invalid CanActivateChild guard");M=Zo(T(i,n))}return M.pipe(ho())});return(0,It.of)(v).pipe(pv())}));return(0,It.of)(h).pipe(pv())}(n,l.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,It.of)(!0);const l=i.map(h=>lS(()=>{const m=hR(h,t,e);let v;if(function(n){return n&&Ng(n.canActivate)}(m))v=Zo(m.canActivate(t,n));else{if(!Ng(m))throw new Error("Invalid CanActivate guard");v=Zo(m(t,n))}return v.pipe(ho())}));return(0,It.of)(l).pipe(pv())}(n,l.route,e))),ho(l=>!0!==l,!0))}(i,h,n,t):(0,It.of)(v)),(0,Ct.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,fo.b)(v=>{if(__(v.guardsResult)){const T=UA(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw T.url=v.guardsResult,T}const E=new hF(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(E)}),On(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),fb(v=>{if(v.guards.canActivateChecks.length)return(0,It.of)(v).pipe((0,fo.b)(E=>{const T=new pF(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}),Pr(E=>{let T=!1;return(0,It.of)(E).pipe(function(n,t){return(0,Za.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,It.of)(e);let h=0;return(0,Ii.D)(l).pipe(h_(m=>function(n,t,e,i){return function(n,t,e,i){const l=Object.keys(n);if(0===l.length)return(0,It.of)({});const h={};return(0,Ii.D)(l).pipe((0,Za.zg)(m=>function(n,t,e,i){const l=hR(n,t,i);return Zo(l.resolve?l.resolve(t,e):l(t,e))}(n[m],t,e,i).pipe((0,fo.b)(v=>{h[m]=v}))),nb(1),(0,Za.zg)(()=>Object.keys(h).length===l.length?(0,It.of)(h):Fc.E))}(n._resolve,n,t,i).pipe((0,Ct.U)(h=>(n._resolvedData=h,n.data=Object.assign(Object.assign({},n.data),jO(n,e).resolve),null)))}(m.route,i,n,t)),(0,fo.b)(()=>h++),nb(1),(0,Za.zg)(m=>h===l.length?(0,It.of)(e):Fc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fo.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,fo.b)(E=>{const T=new fF(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}))}),fb(v=>{const{targetSnapshot:E,id:T,extractedUrl:M,rawUrl:F,extras:{skipLocationChange:V,replaceUrl:K}}=v;return this.hooks.afterPreactivation(E,{navigationId:T,appliedUrlTree:M,rawUrlTree:F,skipLocationChange:!!V,replaceUrl:!!K})}),(0,Ct.U)(v=>{const E=function(n,t,e){const i=cv(n,t._root,e?e._root:void 0);return new UO(i,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:E})}),(0,fo.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,Ct.U)(i=>(new OF(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,fo.b)({next(){h=!0},complete(){h=!0}}),function(n){return t=>t.lift(new cF(n))}(()=>{var v;if(!h&&!m){const E=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,E)):this.cancelNavigationTransition(l,E)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===l.id&&(this.currentNavigation=null)}),Mg(v=>{if(m=!0,function(n){return n&&n[TO]}(v)){const E=__(v.url);E||(this.navigated=!0,this.restoreHistory(l,!0));const T=new VA(l.id,this.serializeUrl(l.extractedUrl),v.message);i.next(T),E?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),F={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gR(l.source)};this.scheduleNavigation(M,"imperative",null,F,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const E=new rb(l.id,this.serializeUrl(l.extractedUrl),v);i.next(E);try{l.resolve(this.errorHandler(v))}catch(T){l.reject(T)}}return Fc.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:l,state:h,urlTree:m}=i,v={replaceUrl:!0};if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(v.state=E)}this.scheduleNavigation(m,l,h,v)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const l=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!l||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){vS(e),this.config=e.map(aR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:l,queryParams:h,fragment:m,queryParamsHandling:v,preserveFragment:E}=i,T=l||this.routerState.root,M=E?this.currentUrlTree.fragment:m;let F=null;switch(v){case"merge":F=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=h||null}return null!==F&&(F=this.removeEmptyProps(F)),function(n,t,e,i,l){if(0===e.length)return nR(t.root,t.root,t,i,l);const h=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mS(!0,0,n);let t=0,e=!1;const i=n.reduce((l,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const v={};return Gs(h.outlets,(E,T)=>{v[T]="string"==typeof E?E.split("/"):E}),[...l,{outlets:v}]}if(h.segmentPath)return[...l,h.segmentPath]}return"string"!=typeof h?[...l,h]:0===m?(h.split("/").forEach((v,E)=>{0==E&&"."===v||(0==E&&""===v?e=!0:".."===v?t++:""!=v&&l.push(v))}),l):[...l,h]},[]);return new mS(e,t,i)}(e);if(h.toRoot())return nR(t.root,new wi([],{}),t,i,l);const m=function(n,t,e){if(n.isAbsolute)return new _S(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const h=e.snapshot._urlSegment;return new _S(h,h===t.root,0)}const i=gS(n.commands[0])?0:1;return function(n,t,e){let i=n,l=t,h=e;for(;h>l;){if(h-=l,i=i.parent,!i)throw new Error("Invalid number of '../'");l=i.segments.length}return new _S(i,!1,l-h)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(h,t,n),v=m.processChildren?cb(m.segmentGroup,m.index,h.commands):rR(m.segmentGroup,m.index,h.commands);return nR(m.segmentGroup,v,t,i,l)}(T,this.currentUrlTree,e,F,null!=M?M:null)}navigateByUrl(e,i={skipLocationChange:!1}){const l=__(e)?e:this.parseUrl(e),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(l){i=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return i}isActive(e,i){let l;if(l=!0===i?Object.assign({},y2):!1===i?Object.assign({},v2):i,__(e))return zA(this.currentUrlTree,e,l);const h=this.parseUrl(e);return zA(this.currentUrlTree,h,l)}removeEmptyProps(e){return Object.keys(e).reduce((i,l)=>{const h=e[l];return null!=h&&(i[l]=h),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ib(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,l,h,m){var v,E;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),M=gR(i)&&T&&!gR(T.source),K=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===e.toString();if(M&&K)return Promise.resolve(!0);let re,me,Pe;m?(re=m.resolve,me=m.reject,Pe=m.promise):Pe=new Promise((Ut,Yt)=>{re=Ut,me=Yt});const Je=++this.navigationId;let gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),gt=l&&l.\u0275routerPageId?l.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):gt=0,this.setTransition({id:Je,targetPageId:gt,source:i,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:h,resolve:re,reject:me,promise:Pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pe.catch(Ut=>Promise.reject(Ut))}setBrowserUrl(e,i){const l=this.urlSerializer.serialize(e),h=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(l)||i.extras.replaceUrl?this.location.replaceState(l,"",h):this.location.go(l,"",h)}restoreHistory(e,i=!1){var l,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const l=new VA(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.DyG),a.LFG(YA),a.LFG(y_),a.LFG(Ln),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function gR(n){return"imperative"!==n}let yv=(()=>{class n{constructor(e,i,l){this.router=e,this.route=i,this.locationStrategy=l,this.commands=[],this.onChanges=new st.xQ,this.subscription=e.events.subscribe(h=>{h instanceof ib&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,l,h,m){if(0!==e||i||l||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:gb(this.skipLocationChange),replaceUrl:gb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gb(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(vs),a.Y36(Zc),a.Y36(Ue))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(h){return i.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&e&&(a.Ikx("href",i.href,a.LSH),a.uIk("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),n})();function gb(n){return""===n||!!n}let _R=(()=>{class n{constructor(e,i,l,h,m){this.parentContexts=e,this.location=i,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=h||_i,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const m=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,E=new w2(e,v,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(y_),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class w2{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Zc?this.route:t===y_?this.childContexts:this.parent.get(t,e)}}class QF{}class XF{preload(t,e){return(0,It.of)(null)}}let yR=(()=>{class n{constructor(e,i,l,h,m){this.router=e,this.injector=h,this.preloadingStrategy=m,this.loader=new TS(i,l,T=>e.triggerEvent(new EO(T)),T=>e.triggerEvent(new SO(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(On(e=>e instanceof ib),h_(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const l=[];for(const h of i)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?l.push(this.preloadConfig(e,h)):h.children&&l.push(this.processRoutes(e,h.children));return(0,Ii.D)(l).pipe((0,ov.J)(),(0,Ct.U)(h=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,It.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Za.zg)(h=>(i._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vs),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(QF))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),vR=(()=>{class n{constructor(e,i,l={}){this.router=e,this.viewportScroller=i,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof BA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ib&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _F&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new _F(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vs),a.LFG(hc),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const vv=new a.OlP("ROUTER_CONFIGURATION"),mM=new a.OlP("ROUTER_FORROOT_GUARD"),ek=[Ln,{provide:YA,useClass:EF},{provide:vs,useFactory:function(n,t,e,i,l,h,m,v={},E,T){const M=new vs(null,n,t,e,i,l,h,AO(m));return E&&(M.urlHandlingStrategy=E),T&&(M.routeReuseStrategy=T),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(v,M),v.enableTracing&&M.events.subscribe(F=>{var V,K;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${F.constructor.name}`),console.log(F.toString()),console.log(F),null===(K=console.groupEnd)||void 0===K||K.call(console)}),M},deps:[YA,y_,Ln,a.zs3,a.v3s,a.Sil,pR,vv,[class{},new a.FiY],[class{},new a.FiY]]},y_,{provide:Zc,useFactory:function(n){return n.routerState.root},deps:[vs]},{provide:a.v3s,useClass:a.EAV},yR,XF,class{preload(t,e){return e().pipe(Mg(()=>(0,It.of)(null)))}},{provide:vv,useValue:{enableTracing:!1}}];function tk(){return new a.PXZ("Router",vs)}let _M=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[ek,yM(e),{provide:mM,useFactory:Ju,deps:[[vs,new a.FiY,new a.tp0]]},{provide:vv,useValue:i||{}},{provide:Ue,useFactory:nk,deps:[ye,[new a.tBr(ke),new a.FiY],vv]},{provide:vR,useFactory:CR,deps:[vs,hc,vv]},{provide:QF,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:XF},{provide:a.PXZ,multi:!0,useFactory:tk},[_b,{provide:a.ip1,multi:!0,useFactory:vM,deps:[_b]},{provide:wM,useFactory:CM,deps:[_b]},{provide:a.tb,multi:!0,useExisting:wM}]]}}static forChild(e){return{ngModule:n,providers:[yM(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mM,8),a.LFG(vs,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function CR(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new vR(n,t,e)}function nk(n,t,e={}){return e.useHash?new Ot(n,t):new pt(n,t)}function Ju(n){return"guarded"}function yM(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:pR,multi:!0,useValue:n}]}let _b=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new st.xQ}appInitializer(){return this.injector.get(oe,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const l=new Promise(v=>i=v),h=this.injector.get(vs),m=this.injector.get(vv);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),i(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,It.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),h.initialNavigation()):i(!0),l})}bootstrapListener(e){const i=this.injector.get(vv),l=this.injector.get(yR),h=this.injector.get(vR),m=this.injector.get(vs),v=this.injector.get(a.z2F);e===v.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),h.init(),m.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function vM(n){return n.appInitializer.bind(n)}function CM(n){return n.bootstrapListener.bind(n)}const wM=new a.OlP("Router Initializer");let yb=(()=>{class n{constructor(e,i,l,h){this.afAuth=e,this.userService=i,this.preRouteService=l,this.router=h,this.user$=e.authState}login(){this.afAuth.signInWithRedirect(new iT.N)}logout(){this.router.navigate(["/login"]),this.afAuth.signOut()}redirectRouteAfterLogin(){this.user$.subscribe(e=>{if(e){this.userService.save(e);const i=this.preRouteService.getPreviousUrl();i&&(this.router.navigate([i]),this.preRouteService.deletePreviousUrlKey())}})}get appUser$(){return this.user$.pipe(Pr(e=>this.userService.get(null==e?void 0:e.uid)))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Bp),a.LFG(Xw),a.LFG(yO),a.LFG(vs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sk{constructor(t,e){this.product=t,this.quantity=e}get totalPrice(){return this.quantity*this.product.price}}class bR{constructor(t){this.items=t||{}}get totalItemCount(){let t=0;for(let e in this.items)t+=this.items[e].quantity;return t}}let Sv,Fg=(()=>{class n{constructor(e){this.db=e}create(){return this.db.list("/shopping-cards").push({dateCreated:(new Date).getTime()})}getCard(){var e=this;return(0,Ve.Z)(function*(){const i=yield e.getOrCreateCard();return e.db.object("/shopping-cards/"+i).valueChanges().pipe((0,Ct.U)(l=>new bR(l.items)))})()}getItem(e,i){return this.db.object("/shopping-cards/"+e+"/items/"+i)}getOrCreateCard(){var e=this;return(0,Ve.Z)(function*(){let i=localStorage.getItem("cardId");if(i)return i;let l=yield e.create();return localStorage.setItem("cardId",l.key),l.key})()}addToCard(e){this.updateItemQuantity(e,1)}removeFromCard(e){this.updateItemQuantity(e,-1)}clearShoppingCard(){var e=this;return(0,Ve.Z)(function*(){let i=yield e.getOrCreateCard();e.db.list("/shopping-cards/"+i+"/items/").remove()})()}updateItemQuantity(e,i){var l=this;return(0,Ve.Z)(function*(){let h=yield l.getOrCreateCard(),m=l.getItem(h,e.uid);m.valueChanges().pipe(Bn(1)).subscribe(v=>{let E=((null==v?void 0:v.quantity)||0)+i;0===E?m.remove():m.update({product:e,quantity:E})})})()}getTotalCount(e){let i=0;for(let l in e)i+=e[l].quantity;return i}getTotalItemPrice(e){return e.quantity*e.product.price}getTotalPrice(e){let i=0;for(let l in e)i+=this.getTotalItemPrice(e[l]);return i}convertCardObjectToArray(e){let i=new Array;for(let l in e.items)i.push(new sk(e.items[l].product,e.items[l].quantity));return i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_n))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qa(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Ev(n,t=bh.P){return e=>e.lift(new NS(n,t))}class NS{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new FS(t,this.dueTime,this.scheduler))}}class FS extends $o.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xM,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function xM(n){n.debouncedNext()}function kS(n){return t=>t.lift(new Tk(n))}class Tk{constructor(t){this.total=t}call(t,e){return e.subscribe(new Ak(t,this.total))}}class Ak extends $o.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Dt(n){return t=>t.lift(new Rk(n))}class Rk{constructor(t){this.notifier=t}call(t,e){const i=new Ik(t),l=(0,Va.ft)(this.notifier,new Va.IY(i));return l&&!i.seenValue?(i.add(l),e.subscribe(i)):i}}class Ik extends Va.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ht(n){return null!=n&&"false"!=`${n}`}function Kr(n,t=0){return OM(n)?Number(n):t}function OM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Bs(n){return Array.isArray(n)?n:[n]}function Hr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Qc(n){return n instanceof a.SBq?n.nativeElement:n}try{Sv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Sv=!1}let df,Kn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Xs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.Lbi))},token:n,providedIn:"root"}),n})(),v_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const PM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NM(){if(df)return df;if("object"!=typeof document||!document)return df=new Set(PM),df;let n=document.createElement("input");return df=new Set(PM.filter(t=>(n.setAttribute("type",t),n.type===t))),df}let Cb,w_,b_,Xu;function C_(n){return function(){if(null==Cb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cb=!0}))}finally{Cb=Cb||!1}return Cb}()?n:!!n.capture}function FM(){if(null==w_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return w_=!1,w_;if("scrollBehavior"in document.documentElement.style)w_=!0;else{const n=Element.prototype.scrollTo;w_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return w_}function kM(n){if(function(){if(null==b_){const n="undefined"!=typeof document?document.head:null;b_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return b_}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function wb(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function E_(n){return n.composedPath?n.composedPath()[0]:n.target}function xR(){return void 0!==Xu.__karma__&&!!Xu.__karma__||void 0!==Xu.jasmine&&!!Xu.jasmine||void 0!==Xu.jest&&!!Xu.jest||void 0!==Xu.Mocha&&!!Xu.Mocha}Xu="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let GS=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),OR=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Qc(e);return new ji.y(l=>{const m=this._observeElement(i).subscribe(l);return()=>{m.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new st.xQ,l=this._mutationObserverFactory.create(h=>i.next(h));l&&l.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:l,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:l}=this._observedElements.get(e);i&&i.disconnect(),l.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GS))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(GS))},token:n,providedIn:"root"}),n})(),BS=(()=>{class n{constructor(e,i,l){this._contentObserver=e,this._elementRef=i,this._ngZone=l,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Kr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ev(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(OR),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),VS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[GS]}),n})();function pf(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Eb="cdk-describedby-message-container",S_="cdk-describedby-message",HS="cdk-describedby-host";let Ok=0;const Zh=new Map;let Vs=null,US=(()=>{class n{constructor(e){this._document=e}describe(e,i,l){if(!this._canBeDescribed(e,i))return;const h=WS(i,l);"string"!=typeof i?(MR(i),Zh.set(h,{messageElement:i,referenceCount:0})):Zh.has(h)||this._createMessageElement(i,l),this._isElementDescribedByMessage(e,h)||this._addMessageReference(e,h)}removeDescription(e,i,l){if(!i||!this._isElementNode(e))return;const h=WS(i,l);if(this._isElementDescribedByMessage(e,h)&&this._removeMessageReference(e,h),"string"==typeof i){const m=Zh.get(h);m&&0===m.referenceCount&&this._deleteMessageElement(h)}Vs&&0===Vs.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${HS}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(HS);Vs&&this._deleteMessagesContainer(),Zh.clear()}_createMessageElement(e,i){const l=this._document.createElement("div");MR(l),l.textContent=e,i&&l.setAttribute("role",i),this._createMessagesContainer(),Vs.appendChild(l),Zh.set(WS(e,i),{messageElement:l,referenceCount:0})}_deleteMessageElement(e){const i=Zh.get(e),l=i&&i.messageElement;Vs&&l&&Vs.removeChild(l),Zh.delete(e)}_createMessagesContainer(){if(!Vs){const e=this._document.getElementById(Eb);e&&e.parentNode&&e.parentNode.removeChild(e),Vs=this._document.createElement("div"),Vs.id=Eb,Vs.style.visibility="hidden",Vs.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Vs)}}_deleteMessagesContainer(){Vs&&Vs.parentNode&&(Vs.parentNode.removeChild(Vs),Vs=null)}_removeCdkDescribedByReferenceIds(e){const i=pf(e,"aria-describedby").filter(l=>0!=l.indexOf(S_));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const l=Zh.get(i);(function(n,t,e){const i=pf(n,t);i.some(l=>l.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",l.messageElement.id),e.setAttribute(HS,""),l.referenceCount++}_removeMessageReference(e,i){const l=Zh.get(i);l.referenceCount--,function(n,t,e){const l=pf(n,t).filter(h=>h!=e.trim());l.length?n.setAttribute(t,l.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",l.messageElement.id),e.removeAttribute(HS)}_isElementDescribedByMessage(e,i){const l=pf(e,"aria-describedby"),h=Zh.get(i),m=h&&h.messageElement.id;return!!m&&-1!=l.indexOf(m)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const l=null==i?"":`${i}`.trim(),h=e.getAttribute("aria-label");return!(!l||h&&h.trim()===l)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(fe))},token:n,providedIn:"root"}),n})();function WS(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function MR(n){n.id||(n.id=`${S_}-${Ok++}`)}class Mk extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new st.xQ,this._typeaheadSubscription=er.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new st.xQ,this.change=new st.xQ,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const l=e.toArray().indexOf(this._activeItem);l>-1&&l!==this._activeItemIndex&&(this._activeItemIndex=l)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,fo.b)(e=>this._pressedLetters.push(e)),Ev(t),On(()=>this._pressedLetters.length>0),(0,Ct.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let l=1;l<i.length+1;l++){const h=(this._activeItemIndex+l)%i.length,m=i[h];if(!this._skipPredicateFn(m)&&0===m.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(h);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,l=["altKey","ctrlKey","metaKey","shiftKey"].every(h=>!t[h]||this._allowedModifierKeys.indexOf(h)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&l){this.setNextItemActive();break}return;case 38:if(this._vertical&&l){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&l){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&l){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&l){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&l){this.setLastItemActive();break}return;default:return void((l||Qa(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),l=e[i];this._activeItem=null==l?null:l,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const l=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[l]))return void this.setActiveItem(l)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let Lg=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===VM(i)||!this.isVisible(i)))return!1;let l=e.nodeName.toLowerCase(),h=VM(e);return e.hasAttribute("contenteditable")?-1!==h:!("iframe"===l||"object"===l||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===l?!!e.hasAttribute("controls")&&-1!==h:"video"===l?-1!==h&&(null!==h||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||BM(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Kn))},token:n,providedIn:"root"}),n})();function BM(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function VM(n){if(!BM(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class b3{constructor(t,e,i,l,h=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=l,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,h||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let l=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(l)return l}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let l=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(l)return l}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Bn(1)).subscribe(t)}}let NR=(()=>{class n{constructor(e,i,l){this._checker=e,this._ngZone=i,this._document=l}create(e,i=!1){return new b3(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Lg),a.LFG(a.R0b),a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Lg),a.LFG(a.R0b),a.LFG(fe))},token:n,providedIn:"root"}),n})();function D(n){return 0===n.offsetX&&0===n.offsetY}function I(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const P=new a.OlP("cdk-input-modality-detector-options"),G={ignoreKeys:[18,17,224,91,16]},te=C_({passive:!0,capture:!0});let ne=(()=>{class n{constructor(e,i,l,h){this._platform=e,this._mostRecentTarget=null,this._modality=new kr(null),this._lastTouchMs=0,this._onKeydown=m=>{var v,E;(null===(E=null===(v=this._options)||void 0===v?void 0:v.ignoreKeys)||void 0===E?void 0:E.some(T=>T===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=E_(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next(D(m)?"keyboard":"mouse"),this._mostRecentTarget=E_(m))},this._onTouchstart=m=>{I(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=E_(m))},this._options=Object.assign(Object.assign({},G),h),this.modalityDetected=this._modality.pipe(kS(1)),this.modalityChanged=this.modalityDetected.pipe(Lc()),e.isBrowser&&i.runOutsideAngular(()=>{l.addEventListener("keydown",this._onKeydown,te),l.addEventListener("mousedown",this._onMousedown,te),l.addEventListener("touchstart",this._onTouchstart,te)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,te),document.removeEventListener("mousedown",this._onMousedown,te),document.removeEventListener("touchstart",this._onTouchstart,te))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kn),a.LFG(a.R0b),a.LFG(fe),a.LFG(P,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Kn),a.LFG(a.R0b),a.LFG(fe),a.LFG(P,8))},token:n,providedIn:"root"}),n})();const ge=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ge=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Oe=(()=>{class n{constructor(e,i,l,h){this._ngZone=i,this._defaultOptions=h,this._document=l,this._liveElement=e||this._createLiveElement()}announce(e,...i){const l=this._defaultOptions;let h,m;return 1===i.length&&"number"==typeof i[0]?m=i[0]:[h,m]=i,this.clear(),clearTimeout(this._previousTimeout),h||(h=l&&l.politeness?l.politeness:"polite"),null==m&&l&&(m=l.duration),this._liveElement.setAttribute("aria-live",h),this._ngZone.runOutsideAngular(()=>new Promise(v=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,v(),"number"==typeof m&&(this._previousTimeout=setTimeout(()=>this.clear(),m))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),l=this._document.createElement("div");for(let h=0;h<i.length;h++)i[h].parentNode.removeChild(i[h]);return l.classList.add(e),l.classList.add("cdk-visually-hidden"),l.setAttribute("aria-atomic","true"),l.setAttribute("aria-live","polite"),this._document.body.appendChild(l),l}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ge,8),a.LFG(a.R0b),a.LFG(fe),a.LFG(Ge,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ge,8),a.LFG(a.R0b),a.LFG(fe),a.LFG(Ge,8))},token:n,providedIn:"root"}),n})();const et=new a.OlP("cdk-focus-monitor-default-options"),Kt=C_({passive:!0,capture:!0});let tn=(()=>{class n{constructor(e,i,l,h,m){this._ngZone=e,this._platform=i,this._inputModalityDetector=l,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new st.xQ,this._rootNodeFocusAndBlurListener=v=>{const E=E_(v),T="focus"===v.type?this._onFocus:this._onBlur;for(let M=E;M;M=M.parentElement)T.call(this,v,M)},this._document=h,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(e,i=!1){const l=Qc(e);if(!this._platform.isBrowser||1!==l.nodeType)return(0,It.of)(null);const h=kM(l)||this._getDocument(),m=this._elementInfo.get(l);if(m)return i&&(m.checkChildren=!0),m.subject;const v={checkChildren:i,subject:new st.xQ,rootNode:h};return this._elementInfo.set(l,v),this._registerGlobalListeners(v),v.subject}stopMonitoring(e){const i=Qc(e),l=this._elementInfo.get(i);l&&(l.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(l))}focusVia(e,i,l){const h=Qc(e);h===this._getDocument().activeElement?this._getClosestElementsInfo(h).forEach(([v,E])=>this._originChanged(v,i,E)):(this._setOrigin(i),"function"==typeof h.focus&&h.focus(l))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,l){l?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const l=this._elementInfo.get(i),h=E_(e);!l||!l.checkChildren&&i!==h||this._originChanged(i,this._getFocusOrigin(h),l)}_onBlur(e,i){const l=this._elementInfo.get(i);!l||l.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(l.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,l=this._rootNodeFocusListenerCount.get(i)||0;l||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kt),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kt)}),this._rootNodeFocusListenerCount.set(i,l+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dt(this._stopInputModalityDetector)).subscribe(h=>{this._setOrigin(h,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const l=this._rootNodeFocusListenerCount.get(i);l>1?this._rootNodeFocusListenerCount.set(i,l-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kt),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kt),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,l){this._setClasses(e,i),this._emitOrigin(l.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((l,h)=>{(h===e||l.checkChildren&&h.contains(e))&&i.push([h,l])}),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Kn),a.LFG(ne),a.LFG(fe,8),a.LFG(et,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(Kn),a.LFG(ne),a.LFG(fe,8),a.LFG(et,8))},token:n,providedIn:"root"}),n})();const Ko="cdk-high-contrast-black-on-white",ec="cdk-high-contrast-white-on-black",D_="cdk-high-contrast-active";let T_=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,l=i&&i.getComputedStyle?i.getComputedStyle(e):null,h=(l&&l.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(D_),e.remove(Ko),e.remove(ec),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(D_),e.add(Ko)):2===i&&(e.add(D_),e.add(ec))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kn),a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Kn),a.LFG(fe))},token:n,providedIn:"root"}),n})(),Gg=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(T_))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[v_,VS]]}),n})();const A_=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(fe)}});let cr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const l=e.documentElement?e.documentElement.dir:null,h=(e.body?e.body.dir:null)||l;this.value="ltr"===h||"rtl"===h?h:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(A_,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(A_,8))},token:n,providedIn:"root"}),n})(),Bg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const zS=new a.GfV("12.2.12");function l4(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function u4(n,t){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const c4=["*"],D3=new a.GfV("12.2.12"),f4=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let pi=(()=>{class n{constructor(e,i,l){this._hasDoneGlobalChecks=!1,this._document=l,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,a.X6Q)()||xR())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&D3.full!==zS.full&&console.warn("The Angular Material version ("+D3.full+") does not match the Angular CDK version ("+zS.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(T_),a.LFG(f4,8),a.LFG(fe))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Bg],Bg]}),n})();function ff(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ht(t)}}}function Dv(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function R_(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ht(t)}}}function kk(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Kr(e):this.defaultTabIndex}}}function Lk(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new st.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,h=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);h!==t&&(this.errorState=h,this.stateChanges.next())}}}function T3(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new ji.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const g4=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,a.f3M)(a.soG)}});class Qo{constructor(){this._localeChanges=new st.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),l=this.isValid(e);return i&&l?!this.compareDate(t,e):i==l}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Vg=new a.OlP("mat-date-formats");let Sb;try{Sb="undefined"!=typeof Intl}catch(n){Sb=!1}const _4={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},y4=UM(31,n=>String(n+1)),v4={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},C4=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function UM(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let w4=(()=>{class n extends Qo{constructor(e,i){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(Sb){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return UM(12,l=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,l,1))))}return _4[e]}getDateNames(){if(Sb){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return UM(31,i=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,i+1))))}return y4}getDayOfWeekNames(e){if(Sb){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return UM(7,l=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,l+1))))}return v4[e]}getYearName(e){if(Sb){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,l){let h=this._createDateWithOverflow(e,i,l);return h.getMonth(),h}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Sb){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const l=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(l,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let l=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(l)!=((this.getMonth(e)+i)%12+12)%12&&(l=this._createDateWithOverflow(this.getYear(l),this.getMonth(l),0)),l}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(C4.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,l){const h=new Date;return h.setFullYear(e,i,l),h.setHours(0,0,0,0),h}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,i){const l=new Date;return l.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),l.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(l)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(g4,8),a.LFG(Kn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),E4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Qo,useClass:w4}],imports:[[v_]]}),n})();const S4={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let A3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Vg,useValue:S4}],imports:[[E4]]}),n})(),$S=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),x3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi],pi]}),n})();class D4{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const O3={enterDuration:225,exitDuration:150},Gk=C_({passive:!0}),M3=["mousedown","touchstart"],P3=["mouseup","mouseleave","touchend","touchcancel"];class N3{constructor(t,e,i,l){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,l.isBrowser&&(this._containerElement=Qc(i))}fadeInRipple(t,e,i={}){const l=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h=Object.assign(Object.assign({},O3),i.animation);i.centered&&(t=l.left+l.width/2,e=l.top+l.height/2);const m=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),l=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+l*l)}(t,e,l),v=t-l.left,E=e-l.top,T=h.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=v-m+"px",M.style.top=E-m+"px",M.style.height=2*m+"px",M.style.width=2*m+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${T}ms`,this._containerElement.appendChild(M),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const F=new D4(this,M,i);return F.state=0,this._activeRipples.add(F),i.persistent||(this._mostRecentTransientRipple=F),this._runTimeoutOutsideZone(()=>{const V=F===this._mostRecentTransientRipple;F.state=1,!i.persistent&&(!V||!this._isPointerDown)&&F.fadeOut()},T),F}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,l=Object.assign(Object.assign({},O3),t.config.animation);i.style.transitionDuration=`${l.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},l.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Qc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(M3))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(P3),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=D(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!I(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Gk)})})}_removeTriggerEvents(){this._triggerElement&&(M3.forEach(t=>{this._triggerElement.removeEventListener(t,this,Gk)}),this._pointerUpEventsRegistered&&P3.forEach(t=>{this._triggerElement.removeEventListener(t,this,Gk)}))}}const Bk=new a.OlP("mat-ripple-global-options");let gf=(()=>{class n{constructor(e,i,l,h,m){this._elementRef=e,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new N3(this,i,e,l)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,l){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),l)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Kn),a.Y36(Bk,8),a.Y36(Mr,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi,v_],pi]}),n})(),F3=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mr,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Vk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi]]}),n})();const Hk=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),I4=ff(class{});let x4=0,k3=(()=>{class n extends I4{constructor(e){var i;super(),this._labelId="mat-optgroup-label-"+x4++,this._inert=null!==(i=null==e?void 0:e.inertGroups)&&void 0!==i&&i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hk,8))},n.\u0275dir=a.lG2({type:n,inputs:{label:"label"},features:[a.qOj]}),n})();const Uk=new a.OlP("MatOptgroup");let O4=0;class M4{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let P4=(()=>{class n{constructor(e,i,l,h){this._element=e,this._changeDetectorRef=i,this._parent=l,this.group=h,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+O4++,this.onSelectionChange=new a.vpe,this._stateChanges=new st.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ht(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const l=this._getHostElement();"function"==typeof l.focus&&l.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Qa(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new M4(this,e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(void 0),a.Y36(k3))},n.\u0275dir=a.lG2({type:n,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),L3=(()=>{class n extends P4{constructor(e,i,l,h){super(e,i,l,h)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Hk,8),a.Y36(Uk,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(h){return i._handleKeydown(h)}),2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),a.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:c4,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,l4,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,u4,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",i.multiple),a.xp6(3),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Pn,gf,F3],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function G3(n,t,e){if(e.length){let i=t.toArray(),l=e.toArray(),h=0;for(let m=0;m<n+1;m++)i[m].group&&i[m].group===l[h]&&h++;return h}return 0}let B3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[LR,oi,pi,Vk]]}),n})();const F4=["*",[["mat-toolbar-row"]]],k4=["*","mat-toolbar-row"],L4=Dv(class{constructor(n){this._elementRef=n}});let G4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),B4=(()=>{class n extends L4{constructor(e,i,l){super(e),this._platform=i,this._document=l}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Kn),a.Y36(fe))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,l){if(1&e&&a.Suo(l,G4,5),2&e){let h;a.iGM(h=a.CRH())&&(i._toolbarRows=h)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:k4,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(F4),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),V3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi],pi]}),n})();const H4={provide:a.tb,useFactory:function(n,t){return()=>{if(Xs(t)){const e=Array.from(n.querySelectorAll(`[class*=${H3}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(l=>{l.classList.contains(`${H3}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(i,"")})}}},deps:[fe,a.Lbi],multi:!0},H3="flex-layout-";let Wk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[H4]}),n})();class Db{constructor(t=!1,e="all",i="",l="",h=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=l,this.priority=h,this.property=""}clone(){return new Db(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let U3=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,l){const h=this.stylesheet.get(e);h?h.set(i,l):this.stylesheet.set(e,new Map([[i,l]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const l=this.stylesheet.get(e);let h="";if(l){const m=l.get(i);("number"==typeof m||"string"==typeof m)&&(h=m+"")}return h}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const jk={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},mf=new a.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>jk}),Tb=new a.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),zk=new a.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function W3(n,t){return n=n?n.clone():new Db,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}const $k="inline",j3=["row","column","row-reverse","column-reverse"];function j4(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}let Io=(()=>{class n{constructor(e,i,l,h){this.elementRef=e,this.styleBuilder=i,this.styler=l,this.marshal=h,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new st.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const l=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,l)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const l=this.styleBuilder,h=l.shouldCache;let m=this.styleCache.get(e);(!m||!h)&&(m=l.buildStyles(e,i),h&&this.styleCache.set(e,m)),this.mru=Object.assign({},m),this.applyStyleToElement(m),l.sideEffect(e,m,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[l,h]=this.styler.getFlowDirection(e);if(!h&&i){const m=function(n){let[t,e,i]=function(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return j3.find(l=>l===t)||(t=j3[0]),e===$k&&(e=i!==$k?i:"",i=$k),[t,j4(e),!!i]}(n);return function(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}(l);this.styler.applyStyleToElements(m,[e])}return l.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,l=this.nativeElement){this.styler.applyStyleToElement(l,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const $4=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],z3="(orientation: portrait) and (max-width: 599.98px)",$3="(orientation: landscape) and (max-width: 959.98px)",Y3="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",q3="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Z3="(orientation: portrait) and (min-width: 840px)",K3="(orientation: landscape) and (min-width: 1280px)",I_={HANDSET:`${z3}, ${$3}`,TABLET:`${Y3} , ${q3}`,WEB:`${Z3}, ${K3} `,HANDSET_PORTRAIT:`${z3}`,TABLET_PORTRAIT:`${Y3} `,WEB_PORTRAIT:`${Z3}`,HANDSET_LANDSCAPE:`${$3}`,TABLET_LANDSCAPE:`${q3}`,WEB_LANDSCAPE:`${K3}`},Y4=[{alias:"handset",priority:2e3,mediaQuery:I_.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:I_.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:I_.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:I_.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:I_.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:I_.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:I_.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:I_.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:I_.WEB_PORTRAIT,overlapping:!0}],Z4=/(\.|-|_)/g;function K4(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}function X4(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?function(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}(e[i.alias],i):e[i.alias]=i}),function(n){return n.forEach(t=>{t.suffix||(t.suffix=function(n){return n.replace(Z4,"|").split("|").map(K4).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}const Q3=new a.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,a.f3M)(zk),t=(0,a.f3M)(mf),e=[].concat.apply([],(n||[]).map(l=>Array.isArray(l)?l:[l]));return X4((t.disableDefaultBps?[]:$4).concat(t.addOrientationBps?Y4:[]),e)}});function GR(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function eZ(n,t){return(n.priority||0)-(t.priority||0)}let BR=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(eZ)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let l=this.findByMap.get(e);return l||(l=this.items.find(i)||null,this.findByMap.set(e,l)),l||null}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q3))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(Q3))},token:n,providedIn:"root"}),n})(),WM=(()=>{class n{constructor(e,i,l){this._zone=e,this._platformId=i,this._document=l,this.source=new kr(new Db(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,l)=>{i.matches&&e.push(l)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(l=>l.matches)}observe(e,i=!1){if(e&&e.length){const l=this._observable$.pipe(On(m=>!i||e.indexOf(m.mediaQuery)>-1)),h=new ji.y(m=>{const v=this.registerQuery(e);if(v.length){const E=v.pop();v.forEach(T=>{m.next(T)}),this.source.next(E)}m.complete()});return(0,Nr.T)(h,l)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],l=[];return function(n,t){const e=n.filter(i=>!J3[i]);if(e.length>0){const i=e.join(", ");try{const l=t.createElement("style");l.setAttribute("type","text/css"),l.styleSheet||l.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(l),e.forEach(h=>J3[h]=l)}catch(l){console.error(l)}}}(i,this._document),i.forEach(h=>{const m=E=>{this._zone.run(()=>this.source.next(new Db(E.matches,h)))};let v=this.registry.get(h);v||(v=this.buildMQL(h),v.addListener(m),this.pendingRemoveListenerFns.push(()=>v.removeListener(m)),this.registry.set(h,v)),v.matches&&l.push(new Db(!0,h))}),l}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Xs(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(a.Lbi),a.LFG(fe))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(a.R0b),(0,a.LFG)(a.Lbi),(0,a.LFG)(fe))},token:n,providedIn:"root"}),n})();const J3={},YS="print",oZ={alias:YS,mediaQuery:YS,priority:1e3};let X3=(()=>{class n{constructor(e,i,l){this.breakpoints=e,this.layoutConfig=i,this._document=l,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new sZ,this.deactivations=[]}withPrintQuery(e){return[...e,YS]}isPrintEvent(e){return e.mediaQuery.startsWith(YS)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(GR)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),W3(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Db(!0,YS))),e.updateStyles())},l=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",l),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(l)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(GR))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(BR),a.LFG(mf),a.LFG(fe))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(BR),(0,a.LFG)(mf),(0,a.LFG)(fe))},token:n,providedIn:"root"}),n})();class sZ{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(oZ),t.sort(GR),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(n){return!!n&&n.mediaQuery.startsWith(YS)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function eU(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}let Qr=(()=>{class n{constructor(e,i,l,h){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=l,this.layoutConfig=h}applyStyleToElement(e,i,l=null){let h={};"string"==typeof i&&(h[i]=l,i=h),h=this.layoutConfig.disableVendorPrefixes?i:eU(i),this._applyMultiValueStyleToElement(h,e)}applyStyleToElements(e,i=[]){const l=this.layoutConfig.disableVendorPrefixes?e:eU(e);i.forEach(h=>{this._applyMultiValueStyleToElement(l,h)})}getFlowDirection(e){const i="flex-direction";let l=this.lookupStyle(e,i);return[l||"row",this.lookupInlineStyle(e,i)||ea(this._platformId)&&this._serverModuleLoaded?l:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return Xs(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,l=!1){let h="";return e&&((h=this.lookupInlineStyle(e,i))||(Xs(this._platformId)?l||(h=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(h=this._serverStylesheet.getStyleForElement(e,i)))),h?h.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(l=>{const h=e[l],m=Array.isArray(h)?h:[h];m.sort();for(let v of m)v=v?v+"":"",Xs(this._platformId)||!this._serverModuleLoaded?Xs(this._platformId)?i.style.setProperty(l,v):this._setServerStyle(i,l,v):this._serverStylesheet.addStyleToElement(i,l,v)})}_setServerStyle(e,i,l){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const h=this._readStyleAttribute(e);h[i]=l||"",this._writeStyleAttribute(e,h)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},l=e.getAttribute("style");if(l){const h=l.split(/;+/g);for(let m=0;m<h.length;m++){const v=h[m].trim();if(v.length>0){const E=v.indexOf(":");if(-1===E)throw new Error(`Invalid CSS style: ${v}`);i[v.substr(0,E).trim()]=v.substr(E+1).trim()}}}return i}_writeStyleAttribute(e,i){let l="";for(const h in i)i[h]&&(l+=h+":"+i[h]+";");e.setAttribute("style",l)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(U3),a.LFG(Tb),a.LFG(a.Lbi),a.LFG(mf))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(U3),(0,a.LFG)(Tb),(0,a.LFG)(a.Lbi),(0,a.LFG)(mf))},token:n,providedIn:"root"}),n})();class Cs{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}function tU(n,t="1",e="1"){let i=[t,e,n],l=n.indexOf("calc");if(l>0){i[2]=nU(n.substring(l).trim());let h=n.substr(0,l).trim().split(" ");2==h.length&&(i[0]=h[0],i[1]=h[1])}else if(0==l)i[2]=nU(n.trim());else{let h=n.split(" ");i=3===h.length?h:[t,e,n]}return i}function nU(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let xo=(()=>{class n{constructor(e,i,l){this.matchMedia=e,this.breakpoints=i,this.hook=l,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new st.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=W3(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(GR),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(GR),this.updateStyles()))}init(e,i,l,h,m=[]){iU(this.updateMap,e,i,l),iU(this.clearMap,e,i,h),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,m)}getValue(e,i,l){const h=this.elementMap.get(e);if(h){const m=void 0!==l?h.get(l):this.getActivatedValues(h,i);if(m)return m.get(i)}}hasValue(e,i){const l=this.elementMap.get(e);if(l){const h=this.getActivatedValues(l,i);if(h)return void 0!==h.get(i)||!1}return!1}setValue(e,i,l,h){let m=this.elementMap.get(e);if(m){const E=(m.get(h)||new Map).set(i,l);m.set(h,E),this.elementMap.set(e,m)}else m=(new Map).set(h,(new Map).set(i,l)),this.elementMap.set(e,m);const v=this.getValue(e,i);void 0!==v&&this.updateElement(e,i,v)}trackValue(e,i){return this.subject.asObservable().pipe(On(l=>l.element===e&&l.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const l=new Set(this.elementKeyMap.get(i));let h=this.getActivatedValues(e);h&&h.forEach((m,v)=>{this.updateElement(i,v,m),l.delete(v)}),l.forEach(m=>{if(h=this.getActivatedValues(e,m),h){const v=h.get(m);this.updateElement(i,m,v)}else this.clearElement(i,m)})})}clearElement(e,i){const l=this.clearMap.get(e);if(l){const h=l.get(i);h&&(h(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,l){const h=this.updateMap.get(e);if(h){const m=h.get(i);m&&(m(l),this.subject.next({element:e,key:i,value:l}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(h=>h.unsubscribe()),this.watcherMap.delete(e));const l=this.elementMap.get(e);l&&(l.forEach((h,m)=>l.delete(m)),this.elementMap.delete(e))}triggerUpdate(e,i){const l=this.elementMap.get(e);if(l){const h=this.getActivatedValues(l,i);h&&(i?this.updateElement(e,i,h.get(i)):h.forEach((m,v)=>this.updateElement(e,v,m)))}}buildElementKeyMap(e,i){let l=this.elementKeyMap.get(e);l||(l=new Set,this.elementKeyMap.set(e,l)),l.add(i)}watchExtraTriggers(e,i,l){if(l&&l.length){let h=this.watcherMap.get(e);if(h||(h=new Map,this.watcherMap.set(e,h)),!h.get(i)){const v=(0,Nr.T)(...l).subscribe(()=>{const E=this.getValue(e,i);this.updateElement(e,i,E)});h.set(i,v)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let h=0;h<this.activatedBreakpoints.length;h++){const v=e.get(this.activatedBreakpoints[h].alias);if(v&&(void 0===i||v.has(i)&&null!=v.get(i)))return v}const l=e.get("");return void 0===i||l&&l.has(i)?l:void 0}observeActivations(){const i=this.breakpoints.items.map(l=>l.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,fo.b)(this.hook.interceptEvents(this)),On(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(WM),a.LFG(BR),a.LFG(X3))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(WM),(0,a.LFG)(BR),(0,a.LFG)(X3))},token:n,providedIn:"root"}),n})();function iU(n,t,e,i){if(void 0!==i){let l=n.get(t);l||(l=new Map,n.set(t,l)),l.set(e,i)}}const Yk="inline",jM=["row","column","row-reverse","column-reverse"];function rU(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return jM.find(l=>l===t)||(t=jM[0]),e===Yk&&(e=i!==Yk?i:"",i=Yk),[t,uZ(e),!!i]}function VR(n){let[t]=rU(n);return t.indexOf("row")>-1}function uZ(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}let dZ=(()=>{class n extends Cs{buildStyles(e){return function(n){let[t,e,i]=rU(n);return function(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=(0,a.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const hZ=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let pZ=(()=>{class n extends Io{constructor(e,i,l,h){super(e,l,i,h),this.DIRECTIVE_KEY="layout",this.styleCache=fZ,this.init()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Qr),a.Y36(dZ),a.Y36(xo))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),oU=(()=>{class n extends pZ{constructor(){super(...arguments),this.inputs=hZ}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.qOj]}),n})();const fZ=new Map,sU={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let gZ=(()=>{class n extends Cs{constructor(e){super(),this._styler=e}buildStyles(e,i){return e.endsWith(zM)?function(n,t){const[e,i]=n.split(" "),h=T=>`-${T}`;let m="0px",v=h(i||e),E="0px";return"rtl"===t?E=h(e):m=h(e),{margin:`0px ${m} ${v} ${E}`}}(e=e.slice(0,e.indexOf(zM)),i.directionality):{}}sideEffect(e,i,l){const h=l.items;if(e.endsWith(zM)){const m=function(n,t){const[e,i]=n.split(" ");let h="0px",v="0px";return"rtl"===t?v=e:h=e,{padding:`0px ${h} ${i||e} ${v}`}}(e=e.slice(0,e.indexOf(zM)),l.directionality);this._styler.applyStyleToElements(m,l.items)}else{const m=h.pop(),v=function(n,t){const e=lU(t.directionality,t.layout),i=Object.assign({},sU);return i[e]=n,i}(e,l);this._styler.applyStyleToElements(v,h),this._styler.applyStyleToElements(sU,[m])}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qr))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(Qr))},token:n,providedIn:"root"}),n})();const mZ=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let _Z=(()=>{class n extends Io{constructor(e,i,l,h,m,v){super(e,m,h,v),this.zone=i,this.directionality=l,this.styleUtils=h,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new st.xQ;const E=[this.directionality.change,this.observerSubject.asObservable()];this.init(E),this.marshal.trackValue(this.nativeElement,"layout").pipe(Dt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let l=e.length;l--;)i[l]=e[l];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const l=e.value.split(" ");this.layout=l[0],jM.find(h=>h===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(l=>1===l.nodeType&&this.willDisplay(l)).sort((l,h)=>{const m=+this.styler.lookupStyle(l,"order"),v=+this.styler.lookupStyle(h,"order");return isNaN(m)||isNaN(v)||m===v?0:m>v?1:-1});if(i.length>0){const l=this.directionality.value,h=this.layout;"row"===h&&"rtl"===l?this.styleCache=yZ:"row"===h&&"rtl"!==l?this.styleCache=CZ:"column"===h&&"rtl"===l?this.styleCache=vZ:"column"===h&&"rtl"!==l&&(this.styleCache=wZ),this.addStyles(e,{directionality:l,items:i,layout:h})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":lU(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(l=>l.addedNodes&&l.addedNodes.length>0||l.removedNodes&&l.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(cr),a.Y36(Qr),a.Y36(gZ),a.Y36(xo))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),aU=(()=>{class n extends _Z{constructor(){super(...arguments),this.inputs=mZ}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[a.qOj]}),n})();const yZ=new Map,vZ=new Map,CZ=new Map,wZ=new Map,zM=" grid";function lU(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left";default:return"rtl"===n?"margin-left":"margin-right"}}function Tv(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}let DZ=(()=>{class n extends Cs{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[l,h,...m]=e.split(" "),v=m.join(" ");const E=i.direction.indexOf("column")>-1?"column":"row",T=VR(E)?"max-width":"max-height",M=VR(E)?"min-width":"min-height",F=String(v).indexOf("calc")>-1,V=F||"auto"===v,K=String(v).indexOf("%")>-1&&!F,re=String(v).indexOf("px")>-1||String(v).indexOf("rem")>-1||String(v).indexOf("em")>-1||String(v).indexOf("vw")>-1||String(v).indexOf("vh")>-1;let me=F||re;l="0"==l?0:l,h="0"==h?0:h;const Pe=!l&&!h;let Je={};const gt={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(v||""){case"":const Ut=!1!==this.layoutConfig.useColumnBasisZero;v="row"===E?"0%":Ut?"0.000000001px":"auto";break;case"initial":case"nogrow":l=0,v="auto";break;case"grow":v="100%";break;case"noshrink":h=0,v="auto";break;case"auto":break;case"none":l=0,h=0,v="auto";break;default:!me&&!K&&!isNaN(v)&&(v+="%"),"0%"===v&&(me=!0),"0px"===v&&(v="0%"),Je=Tv(gt,F?{"flex-grow":l,"flex-shrink":h,"flex-basis":me?v:"100%"}:{flex:`${l} ${h} ${me?v:"100%"}`})}return Je.flex||Je["flex-grow"]||(Je=Tv(gt,F?{"flex-grow":l,"flex-shrink":h,"flex-basis":v}:{flex:`${l} ${h} ${v}`})),"0%"!==v&&"0px"!==v&&"0.000000001px"!==v&&"auto"!==v&&(Je[M]=Pe||me&&l?v:null,Je[T]=Pe||!V&&h?v:null),Je[M]||Je[T]?i.hasWrap&&(Je[F?"flex-basis":"flex"]=Je[T]?F?Je[T]:`${l} ${h} ${Je[T]}`:F?Je[M]:`${l} ${h} ${Je[M]}`):Je=Tv(gt,F?{"flex-grow":l,"flex-shrink":h,"flex-basis":v}:{flex:`${l} ${h} ${v}`}),Tv(Je,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mf))},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n((0,a.LFG)(mf))},token:n,providedIn:"root"}),n})();const TZ=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let AZ=(()=>{class n extends Io{constructor(e,i,l,h,m){super(e,h,i,m),this.layoutConfig=l,this.marshal=m,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Dt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Dt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const l=e.value.split(" ");this.direction=l[0],this.wrap=void 0!==l[1]&&"wrap"===l[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const l=this.direction,h=l.startsWith("row"),m=this.wrap;h&&m?this.styleCache=xZ:h&&!m?this.styleCache=RZ:!h&&m?this.styleCache=OZ:!h&&!m&&(this.styleCache=IZ);const E=tU(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(E.join(" "),{direction:l,hasWrap:m})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=tU(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Qr),a.Y36(mf),a.Y36(DZ),a.Y36(xo))},n.\u0275dir=a.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[a.qOj]}),n})(),$M=(()=>{class n extends AZ{constructor(){super(...arguments),this.inputs=TZ}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[a.qOj]}),n})();const RZ=new Map,IZ=new Map,xZ=new Map,OZ=new Map;let eK=(()=>{class n extends Cs{buildStyles(e,i){const l={},[h,m]=e.split(" ");switch(h){case"center":l["justify-content"]="center";break;case"space-around":l["justify-content"]="space-around";break;case"space-between":l["justify-content"]="space-between";break;case"space-evenly":l["justify-content"]="space-evenly";break;case"end":case"flex-end":l["justify-content"]="flex-end";break;case"start":case"flex-start":default:l["justify-content"]="flex-start"}switch(m){case"start":case"flex-start":l["align-items"]=l["align-content"]="flex-start";break;case"center":l["align-items"]=l["align-content"]="center";break;case"end":case"flex-end":l["align-items"]=l["align-content"]="flex-end";break;case"space-between":l["align-content"]="space-between",l["align-items"]="stretch";break;case"space-around":l["align-content"]="space-around",l["align-items"]="stretch";break;case"baseline":l["align-content"]="stretch",l["align-items"]="baseline";break;case"stretch":default:l["align-items"]=l["align-content"]="stretch"}return Tv(l,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===m?VR(i.layout)?null:"100%":null,"max-height":"stretch"===m&&VR(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=(0,a.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const tK=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let nK=(()=>{class n extends Io{constructor(e,i,l,h){super(e,l,i,h),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Dt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",l=this.inline;"row"===i&&l?this.styleCache=aK:"row"!==i||l?"row-reverse"===i&&l?this.styleCache=uK:"row-reverse"!==i||l?"column"===i&&l?this.styleCache=lK:"column"!==i||l?"column-reverse"===i&&l?this.styleCache=cK:"column-reverse"===i&&!l&&(this.styleCache=sK):this.styleCache=rK:this.styleCache=oK:this.styleCache=iK,this.addStyles(e,{layout:i,inline:l})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),jM.find(l=>l===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Qr),a.Y36(eK),a.Y36(xo))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),qk=(()=>{class n extends nK{constructor(){super(...arguments),this.inputs=tK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[a.qOj]}),n})();const iK=new Map,rK=new Map,oK=new Map,sK=new Map,aK=new Map,lK=new Map,uK=new Map,cK=new Map;let Zk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Wk,Bg]]}),n})(),vK=(()=>{class n extends Cs{buildStyles(e,i){return{display:"true"===e?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=(0,a.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})(),CK=(()=>{class n extends Io{constructor(e,i,l,h,m,v,E){super(e,i,l,h),this.layoutConfig=m,this.platformId=v,this.serverModuleLoaded=E,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let l=0;l<e.length;l++)if(this.marshal.hasValue(e[l],"flex")){this.hasFlexChild=!0;break}Kk.has(this.nativeElement)?this.display=Kk.get(this.nativeElement):(this.display=this.getDisplayStyle(),Kk.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const l=i.split("."),h=l.slice(1).join("."),m=e[i].currentValue;let v=""===m||0!==m&&Ht(m);"fxHide"===l[0]&&(v=!v),this.setValue(v,h)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe(Dt(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const i=ea(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(vK),a.Y36(Qr),a.Y36(xo),a.Y36(mf),a.Y36(a.Lbi),a.Y36(Tb))},n.\u0275dir=a.lG2({type:n,features:[a.qOj,a.TTD]}),n})();const Kk=new WeakMap,wK=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let uU=(()=>{class n extends CK{constructor(){super(...arguments),this.inputs=wK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[a.qOj]}),n})(),gU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Wk]]}),n})();var RK=j(9105);function Jr(n,t,e,i){return(0,RK.m)(e)&&(i=e,e=void 0),i?Jr(n,t,e).pipe((0,Ct.U)(l=>(0,eb.k)(l)?i(...l):i(l))):new ji.y(l=>{mU(n,t,function(m){l.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},l,e)})}function mU(n,t,e,i,l){let h;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const m=n;n.addEventListener(t,e,l),h=()=>m.removeEventListener(t,e,l)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const m=n;n.on(t,e),h=()=>m.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const m=n;n.addListener(t,e),h=()=>m.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let m=0,v=n.length;m<v;m++)mU(n[m],t,e,i,l)}i.add(h)}var _U=j(6561);function YM(n=0,t,e){let i=-1;return(0,_U.k)(t)?i=Number(t)<1?1:Number(t):(0,aS.K)(t)&&(e=t),(0,aS.K)(e)||(e=bh.P),new ji.y(l=>{const h=(0,_U.k)(n)?n:+n-e.now();return e.schedule(MK,h,{index:0,period:i,subscriber:l})})}function MK(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function yU(...n){if(1===n.length){if(!(0,eb.k)(n[0]))return n[0];n=n[0]}return(0,vO.n)(n,void 0).lift(new PK)}class PK{call(t,e){return e.subscribe(new NK(t))}}class NK extends $C{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const h=Gc(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(h),this.add(h)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let l=0;l<this.subscriptions.length;l++)if(l!==i){let h=this.subscriptions[l];h.unsubscribe(),this.remove(h)}this.subscriptions=null}this.destination.next(e)}}var FK=j(8640);new ji.y(FK.Z);var qM=j(377);function ZM(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,vO.n)(n,void 0).lift(new kK(t))}class kK{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new LK(t,this.resultSelector))}}class LK extends $o.L{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,eb.k)(t)?e.push(new BK(t)):e.push("function"==typeof t[qM.hZ]?new GK(t[qM.hZ]()):new VK(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let l=t[i];l.stillUnsubscribed?this.destination.add(l.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let m=0;m<e;m++){let v=t[m];if("function"==typeof v.hasValue&&!v.hasValue())return}let l=!1;const h=[];for(let m=0;m<e;m++){let v=t[m],E=v.next();if(v.hasCompleted()&&(l=!0),E.done)return void i.complete();h.push(E.value)}this.resultSelector?this._tryresultSelector(h):i.next(h),l&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class GK{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class BK{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[qM.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class VK extends Va.Ds{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[qM.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,Va.ft)(this.observable,new Va.IY(this))}}var CU=j(3098);class WK{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Qk(t,this.delay,this.scheduler))}}class Qk extends $o.L{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,l=t.scheduler,h=t.destination;for(;i.length>0&&i[0].time-l.now()<=0;)i.shift().notification.observe(h);if(i.length>0){const m=Math.max(0,i[0].time-l.now());this.schedule(t,m)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Qk.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new jK(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(CU.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(CU.P.createComplete()),this.unsubscribe()}}class jK{constructor(t,e){this.time=t,this.notification=e}}var zK=j(1555);function KM(n,t){return new ji.y(e=>{const i=n.length;if(0===i)return void e.complete();const l=new Array(i);let h=0,m=0;for(let v=0;v<i;v++){const E=(0,Ii.D)(n[v]);let T=!1;e.add(E.subscribe({next:M=>{T||(T=!0,m++),l[v]=M},error:M=>e.error(M),complete:()=>{h++,(h===i||!T)&&(m===i&&e.next(t?t.reduce((M,F,V)=>(M[F]=l[V],M),{}):l),e.complete())}}))}})}let EU=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Ab=(()=>{class n extends EU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Jo=new a.OlP("NgValueAccessor"),YK={provide:Jo,useExisting:(0,a.Gpc)(()=>qS),multi:!0},ZK=new a.OlP("CompositionEventMode");let qS=(()=>{class n extends EU{constructor(e,i,l){super(e,i),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Z()?Z().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ZK,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(h){return i._handleInput(h.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(h){return i._compositionEnd(h.target.value)})},features:[a._Bn([YK]),a.qOj]}),n})();function Av(n){return null==n||0===n.length}function DU(n){return null!=n&&"number"==typeof n.length}const ws=new a.OlP("NgValidators"),Rv=new a.OlP("NgAsyncValidators"),KK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _f{static min(t){return function(n){return t=>{if(Av(t.value)||Av(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Av(t.value)||Av(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return Av(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Av(n.value)||KK.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Av(t.value)||!DU(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>DU(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Iv;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Av(i.value))return null;const l=i.value;return t.test(l)?null:{pattern:{requiredPattern:e,actualValue:l}}}}(t)}static nullValidator(t){return null}static compose(t){return BU(t)}static composeAsync(t){return VU(t)}}function Iv(n){return null}function NU(n){return null!=n}function FU(n){const t=(0,a.QGY)(n)?(0,Ii.D)(n):n;return(0,a.CqO)(t),t}function kU(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function LU(n,t){return t.map(e=>e(n))}function GU(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function BU(n){if(!n)return null;const t=n.filter(NU);return 0==t.length?null:function(e){return kU(LU(e,t))}}function Jk(n){return null!=n?BU(GU(n)):null}function VU(n){if(!n)return null;const t=n.filter(NU);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,eb.k)(t))return KM(t,null);if((0,zK.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return KM(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return KM(n=1===n.length&&(0,eb.k)(n[0])?n[0]:n,null).pipe((0,Ct.U)(e=>t(...e)))}return KM(n,null)}(LU(e,t).map(FU)).pipe((0,Ct.U)(kU))}}function Xk(n){return null!=n?VU(GU(n)):null}function HU(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function UU(n){return n._rawValidators}function WU(n){return n._rawAsyncValidators}function eL(n){return n?Array.isArray(n)?n:[n]:[]}function QM(n,t){return Array.isArray(n)?n.includes(t):n===t}function jU(n,t){const e=eL(t);return eL(n).forEach(l=>{QM(e,l)||e.push(l)}),e}function zU(n,t){return eL(t).filter(e=>!QM(n,e))}let $U=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})(),hu=(()=>{class n extends $U{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();class yf extends $U{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YU{constructor(t){this._cd=t}is(t){var e,i,l;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===l?void 0:l[t])}}let HR=(()=>{class n extends YU{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yf,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),tL=(()=>{class n extends YU{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function UR(n,t){rL(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qU(n,t)})}(n,t),function(n,t){const e=(i,l)=>{t.valueAccessor.writeValue(i),l&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qU(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function eP(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),nP(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tP(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function rL(n,t){const e=UU(n);null!==t.validator?n.setValidators(HU(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=WU(n);null!==t.asyncValidator?n.setAsyncValidators(HU(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const l=()=>n.updateValueAndValidity();tP(t._rawValidators,l),tP(t._rawAsyncValidators,l)}function nP(n,t){let e=!1;if(null!==n){if(null!==t.validator){const l=UU(n);if(Array.isArray(l)&&l.length>0){const h=l.filter(m=>m!==t.validator);h.length!==l.length&&(e=!0,n.setValidators(h))}}if(null!==t.asyncValidator){const l=WU(n);if(Array.isArray(l)&&l.length>0){const h=l.filter(m=>m!==t.asyncValidator);h.length!==l.length&&(e=!0,n.setAsyncValidators(h))}}}const i=()=>{};return tP(t._rawValidators,i),tP(t._rawAsyncValidators,i),e}function qU(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ZU(n,t){rL(n,t)}function oL(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function KU(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function sL(n,t){if(!t)return null;let e,i,l;return Array.isArray(t),t.forEach(h=>{h.constructor===qS?e=h:function(n){return Object.getPrototypeOf(n.constructor)===Ab}(h)?i=h:l=h}),l||i||e||null}function iP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const WR="VALID",rP="INVALID",ZS="PENDING",jR="DISABLED";function aL(n){return(uL(n)?n.validators:n)||null}function QU(n){return Array.isArray(n)?Jk(n):n||null}function lL(n,t){return(uL(t)?t.asyncValidators:n)||null}function JU(n){return Array.isArray(n)?Xk(n):n||null}function uL(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class cL{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=QU(this._rawValidators),this._composedAsyncValidatorFn=JU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===WR}get invalid(){return this.status===rP}get pending(){return this.status==ZS}get disabled(){return this.status===jR}get enabled(){return this.status!==jR}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=QU(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=JU(t)}addValidators(t){this.setValidators(jU(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jU(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zU(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zU(t,this._rawAsyncValidators))}hasValidator(t){return QM(this._rawValidators,t)}hasAsyncValidator(t){return QM(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ZS,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jR,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=WR,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===WR||this.status===ZS)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jR:WR}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ZS,this._hasOwnPendingAsyncValidator=!0;const e=FU(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(l=>{i=i instanceof KS?i.controls.hasOwnProperty(l)?i.controls[l]:null:i instanceof dL&&i.at(l)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?jR:this.errors?rP:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ZS)?ZS:this._anyControlsHaveStatus(rP)?rP:WR}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){uL(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Kh extends cL{constructor(t=null,e,i){super(aL(e),lL(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class KS extends cL{constructor(t,e,i){super(aL(e),lL(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,l)=>{i.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Kh?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((l,h)=>{i=e(i,l,h)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class dL extends cL{constructor(t,e,i){super(aL(e),lL(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,l)=>{this.at(l)&&this.at(l).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,l)=>{i.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Kh?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const u7={provide:hu,useExisting:(0,a.Gpc)(()=>xv)},zR=(()=>Promise.resolve(null))();let xv=(()=>{class n extends hu{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new KS({},Jk(e),Xk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zR.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),UR(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zR.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),iP(this._directives,e)})}addFormGroup(e){zR.then(()=>{const i=this._findContainer(e.path),l=new KS({});ZU(l,e),i.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zR.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){zR.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,KU(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ws,10),a.Y36(Rv,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(h){return i.onSubmit(h)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([u7]),a.qOj]}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const h7={provide:Jo,useExisting:(0,a.Gpc)(()=>pL),multi:!0};let pL=(()=>{class n extends Ab{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(h){return i.onChange(h.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([h7]),a.qOj]}),n})(),iW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const fL=new a.OlP("NgModelWithFormControlWarning"),m7={provide:yf,useExisting:(0,a.Gpc)(()=>oP)};let oP=(()=>{class n extends yf{constructor(e,i,l,h){super(),this._ngModelWarningConfig=h,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=sL(0,l)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&eP(i,this,!1),UR(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}oL(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&eP(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ws,10),a.Y36(Rv,10),a.Y36(Jo,10),a.Y36(fL,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([m7]),a.qOj,a.TTD]}),n._ngModelWarningSentOnce=!1,n})();const _7={provide:hu,useExisting:(0,a.Gpc)(()=>Hg)};let Hg=(()=>{class n extends hu{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nP(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return UR(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){eP(e.control||null,e,!1),iP(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,KU(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,l=this.form.get(e.path);i!==l&&(eP(i||null,e),l instanceof Kh&&(UR(l,e),e.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);ZU(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return nP(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rL(this.form,this),this._oldForm&&nP(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ws,10),a.Y36(Rv,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(h){return i.onSubmit(h)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([_7]),a.qOj,a.TTD]}),n})();const C7={provide:yf,useExisting:(0,a.Gpc)(()=>sP)};let sP=(()=>{class n extends yf{constructor(e,i,l,h,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(l),this.valueAccessor=sL(0,h)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),oL(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hu,13),a.Y36(ws,10),a.Y36(Rv,10),a.Y36(Jo,10),a.Y36(fL,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([C7]),a.qOj,a.TTD]}),n._ngModelWarningSentOnce=!1,n})();const w7={provide:Jo,useExisting:(0,a.Gpc)(()=>$R),multi:!0};function aW(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let $R=(()=>{class n extends Ab{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const l=aW(i,e);this.setProperty("value",l)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&a.NdJ("change",function(h){return i.onChange(h.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([w7]),a.qOj]}),n})(),aP=(()=>{class n{constructor(e,i,l){this._element=e,this._renderer=i,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(aW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36($R,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const E7={provide:Jo,useExisting:(0,a.Gpc)(()=>_L),multi:!0};function lW(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let _L=(()=>{class n extends Ab{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const l=e.map(h=>this._getOptionId(h));i=(h,m)=>{h._setSelected(l.indexOf(m.toString())>-1)}}else i=(l,h)=>{l._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const l=[];if(void 0!==i.selectedOptions){const h=i.selectedOptions;for(let m=0;m<h.length;m++){const v=h.item(m),E=this._getOptionValue(v.value);l.push(E)}}else{const h=i.options;for(let m=0;m<h.length;m++){const v=h.item(m);if(v.selected){const E=this._getOptionValue(v.value);l.push(E)}}}this.value=l,e(l)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&a.NdJ("change",function(h){return i.onChange(h.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([E7]),a.qOj]}),n})(),lP=(()=>{class n{constructor(e,i,l){this._element=e,this._renderer=i,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(lW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(lW(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(_L,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[iW]]}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_W]}),n})(),vW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fL,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_W]}),n})(),N7=(()=>{class n{group(e,i=null){const l=this._reduceControls(e);let v,h=null,m=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(h=null!=i.validators?i.validators:null,m=null!=i.asyncValidators?i.asyncValidators:null,v=null!=i.updateOn?i.updateOn:void 0):(h=null!=i.validator?i.validator:null,m=null!=i.asyncValidator?i.asyncValidator:null)),new KS(l,{asyncValidators:m,updateOn:v,validators:h})}control(e,i,l){return new Kh(e,i,l)}array(e,i,l){const h=e.map(m=>this._createControl(m));return new dL(h,i,l)}_reduceControls(e){const i={};return Object.keys(e).forEach(l=>{i[l]=this._createControl(e[l])}),i}_createControl(e){return e instanceof Kh||e instanceof KS||e instanceof dL?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n},token:n,providedIn:vW}),n})();const QS=["*"],bQ=["dialog"];function RQ(n,t){1&n&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function IQ(n,t){1&n&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function xQ(n,t){1&n&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function OQ(n,t){1&n&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function MQ(n,t){1&n&&a._uU(0,"...")}function PQ(n,t){1&n&&(a.TgZ(0,"span",15),a._uU(1,"(current)"),a.qZA())}function NQ(n,t){if(1&n&&(a._uU(0),a.YNc(1,PQ,2,0,"span",14)),2&n){const e=t.$implicit,i=t.currentPage;a.hij(" ",e," "),a.xp6(1),a.Q6J("ngIf",e===i)}}function FQ(n,t){}const kQ=function(n){return{disabled:!0,currentPage:n}};function LQ(n,t){if(1&n&&(a.TgZ(0,"a",20),a.YNc(1,FQ,0,0,"ng-template",8),a.qZA()),2&n){const e=a.oxw(2).$implicit,i=a.oxw(),l=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||l)("ngTemplateOutletContext",a.VKq(2,kQ,e))}}function GQ(n,t){}const BQ=function(n,t,e){return{disabled:n,$implicit:t,currentPage:e}};function VQ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",21),a.NdJ("click",function(l){a.CHM(e);const h=a.oxw().$implicit;return a.oxw(2).selectPage(h),l.preventDefault()}),a.YNc(1,GQ,0,0,"ng-template",8),a.qZA()}if(2&n){const e=a.oxw().$implicit,i=a.oxw(),l=i.disabled,h=i.$implicit,m=a.oxw(),v=a.MAs(11);a.uIk("tabindex",l?"-1":null)("aria-disabled",l?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==m.tplNumber?null:m.tplNumber.templateRef)||v)("ngTemplateOutletContext",a.kEZ(4,BQ,l,e,h))}}function HQ(n,t){if(1&n&&(a.TgZ(0,"li",17),a.YNc(1,LQ,2,4,"a",18),a.YNc(2,VQ,2,8,"a",19),a.qZA()),2&n){const e=t.$implicit,i=a.oxw(),l=i.$implicit,h=i.disabled,m=a.oxw();a.ekj("active",e===l)("disabled",m.isEllipsis(e)||h),a.uIk("aria-current",e===l?"page":null),a.xp6(1),a.Q6J("ngIf",m.isEllipsis(e)),a.xp6(1),a.Q6J("ngIf",!m.isEllipsis(e))}}function UQ(n,t){1&n&&a.YNc(0,HQ,3,7,"li",16),2&n&&a.Q6J("ngForOf",t.pages)}function WQ(n,t){}const CL=function(n,t){return{disabled:n,currentPage:t}};function jQ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",17),a.TgZ(1,"a",22),a.NdJ("click",function(l){return a.CHM(e),a.oxw().selectPage(1),l.preventDefault()}),a.YNc(2,WQ,0,0,"ng-template",8),a.qZA(),a.qZA()}if(2&n){const e=a.oxw(),i=a.MAs(1);a.ekj("disabled",e.previousDisabled()),a.xp6(1),a.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",a.WLB(6,CL,e.previousDisabled(),e.page))}}function zQ(n,t){}const $Q=function(n){return{disabled:n}};function YQ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",17),a.TgZ(1,"a",23),a.NdJ("click",function(l){a.CHM(e);const h=a.oxw();return h.selectPage(h.page-1),l.preventDefault()}),a.YNc(2,zQ,0,0,"ng-template",8),a.qZA(),a.qZA()}if(2&n){const e=a.oxw(),i=a.MAs(3);a.ekj("disabled",e.previousDisabled()),a.xp6(1),a.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",a.VKq(6,$Q,e.previousDisabled()))}}function qQ(n,t){}function ZQ(n,t){}function KQ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",17),a.TgZ(1,"a",24),a.NdJ("click",function(l){a.CHM(e);const h=a.oxw();return h.selectPage(h.page+1),l.preventDefault()}),a.YNc(2,ZQ,0,0,"ng-template",8),a.qZA(),a.qZA()}if(2&n){const e=a.oxw(),i=a.MAs(5);a.ekj("disabled",e.nextDisabled()),a.xp6(1),a.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",a.WLB(6,CL,e.nextDisabled(),e.page))}}function QQ(n,t){}function JQ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",17),a.TgZ(1,"a",25),a.NdJ("click",function(l){a.CHM(e);const h=a.oxw();return h.selectPage(h.pageCount),l.preventDefault()}),a.YNc(2,QQ,0,0,"ng-template",8),a.qZA(),a.qZA()}if(2&n){const e=a.oxw(),i=a.MAs(7);a.ekj("disabled",e.nextDisabled()),a.xp6(1),a.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",a.WLB(6,CL,e.nextDisabled(),e.page))}}const XQ=function(n,t,e){return{$implicit:n,pages:t,disabled:e}};function Xo(n){return!isNaN(function(n){return parseInt(`${n}`,10)}(n))}function Ov(n){return null!=n}function XS(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const bW={animation:!0,transitionTimerDelayMs:5};let Ja=(()=>{class n{constructor(){this.animation=bW.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const N9=()=>{},{transitionTimerDelayMs:F9}=bW,qR=new Map,va=(n,t,e,i)=>{let l=i.context||{};const h=qR.get(t);if(h)switch(i.runningTransition){case"continue":return Fc.E;case"stop":n.run(()=>h.transition$.complete()),l=Object.assign(h.context,l),qR.delete(t)}const m=e(t,i.animation,l)||N9;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>m()),(0,It.of)(void 0).pipe(function(n){return t=>new ji.y(e=>t.subscribe(m=>n.run(()=>e.next(m)),m=>n.run(()=>e.error(m)),()=>n.run(()=>e.complete())))}(n));const v=new st.xQ,E=new st.xQ,T=v.pipe(function(...n){return t=>tb(t,(0,It.of)(...n))}(!0));qR.set(t,{transition$:v,complete:()=>{E.next(),E.complete()},context:l});const M=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const F=Jr(t,"transitionend").pipe(Dt(T),On(({target:K})=>K===t));yU(YM(M+F9).pipe(Dt(T)),F,E).pipe(Dt(T)).subscribe(()=>{qR.delete(t),n.run(()=>{m(),v.next(),v.complete()})})}),v.asObservable()};let AW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),RW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),xW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),PW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),NW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var yi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(yi||(yi={})),yi))();const gP=(n,t)=>!!t&&t.some(e=>e.contains(n)),GW=(n,t)=>!t||null!=function(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),gJ="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function KR(n,t,e,i,l,h,m,v){e&&n.runOutsideAngular((n=>gJ?()=>setTimeout(()=>n(),100):n)(()=>{const T=Jr(t,"keydown").pipe(Dt(l),On(V=>V.which===yi.Escape),(0,fo.b)(V=>V.preventDefault())),M=Jr(t,"mousedown").pipe((0,Ct.U)(V=>{const K=V.target;return 2!==V.button&&!gP(K,m)&&("inside"===e?gP(K,h)&&GW(K,v):"outside"===e?!gP(K,h):GW(K,v)||!gP(K,h))}),Dt(l)),F=Jr(t,"mouseup").pipe(vy(M),On(([V,K])=>K),function(n,t=bh.P){const i=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return l=>l.lift(new WK(i,t))}(0),Dt(l));yU([T.pipe((0,Ct.U)(V=>0)),F.pipe((0,Ct.U)(V=>1))]).subscribe(V=>n.run(()=>i(V)))}))}const BW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function VW(n){const t=Array.from(n.querySelectorAll(BW)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const yJ=/\s+/,UW=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,l={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const h=this.offsetParent(t);i=this.offset(t,!1),h!==document.documentElement&&(l=this.offset(h,!1)),l.top+=h.clientTop,l.left+=h.clientLeft}return i.top-=l.top,i.bottom-=l.top,i.left-=l.left,i.right-=l.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),l_top=window.pageYOffset-document.documentElement.clientTop,l_left=window.pageXOffset-document.documentElement.clientLeft;let h={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+l_top,bottom:i.bottom+l_top,left:i.left+l_left,right:i.right+l_left};return e&&(h.height=Math.round(h.height),h.width=Math.round(h.width),h.top=Math.round(h.top),h.bottom=Math.round(h.bottom),h.left=Math.round(h.left),h.right=Math.round(h.right)),h}positionElements(t,e,i,l){const[h="top",m="center"]=i.split("-"),v=l?this.offset(t,!1):this.position(t,!1),E=this.getAllStyles(e),T=parseFloat(E.marginTop),M=parseFloat(E.marginBottom),F=parseFloat(E.marginLeft),V=parseFloat(E.marginRight);let K=0,re=0;switch(h){case"top":K=v.top-(e.offsetHeight+T+M);break;case"bottom":K=v.top+v.height;break;case"left":re=v.left-(e.offsetWidth+F+V);break;case"right":re=v.left+v.width}switch(m){case"top":K=v.top;break;case"bottom":K=v.top+v.height-e.offsetHeight;break;case"left":re=v.left;break;case"right":re=v.left+v.width-e.offsetWidth;break;case"center":"top"===h||"bottom"===h?re=v.left+v.width/2-e.offsetWidth/2:K=v.top+v.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(re)}px, ${Math.round(K)}px)`;const me=e.getBoundingClientRect(),Pe=document.documentElement,Je=window.innerHeight||Pe.clientHeight,gt=window.innerWidth||Pe.clientWidth;return me.left>=0&&me.top>=0&&me.right<=gt&&me.bottom<=Je}};new Date(1882,10,12),new Date(2174,10,25);let KW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi,yW]]}),n})(),xJ=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),QW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),JW=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),ML=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36((0,a.Gpc)(()=>eI)),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,l){if(1&e&&a.Suo(l,JW,4),2&e){let h;a.iGM(h=a.CRH())&&(i.menuItems=h)}},hostVars:5,hostBindings:function(e,i){1&e&&a.NdJ("keydown.ArrowUp",function(h){return i.dropdown.onKeyDown(h)})("keydown.ArrowDown",function(h){return i.dropdown.onKeyDown(h)})("keydown.Home",function(h){return i.dropdown.onKeyDown(h)})("keydown.End",function(h){return i.dropdown.onKeyDown(h)})("keydown.Enter",function(h){return i.dropdown.onKeyDown(h)})("keydown.Space",function(h){return i.dropdown.onKeyDown(h)})("keydown.Tab",function(h){return i.dropdown.onKeyDown(h)})("keydown.Shift.Tab",function(h){return i.dropdown.onKeyDown(h)}),2&e&&(a.uIk("x-placement",i.placement),a.ekj("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),vP=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36((0,a.Gpc)(()=>eI)),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("aria-expanded",i.dropdown.isOpen())}}),n})(),XW=(()=>{class n extends vP{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36((0,a.Gpc)(()=>eI)),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(h){return i.dropdown.onKeyDown(h)})("keydown.ArrowDown",function(h){return i.dropdown.onKeyDown(h)})("keydown.Home",function(h){return i.dropdown.onKeyDown(h)})("keydown.End",function(h){return i.dropdown.onKeyDown(h)})("keydown.Tab",function(h){return i.dropdown.onKeyDown(h)})("keydown.Shift.Tab",function(h){return i.dropdown.onKeyDown(h)}),2&e&&a.uIk("aria-expanded",i.dropdown.isOpen())},features:[a._Bn([{provide:vP,useExisting:(0,a.Gpc)(()=>n)}]),a.qOj]}),n})(),eI=(()=>{class n{constructor(e,i,l,h,m,v,E){this._changeDetector=e,this._document=l,this._ngZone=h,this._elementRef=m,this._renderer=v,this._closed$=new st.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new a.vpe,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=E?"static":"dynamic",this._zoneSubscription=h.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Bn(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:l}=e.dropdownClass;this._applyCustomDropdownClass(i,l)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){KR(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,l=this._getMenuElements();let h=-1,m=null;const v=this._isEventFromToggle(e);if(!v&&l.length&&l.forEach((E,T)=>{E.contains(e.target)&&(m=E),E===this._document.activeElement&&(h=T)}),i!==yi.Space&&i!==yi.Enter){if(i!==yi.Tab){if(v||m){if(this.open(),l.length){switch(i){case yi.ArrowDown:h=Math.min(h+1,l.length-1);break;case yi.ArrowUp:if(this._isDropup()&&-1===h){h=l.length-1;break}h=Math.max(h-1,0);break;case yi.Home:h=0;break;case yi.End:h=l.length-1}l[h].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const E=this._menu.nativeElement.querySelectorAll(BW);e.shiftKey&&e.target===E[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===E[E.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Jr(e.target,"focusout").pipe(Bn(1)).subscribe(({relatedTarget:E})=>{this._elementRef.nativeElement.contains(E)||this.close()})}}else m&&(!0===this.autoClose||"inside"===this.autoClose)&&Jr(m,"click").pipe(Bn(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function(n,t,e,i,l){let h=Array.isArray(e)?e:e.split(yJ);const m=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],v=t.classList,E=K=>{const[re,me]=K.split("-"),Pe=[];return l&&(Pe.push(`${l}-${re}`),me&&Pe.push(`${l}-${re}-${me}`),Pe.forEach(Je=>{v.add(Je)})),Pe};l&&m.forEach(K=>{v.remove(`${l}-${K}`)});let T=h.findIndex(K=>"auto"===K);T>=0&&m.forEach(function(K){null==h.find(re=>-1!==re.search("^"+K))&&h.splice(T++,1,K)});const M=t.style;M.position="absolute",M.top="0",M.left="0",M["will-change"]="transform";let F=null,V=!1;for(F of h){let K=E(F);if(UW.positionElements(n,t,F,i)){V=!0;break}l&&K.forEach(re=>{v.remove(re)})}return V||(F=h[0],E(F),UW.positionElements(n,t,F,i)),F}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const l=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,l),e.removeStyle(l,"position"),e.removeStyle(l,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,l=this._menu.nativeElement,h=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(h,"position","absolute"),i.setStyle(l,"position","static"),i.setStyle(h,"z-index","1050"),i.appendChild(h,l),i.appendChild(this._document.body,h)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const l="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;l&&(i&&this._renderer.removeClass(l,i),e&&this._renderer.addClass(l,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const l=this._renderer,h=this._elementRef.nativeElement;l.removeClass(h,"dropup"),l.removeClass(h,"dropdown"),i.placement="static"===this.display?null:e;const m=-1!==e.search("^top")?"dropup":"dropdown";l.addClass(h,m);const v=this._bodyContainer;v&&(l.removeClass(v,"dropup"),l.removeClass(v,"dropdown"),l.addClass(v,m))}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(xJ),a.Y36(fe),a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(QW,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,l){if(1&e&&(a.Suo(l,ML,5),a.Suo(l,vP,5)),2&e){let h;a.iGM(h=a.CRH())&&(i._menu=h.first),a.iGM(h=a.CRH())&&(i._anchor=h.first)}},hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("show",i.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[a.TTD]}),n})(),ej=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),tj=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ja))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Ja))},token:n,providedIn:"root"}),n})();class Mb{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const OJ=()=>{};let nj=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):OJ}_adjustBody(e){const i=this._document.body,l=i.style.paddingRight,h=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${h+e}px`,()=>i.style["padding-right"]=l}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const l=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),l}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(fe))},token:n,providedIn:"root"}),n})(),MJ=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Bn(1)).subscribe(()=>{va(this._zone,this._el.nativeElement,(e,i)=>{i&&XS(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return va(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(a.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),a.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class ij{close(t){}dismiss(t){}}class PJ{constructor(t,e,i,l){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=l,this._closed=new st.xQ,this._dismissed=new st.xQ,this._hidden=new st.xQ,t.instance.dismissEvent.subscribe(h=>{this.dismiss(h)}),this.result=new Promise((h,m)=>{this._resolve=h,this._reject=m}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,It.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ZM(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var tI=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(tI||(tI={})),tI))();let NJ=(()=>{class n{constructor(e,i,l){this._document=e,this._elRef=i,this._zone=l,this._closed$=new st.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new st.xQ,this.hidden=new st.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Bn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},m=ZM(va(this._zone,e,()=>e.classList.remove("show"),i),va(this._zone,this._dialogEl.nativeElement,()=>{},i));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const e={animation:this.animation,runningTransition:"continue"};ZM(va(this._zone,this._elRef.nativeElement,(h,m)=>{m&&XS(h),h.classList.add("show")},e),va(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Jr(e,"keydown").pipe(Dt(this._closed$),On(l=>l.which===yi.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(tI.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Jr(this._dialogEl.nativeElement,"mousedown").pipe(Dt(this._closed$),(0,fo.b)(()=>i=!1),Pr(()=>Jr(e,"mouseup").pipe(Dt(this._closed$),Bn(1))),On(({target:l})=>e===l)).subscribe(()=>{i=!0}),Jr(e,"click").pipe(Dt(this._closed$)).subscribe(({target:l})=>{e===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(tI.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),l=VW(e)[0];(i||l||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let l;l=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&va(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(fe),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&a.Gf(bQ,7),2&e){let l;a.iGM(l=a.CRH())&&(i._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),a.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),a.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:QS,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.TgZ(2,"div",2),a.Hsn(3),a.qZA(),a.qZA()),2&e&&a.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),rj=(()=>{class n{constructor(e,i,l,h,m,v){this._applicationRef=e,this._injector=i,this._document=l,this._scrollBar=h,this._rendererFactory=m,this._ngZone=v,this._activeWindowCmptHasChanged=new st.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const E=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const l=Jr(t,"focusin").pipe(Dt(e),(0,Ct.U)(h=>h.target));Jr(t,"keydown").pipe(Dt(e),On(h=>h.which===yi.Tab),vy(l)).subscribe(([h,m])=>{const[v,E]=VW(t);(m===v||m===t)&&h.shiftKey&&(E.focus(),h.preventDefault()),m===E&&!h.shiftKey&&(v.focus(),h.preventDefault())}),i&&Jr(t,"click").pipe(Dt(e),vy(l),(0,Ct.U)(h=>h[1])).subscribe(h=>h.focus())})})(this._ngZone,E.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(E.location.nativeElement)}})}open(e,i,l,h){const m=h.container instanceof HTMLElement?h.container:Ov(h.container)?this._document.querySelector(h.container):this._document.body,v=this._rendererFactory.createRenderer(null,null),E=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(v.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!m)throw new Error(`The specified modal container "${h.container||"body"}" was not found in the DOM.`);const M=new ij,F=this._getContentRef(e,h.injector||i,l,M,h);let V=!1!==h.backdrop?this._attachBackdrop(e,m):void 0,K=this._attachWindowComponent(e,m,F),re=new PJ(K,F,V,h.beforeDismiss);return this._registerModalRef(re),this._registerWindowCmpt(K),re.result.then(E,E),re.result.then(T,T),M.close=me=>{re.close(me)},M.dismiss=me=>{re.dismiss(me)},this._applyWindowOptions(K.instance,h),1===this._modalRefs.length&&v.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,h),V.changeDetectorRef.detectChanges()),K.changeDetectorRef.detectChanges(),re}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let h=e.resolveComponentFactory(MJ).create(this._injector);return this._applicationRef.attachView(h.hostView),i.appendChild(h.location.nativeElement),h}_attachWindowComponent(e,i,l){let m=e.resolveComponentFactory(NJ).create(this._injector,l.nodes);return this._applicationRef.attachView(m.hostView),i.appendChild(m.location.nativeElement),m}_applyWindowOptions(e,i){this._windowAttributes.forEach(l=>{Ov(i[l])&&(e[l]=i[l])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(l=>{Ov(i[l])&&(e[l]=i[l])})}_getContentRef(e,i,l,h,m){return l?l instanceof a.Rgc?this._createFromTemplateRef(l,h):function(n){return"string"==typeof n}(l)?this._createFromString(l):this._createFromComponent(e,i,l,h,m):new Mb([])}_createFromTemplateRef(e,i){const h=e.createEmbeddedView({$implicit:i,close(m){i.close(m)},dismiss(m){i.dismiss(m)}});return this._applicationRef.attachView(h),new Mb([h.rootNodes],h)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Mb([[i]])}_createFromComponent(e,i,l,h,m){const v=e.resolveComponentFactory(l),E=a.zs3.create({providers:[{provide:ij,useValue:h}],parent:i}),T=v.create(E),M=T.location.nativeElement;return m.scrollable&&M.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new Mb([[M]],T.hostView,T)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(l=>{l!==e&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const l=this._modalRefs.indexOf(e);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(fe),a.LFG(nj),a.LFG(a.FYo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.z2F),a.LFG(a.gxx),a.LFG(fe),a.LFG(nj),a.LFG(a.FYo),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})(),FJ=(()=>{class n{constructor(e,i,l,h){this._moduleCFR=e,this._injector=i,this._modalStack=l,this._config=h}open(e,i={}){const l=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(rj),a.LFG(tj))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a._Vd),a.LFG(a.gxx),a.LFG(rj),a.LFG(tj))},token:n,providedIn:"root"}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[FJ]}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),HJ=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),cj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),n})(),dj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]]}),n})(),hj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]]}),n})(),pj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]]}),n})(),fj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]]}),n})(),gj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]]}),n})(),mj=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]]}),n})(),_j=(()=>{class n{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,l=Math.floor(this.maxSize/2);return this.page<=l?i=this.maxSize:this.pageCount-this.page<l?e=this.pageCount-this.maxSize:(e=this.page-l-1,i=this.page+(this.maxSize%2==0?l-1:l)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=function(n,t,e=0){return Math.max(Math.min(n,t),e)}(e,this.pageCount,1),this.page!==i&&Xo(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Xo(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,l=this.pageCount;[i,l]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,l),this._applyEllipses(i,l)}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(HJ))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(e,i,l){if(1&e&&(a.Suo(l,cj,5),a.Suo(l,dj,5),a.Suo(l,hj,5),a.Suo(l,pj,5),a.Suo(l,fj,5),a.Suo(l,gj,5),a.Suo(l,mj,5)),2&e){let h;a.iGM(h=a.CRH())&&(i.tplEllipsis=h.first),a.iGM(h=a.CRH())&&(i.tplFirst=h.first),a.iGM(h=a.CRH())&&(i.tplLast=h.first),a.iGM(h=a.CRH())&&(i.tplNext=h.first),a.iGM(h=a.CRH())&&(i.tplNumber=h.first),a.iGM(h=a.CRH())&&(i.tplPrevious=h.first),a.iGM(h=a.CRH())&&(i.tplPages=h.first)}},hostAttrs:["role","navigation"],inputs:{page:"page",disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",maxSize:"maxSize",pageSize:"pageSize",rotate:"rotate",size:"size",collectionSize:"collectionSize"},outputs:{pageChange:"pageChange"},features:[a.TTD],decls:20,vars:12,consts:function(){let t,e,i,l,h,m,v,E;return t=$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,e=$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,i=$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,l=$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,h=$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,m=$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,v=$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,E=$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],t,e,i,l,["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"],["aria-label",v,"href","",1,"page-link",3,"click"],["aria-label",E,"href","",1,"page-link",3,"click"]]},template:function(e,i){if(1&e&&(a.YNc(0,RQ,2,0,"ng-template",null,0,a.W1O),a.YNc(2,IQ,2,0,"ng-template",null,1,a.W1O),a.YNc(4,xQ,2,0,"ng-template",null,2,a.W1O),a.YNc(6,OQ,2,0,"ng-template",null,3,a.W1O),a.YNc(8,MQ,1,0,"ng-template",null,4,a.W1O),a.YNc(10,NQ,2,2,"ng-template",null,5,a.W1O),a.YNc(12,UQ,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,jQ,3,9,"li",7),a.YNc(16,YQ,3,8,"li",7),a.YNc(17,qQ,0,0,"ng-template",8),a.YNc(18,KQ,3,9,"li",7),a.YNc(19,JQ,3,9,"li",7),a.qZA()),2&e){const l=a.MAs(13);a.xp6(14),a.Tol("pagination"+(i.size?" pagination-"+i.size:"")),a.xp6(1),a.Q6J("ngIf",i.boundaryLinks),a.xp6(1),a.Q6J("ngIf",i.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||l)("ngTemplateOutletContext",a.kEZ(8,XQ,i.page,i.pages,i.disabled)),a.xp6(1),a.Q6J("ngIf",i.directionLinks),a.xp6(1),a.Q6J("ngIf",i.boundaryLinks)}},directives:[Pn,wo,on],encapsulation:2,changeDetection:0}),n})(),yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),Ej=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})(),Ij=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();new a.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Mj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi]]}),n})();const _X=[AW,RW,xW,PW,NW,KW,ej,oj,uj,yj,wj,bj,Ej,Aj,Rj,Ij,Mj];let yX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[_X,AW,RW,xW,PW,NW,KW,ej,oj,uj,yj,wj,bj,Ej,Aj,Rj,Ij,Mj]}),n})();function vX(n,t){if(1&n&&(a.TgZ(0,"span",11),a._uU(1),a.qZA()),2&n){const e=t.ngIf;a.xp6(1),a.Oqu(e.totalItemCount)}}function CX(n,t){1&n&&(a.TgZ(0,"a",12),a._uU(1,"Login"),a.qZA())}function wX(n,t){1&n&&(a.TgZ(0,"a",20),a._uU(1,"Manage Orders"),a.qZA())}function bX(n,t){1&n&&(a.TgZ(0,"a",21),a._uU(1,"Manage Products"),a.qZA())}function EX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13),a.TgZ(1,"a",14),a._uU(2),a.qZA(),a.TgZ(3,"div",15),a.TgZ(4,"a",16),a._uU(5,"My Order"),a.qZA(),a.YNc(6,wX,2,0,"a",17),a.YNc(7,bX,2,0,"a",18),a.TgZ(8,"a",19),a.NdJ("click",function(){return a.CHM(e),a.oxw().logout()}),a._uU(9,"Log out"),a.qZA(),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.xp6(2),a.hij(" ",e.appUser.name," "),a.xp6(4),a.Q6J("ngIf",e.appUser.isAdmin),a.xp6(1),a.Q6J("ngIf",e.appUser.isAdmin)}}let SX=(()=>{class n{constructor(e,i){this.authService=e,this.cardService=i,this.authService.appUser$.subscribe(l=>this.appUser=l),this.sumOfQuantity=0}ngOnInit(){var e=this;return(0,Ve.Z)(function*(){e.card$=yield e.cardService.getCard()})()}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yb),a.Y36(Fg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:5,consts:[[1,"appNavbar"],["fxFlex","","fxLayout","row","fxLayoutAlign","flex-start","fxHide.xs",""],["fxLayout","row",1,"m-2"],[1,"m-3"],["routerLink","/"],["routerLink","/shopping-card"],["aria-hidden","true",1,"fa","fa-lg","me-1","fa-shopping-cart",2,"color","black"],["class","badge rounded-pill bg-warning",4,"ngIf"],["fxFlex","","fxLayoutAlign","flex-end flex-end",1,"m-5"],["routerLink","/login",4,"ngIf"],["ngbDropdown","","class","dropdown show",4,"ngIf"],[1,"badge","rounded-pill","bg-warning"],["routerLink","/login"],["ngbDropdown","",1,"dropdown","show"],["ngbDropdownToggle","","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdownMenuLink",1,"dropdown-menu"],["routerLink","/my-order",1,"dropdown-item"],["class","dropdown-item","routerLink","/admin/orders",4,"ngIf"],["class","dropdown-item","routerLink","/admin/products",4,"ngIf"],[1,"dropdown-item",3,"click"],["routerLink","/admin/orders",1,"dropdown-item"],["routerLink","/admin/products",1,"dropdown-item"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-toolbar",0),a.TgZ(1,"div",1),a.TgZ(2,"ul",2),a.TgZ(3,"li",3),a.TgZ(4,"a",4),a._uU(5,"OShop"),a.qZA(),a.qZA(),a.TgZ(6,"li",3),a.TgZ(7,"a",5),a._UZ(8,"i",6),a.YNc(9,vX,2,1,"span",7),a.ALo(10,"async"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",8),a.YNc(12,CX,2,0,"a",9),a.YNc(13,EX,10,3,"div",10),a.qZA(),a.qZA()),2&e&&(a.xp6(9),a.Q6J("ngIf",a.lcZ(10,3,i.card$)),a.xp6(3),a.Q6J("ngIf",!i.appUser),a.xp6(1),a.Q6J("ngIf",i.appUser))},directives:[B4,$M,oU,qk,uU,yv,Pn,eI,XW,ML],pipes:[Ea],styles:["a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.appNavbar[_ngcontent-%COMP%]{background-color:azure;border-bottom:1px solid lightgray}"]}),n})(),DX=(()=>{class n{constructor(e){this.authService=e,this.title="oshop"}ngOnInit(){this.authService.redirectRouteAfterLogin()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container","mt-5"],[1,"container"]],template:function(e,i){1&e&&(a._UZ(0,"app-navbar"),a.TgZ(1,"div",0),a.TgZ(2,"div",1),a._UZ(3,"router-outlet"),a.qZA(),a.qZA())},directives:[SX,_R],styles:[""]}),n})();const Pj_firebase={projectId:"oshop-4e361",appId:"1:398293349354:web:4604a00153df309b347893",storageBucket:"oshop-4e361.appspot.com",locationId:"asia-south1",apiKey:"AIzaSyDk2540qAMYqUCx006IbbLaTrvJ69blJ98",authDomain:"oshop-4e361.firebaseapp.com",messagingSenderId:"398293349354",measurementId:"G-MTKNYRHTN8",databaseURL:"https://oshop-4e361-default-rtdb.asia-southeast1.firebasedatabase.app"};let Nj=(()=>{class n{constructor(e){this.authService=e}canActivate(e,i){return this.authService.appUser$.pipe((0,Ct.U)(l=>l.isAdmin))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(yb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(e,i){1&e&&(a.TgZ(0,"p"),a._uU(1,"admin-orders works!"),a.qZA())},styles:[""]}),n})();const Fj=["mat-button",""],kj=["*"],Lj=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",RX=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],IX=Dv(ff(R_(class{constructor(n){this._elementRef=n}})));let Ug=(()=>{class n extends IX{constructor(e,i,l){super(e),this._focusMonitor=i,this._animationMode=l,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const h of RX)this._hasHostAttributes(h)&&this._getHostElement().classList.add(h);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(tn),a.Y36(Mr,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(gf,5),2&e){let l;a.iGM(l=a.CRH())&&(i.ripple=l.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:Fj,ngContentSelectors:kj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[gf],styles:[Lj],encapsulation:2,changeDetection:0}),n})(),Gj=(()=>{class n extends Ug{constructor(e,i,l){super(i,e,l)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(tn),a.Y36(a.SBq),a.Y36(Mr,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){1&e&&a.NdJ("click",function(h){return i._haltDisabledEvents(h)}),2&e&&(a.uIk("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:Fj,ngContentSelectors:kj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[gf],styles:[Lj],encapsulation:2,changeDetection:0}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[LR,pi],pi]}),n})();var xX=j(6465),MX=j(6102);new class extends MX.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,l=-1,h=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++l<h&&(t=e.shift()));if(this.active=!1,i){for(;++l<h&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends xX.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});j(4581);class LX{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new GX(t,this.durationSelector))}}class GX extends Va.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:l}=this;e=l(t)}catch(l){return this.destination.error(l)}const i=(0,Va.ft)(e,new Va.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function wP(n,t=bh.P){return function(n){return function(e){return e.lift(new LX(n))}}(()=>YM(n,t))}function bP(){return n=>n.lift(new BX)}class BX{call(t,e){return e.subscribe(new VX(t))}}class VX extends $o.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function EP(n){return n&&"function"==typeof n.connect}class Vj{applyChanges(t,e,i,l,h){t.forEachOperation((m,v,E)=>{let T,M;if(null==m.previousIndex){const F=i(m,v,E);T=e.createEmbeddedView(F.templateRef,F.context,F.index),M=1}else null==E?(e.remove(v),M=3):(T=e.get(v),e.move(T,E),M=2);h&&h({context:null==T?void 0:T.context,operation:M,record:m})})}detach(){}}class BL{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new st.xQ,e&&e.length&&(t?e.forEach(l=>this._markSelected(l)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Pb=new a.OlP("_ViewRepeater");let Pv=(()=>{class n{constructor(e,i,l){this._ngZone=e,this._platform=i,this._scrolled=new st.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=l}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ji.y(i=>{this._globalSubscription||this._addGlobalListener();const l=e>0?this._scrolled.pipe(wP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{l.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,It.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const l=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(On(h=>!h||l.indexOf(h)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((l,h)=>{this._scrollableContainsElement(h,e)&&i.push(h)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let l=Qc(i),h=e.getElementRef().nativeElement;do{if(l==h)return!0}while(l=l.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Jr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Kn),a.LFG(fe,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(Kn),a.LFG(fe,8))},token:n,providedIn:"root"}),n})(),Ud=(()=>{class n{constructor(e,i,l){this._platform=e,this._change=new st.xQ,this._changeListener=h=>{this._change.next(h)},this._document=l,i.runOutsideAngular(()=>{if(e.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:l}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+l,right:e.left+i,height:l,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),l=e.documentElement,h=l.getBoundingClientRect();return{top:-h.top||e.body.scrollTop||i.scrollY||l.scrollTop||0,left:-h.left||e.body.scrollLeft||i.scrollX||l.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(wP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kn),a.LFG(a.R0b),a.LFG(fe,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Kn),a.LFG(a.R0b),a.LFG(fe,8))},token:n,providedIn:"root"}),n})(),Nb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Bg,v_,Nb],Bg,Nb]}),n})();class HL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rD extends HL{constructor(t,e,i,l){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=l}}class oD extends HL{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class QX extends HL{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class UL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof rD?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof oD?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof QX?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class JX extends UL{constructor(t,e,i,l,h){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=l,this.attachDomPortal=m=>{const v=m.element,E=this._document.createComment("dom-portal");v.parentNode.insertBefore(E,v),this.outletElement.appendChild(v),this._attachedPortal=m,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(v,E)})},this._document=h}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let l;return t.viewContainerRef?(l=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>l.destroy())):(l=i.create(t.injector||this._defaultInjector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(l)),this._attachedPortal=t,l}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(l=>this.outletElement.appendChild(l)),i.detectChanges(),this.setDisposeFn(()=>{let l=e.indexOf(i);-1!==l&&e.remove(l)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let x_=(()=>{class n extends UL{constructor(e,i,l){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=h=>{const m=h.element,v=this._document.createComment("dom-portal");h.setAttachedHost(this),m.parentNode.insertBefore(v,m),this._getRootNode().appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=l}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,h=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),m=i.createComponent(h,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(m.hostView.rootNodes[0]),super.setDisposeFn(()=>m.destroy()),this._attachedPortal=e,this._attachedRef=m,this.attached.emit(m),m}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),SP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class eee{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new tee(t,this.predicate,this.inclusive))}}class tee extends $o.L{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(l){return void e.error(l)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}const Wj=FM();class nee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Hr(-this._previousScrollPosition.left),t.style.top=Hr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,l=this._document.body.style,h=i.scrollBehavior||"",m=l.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Wj&&(i.scrollBehavior=l.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wj&&(i.scrollBehavior=h,l.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class iee{constructor(t,e,i,l){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=l,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jj{enable(){}disable(){}attach(){}}function jL(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function zj(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class ree{constructor(t,e,i,l){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=l,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:l}=this._viewportRuler.getViewportSize();jL(e,[{width:i,height:l,bottom:l,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let oee=(()=>{class n{constructor(e,i,l,h){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=l,this.noop=()=>new jj,this.close=m=>new iee(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new nee(this._viewportRuler,this._document),this.reposition=m=>new ree(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=h}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pv),a.LFG(Ud),a.LFG(a.R0b),a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Pv),a.LFG(Ud),a.LFG(a.R0b),a.LFG(fe))},token:n,providedIn:"root"}),n})();class DP{constructor(t){if(this.scrollStrategy=new jj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class see{constructor(t,e,i,l,h){this.offsetX=i,this.offsetY=l,this.panelClass=h,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class aee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $j=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(fe))},token:n,providedIn:"root"}),n})(),lee=(()=>{class n extends $j{constructor(e){super(e),this._keydownListener=i=>{const l=this._attachedOverlays;for(let h=l.length-1;h>-1;h--)if(l[h]._keydownEvents.observers.length>0){l[h]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(fe))},token:n,providedIn:"root"}),n})(),uee=(()=>{class n extends $j{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=E_(l)},this._clickListener=l=>{const h=E_(l),m="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let E=v.length-1;E>-1;E--){const T=v[E];if(!(T._outsidePointerEvents.observers.length<1)&&T.hasAttached()){if(T.overlayElement.contains(h)||T.overlayElement.contains(m))break;T._outsidePointerEvents.next(l)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(Kn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(fe),a.LFG(Kn))},token:n,providedIn:"root"}),n})(),nI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||xR()){const l=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let h=0;h<l.length;h++)l[h].parentNode.removeChild(l[h])}const i=this._document.createElement("div");i.classList.add(e),xR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(Kn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(fe),a.LFG(Kn))},token:n,providedIn:"root"}),n})();class cee{constructor(t,e,i,l,h,m,v,E,T){this._portalOutlet=t,this._host=e,this._pane=i,this._config=l,this._ngZone=h,this._keyboardDispatcher=m,this._document=v,this._location=E,this._outsideClickDispatcher=T,this._backdropElement=null,this._backdropClick=new st.xQ,this._attachments=new st.xQ,this._detachments=new st.xQ,this._locationChanges=er.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new st.xQ,this._outsidePointerEvents=new st.xQ,l.scrollStrategy&&(this._scrollStrategy=l.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=l.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Hr(this._config.width),t.height=Hr(this._config.height),t.minWidth=Hr(this._config.minWidth),t.minHeight=Hr(this._config.minHeight),t.maxWidth=Hr(this._config.maxWidth),t.maxHeight=Hr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const l=t.classList;Bs(e).forEach(h=>{h&&(i?l.add(h):l.remove(h))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Dt((0,Nr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const Yj="cdk-overlay-connected-position-bounding-box",dee=/([A-Za-z%]+)$/;class zL{constructor(t,e,i,l,h){this._viewportRuler=e,this._document=i,this._platform=l,this._overlayContainer=h,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new st.xQ,this._resizeSubscription=er.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Yj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,l=[];let h;for(let m of this._preferredPositions){let v=this._getOriginPoint(t,m),E=this._getOverlayPoint(v,e,m),T=this._getOverlayFit(E,e,i,m);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(T,E,i)?l.push({position:m,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!h||h.overlayFit.visibleArea<T.visibleArea)&&(h={overlayFit:T,overlayPoint:E,originPoint:v,position:m,overlayRect:e})}if(l.length){let m=null,v=-1;for(const E of l){const T=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);T>v&&(v=T,m=E)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Yj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,l;if("center"==e.originX)i=t.left+t.width/2;else{const h=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;i="start"==e.originX?h:m}return l="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:l}}_getOverlayPoint(t,e,i){let l,h;return l="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,h="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+l,y:t.y+h}}_getOverlayFit(t,e,i,l){const h=Zj(e);let{x:m,y:v}=t,E=this._getOffset(l,"x"),T=this._getOffset(l,"y");E&&(m+=E),T&&(v+=T);let V=0-v,K=v+h.height-i.height,re=this._subtractOverflows(h.width,0-m,m+h.width-i.width),me=this._subtractOverflows(h.height,V,K),Pe=re*me;return{visibleArea:Pe,isCompletelyWithinViewport:h.width*h.height===Pe,fitsInViewportVertically:me===h.height,fitsInViewportHorizontally:re==h.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const l=i.bottom-e.y,h=i.right-e.x,m=qj(this._overlayRef.getConfig().minHeight),v=qj(this._overlayRef.getConfig().minWidth),T=t.fitsInViewportHorizontally||null!=v&&v<=h;return(t.fitsInViewportVertically||null!=m&&m<=l)&&T}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const l=Zj(e),h=this._viewportRect,m=Math.max(t.x+l.width-h.width,0),v=Math.max(t.y+l.height-h.height,0),E=Math.max(h.top-i.top-t.y,0),T=Math.max(h.left-i.left-t.x,0);let M=0,F=0;return M=l.width<=h.width?T||-m:t.x<this._viewportMargin?h.left-i.left-t.x:0,F=l.height<=h.height?E||-v:t.y<this._viewportMargin?h.top-i.top-t.y:0,this._previousPushAmount={x:M,y:F},{x:t.x+M,y:t.y+F}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),l=new aee(t,i);this._positionChanges.next(l)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,l=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let h=0;h<e.length;h++)e[h].style.transformOrigin=`${i} ${l}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,l=this._isRtl();let h,m,v,M,F,V;if("top"===e.overlayY)m=t.y,h=i.height-m+this._viewportMargin;else if("bottom"===e.overlayY)v=i.height-t.y+2*this._viewportMargin,h=i.height-v+this._viewportMargin;else{const K=Math.min(i.bottom-t.y+i.top,t.y),re=this._lastBoundingBoxSize.height;h=2*K,m=t.y-K,h>re&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.y-re/2)}if("end"===e.overlayX&&!l||"start"===e.overlayX&&l)V=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!l||"end"===e.overlayX&&l)F=t.x,M=i.right-t.x;else{const K=Math.min(i.right-t.x+i.left,t.x),re=this._lastBoundingBoxSize.width;M=2*K,F=t.x-K,M>re&&!this._isInitialRender&&!this._growAfterOpen&&(F=t.x-re/2)}return{top:m,left:F,bottom:v,right:V,width:M,height:h}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const l={};if(this._hasExactPosition())l.top=l.left="0",l.bottom=l.right=l.maxHeight=l.maxWidth="",l.width=l.height="100%";else{const h=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;l.height=Hr(i.height),l.top=Hr(i.top),l.bottom=Hr(i.bottom),l.width=Hr(i.width),l.left=Hr(i.left),l.right=Hr(i.right),l.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",l.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",h&&(l.maxHeight=Hr(h)),m&&(l.maxWidth=Hr(m))}this._lastBoundingBoxSize=i,Fb(this._boundingBox.style,l)}_resetBoundingBoxStyles(){Fb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},l=this._hasExactPosition(),h=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(l){const M=this._viewportRuler.getViewportScrollPosition();Fb(i,this._getExactOverlayY(e,t,M)),Fb(i,this._getExactOverlayX(e,t,M))}else i.position="static";let v="",E=this._getOffset(e,"x"),T=this._getOffset(e,"y");E&&(v+=`translateX(${E}px) `),T&&(v+=`translateY(${T}px)`),i.transform=v.trim(),m.maxHeight&&(l?i.maxHeight=Hr(m.maxHeight):h&&(i.maxHeight="")),m.maxWidth&&(l?i.maxWidth=Hr(m.maxWidth):h&&(i.maxWidth="")),Fb(this._pane.style,i)}_getExactOverlayY(t,e,i){let l={top:"",bottom:""},h=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,i));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return h.y-=m,"bottom"===t.overlayY?l.bottom=this._document.documentElement.clientHeight-(h.y+this._overlayRect.height)+"px":l.top=Hr(h.y),l}_getExactOverlayX(t,e,i){let m,l={left:"",right:""},h=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,i)),m=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===m?l.right=this._document.documentElement.clientWidth-(h.x+this._overlayRect.width)+"px":l.left=Hr(h.x),l}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(l=>l.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zj(t,i),isOriginOutsideView:jL(t,i),isOverlayClipped:zj(e,i),isOverlayOutsideView:jL(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,l)=>i-Math.max(l,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Bs(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Fb(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function qj(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(dee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Zj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class hee{constructor(t,e,i,l,h,m,v){this._preferredPositions=[],this._positionStrategy=new zL(i,l,h,m,v).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,l){const h=new see(t,e,i,l);return this._preferredPositions.push(h),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Kj="cdk-global-overlay-wrapper";class pee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Kj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:l,height:h,maxWidth:m,maxHeight:v}=i,E=!("100%"!==l&&"100vw"!==l||m&&"100%"!==m&&"100vw"!==m),T=!("100%"!==h&&"100vh"!==h||v&&"100%"!==v&&"100vh"!==v);t.position=this._cssPosition,t.marginLeft=E?"0":this._leftOffset,t.marginTop=T?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,E?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=T?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Kj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let fee=(()=>{class n{constructor(e,i,l,h){this._viewportRuler=e,this._document=i,this._platform=l,this._overlayContainer=h}global(){return new pee}connectedTo(e,i,l){return new hee(i,l,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new zL(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ud),a.LFG(fe),a.LFG(Kn),a.LFG(nI))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Ud),a.LFG(fe),a.LFG(Kn),a.LFG(nI))},token:n,providedIn:"root"}),n})(),gee=0,Qh=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M,F,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=l,this._positionBuilder=h,this._keyboardDispatcher=m,this._injector=v,this._ngZone=E,this._document=T,this._directionality=M,this._location=F,this._outsideClickDispatcher=V}create(e){const i=this._createHostElement(),l=this._createPaneElement(i),h=this._createPortalOutlet(l),m=new DP(e);return m.direction=m.direction||this._directionality.value,new cee(h,i,l,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+gee++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new JX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oee),a.LFG(nI),a.LFG(a._Vd),a.LFG(fee),a.LFG(lee),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(fe),a.LFG(cr),a.LFG(Ln),a.LFG(uee))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qj=new a.OlP("cdk-connected-overlay-scroll-strategy");let _ee=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Jj=(()=>{class n{constructor(e,i,l,h,m){this._overlay=e,this._dir=m,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=er.w.EMPTY,this._attachSubscription=er.w.EMPTY,this._detachSubscription=er.w.EMPTY,this._positionSubscription=er.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new oD(i,l),this._scrollStrategyFactory=h,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ht(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ht(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ht(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ht(e)}get push(){return this._push}set push(e){this._push=Ht(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=mee);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Qa(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new DP({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(l=>({originX:l.originX,originY:l.originY,overlayX:l.overlayX,overlayY:l.overlayY,offsetX:l.offsetX||this.offsetX,offsetY:l.offsetY||this.offsetY,panelClass:l.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return e=>e.lift(new eee(n,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Qh),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(Qj),a.Y36(cr,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const vee={provide:Qj,deps:[Qh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let TP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Qh,vee],imports:[[Bg,SP,VL],VL]}),n})();const Cee=["underline"],wee=["connectionContainer"],bee=["inputContainer"],Eee=["label"];function See(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function Dee(n,t){1&n&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function Tee(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function Aee(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function Ree(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function Iee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.YNc(2,Tee,4,1,"ng-container",12),a.YNc(3,Aee,1,0,"ng-content",12),a.YNc(4,Ree,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function xee(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function Oee(n,t){if(1&n&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&n){const e=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Mee(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Pee(n,t){if(1&n&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function Nee(n,t){if(1&n&&(a.TgZ(0,"div",28),a.YNc(1,Pee,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const Fee=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kee=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Xj=new a.OlP("MatError"),Gee={transitionMessages:so("transitionMessages",[Ci("enter",Vt({opacity:1,transform:"translateY(0%)"})),ei("void => enter",[Vt({opacity:0,transform:"translateY(-5px)"}),Xn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const e6=new a.OlP("MatHint");let t6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),Vee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const n6=new a.OlP("MatPrefix"),i6=new a.OlP("MatSuffix");let r6=0;const Uee=Dv(class{constructor(n){this._elementRef=n}},"primary"),Wee=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),rI=new a.OlP("MatFormField");let s6=(()=>{class n extends Uee{constructor(e,i,l,h,m,v,E,T){super(e),this._changeDetectorRef=i,this._dir=h,this._defaults=m,this._platform=v,this._ngZone=E,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new st.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+r6++,this._labelId="mat-form-field-label-"+r6++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==T,this.appearance=m&&m.appearance?m.appearance:"legacy",this._hideRequiredMarker=!(!m||null==m.hideRequiredMarker)&&m.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ht(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ar(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Dt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Dt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Nr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ar(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ar(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Dt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Jr(this._label.nativeElement,"transitionend").pipe(Bn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(h=>"start"===h.align):null,l=this._hintChildren?this._hintChildren.find(h=>"end"===h.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),l&&e.push(l.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,l=0;const h=this._connectionContainerRef.nativeElement,m=h.querySelectorAll(".mat-form-field-outline-start"),v=h.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const E=h.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(E),M=e.children,F=this._getStartEnd(M[0].getBoundingClientRect());let V=0;for(let K=0;K<M.length;K++)V+=M[K].offsetWidth;i=Math.abs(F-T)-5,l=V>0?.75*V+10:0}for(let E=0;E<m.length;E++)m[E].style.width=`${i}px`;for(let E=0;E<v.length;E++)v[E].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(cr,8),a.Y36(Wee,8),a.Y36(Kn),a.Y36(a.R0b),a.Y36(Mr,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,l){if(1&e&&(a.Suo(l,iI,5),a.Suo(l,iI,7),a.Suo(l,t6,5),a.Suo(l,t6,7),a.Suo(l,Vee,5),a.Suo(l,Xj,5),a.Suo(l,e6,5),a.Suo(l,n6,5),a.Suo(l,i6,5)),2&e){let h;a.iGM(h=a.CRH())&&(i._controlNonStatic=h.first),a.iGM(h=a.CRH())&&(i._controlStatic=h.first),a.iGM(h=a.CRH())&&(i._labelChildNonStatic=h.first),a.iGM(h=a.CRH())&&(i._labelChildStatic=h.first),a.iGM(h=a.CRH())&&(i._placeholderChild=h.first),a.iGM(h=a.CRH())&&(i._errorChildren=h),a.iGM(h=a.CRH())&&(i._hintChildren=h),a.iGM(h=a.CRH())&&(i._prefixChildren=h),a.iGM(h=a.CRH())&&(i._suffixChildren=h)}},viewQuery:function(e,i){if(1&e&&(a.Gf(Cee,5),a.Gf(wee,7),a.Gf(bee,5),a.Gf(Eee,5)),2&e){let l;a.iGM(l=a.CRH())&&(i.underlineRef=l.first),a.iGM(l=a.CRH())&&(i._connectionContainerRef=l.first),a.iGM(l=a.CRH())&&(i._inputContainerRef=l.first),a.iGM(l=a.CRH())&&(i._label=l.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:rI,useExisting:n}]),a.qOj],ngContentSelectors:kee,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(Fee),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(h){return i._control.onContainerClick&&i._control.onContainerClick(h)}),a.YNc(3,See,9,0,"ng-container",3),a.YNc(4,Dee,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,Iee,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,xee,2,0,"div",9),a.qZA(),a.YNc(11,Oee,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,Mee,2,1,"div",12),a.YNc(14,Nee,5,2,"div",13),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[Pn,ss,rr,BS],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Gee.transitionMessages]},changeDetection:0}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi,pi,VS],pi]}),n})();const jee=["trigger"],zee=["panel"];function $ee(n,t){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function Yee(n,t){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function qee(n,t){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function Zee(n,t){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,Yee,2,1,"span",10),a.YNc(2,qee,1,0,"ng-content",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function Kee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13),a.TgZ(1,"div",14,15),a.NdJ("@transformPanel.done",function(l){return a.CHM(e),a.oxw()._panelDoneAnimatingStream.next(l.toState)})("keydown",function(l){return a.CHM(e),a.oxw()._handleKeydown(l)}),a.Hsn(3,1),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Qee=[[["mat-select-trigger"]],"*"],Jee=["mat-select-trigger","*"],a6={transformPanelWrap:so("transformPanelWrap",[ei("* => void",ao("@transformPanel",[wr()],{optional:!0}))]),transformPanel:so("transformPanel",[Ci("void",Vt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ci("showing",Vt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ci("showing-multiple",Vt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ei("void => *",Xn("120ms cubic-bezier(0, 0, 0.2, 1)")),ei("* => void",Xn("100ms 25ms linear",Vt({opacity:0})))])};let l6=0;const c6=new a.OlP("mat-select-scroll-strategy"),nte=new a.OlP("MAT_SELECT_CONFIG"),ite={provide:c6,deps:[Qh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class rte{constructor(t,e){this.source=t,this.value=e}}const ote=R_(kk(ff(Lk(class{constructor(n,t,e,i,l){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=l}})))),d6=new a.OlP("MatSelectTrigger");let ste=(()=>{class n extends ote{constructor(e,i,l,h,m,v,E,T,M,F,V,K,re,me){var Pe,Je,gt;super(m,h,E,T,F),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=l,this._dir=v,this._parentFormField=M,this._liveAnnouncer=re,this._defaultOptions=me,this._panelOpen=!1,this._compareWith=(Ut,Yt)=>Ut===Yt,this._uid="mat-select-"+l6++,this._triggerAriaLabelledBy=null,this._destroy=new st.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+l6++,this._panelDoneAnimatingStream=new st.xQ,this._overlayPanelClass=(null===(Pe=this._defaultOptions)||void 0===Pe?void 0:Pe.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(gt=null===(Je=this._defaultOptions)||void 0===Je?void 0:Je.disableOptionCentering)&&void 0!==gt&&gt,this.ariaLabel="",this.optionSelectionChanges=lS(()=>{const Ut=this.options;return Ut?Ut.changes.pipe(Ar(Ut),Pr(()=>(0,Nr.T)(...Ut.map(Yt=>Yt.onSelectionChange)))):this._ngZone.onStable.pipe(Bn(1),Pr(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(On(Ut=>Ut),(0,Ct.U)(()=>{})),this._closedStream=this.openedChange.pipe(On(Ut=>!Ut),(0,Ct.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==me?void 0:me.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=me.typeaheadDebounceInterval),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(V)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Ht(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ht(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ht(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Kr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new BL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Lc(),Dt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Dt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ar(null),Dt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,l=40===i||38===i||37===i||39===i,h=13===i||32===i,m=this._keyManager;if(!m.isTyping()&&h&&!Qa(e)||(this.multiple||e.altKey)&&l)e.preventDefault(),this.open();else if(!this.multiple){const v=this.selected;m.onKeydown(e);const E=this.selected;E&&v!==E&&this._liveAnnouncer.announce(E.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,l=e.keyCode,h=40===l||38===l,m=i.isTyping();if(h&&e.altKey)e.preventDefault(),this.close();else if(m||13!==l&&32!==l||!i.activeItem||Qa(e))if(!m&&this._multiple&&65===l&&e.ctrlKey){e.preventDefault();const v=this.options.some(E=>!E.disabled&&!E.selected);this.options.forEach(E=>{E.disabled||(v?E.select():E.deselect())})}else{const v=i.activeItemIndex;i.onKeydown(e),this._multiple&&h&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==v&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Bn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(l=>{if(this._selectionModel.isSelected(l))return!1;try{return null!=l.value&&this._compareWith(l.value,e)}catch(h){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new Mk(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Dt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Dt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Nr.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Dt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Nr.T)(...this.options.map(i=>i._stateChanges)).pipe(Dt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const l=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(l!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),l!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,l)=>this.sortComparator?this.sortComparator(i,l,e):e.indexOf(i)-e.indexOf(l)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(l=>l.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let l=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(l+=" "+this.ariaLabelledby),l}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ud),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36($S),a.Y36(a.SBq),a.Y36(cr,8),a.Y36(xv,8),a.Y36(Hg,8),a.Y36(rI,8),a.Y36(yf,10),a.$8M("tabindex"),a.Y36(c6),a.Y36(Oe),a.Y36(nte,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(jee,5),a.Gf(zee,5),a.Gf(Jj,5)),2&e){let l;a.iGM(l=a.CRH())&&(i.trigger=l.first),a.iGM(l=a.CRH())&&(i.panel=l.first),a.iGM(l=a.CRH())&&(i._overlayDir=l.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),ate=(()=>{class n extends ste{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,l){const h=this._getItemHeight();return Math.min(Math.max(0,h*e-i+h/2),l)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Dt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Bn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=G3(e,this.options,this.optionGroups),l=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+256?Math.max(0,n-256+t):e}((e+i)*l,l,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new rte(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),l=this._isRtl(),h=this.multiple?56:32;let m;if(this.multiple)m=40;else if(this.disableOptionCentering)m=16;else{let T=this._selectionModel.selected[0]||this.options.first;m=T&&T.group?32:16}l||(m*=-1);const v=0-(e.left+m-(l?h:0)),E=e.right+m-i.width+(l?0:h);v>0?m+=v+8:E>0&&(m-=E+8),this._overlayDir.offsetX=Math.round(m),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,l){const h=this._getItemHeight(),m=(h-this._triggerRect.height)/2,v=Math.floor(256/h);let E;return this.disableOptionCentering?0:(E=0===this._scrollTop?e*h:this._scrollTop===l?(e-(this._getItemCount()-v))*h+(h-(this._getItemCount()*h-256)%h):i-h/2,Math.round(-1*E-m))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),l=this._viewportRuler.getViewportSize(),h=this._triggerRect.top-8,m=l.height-this._triggerRect.bottom-8,v=Math.abs(this._offsetY),T=Math.min(this._getItemCount()*i,256)-v-this._triggerRect.height;T>m?this._adjustPanelUp(T,m):v>h?this._adjustPanelDown(v,h,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const l=Math.round(e-i);this._scrollTop-=l,this._offsetY-=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,l){const h=Math.round(e-i);if(this._scrollTop+=h,this._offsetY+=h,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=l)return this._scrollTop=l,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),l=Math.min(i*e,256),m=i*e-l;let v;v=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),v+=G3(v,this.options,this.optionGroups);const E=l/2;this._scrollTop=this._calculateOverlayScroll(v,E,m),this._offsetY=this._calculateOverlayOffsetY(v,E,m),this._checkOverlayWithinViewport(m)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,l){if(1&e&&(a.Suo(l,d6,5),a.Suo(l,L3,5),a.Suo(l,Uk,5)),2&e){let h;a.iGM(h=a.CRH())&&(i.customTrigger=h.first),a.iGM(h=a.CRH())&&(i.options=h),a.iGM(h=a.CRH())&&(i.optionGroups=h)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(h){return i._handleKeydown(h)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:iI,useExisting:n},{provide:Hk,useExisting:n}]),a.qOj],ngContentSelectors:Jee,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(a.F$t(Qee),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,$ee,2,1,"span",3),a.YNc(5,Zee,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA(),a.qZA(),a.YNc(8,Kee,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const l=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",l)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[_ee,ss,rr,Jj,ae,Co],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[a6.transformPanelWrap,a6.transformPanel]},changeDetection:0}),n})(),$L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ite],imports:[[oi,TP,B3,pi],Nb,oI,B3,pi]}),n})();const h6=new Set;let aD,p6=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ute}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!h6.has(n))try{aD||(aD=document.createElement("style"),aD.setAttribute("type","text/css"),document.head.appendChild(aD)),aD.sheet&&(aD.sheet.insertRule(`@media ${n} {body{ }}`,0),h6.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Kn))},token:n,providedIn:"root"}),n})();function ute(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let cte=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new st.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return f6(Bs(e)).some(l=>this._registerQuery(l).mql.matches)}observe(e){let h=po(f6(Bs(e)).map(m=>this._registerQuery(m).observable));return h=tb(h.pipe(Bn(1)),h.pipe(kS(1),Ev(0))),h.pipe((0,Ct.U)(m=>{const v={matches:!1,breakpoints:{}};return m.forEach(({matches:E,query:T})=>{v.matches=v.matches||E,v.breakpoints[T]=E}),v}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),h={observable:new ji.y(m=>{const v=E=>this._zone.run(()=>m.next(E));return i.addListener(v),()=>{i.removeListener(v)}}).pipe(Ar(i),(0,Ct.U)(({matches:m})=>({query:e,matches:m})),Dt(this._destroySubject)),mql:i};return this._queries.set(e,h),h}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(p6),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(p6),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})();function f6(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const hte={tooltipState:so("state",[Ci("initial, void, hidden",Vt({opacity:0,transform:"scale(0)"})),Ci("visible",Vt({transform:"scale(1)"})),ei("* => visible",Xn("200ms cubic-bezier(0, 0, 0.2, 1)",Wl([Vt({opacity:0,transform:"scale(0)",offset:0}),Vt({opacity:.5,transform:"scale(0.99)",offset:.5}),Vt({opacity:1,transform:"scale(1)",offset:1})]))),ei("* => hidden",Xn("100ms cubic-bezier(0, 0, 0.2, 1)",Vt({opacity:0})))])},g6="tooltip-panel",m6=C_({passive:!0}),_6=new a.OlP("mat-tooltip-scroll-strategy"),mte={provide:_6,deps:[Qh],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},_te=new a.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let vte=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M,F,V,K){this._overlay=e,this._elementRef=i,this._scrollDispatcher=l,this._viewContainerRef=h,this._ngZone=m,this._platform=v,this._ariaDescriber=E,this._focusMonitor=T,this._dir=F,this._defaultOptions=V,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new st.xQ,this._handleKeydown=re=>{this._isTooltipVisible()&&27===re.keyCode&&!Qa(re)&&(re.preventDefault(),re.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=M,this._document=K,V&&(V.position&&(this.position=V.position),V.touchGestures&&(this.touchGestures=V.touchGestures)),F.change.pipe(Dt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),m.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Dt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,l])=>{e.removeEventListener(i,l,m6)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new rD(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Dt(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${g6}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Dt(this._destroyed)).subscribe(()=>{var l;return null===(l=this._tooltipInstance)||void 0===l?void 0:l._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,l=this._getOrigin(),h=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},l.main),h.main)),this._addOffset(Object.assign(Object.assign({},l.fallback),h.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let l;"above"==i||"below"==i?l={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?l={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(l={originX:"end",originY:"center"});const{x:h,y:m}=this._invertPosition(l.originX,l.originY);return{main:l,fallback:{originX:h,originY:m}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let l;"above"==i?l={overlayX:"center",overlayY:"bottom"}:"below"==i?l={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?l={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(l={overlayX:"start",overlayY:"center"});const{x:h,y:m}=this._invertPosition(l.overlayX,l.overlayY);return{main:l,fallback:{overlayX:h,overlayY:m}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Bn(1),Dt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:l,originY:h}=e;let m;if(m="center"===i?this._dir&&"rtl"===this._dir.value?"end"===l?"left":"right":"start"===l?"left":"right":"bottom"===i&&"top"===h?"above":"below",m!==this._currentPosition){const v=this._overlayRef;if(v){const E=`${this._cssClassPrefix}-${g6}-`;v.removePanelClass(E+this._currentPosition),v.addPanelClass(E+m)}this._currentPosition=m}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,l])=>{this._elementRef.nativeElement.addEventListener(i,l,m6)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),l=this._elementRef.nativeElement;i!==l&&!l.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,l=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(l.userSelect=l.msUserSelect=l.webkitUserSelect=l.MozUserSelect="none"),("on"===e||!i.draggable)&&(l.webkitUserDrag="none"),l.touchAction="none",l.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Qh),a.Y36(a.SBq),a.Y36(Pv),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(Kn),a.Y36(US),a.Y36(tn),a.Y36(void 0),a.Y36(cr),a.Y36(void 0),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Cte=(()=>{class n extends vte{constructor(e,i,l,h,m,v,E,T,M,F,V,K){super(e,i,l,h,m,v,E,T,M,F,V,K),this._tooltipComponent=bte}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Qh),a.Y36(a.SBq),a.Y36(Pv),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(Kn),a.Y36(US),a.Y36(tn),a.Y36(_6),a.Y36(cr,8),a.Y36(_te,8),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[a.qOj]}),n})(),wte=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new st.xQ}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n}),n})(),bte=(()=>{class n extends wte{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(cte))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&a.Udp("zoom","visible"===i._visibility?1:null)},features:[a.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0),a.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(h){return i._animationDone(h)}),a.ALo(1,"async"),a._uU(2),a.qZA()),2&e){let l;a.ekj("mat-tooltip-handset",null==(l=a.lcZ(1,5,i._isHandset))?null:l.matches),a.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),a.xp6(2),a.Oqu(i.message)}},directives:[Co],pipes:[Ea],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[hte.tooltipState]},changeDetection:0}),n})(),Ete=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[mte],imports:[[Gg,oi,TP,pi],pi,Nb]}),n})();function Ste(n,t){if(1&n&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}function Dte(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-form-field",16),a.TgZ(1,"mat-select",17),a.NdJ("selectionChange",function(l){return a.CHM(e),a.oxw(2)._changePageSize(l.value)}),a.YNc(2,Ste,2,2,"mat-option",18),a.qZA(),a.qZA()}if(2&n){const e=a.oxw(2);a.Q6J("appearance",e._formFieldAppearance)("color",e.color),a.xp6(1),a.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),a.xp6(1),a.Q6J("ngForOf",e._displayedPageSizeOptions)}}function Tte(n,t){if(1&n&&(a.TgZ(0,"div",20),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.pageSize)}}function Ate(n,t){if(1&n&&(a.TgZ(0,"div",12),a.TgZ(1,"div",13),a._uU(2),a.qZA(),a.YNc(3,Dte,3,6,"mat-form-field",14),a.YNc(4,Tte,2,1,"div",15),a.qZA()),2&n){const e=a.oxw();a.xp6(2),a.hij(" ",e._intl.itemsPerPageLabel," "),a.xp6(1),a.Q6J("ngIf",e._displayedPageSizeOptions.length>1),a.xp6(1),a.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function Rte(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",21),a.NdJ("click",function(){return a.CHM(e),a.oxw().firstPage()}),a.O4$(),a.TgZ(1,"svg",7),a._UZ(2,"path",22),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),a.uIk("aria-label",e._intl.firstPageLabel)}}function Ite(n,t){if(1&n){const e=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"button",23),a.NdJ("click",function(){return a.CHM(e),a.oxw().lastPage()}),a.O4$(),a.TgZ(1,"svg",7),a._UZ(2,"path",24),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),a.uIk("aria-label",e._intl.lastPageLabel)}}let aI=(()=>{class n{constructor(){this.changes=new st.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,l)=>{if(0==l||0==i)return`0 of ${l}`;const h=e*i;return`${h+1} \u2013 ${h<(l=Math.max(l,0))?Math.min(h+i,l):h+i} of ${l}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Ote={provide:aI,deps:[[new a.FiY,new a.tp0,aI]],useFactory:function(n){return n||new aI}},Pte=new a.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Nte=ff(T3(class{}));let Fte=(()=>{class n extends Nte{constructor(e,i,l){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new a.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),l){const{pageSize:h,pageSizeOptions:m,hidePageSize:v,showFirstLastButtons:E}=l;null!=h&&(this._pageSize=h),null!=m&&(this._pageSizeOptions=m),null!=v&&(this._hidePageSize=v),null!=E&&(this._showFirstLastButtons=E)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Kr(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Kr(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Kr(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Kr(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Ht(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Ht(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const l=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(l)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(aI),a.Y36(a.sBO),a.Y36(void 0))},n.\u0275dir=a.lG2({type:n,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[a.qOj]}),n})(),kte=(()=>{class n extends Fte{constructor(e,i,l){super(e,i,l),l&&null!=l.formFieldAppearance&&(this._formFieldAppearance=l.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(aI),a.Y36(a.sBO),a.Y36(Pte,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[a.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.YNc(2,Ate,5,3,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a._uU(5),a.qZA(),a.YNc(6,Rte,3,5,"button",5),a.TgZ(7,"button",6),a.NdJ("click",function(){return i.previousPage()}),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"path",8),a.qZA(),a.qZA(),a.kcU(),a.TgZ(10,"button",9),a.NdJ("click",function(){return i.nextPage()}),a.O4$(),a.TgZ(11,"svg",7),a._UZ(12,"path",10),a.qZA(),a.qZA(),a.YNc(13,Ite,3,5,"button",11),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Q6J("ngIf",!i.hidePageSize),a.xp6(3),a.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),a.xp6(1),a.Q6J("ngIf",i.showFirstLastButtons),a.xp6(1),a.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),a.uIk("aria-label",i._intl.previousPageLabel),a.xp6(3),a.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),a.uIk("aria-label",i._intl.nextPageLabel),a.xp6(3),a.Q6J("ngIf",i.showFirstLastButtons))},directives:[Pn,Ug,Cte,s6,ate,on,L3],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ote],imports:[[oi,CP,$L,Ete,pi]]}),n})();const Vte=new a.OlP("MAT_SORT_DEFAULT_OPTIONS"),Hte=T3(ff(class{}));let v6=(()=>{class n extends Hte{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new st.xQ,this.start="asc",this._direction="",this.sortChange=new a.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Ht(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,l,h;if(!e)return"";const m=null!==(l=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==l?l:!!(null===(h=this._defaultOptions)||void 0===h?void 0:h.disableClear);let v=function(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,m),E=v.indexOf(this.direction)+1;return E>=v.length&&(E=0),v[E]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vte,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[a.qOj,a.TTD]}),n})(),RP=(()=>{class n{constructor(){this.changes=new st.xQ}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const jte={provide:RP,deps:[[new a.FiY,new a.tp0,RP]],useFactory:function(n){return n||new RP}};let C6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[jte],imports:[[oi,pi]]}),n})(),$te=(()=>{class n{agInit(e){this.cellValue=e.value}refresh(e){return!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["BtnCellRender"]],decls:2,vars:1,consts:[[3,"routerLink"]],template:function(e,i){1&e&&(a.TgZ(0,"a",0),a._uU(1,"Edit"),a.qZA()),2&e&&a.Q6J("routerLink",i.cellValue)},directives:[yv],styles:["a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})();function Yte(n,t){1&n&&a.GkF(0)}function qte(n,t){if(1&n&&(a.TgZ(0,"option",4),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("ngValue",e.key),a.xp6(1),a.hij(" ",e.data.name," ")}}let w6=(()=>{class n{constructor(){this.selectform=new Kh("")}agInit(e){this.field=e.colDef.field,this.options=e.context,this.params=e}isFilterActive(){return""!==this.selectform.value}doesFilterPass(e){return e.data[this.field]===this.selectform.value}getModel(){return{value:this.selectform.value}}setModel(e){this.selectform.setValue(e.value||"")}updateFilter(){this.params.filterChangedCallback()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["dropDownFilter"]],decls:8,vars:7,consts:[["id","category",1,"form-select",3,"formControl","ngModelChange"],["ngValue",""],[4,"ngIf"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,i){1&e&&(a.TgZ(0,"select",0),a.NdJ("ngModelChange",function(){return i.updateFilter()}),a.TgZ(1,"option",1),a._uU(2,"All Categories"),a.qZA(),a._uU(3," <"),a.YNc(4,Yte,1,0,"ng-container",2),a.ALo(5,"async"),a.YNc(6,qte,2,2,"option",3),a.ALo(7,"async"),a.qZA()),2&e&&(a.Q6J("formControl",i.selectform),a.xp6(4),a.Q6J("ngIf",a.lcZ(5,3,i.options)),a.xp6(2),a.Q6J("ngForOf",a.lcZ(7,5,i.options)))},directives:[$R,HR,oP,aP,lP,Pn,on],pipes:[Ea],encapsulation:2}),n})(),YL=(()=>{class n{constructor(e){this.db=e}createProduct(e){return this.db.list("/product").push(e)}getAllProduct(){return this.db.list("/product").snapshotChanges().pipe((0,Ct.U)(e=>e.map(i=>{const l=i.payload.val();return Object.assign({uid:i.payload.key},l)})))}getProductById(e){return this.db.object("/product/"+e).valueChanges()}updateProduct(e,i){return this.db.object("/product/"+e).update(i)}deleteProduct(e){return this.db.object("/product/"+e).remove()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_n))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IP=(()=>{class n{constructor(e){this.db=e}fetchCategories(){return this.db.list("/categories").snapshotChanges().pipe((0,Ct.U)(e=>e.map(i=>{const l=i.payload.val();return{key:i.payload.key,data:l}})))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_n))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b6=C_({passive:!0});let E6=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fc.E;const i=Qc(e),l=this._monitoredElements.get(i);if(l)return l.subject;const h=new st.xQ,m="cdk-text-field-autofilled",v=E=>{"cdk-text-field-autofill-start"!==E.animationName||i.classList.contains(m)?"cdk-text-field-autofill-end"===E.animationName&&i.classList.contains(m)&&(i.classList.remove(m),this._ngZone.run(()=>h.next({target:E.target,isAutofilled:!1}))):(i.classList.add(m),this._ngZone.run(()=>h.next({target:E.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",v,b6),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:h,unlisten:()=>{i.removeEventListener("animationstart",v,b6)}}),h}stopMonitoring(e){const i=Qc(e),l=this._monitoredElements.get(i);l&&(l.unlisten(),l.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kn),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Kn),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})(),S6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[v_]]}),n})();const D6=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),Kte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Qte=0;const Jte=Lk(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Xte=(()=>{class n extends Jte{constructor(e,i,l,h,m,v,E,T,M,F){super(v,h,m,l),this._elementRef=e,this._platform=i,this._autofillMonitor=T,this._formField=F,this._uid="mat-input-"+Qte++,this.focused=!1,this.stateChanges=new st.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(re=>NM().has(re));const V=this._elementRef.nativeElement,K=V.nodeName.toLowerCase();this._inputValueAccessor=E||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",re=>{const me=re.target;!me.value&&0===me.selectionStart&&0===me.selectionEnd&&(me.setSelectionRange(1,1),me.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!F,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ht(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Ht(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&NM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ht(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const l=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(l!==this._previousPlaceholder){const h=this._elementRef.nativeElement;this._previousPlaceholder=l,l?h.setAttribute("placeholder",l):h.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Kte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Kn),a.Y36(yf,10),a.Y36(xv,8),a.Y36(Hg,8),a.Y36($S),a.Y36(D6,10),a.Y36(E6),a.Y36(a.R0b),a.Y36(rI,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:iI,useExisting:n}]),a.qOj,a.TTD]}),n})(),T6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$S],imports:[[S6,oI,pi],S6,oI]}),n})();function H(n,t,e,i){var m,l=arguments.length,h=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(n,t,e,i);else for(var v=n.length-1;v>=0;v--)(m=n[v])&&(h=(l<3?m(h):l>3?m(t,e,h):m(t,e))||h);return l>3&&h&&Object.defineProperty(t,e,h),h}function U(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}var ZL,kb=j(2107);let We=ZL=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let t=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(t.children=this.getChildColDefs(this.childColumns)),t}getChildColDefs(t){return t.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(t){return function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(n);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(n,i[l])&&(e[i[l]]=n[i[l]])}return e}(t,["childColumns"])}};We.\u0275fac=function(t){return new(t||We)},We.\u0275cmp=a.Xpm({type:We,selectors:[["ag-grid-column"]],contentQueries:function(t,e,i){if(1&t&&a.Suo(i,ZL,4),2&t){let l;a.iGM(l=a.CRH())&&(e.childColumns=l)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),H([(0,a.AcB)(ZL),U("design:type",a.n_E)],We.prototype,"childColumns",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"filterFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"filterParams",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"floatingFilterComponent",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"floatingFilterComponentParams",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"floatingFilterComponentFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"filter",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"headerName",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerValueGetter",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"headerTooltip",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerClass",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"suppressHeaderKeyboardEvent",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"columnGroupShow",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"toolPanelClass",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressColumnsToolPanel",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressFiltersToolPanel",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"tooltipComponent",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"tooltipComponentFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"tooltipComponentParams",void 0),H([(0,a.IIB)(),U("design:type",Array)],We.prototype,"children",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"groupId",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"openByDefault",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"marryChildren",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerGroupComponent",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerGroupComponentFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerGroupComponentParams",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"colId",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"field",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"type",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"valueGetter",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"valueFormatter",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"refData",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"keyCreator",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"equals",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"tooltipField",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"tooltipValueGetter",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"checkboxSelection",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"icons",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"suppressNavigable",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"suppressKeyboardEvent",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"suppressPaste",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressFillHandle",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"hide",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"initialHide",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"lockVisible",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"lockPosition",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressMovable",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"editable",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"valueSetter",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"valueParser",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellEditor",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellEditorFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellEditorParams",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"cellEditorSelector",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"singleClickEdit",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"newValueHandler",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"cellEditorPopup",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"cellEditorPopupPosition",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"onCellValueChanged",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"onCellClicked",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"onCellDoubleClicked",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"onCellContextMenu",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"getQuickFilterText",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"filterValueGetter",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"floatingFilter",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerComponent",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerComponentFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerComponentParams",void 0),H([(0,a.IIB)(),U("design:type",Array)],We.prototype,"menuTabs",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"columnsMenuParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressMenu",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"headerCheckboxSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"headerCheckboxSelectionFilteredOnly",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"chartDataType",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"pinned",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"initialPinned",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"lockPinned",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"pinnedRowCellRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"pinnedRowCellRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"pinnedRowCellRendererParams",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"pinnedRowValueFormatter",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"pivot",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"initialPivot",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"pivotIndex",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"initialPivotIndex",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"pivotComparator",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"enablePivot",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellStyle",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellClass",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellClassRules",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"cellRendererParams",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"cellRendererSelector",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"autoHeight",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"wrapText",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"enableCellChangeFlash",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressCellFlash",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"rowDrag",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"rowDragText",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"dndSource",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"dndSourceOnRowDrag",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"rowGroup",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"initialRowGroup",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"rowGroupIndex",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"initialRowGroupIndex",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"enableRowGroup",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"enableValue",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"aggFunc",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"initialAggFunc",void 0),H([(0,a.IIB)(),U("design:type",Array)],We.prototype,"allowedAggFuncs",void 0),H([(0,a.IIB)(),U("design:type",Object)],We.prototype,"showRowGroup",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"sortable",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"sort",void 0),H([(0,a.IIB)(),U("design:type",String)],We.prototype,"initialSort",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"sortIndex",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"initialSortIndex",void 0),H([(0,a.IIB)(),U("design:type",Array)],We.prototype,"sortingOrder",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"comparator",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"unSortIcon",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"sortedAt",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"colSpan",void 0),H([(0,a.IIB)(),U("design:type",Function)],We.prototype,"rowSpan",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"width",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"initialWidth",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"minWidth",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"maxWidth",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"flex",void 0),H([(0,a.IIB)(),U("design:type",Number)],We.prototype,"initialFlex",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"resizable",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressSizeToFit",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],We.prototype,"suppressAutoSize",void 0);let KL=(()=>{let n=class extends kb.vA3{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,i){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},i)}):window.setTimeout(()=>{e()},i)}setInterval(e,i){return new kb.j_S(l=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{l(window.setInterval(()=>{e()},i))}):l(window.setInterval(()=>{e()},i))})}addEventListener(e,i,l,h){this.isOutsideAngular(i)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(i,l,h)}):e.addEventListener(i,l,h)}dispatchEvent(e,i,l=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(i):i():(this.isEmitterUsed(e)||l)&&(!a.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(i):i())}};return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=H([U("design:paramtypes",[a.R0b])],n),n})(),QL=(()=>{let n=class extends kb.Nk3{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let i=this,h=new class extends class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(v){super.init(v),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return i.createComponent(e)}hasMethod(v){return null!=h.getFrameworkComponentInstance()[v]}callMethod(v,E){const T=this.getFrameworkComponentInstance();return h.getFrameworkComponentInstance()[v].apply(T,E)}addMethod(v,E){h[v]=E}};return h}createComponent(e){let i=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(i)}};return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n})(),ine=(()=>{let n=class{constructor(e,i,l,h,m){this.viewContainerRef=i,this.angularFrameworkOverrides=l,this.frameworkComponentWrapper=h,this.componentFactoryResolver=m,this._initialised=!1,this._destroyed=!1,this._fullyReady=kb.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.clipboardDeliminator=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.reactUi=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.floatingFilter=void 0,this.enableOldSetFilterModel=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.isGroupOpenByDefault=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.toolPanelVisibleChanged=new a.vpe,this.pasteStart=new a.vpe,this.pasteEnd=new a.vpe,this.columnVisible=new a.vpe,this.columnPinned=new a.vpe,this.columnResized=new a.vpe,this.columnMoved=new a.vpe,this.columnValueChanged=new a.vpe,this.columnPivotModeChanged=new a.vpe,this.columnPivotChanged=new a.vpe,this.columnGroupOpened=new a.vpe,this.newColumnsLoaded=new a.vpe,this.gridColumnsChanged=new a.vpe,this.displayedColumnsChanged=new a.vpe,this.virtualColumnsChanged=new a.vpe,this.columnEverythingChanged=new a.vpe,this.componentStateChanged=new a.vpe,this.cellValueChanged=new a.vpe,this.rowValueChanged=new a.vpe,this.cellEditingStarted=new a.vpe,this.cellEditingStopped=new a.vpe,this.rowEditingStarted=new a.vpe,this.rowEditingStopped=new a.vpe,this.filterOpened=new a.vpe,this.filterChanged=new a.vpe,this.filterModified=new a.vpe,this.chartCreated=new a.vpe,this.chartRangeSelectionChanged=new a.vpe,this.chartOptionsChanged=new a.vpe,this.chartDestroyed=new a.vpe,this.cellKeyDown=new a.vpe,this.cellKeyPress=new a.vpe,this.gridReady=new a.vpe,this.firstDataRendered=new a.vpe,this.gridSizeChanged=new a.vpe,this.modelUpdated=new a.vpe,this.virtualRowRemoved=new a.vpe,this.viewportChanged=new a.vpe,this.bodyScroll=new a.vpe,this.bodyScrollEnd=new a.vpe,this.dragStarted=new a.vpe,this.dragStopped=new a.vpe,this.paginationChanged=new a.vpe,this.rowDragEnter=new a.vpe,this.rowDragMove=new a.vpe,this.rowDragLeave=new a.vpe,this.rowDragEnd=new a.vpe,this.columnRowGroupChanged=new a.vpe,this.rowGroupOpened=new a.vpe,this.expandOrCollapseAll=new a.vpe,this.pinnedRowDataChanged=new a.vpe,this.rowDataChanged=new a.vpe,this.rowDataUpdated=new a.vpe,this.asyncTransactionsFlushed=new a.vpe,this.cellClicked=new a.vpe,this.cellDoubleClicked=new a.vpe,this.cellFocused=new a.vpe,this.cellMouseOver=new a.vpe,this.cellMouseOut=new a.vpe,this.cellMouseDown=new a.vpe,this.rowClicked=new a.vpe,this.rowDoubleClicked=new a.vpe,this.rowSelected=new a.vpe,this.selectionChanged=new a.vpe,this.cellContextMenu=new a.vpe,this.rangeSelectionChanged=new a.vpe,this.sortChanged=new a.vpe,this.columnRowGroupChangeRequest=new a.vpe,this.columnPivotChangeRequest=new a.vpe,this.columnValueChangeRequest=new a.vpe,this.columnAggFuncChangeRequest=new a.vpe,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=kb.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new kb.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&kb.plv.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const i=this[e],l=!!i&&i.observers&&i.observers.length>0,h=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return l||!!this.gridOptions&&!!this.gridOptions[h]}globalEventListener(e,i){if(this._destroyed)return;const l=this[e];l&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(h=>{l.emit(i)}):l.emit(i))}};return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(KL),a.Y36(QL),a.Y36(a._Vd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ag-grid-angular"]],contentQueries:function(e,i,l){if(1&e&&a.Suo(l,We,4),2&e){let h;a.iGM(h=a.CRH())&&(i.columns=h)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",clipboardDeliminator:"clipboardDeliminator",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",reactUi:"reactUi",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",floatingFilter:"floatingFilter",enableOldSetFilterModel:"enableOldSetFilterModel",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",isGroupOpenByDefault:"isGroupOpenByDefault",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[a._Bn([KL,QL]),a.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),H([(0,a.AcB)(We),U("design:type",a.n_E)],n.prototype,"columns",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"gridOptions",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"modules",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"statusBar",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"sideBar",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressContextMenu",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"preventDefaultOnContextMenu",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"allowContextMenuWithControlKey",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMenuHide",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableBrowserTooltips",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"tooltipShowDelay",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"tooltipMouseTrack",void 0),H([(0,a.IIB)(),U("design:type",HTMLElement)],n.prototype,"popupParent",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"copyHeadersToClipboard",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"clipboardDeliminator",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressCopyRowsToClipboard",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressLastEmptyLineOnPaste",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressClipboardPaste",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressClipboardApi",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"columnDefs",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"defaultColDef",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"defaultColGroupDef",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"columnTypes",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"maintainColumnOrder",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressFieldDotNotation",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"deltaColumnMode",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"applyColumnDefOrder",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"immutableColumns",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressSetColumnStateEvents",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressColumnStateEvents",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"colWidth",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"minColWidth",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"maxColWidth",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"headerHeight",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"groupHeaderHeight",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"floatingFiltersHeight",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"pivotHeaderHeight",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"pivotGroupHeaderHeight",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"allowDragFromColumnsToolPanel",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMovableColumns",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressColumnMoveAnimation",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressDragLeaveHidesColumns",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"colResizeDefault",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressAutoSize",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"autoSizePadding",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"skipHeaderOnAutoSize",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"components",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"frameworkComponents",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"reactUi",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"editType",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"singleClickEdit",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressClickEdit",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"stopEditingWhenCellsLoseFocus",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enterMovesDown",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enterMovesDownAfterEdit",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"undoRedoCellEditing",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"undoRedoCellEditingLimit",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"stopEditingWhenGridLosesFocus",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"defaultCsvExportParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressCsvExport",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"defaultExcelExportParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressExcelExport",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"excelStyles",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"defaultExportParams",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"quickFilterText",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"cacheQuickFilter",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"floatingFilter",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableOldSetFilterModel",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableCharts",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"chartThemes",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"customChartThemes",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"chartThemeOverrides",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"loadingCellRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"loadingCellRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"loadingCellRendererParams",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"loadingCellRendererSelector",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"localeText",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"masterDetail",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"keepDetailRows",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"keepDetailRowsCount",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"detailCellRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"detailCellRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"detailCellRendererParams",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"detailRowHeight",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"detailRowAutoHeight",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"context",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"alignedGrids",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"tabIndex",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"rowBuffer",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"valueCache",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"valueCacheNeverExpires",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableCellExpressions",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressParentsInRowNodes",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressTouch",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressFocusAfterRefresh",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressAsyncEvents",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressBrowserResizeObserver",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressPropertyNamesCheck",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressChangeDetection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"debug",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"overlayLoadingTemplate",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"loadingOverlayComponent",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"loadingOverlayComponentFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"loadingOverlayComponentParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressLoadingOverlay",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"overlayNoRowsTemplate",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"noRowsOverlayComponent",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"noRowsOverlayComponentFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"noRowsOverlayComponentParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressNoRowsOverlay",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"pagination",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"paginationPageSize",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"paginationAutoPageSize",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"paginateChildRows",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressPaginationPanel",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"pivotMode",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"pivotPanelShow",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"pivotColumnGroupTotals",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"pivotRowTotals",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"pivotSuppressAutoColumn",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressExpandablePivotGroups",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"functionsReadOnly",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"aggFuncs",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressAggFuncInHeader",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressAggAtRootLevel",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"aggregateOnlyChangedColumns",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressAggFilteredOnly",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"animateRows",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableCellChangeFlash",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"cellFlashDelay",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"cellFadeDelay",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"domLayout",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"ensureDomOrder",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableRtl",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressColumnVirtualisation",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMaxRenderedRowRestriction",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"rowDragManaged",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressRowDrag",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMoveWhenRowDragging",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"rowDragEntireRow",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"rowDragMultiRow",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"fullWidthCellRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"fullWidthCellRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"fullWidthCellRendererParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"embedFullWidthRows",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"deprecatedEmbedFullWidthRows",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"groupDisplayType",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"groupDefaultExpanded",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"autoGroupColumnDef",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupMaintainOrder",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupSelectsChildren",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupIncludeFooter",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupIncludeTotalFooter",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupSuppressBlankHeader",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupSelectsFiltered",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"showOpenedGroup",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupRemoveSingleChildren",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupRemoveLowestSingleChildren",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupHideOpenParents",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"rowGroupPanelShow",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"groupRowRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"groupRowRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"groupRowRendererParams",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"treeData",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"groupRowInnerRenderer",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"groupRowInnerRendererFramework",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupMultiAutoColumn",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupUseEntireRow",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"groupSuppressAutoColumn",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"rememberGroupStateWhenNewData",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"pinnedTopRowData",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"pinnedBottomRowData",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"rowModelType",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"rowData",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"immutableData",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"asyncTransactionWaitMillis",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"deltaRowDataMode",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"batchUpdateWaitMillis",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"datasource",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"cacheOverflowSize",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"infiniteInitialRowCount",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"serverSideStoreType",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"cacheBlockSize",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"maxBlocksInCache",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"maxConcurrentDatasourceRequests",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"blockLoadDebounceMillis",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"purgeClosedRowNodes",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"serverSideDatasource",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"serverSideSortingAlwaysResets",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"serverSideFilteringAlwaysResets",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressEnterpriseResetOnNewColumns",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"viewportDatasource",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"viewportRowModelPageSize",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"viewportRowModelBufferSize",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"alwaysShowHorizontalScroll",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"alwaysShowVerticalScroll",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"debounceVerticalScrollbar",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressHorizontalScroll",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressScrollOnNewData",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressScrollWhenPopupsAreOpen",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressAnimationFrame",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMiddleClickScrolls",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressPreventDefaultOnMouseWheel",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"scrollbarWidth",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"rowSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"rowMultiSelectWithClick",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressRowDeselection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressRowClickSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressCellSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMultiRangeSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableCellTextSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableRangeSelection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableRangeHandle",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableFillHandle",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"fillHandleDirection",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressClearOnFillReduction",void 0),H([(0,a.IIB)(),U("design:type",Array)],n.prototype,"sortingOrder",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"accentedSort",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"unSortIcon",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMultiSort",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"multiSortKey",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressMaintainUnsortedOrder",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"icons",void 0),H([(0,a.IIB)(),U("design:type",Number)],n.prototype,"rowHeight",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"rowStyle",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"rowClass",void 0),H([(0,a.IIB)(),U("design:type",Object)],n.prototype,"rowClassRules",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressRowHoverHighlight",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"suppressRowTransform",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"columnHoverHighlight",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"deltaSort",void 0),H([(0,a.IIB)(),U("design:type",String)],n.prototype,"treeDataDisplayType",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"angularCompileRows",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"angularCompileFilters",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"functionsPassive",void 0),H([(0,a.IIB)(),U("design:type",Boolean)],n.prototype,"enableGroupEdit",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getContextMenuItems",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getMainMenuItems",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"postProcessPopup",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processCellForClipboard",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processHeaderForClipboard",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processCellFromClipboard",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"sendToClipboard",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processDataFromClipboard",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isExternalFilterPresent",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"doesExternalFilterPass",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getChartToolbarItems",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"createChartContainer",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"navigateToNextHeader",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"tabToNextHeader",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"navigateToNextCell",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"tabToNextCell",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"suppressKeyboardEvent",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"localeTextFunc",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getDocument",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"paginationNumberFormatter",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"groupRowAggNodes",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isGroupOpenByDefault",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"defaultGroupOrderComparator",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processSecondaryColDef",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processSecondaryColGroupDef",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getDataPath",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"defaultGroupSortComparator",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getChildCount",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getServerSideStoreParams",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isServerSideGroupOpenByDefault",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isApplyServerSideTransaction",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isServerSideGroup",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getServerSideGroupKey",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getBusinessKeyForNode",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getRowNodeId",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"processRowPostCreate",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isRowSelectable",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isRowMaster",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"fillOperation",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"postSort",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getRowStyle",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getRowClass",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"getRowHeight",void 0),H([(0,a.IIB)(),U("design:type",Function)],n.prototype,"isFullWidthCell",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"toolPanelVisibleChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"pasteStart",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"pasteEnd",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnVisible",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnPinned",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnResized",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnMoved",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnValueChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnPivotModeChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnPivotChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnGroupOpened",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"newColumnsLoaded",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"gridColumnsChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"displayedColumnsChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"virtualColumnsChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnEverythingChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"componentStateChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellValueChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowValueChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellEditingStarted",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellEditingStopped",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowEditingStarted",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowEditingStopped",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"filterOpened",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"filterChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"filterModified",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"chartCreated",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"chartRangeSelectionChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"chartOptionsChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"chartDestroyed",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellKeyDown",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellKeyPress",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"gridReady",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"firstDataRendered",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"gridSizeChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"modelUpdated",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"virtualRowRemoved",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"viewportChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"bodyScroll",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"bodyScrollEnd",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"dragStarted",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"dragStopped",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"paginationChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDragEnter",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDragMove",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDragLeave",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDragEnd",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnRowGroupChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowGroupOpened",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"expandOrCollapseAll",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"pinnedRowDataChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDataChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDataUpdated",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"asyncTransactionsFlushed",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellClicked",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellDoubleClicked",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellFocused",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellMouseOver",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellMouseOut",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellMouseDown",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowClicked",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowDoubleClicked",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rowSelected",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"selectionChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"cellContextMenu",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"rangeSelectionChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"sortChanged",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnRowGroupChangeRequest",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnPivotChangeRequest",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnValueChangeRequest",void 0),H([(0,a.r_U)(),U("design:type",a.vpe)],n.prototype,"columnAggFuncChangeRequest",void 0),n=H([U("design:paramtypes",[a.SBq,a.s_b,KL,QL,a._Vd])],n),n})();var JL;let uD=JL=class{static withComponents(t){return{ngModule:JL,providers:[{provide:a.deG,useValue:t,multi:!0}]}}static forRoot(t){return{ngModule:JL,providers:[{provide:a.deG,useValue:t,multi:!0}]}}};uD.\u0275fac=function(t){return new(t||uD)},uD.\u0275mod=a.oAB({type:uD}),uD.\u0275inj=a.cJS({imports:[[]]});let rne=(()=>{class n{constructor(e,i,l){this.router=e,this.productService=i,this.categoryService=l,this.displayedColumns=["title","category","price","edit"],this.collectionSize=0,this.pageSize=5,this.page=1,this.destroy=new st.xQ,this.filterTxt=new Kh("")}onPageChange(){this.gridApi.onFilterChanged()}ngOnInit(){this.category=this.categoryService.fetchCategories(),this.frameworkComponents={dropDownFilter:w6},this.filterTxt.valueChanges.pipe(Dt(this.destroy)).subscribe(e=>{XL=e,this.gridApi.onFilterChanged()}),this.columnDefs=[{field:"title",flex:1},{field:"price",flex:1},{field:"category",flex:1,filter:"dropDownFilter",filterParams:{context:this.category}},{field:"edit",cellRendererFramework:$te,flex:1}]}onGridReady(e){this.gridApi=e.api,this.dataSource={rowCount:null,getRows:({startRow:i,endRow:l,successCallback:h,filterModel:m})=>{console.log(m),this.productService.getAllProduct().pipe(Dt(this.destroy)).subscribe(v=>{this.collectionSize=v.length,m=XL?Object.assign({title:{value:XL}},m):m;var E=v.slice((this.page-1)*this.pageSize,this.page*this.pageSize),T=this.filterData(E,m),M=T.slice(i,l);console.log(M);var F=-1;T.length<=l&&(F=T.length),h(M,F)})}},e.api.setDatasource(this.dataSource)}filterData(e,i){var l,h,m;if(!(i&&Object.keys(i).length>0))return e;for(var E=[],T=0;T<e.length;T++){var M=e[T];i.category&&""!==(null===(l=i.category)||void 0===l?void 0:l.value)&&(null===(h=i.category)||void 0===h?void 0:h.value)!==M.category||i.title&&!M.title.includes(null===(m=i.title)||void 0===m?void 0:m.value)||E.push(M)}return E}openProductForm(){this.router.navigate(["admin/products/new"])}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(vs),a.Y36(YL),a.Y36(IP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-admin-products"]],viewQuery:function(e,i){if(1&e&&(a.Gf(kte,5),a.Gf(v6,5)),2&e){let l;a.iGM(l=a.CRH())&&(i.paginator=l.first),a.iGM(l=a.CRH())&&(i.sort=l.first)}},decls:7,vars:9,consts:[["mat-raised-button","","color","primary",3,"click"],["fxLayoutAlign","center center",1,"m-4"],["fxFlex","100%"],["matInput","","floatLabel","none","type","text","placeholder","Search",3,"formControl"],["rowModelType","infinite",1,"ag-theme-alpine",2,"width","100%","height","140px",3,"rowBuffer","columnDefs","frameworkComponents","cacheBlockSize","gridReady"],["aria-label","",3,"collectionSize","pageSize","page","directionLinks","pageChange"]],template:function(e,i){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return i.openProductForm()}),a._uU(1," New Product\n"),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"mat-form-field",2),a._UZ(4,"input",3),a.qZA(),a.qZA(),a.TgZ(5,"ag-grid-angular",4),a.NdJ("gridReady",function(h){return i.onGridReady(h)}),a.qZA(),a.TgZ(6,"ngb-pagination",5),a.NdJ("pageChange",function(h){return i.page=h})("pageChange",function(){return i.onPageChange()}),a.qZA()),2&e&&(a.xp6(4),a.Q6J("formControl",i.filterTxt),a.xp6(1),a.Q6J("rowBuffer",0)("columnDefs",i.columnDefs)("frameworkComponents",i.frameworkComponents)("cacheBlockSize",3),a.xp6(1),a.Q6J("collectionSize",i.collectionSize)("pageSize",i.pageSize)("page",i.page)("directionLinks",!1))},directives:[Ug,qk,s6,$M,Xte,qS,HR,oP,ine,_j],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),n})();var XL;let I6=(()=>{class n{constructor(e){this.cardService=e}ngOnInit(){}addToCard(){this.cardService.addToCard(this.product)}getQuantity(){if(!this.shoppingCard||null==this.shoppingCard)return 0;let e;return console.log(this.product.title,Object.keys(this.shoppingCard.items).includes(this.product.uid)),Object.keys(this.shoppingCard.items).includes(this.product.uid)&&(e=this.shoppingCard.items[this.product.uid]),e?e.quantity:0}removeFromCard(){this.cardService.removeFromCard(this.product)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["quantity-box"]],inputs:{product:"product",shoppingCard:"shoppingCard"},decls:7,vars:1,consts:[[1,"d-flex","flex-row","w-100","justify-content-between"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"a",1),a.NdJ("click",function(){return i.removeFromCard()}),a._uU(2,"-"),a.qZA(),a.TgZ(3,"div"),a._uU(4),a.qZA(),a.TgZ(5,"a",1),a.NdJ("click",function(){return i.addToCard()}),a._uU(6,"+"),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.hij("",i.getQuantity(),"in card"))},directives:[Gj],styles:[""]}),n})();function one(n,t){if(1&n&&a._UZ(0,"img",7),2&n){const e=a.oxw(2);a.Q6J("src",e.product.imageURL,a.LSH)("alt",e.product.title)}}function sne(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",11),a.NdJ("click",function(){return a.CHM(e),a.oxw(3).addToCard()}),a._uU(1,"Add to order"),a.qZA()}}function ane(n,t){if(1&n&&(a.ynx(0),a._UZ(1,"quantity-box",12),a.BQk()),2&n){const e=a.oxw(3);a.xp6(1),a.Q6J("product",e.product)("shoppingCard",e.shoppingCard)}}function lne(n,t){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,sne,2,0,"a",9),a.YNc(2,ane,2,2,"ng-container",10),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Q6J("ngIf",0===e.getQuantity()),a.xp6(1),a.Q6J("ngIf",0!==e.getQuantity())}}function une(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,one,1,2,"img",2),a.TgZ(2,"div",3),a.TgZ(3,"h5",4),a._uU(4),a.qZA(),a.TgZ(5,"p",5),a._uU(6),a.ALo(7,"currency"),a.qZA(),a.qZA(),a.YNc(8,lne,3,2,"div",6),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.product.imageURL),a.xp6(3),a.hij(" ",e.product.title," "),a.xp6(2),a.hij(" ",a.xi3(7,4,e.product.price,"USD")," "),a.xp6(2),a.Q6J("ngIf",e.showAction)}}let x6=(()=>{class n{constructor(e){this.cardService=e}ngOnInit(){}addToCard(){this.cardService.addToCard(this.product)}getQuantity(){if(!this.shoppingCard||null==this.shoppingCard)return 0;let e;return e=this.shoppingCard.items[this.product.uid],e?e.quantity:0}removeFromCard(){this.cardService.removeFromCard(this.product)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["product-card"]],inputs:{product:"product",showAction:"showAction",shoppingCard:"shoppingCard"},decls:1,vars:1,consts:[["class","card","style","width: 20rem",4,"ngIf"],[1,"card",2,"width","20rem"],["class","card-img-top",3,"src","alt",4,"ngIf"],[1,"card-body"],[1,"card-title"],["product.price","",1,"card-text"],["class","card-footer p-0",4,"ngIf"],[1,"card-img-top",3,"src","alt"],[1,"card-footer","p-0"],["class","w-100","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"w-100",3,"click"],[3,"product","shoppingCard"]],template:function(e,i){1&e&&a.YNc(0,une,9,7,"div",0),2&e&&a.Q6J("ngIf",i.product.title)},directives:[Pn,Gj,I6],pipes:[op],styles:[""]}),n})();function cne(n,t){1&n&&(a.TgZ(0,"div",21),a._uU(1," Field must not be empty. "),a.qZA())}function dne(n,t){1&n&&(a.TgZ(0,"div",21),a._uU(1," Field must not be empty. "),a.qZA())}function hne(n,t){if(1&n&&(a.TgZ(0,"option",14),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("ngValue",e.key),a.xp6(1),a.hij(" ",e.data.name," ")}}function pne(n,t){1&n&&(a.TgZ(0,"div",21),a._uU(1," Field must not be empty. "),a.qZA())}function fne(n,t){1&n&&(a.TgZ(0,"div",21),a._uU(1," Field must not be empty. "),a.qZA())}function gne(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){return a.CHM(e),a.oxw().onDelete()}),a._uU(1," Delete "),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("disabled",e.form.invalid)}}let O6=(()=>{class n{constructor(e,i,l,h){this.categoryService=e,this.route=i,this.productService=l,this.router=h,this.product={title:"",category:"",price:0,imageURL:""}}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.productService.getProductById(this.id).pipe(Bn(1)).subscribe(e=>{this.product=e,this.form.setValue(e)}),this.form=new KS({title:new Kh(this.product.title,[_f.required,_f.minLength(2)]),price:new Kh(this.product.price,[_f.required]),category:new Kh(this.product.category,[_f.required]),imageURL:new Kh(this.product.imageURL,[_f.required])}),this.categories$=this.categoryService.fetchCategories()}submit(e){var i=this;return(0,Ve.Z)(function*(){console.log(e),i.id?i.productService.updateProduct(i.id,e.value).then(()=>{i.router.navigate(["admin/products"])}):i.productService.createProduct(e.value).then(()=>{i.router.navigate(["admin/products"])})})()}onDelete(){confirm("Are you sure you want delete this product?")&&this.productService.deleteProduct(this.id).then(()=>{this.router.navigate(["admin/products"])})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(IP),a.Y36(Zc),a.Y36(YL),a.Y36(vs))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product-form"]],decls:34,vars:12,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","col-6"],[1,"from-group"],["for","title",1,"h5"],["formControlName","title","id","title","type","text",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"from-group","mt-4"],["for","price",1,"h5"],[1,"input-group"],[1,"input-group-text"],["formControlName","price","id","price","type","number",1,"form-control"],["for","category",1,"h5"],["formControlName","category","id","category",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","image",1,"h5"],["formControlName","imageURL","id","image","type","text",1,"form-control"],[3,"product","showAction"],["mat-raised-button","","color","primary","type","submit",1,"mt-4","me-2",3,"disabled"],["mat-raised-button","","color","warn","type","button","class","mt-4",3,"disabled","click",4,"ngIf"],[1,"alert","alert-danger"],["mat-raised-button","","color","warn","type","button",1,"mt-4",3,"disabled","click"]],template:function(e,i){1&e&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return i.submit(i.form)}),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"label",4),a._uU(5," Title "),a.qZA(),a._UZ(6,"input",5),a.qZA(),a.YNc(7,cne,2,0,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"label",8),a._uU(10," Price "),a.qZA(),a.TgZ(11,"div",9),a.TgZ(12,"span",10),a._uU(13,"$"),a.qZA(),a._UZ(14,"input",11),a.qZA(),a.qZA(),a.YNc(15,dne,2,0,"div",6),a.TgZ(16,"div",7),a.TgZ(17,"label",12),a._uU(18," Category "),a.qZA(),a.TgZ(19,"select",13),a._UZ(20,"option",14),a.YNc(21,hne,2,2,"option",15),a.ALo(22,"async"),a.qZA(),a.qZA(),a.YNc(23,pne,2,0,"div",6),a.TgZ(24,"div",7),a.TgZ(25,"label",16),a._uU(26," Image URL "),a.qZA(),a._UZ(27,"input",17),a.qZA(),a.YNc(28,fne,2,0,"div",6),a.qZA(),a.TgZ(29,"div",2),a._UZ(30,"product-card",18),a.qZA(),a.qZA(),a.TgZ(31,"button",19),a._uU(32," save "),a.qZA(),a.YNc(33,gne,2,1,"button",20),a.qZA()),2&e&&(a.Q6J("formGroup",i.form),a.xp6(7),a.Q6J("ngIf",i.form.get("title").invalid&&(i.form.get("title").dirty||i.form.get("title").touched)),a.xp6(8),a.Q6J("ngIf",i.form.get("price").invalid&&(i.form.get("price").dirty||i.form.get("price").touched)),a.xp6(6),a.Q6J("ngForOf",a.lcZ(22,10,i.categories$)),a.xp6(2),a.Q6J("ngIf",i.form.get("category").invalid&&(i.form.get("category").dirty||i.form.get("category").touched)),a.xp6(5),a.Q6J("ngIf",i.form.get("imageURL").invalid&&(i.form.get("imageURL").dirty||i.form.get("imageURL").touched)),a.xp6(2),a.Q6J("product",i.form.value)("showAction",!1),a.xp6(1),a.Q6J("disabled",i.form.invalid),a.xp6(2),a.Q6J("ngIf",i.id))},directives:[hL,tL,Hg,qS,HR,sP,Pn,pL,$R,aP,lP,on,x6,Ug],pipes:[Ea],styles:[""]}),n})(),OP=(()=>{class n{constructor(e,i,l){this.authService=e,this.preRouteService=i,this.router=l}canActivate(e,i){return this.authService.user$.pipe((0,Ct.U)(l=>!!l||(this.router.navigate(["/login"],{queryParams:{redirectURL:i.url}}),this.preRouteService.setPreviousUrl(i.url),!1)))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(yb),a.LFG(yO),a.LFG(vs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mne=(()=>{class n{constructor(e,i){this.db=e,this.cardService=i}orderStore(e){var i=this;return(0,Ve.Z)(function*(){let l=yield i.db.list("/order").push(e);return i.cardService.clearShoppingCard(),l})()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_n),a.LFG(Fg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _ne(n,t){if(1&n&&(a.TgZ(0,"li",21),a._uU(1),a.TgZ(2,"div",22),a._uU(3),a.ALo(4,"currency"),a.qZA(),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.AsE(" ",e.quantity," x ",e.product.title," "),a.xp6(2),a.hij(" ",a.xi3(4,3,e.totalPrice,"USD")," ")}}function yne(n,t){if(1&n&&(a.ynx(0),a.TgZ(1,"div",14),a.TgZ(2,"div",15),a.TgZ(3,"div",16),a.TgZ(4,"h4",17),a._uU(5,"Order Summary"),a.qZA(),a.TgZ(6,"p",18),a._uU(7),a.qZA(),a.TgZ(8,"ul",19),a.YNc(9,_ne,5,6,"li",20),a.TgZ(10,"li",21),a._uU(11," Total "),a.TgZ(12,"div",22),a._uU(13),a.ALo(14,"currency"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.BQk()),2&n){const e=a.oxw();a.xp6(7),a.hij(" You have ",e.card$.totalItemCount," items in your shopping card "),a.xp6(2),a.Q6J("ngForOf",e.cardItems),a.xp6(4),a.hij(" ",a.xi3(14,3,e.cardService.getTotalPrice(e.card$.items),"USD")," ")}}let vne=(()=>{class n{constructor(e,i,l,h,m){this.cardService=e,this.authService=i,this.orderService=l,this.route=h,this.fb=m}ngOnInit(){var e=this;return(0,Ve.Z)(function*(){e.form=e.fb.group({name:["",_f.required],addressLine1:["",_f.required],addressLine2:["",_f.required],city:[""]}),e.cardSub=(yield e.cardService.getCard()).subscribe(i=>{e.card$=i,e.cardItems=e.cardService.convertCardObjectToArray(e.card$)}),e.userSub=e.authService.user$.subscribe(i=>e.userId=i.uid)})()}placeOrder(e){var i=this;return(0,Ve.Z)(function*(){let l={userId:i.userId,datePlace:(new Date).getTime(),shipping:e,items:i.cardItems.map(m=>m.product),quantity:i.card$.totalItemCount,totalPrice:i.cardService.getTotalPrice(i.card$.items)},h=yield i.orderService.orderStore(l);i.route.navigate(["/order-success",h.key]),console.log(e)})()}ngOnDestroy(){this.userSub.unsubscribe(),this.cardSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fg),a.Y36(yb),a.Y36(mne),a.Y36(vs),a.Y36(N7))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-check-out"]],decls:21,vars:3,consts:[[1,"h1","mt-3"],[1,"row"],[1,"col","col-6"],[3,"formGroup"],[1,"from-group","mb-3"],["for","name",1,"h5"],["formControlName","name","id","name","type","text",1,"form-control"],[1,"h5"],["formControlName","addressLine1","id","address-Line1","type","text","placeholder","Line 1",1,"form-control","mb-4"],["formControlName","addressLine2","id","address-Line2","type","text","placeholder","Line 2",1,"form-control"],["for","city",1,"h5"],["formControlName","city","id","city","type","text",1,"form-control"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],[4,"ngIf"],[1,"m-3","col"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"float-end"]],template:function(e,i){1&e&&(a.TgZ(0,"p",0),a._uU(1,"Shipping"),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"div",2),a.TgZ(4,"form",3),a.TgZ(5,"div",4),a.TgZ(6,"label",5),a._uU(7," Name "),a.qZA(),a._UZ(8,"input",6),a.qZA(),a.TgZ(9,"div",4),a.TgZ(10,"label",7),a._uU(11," Address "),a.qZA(),a._UZ(12,"input",8),a._UZ(13,"input",9),a.qZA(),a.TgZ(14,"div",4),a.TgZ(15,"label",10),a._uU(16," City "),a.qZA(),a._UZ(17,"input",11),a.qZA(),a.TgZ(18,"button",12),a.NdJ("click",function(){return i.placeOrder(i.form.value)}),a._uU(19," Place Order "),a.qZA(),a.qZA(),a.qZA(),a.YNc(20,yne,15,6,"ng-container",13),a.qZA()),2&e&&(a.xp6(4),a.Q6J("formGroup",i.form),a.xp6(14),a.Q6J("disabled",i.form.invalid),a.xp6(2),a.Q6J("ngIf",i.card$))},directives:[hL,tL,Hg,qS,HR,sP,Ug,Pn,on],pipes:[op],styles:[""]}),n})(),Cne=(()=>{class n{constructor(e){this.afAuth=e}ngOnInit(){}login(){this.afAuth.signInWithRedirect(new iT.N)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Bp))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return i.login()}),a._uU(1,"Login with Google"),a.qZA())},styles:[""]}),n})();class M6{}class P6{}class Wg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const l=e.slice(0,i),h=l.toLowerCase(),m=e.slice(i+1).trim();this.maybeSetNormalizedName(l,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const l=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(l,i),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Wg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Wg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const l=("a"===t.op?this.headers.get(e):void 0)||[];l.push(...i),this.headers.set(e,l);break;case"d":const h=t.value;if(h){let m=this.headers.get(e);if(!m)return;m=m.filter(v=>-1===h.indexOf(v)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wne{encodeKey(t){return N6(t)}encodeValue(t){return N6(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Ene=/%(\d[a-f0-9])/gi,Sne={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function N6(n){return encodeURIComponent(n).replace(Ene,(t,e)=>{var i;return null!==(i=Sne[e])&&void 0!==i?i:t})}function F6(n){return`${n}`}class O_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wne,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(l=>{const h=l.indexOf("="),[m,v]=-1==h?[t.decodeKey(l),""]:[t.decodeKey(l.slice(0,h)),t.decodeValue(l.slice(h+1))],E=e.get(m)||[];E.push(v),e.set(m,E)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const l=t[i];Array.isArray(l)?l.forEach(h=>{e.push({param:i,value:h,op:"a"})}):e.push({param:i,value:l,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new O_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(F6(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const l=i.indexOf(F6(t.value));-1!==l&&i.splice(l,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Dne{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function k6(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function L6(n){return"undefined"!=typeof Blob&&n instanceof Blob}function G6(n){return"undefined"!=typeof FormData&&n instanceof FormData}class lI{constructor(t,e,i,l){let h;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==i?i:null,h=l):h=i,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new Wg),this.context||(this.context=new Dne),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+m}}else this.params=new O_,this.urlWithParams=e}serializeBody(){return null===this.body?null:k6(this.body)||L6(this.body)||G6(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof O_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G6(this.body)?null:L6(this.body)?this.body.type||null:k6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof O_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,l=t.url||this.url,h=t.responseType||this.responseType,m=void 0!==t.body?t.body:this.body,v=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,E=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let T=t.headers||this.headers,M=t.params||this.params;const F=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(T=Object.keys(t.setHeaders).reduce((V,K)=>V.set(K,t.setHeaders[K]),T)),t.setParams&&(M=Object.keys(t.setParams).reduce((V,K)=>V.set(K,t.setParams[K]),M)),new lI(i,l,m,{params:M,headers:T,context:F,reportProgress:E,responseType:h,withCredentials:v})}}var Hs=(()=>((Hs=Hs||{})[Hs.Sent=0]="Sent",Hs[Hs.UploadProgress=1]="UploadProgress",Hs[Hs.ResponseHeader=2]="ResponseHeader",Hs[Hs.DownloadProgress=3]="DownloadProgress",Hs[Hs.Response=4]="Response",Hs[Hs.User=5]="User",Hs))();class eG{constructor(t,e=200,i="OK"){this.headers=t.headers||new Wg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tG extends eG{constructor(t={}){super(t),this.type=Hs.ResponseHeader}clone(t={}){return new tG({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class MP extends eG{constructor(t={}){super(t),this.type=Hs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new MP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class B6 extends eG{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function nG(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let uI=(()=>{class n{constructor(e){this.handler=e}request(e,i,l={}){let h;if(e instanceof lI)h=e;else{let E,T;E=l.headers instanceof Wg?l.headers:new Wg(l.headers),l.params&&(T=l.params instanceof O_?l.params:new O_({fromObject:l.params})),h=new lI(e,i,void 0!==l.body?l.body:null,{headers:E,context:l.context,params:T,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const m=(0,It.of)(h).pipe(h_(E=>this.handler.handle(E)));if(e instanceof lI||"events"===l.observe)return m;const v=m.pipe(On(E=>E instanceof MP));switch(l.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return v.pipe((0,Ct.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return v.pipe((0,Ct.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return v.pipe((0,Ct.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));case"json":default:return v.pipe((0,Ct.U)(E=>E.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new O_).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,l={}){return this.request("PATCH",e,nG(l,i))}post(e,i,l={}){return this.request("POST",e,nG(l,i))}put(e,i,l={}){return this.request("PUT",e,nG(l,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(M6))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class V6{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const H6=new a.OlP("HTTP_INTERCEPTORS");let Rne=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ine=/^\)\]\}',?\n/;let U6=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ji.y(i=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((K,re)=>l.setRequestHeader(K,re.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const K=e.detectContentTypeHeader();null!==K&&l.setRequestHeader("Content-Type",K)}if(e.responseType){const K=e.responseType.toLowerCase();l.responseType="json"!==K?K:"text"}const h=e.serializeBody();let m=null;const v=()=>{if(null!==m)return m;const K=1223===l.status?204:l.status,re=l.statusText||"OK",me=new Wg(l.getAllResponseHeaders()),Pe=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||e.url;return m=new tG({headers:me,status:K,statusText:re,url:Pe}),m},E=()=>{let{headers:K,status:re,statusText:me,url:Pe}=v(),Je=null;204!==re&&(Je=void 0===l.response?l.responseText:l.response),0===re&&(re=Je?200:0);let gt=re>=200&&re<300;if("json"===e.responseType&&"string"==typeof Je){const Ut=Je;Je=Je.replace(Ine,"");try{Je=""!==Je?JSON.parse(Je):null}catch(Yt){Je=Ut,gt&&(gt=!1,Je={error:Yt,text:Je})}}gt?(i.next(new MP({body:Je,headers:K,status:re,statusText:me,url:Pe||void 0})),i.complete()):i.error(new B6({error:Je,headers:K,status:re,statusText:me,url:Pe||void 0}))},T=K=>{const{url:re}=v(),me=new B6({error:K,status:l.status||0,statusText:l.statusText||"Unknown Error",url:re||void 0});i.error(me)};let M=!1;const F=K=>{M||(i.next(v()),M=!0);let re={type:Hs.DownloadProgress,loaded:K.loaded};K.lengthComputable&&(re.total=K.total),"text"===e.responseType&&!!l.responseText&&(re.partialText=l.responseText),i.next(re)},V=K=>{let re={type:Hs.UploadProgress,loaded:K.loaded};K.lengthComputable&&(re.total=K.total),i.next(re)};return l.addEventListener("load",E),l.addEventListener("error",T),l.addEventListener("timeout",T),l.addEventListener("abort",T),e.reportProgress&&(l.addEventListener("progress",F),null!==h&&l.upload&&l.upload.addEventListener("progress",V)),l.send(h),i.next({type:Hs.Sent}),()=>{l.removeEventListener("error",T),l.removeEventListener("abort",T),l.removeEventListener("load",E),l.removeEventListener("timeout",T),e.reportProgress&&(l.removeEventListener("progress",F),null!==h&&l.upload&&l.upload.removeEventListener("progress",V)),l.readyState!==l.DONE&&l.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(sp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const iG=new a.OlP("XSRF_COOKIE_NAME"),rG=new a.OlP("XSRF_HEADER_NAME");class W6{}let One=(()=>{class n{constructor(e,i,l){this.doc=e,this.platform=i,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ir(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(a.Lbi),a.LFG(iG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),oG=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const l=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||l.startsWith("http://")||l.startsWith("https://"))return i.handle(e);const h=this.tokenService.getToken();return null!==h&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,h)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(W6),a.LFG(rG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Mne=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(H6,[]);this.chain=i.reduceRight((l,h)=>new V6(l,h),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(P6),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Pne=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:oG,useClass:Rne}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:iG,useValue:e.cookieName}:[],e.headerName?{provide:rG,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[oG,{provide:H6,useExisting:oG,multi:!0},{provide:W6,useClass:One},{provide:iG,useValue:"XSRF-TOKEN"},{provide:rG,useValue:"X-XSRF-TOKEN"}]}),n})(),Nne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[uI,{provide:M6,useClass:Mne},U6,{provide:P6,useExisting:U6}],imports:[[Pne.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function Fne(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.ALo(2,"json"),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij("\n",a.lcZ(2,1,e),"\n")}}let kne=(()=>{class n{constructor(e){this.http=e,this.ROOT_URL="https://jsonplaceholder.typicode.com"}ngOnInit(){}onGetPost(){(new O_).set("id","1");const i=(new Wg).set("Authorization","auth-token");this.post=this.http.get(this.ROOT_URL+"/posts",{headers:i})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(uI))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-my-order"]],decls:4,vars:3,consts:[["mat-raised-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return i.onGetPost()}),a._uU(1,"get post"),a.qZA(),a.YNc(2,Fne,3,3,"div",1),a.ALo(3,"async")),2&e&&(a.xp6(2),a.Q6J("ngForOf",a.lcZ(3,1,i.post)))},directives:[Ug,on],pipes:[Ea,Qg],styles:[""]}),n})(),Lne=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-order-success"]],decls:2,vars:0,template:function(e,i){1&e&&(a.TgZ(0,"p"),a._uU(1,"order-success works!"),a.qZA())},styles:[""]}),n})();const Gne=function(n){return{category:n}};function Bne(n,t){if(1&n&&(a.TgZ(0,"a",3),a._uU(1),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.ekj("active",i.category$===e.key),a.Q6J("queryParams",a.VKq(4,Gne,e.key)),a.xp6(1),a.Oqu(e.data.name)}}let Vne=(()=>{class n{constructor(e){this.categoryService=e}ngOnInit(){this.categories$=this.categoryService.fetchCategories()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(IP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["product-filter"]],inputs:{category$:"category$"},decls:6,vars:5,consts:[[1,"list-group"],["routerLink","/",1,"list-group-item","list-group-item-action"],["class","list-group-item list-group-item-action","routerLink","/",3,"active","queryParams",4,"ngFor","ngForOf"],["routerLink","/",1,"list-group-item","list-group-item-action",3,"queryParams"]],template:function(e,i){1&e&&(a.TgZ(0,"div"),a.TgZ(1,"div",0),a.TgZ(2,"a",1),a._uU(3," AllCategories"),a.qZA(),a.YNc(4,Bne,2,6,"a",2),a.ALo(5,"async"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.ekj("active",!i.category$),a.xp6(2),a.Q6J("ngForOf",a.lcZ(5,3,i.categories$)))},directives:[yv,on],pipes:[Ea],styles:[""]}),n})();function Hne(n,t){if(1&n&&(a.TgZ(0,"div",6),a._UZ(1,"product-card",7),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(1),a.Q6J("product",e)("shoppingCard",i.card$)("showAction",!0)}}let j6=(()=>{class n{constructor(e,i,l,h){this.productService=e,this.categoryService=i,this.route=l,this.CardService=h}ngOnInit(){var e=this;return(0,Ve.Z)(function*(){e.productService.getAllProduct().subscribe(i=>{e.route.queryParamMap.subscribe(l=>{e.category$=l.get("category"),e.filterProduct$=e.category$?null==i?void 0:i.filter(h=>h.category===e.category$):i})}),e.categories$=e.categoryService.fetchCategories(),e.cardSubscription=(yield e.CardService.getCard()).subscribe(i=>{e.card$=i})})()}ngOnDestroy(){var e;null===(e=this.cardSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(YL),a.Y36(IP),a.Y36(Zc),a.Y36(Fg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-products"]],decls:6,vars:2,consts:[[1,"row"],[1,"col-sm-3","col-9","mx-auto","mb-4"],[3,"category$"],[1,"col-sm-9"],["fxFlex","'row'","fxLayoutGap","3rem","fxFlex.sm","column"],["class","d-inline-block mb-4",4,"ngFor","ngForOf"],[1,"d-inline-block","mb-4"],[1,"",3,"product","shoppingCard","showAction"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"product-filter",2),a.qZA(),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.YNc(5,Hne,2,3,"div",5),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Q6J("category$",i.category$),a.xp6(3),a.Q6J("ngForOf",i.filterProduct$))},directives:[Vne,$M,aU,on,x6],styles:[""]}),n})();const Une=[[["caption"]],[["colgroup"],["col"]]],Wne=["caption","colgroup, col"];function sG(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ht(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const cD=new a.OlP("CDK_TABLE");let dD=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),hD=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),PP=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Yne{}const qne=sG(Yne);let M_=(()=>{class n extends qne{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Ht(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(cD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,l){if(1&e&&(a.Suo(l,dD,5),a.Suo(l,hD,5),a.Suo(l,PP,5)),2&e){let h;a.iGM(h=a.CRH())&&(i.cell=h.first),a.iGM(h=a.CRH())&&(i.headerCell=h.first),a.iGM(h=a.CRH())&&(i.footerCell=h.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class aG{constructor(t,e){const i=e.nativeElement.classList;for(const l of t._columnCssClassName)i.add(l)}}let lG=(()=>{class n extends aG{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(M_),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),uG=(()=>{class n extends aG{constructor(e,i){var l;if(super(e,i),1===(null===(l=e._table)||void 0===l?void 0:l._elementRef.nativeElement.nodeType)){const h=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===h||"treegrid"===h?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(M_),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class $6{constructor(){this.tasks=[],this.endTasks=[]}}const cG=new a.OlP("_COALESCED_STYLE_SCHEDULER");let Y6=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new st.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new $6,this._getScheduleObservable().pipe(Dt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new $6;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ii.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Bn(1))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),dG=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof cI?e.headerCell.template:this instanceof dI?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class Zne extends dG{}const Kne=sG(Zne);let cI=(()=>{class n extends Kne{constructor(e,i,l){super(e,i),this._table=l}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(cD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class Qne extends dG{}const Jne=sG(Qne);let dI=(()=>{class n extends Jne{constructor(e,i,l){super(e,i),this._table=l}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(cD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),NP=(()=>{class n extends dG{constructor(e,i,l){super(e,i),this._table=l}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(cD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),P_=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n.mostRecentCellOutlet=null,n})(),hG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[P_],encapsulation:2}),n})(),fG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[P_],encapsulation:2}),n})(),FP=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const q6=["top","bottom","left","right"];class Xne{constructor(t,e,i,l,h=!0,m=!0,v){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=l,this._isBrowser=h,this._needsPositionStickyOnElement=m,this._positionListener=v,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const l of t)if(l.nodeType===l.ELEMENT_NODE){i.push(l);for(let h=0;h<l.children.length;h++)i.push(l.children[h])}this._coalescedStyleScheduler.schedule(()=>{for(const l of i)this._removeStickyStyle(l,e)})}updateStickyColumns(t,e,i,l=!0){if(!t.length||!this._isBrowser||!e.some(V=>V)&&!i.some(V=>V))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const h=t[0],m=h.children.length,v=this._getCellWidths(h,l),E=this._getStickyStartColumnPositions(v,e),T=this._getStickyEndColumnPositions(v,i),M=e.lastIndexOf(!0),F=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const V="rtl"===this.direction,K=V?"right":"left",re=V?"left":"right";for(const me of t)for(let Pe=0;Pe<m;Pe++){const Je=me.children[Pe];e[Pe]&&this._addStickyStyle(Je,K,E[Pe],Pe===M),i[Pe]&&this._addStickyStyle(Je,re,T[Pe],Pe===F)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:v.slice(0,M+1).map((me,Pe)=>e[Pe]?me:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===F?[]:v.slice(F).map((me,Pe)=>i[Pe+F]?me:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const l="bottom"===i?t.slice().reverse():t,h="bottom"===i?e.slice().reverse():e,m=[],v=[],E=[];for(let M=0,F=0;M<l.length;M++){if(!h[M])continue;m[M]=F;const V=l[M];E[M]=this._isNativeHtmlTable?Array.from(V.children):[V];const K=V.getBoundingClientRect().height;F+=K,v[M]=K}const T=h.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var M,F;for(let V=0;V<l.length;V++){if(!h[V])continue;const K=m[V],re=V===T;for(const me of E[V])this._addStickyStyle(me,i,K,re)}"top"===i?null===(M=this._positionListener)||void 0===M||M.stickyHeaderRowsUpdated({sizes:v,offsets:m,elements:E}):null===(F=this._positionListener)||void 0===F||F.stickyFooterRowsUpdated({sizes:v,offsets:m,elements:E})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(l=>!l)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const l of e)t.style[l]="",t.classList.remove(this._borderCellCss[l]);q6.some(l=>-1===e.indexOf(l)&&t.style[l])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,l){t.classList.add(this._stickCellCss),l&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const l of q6)t.style[l]&&(i+=e[l]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],l=t.children;for(let h=0;h<l.length;h++)i.push(l[h].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let l=0;for(let h=0;h<t.length;h++)e[h]&&(i[h]=l,l+=t[h]);return i}_getStickyEndColumnPositions(t,e){const i=[];let l=0;for(let h=t.length;h>0;h--)e[h]&&(i[h]=l,l+=t[h]);return i}}const gG=new a.OlP("CDK_SPL");let kP=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),LP=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),GP=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),BP=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),VP=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M,F,V){this._differs=e,this._changeDetectorRef=i,this._elementRef=l,this._dir=m,this._platform=E,this._viewRepeater=T,this._coalescedStyleScheduler=M,this._viewportRuler=F,this._stickyPositioningListener=V,this._onDestroy=new st.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new kr({start:0,end:Number.MAX_VALUE}),h||this._elementRef.nativeElement.setAttribute("role","table"),this._document=v,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ht(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ht(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Dt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),EP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(l,h,m)=>this._getEmbeddedViewArgs(l.item,m),l=>l.item.data,l=>{1===l.operation&&l.context&&this._renderCellTemplateForItem(l.record.item.rowDef,l.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(l=>{i.get(l.currentIndex).context.$implicit=l.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),l=this._elementRef.nativeElement.querySelector("thead");l&&(l.style.display=e.length?"":"none");const h=this._headerRowDefs.map(m=>m.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,h,"top"),this._headerRowDefs.forEach(m=>m.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),l=this._elementRef.nativeElement.querySelector("tfoot");l&&(l.style.display=e.length?"":"none");const h=this._footerRowDefs.map(m=>m.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,h,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,h),this._footerRowDefs.forEach(m=>m.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),l=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...l],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((h,m)=>{this._addStickyColumnStyles([h],this._headerRowDefs[m])}),this._rowDefs.forEach(h=>{const m=[];for(let v=0;v<i.length;v++)this._renderRows[v].rowDef===h&&m.push(i[v]);this._addStickyColumnStyles(m,h)}),l.forEach((h,m)=>{this._addStickyColumnStyles([h],this._footerRowDefs[m])}),Array.from(this._columnDefsByName.values()).forEach(h=>h.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let l=0;l<this._data.length;l++){let h=this._data[l];const m=this._getRenderRowsForData(h,l,i.get(h));this._cachedRenderRowsMap.has(h)||this._cachedRenderRowsMap.set(h,new WeakMap);for(let v=0;v<m.length;v++){let E=m[v];const T=this._cachedRenderRowsMap.get(E.data);T.has(E.rowDef)?T.get(E.rowDef).push(E):T.set(E.rowDef,[E]),e.push(E)}}return e}_getRenderRowsForData(e,i,l){return this._getRowDefs(e,i).map(m=>{const v=l&&l.has(m)?l.get(m):[];if(v.length){const E=v.shift();return E.dataIndex=i,E}return{data:e,rowDef:m,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),HP(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=HP(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=HP(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=HP(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(m,v)=>m||!!v.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const l=this._headerRowDefs.reduce(e,!1);l&&this._forceRenderHeaderRows();const h=this._footerRowDefs.reduce(e,!1);return h&&this._forceRenderFooterRows(),i||l||h}_switchDataSource(e){this._data=[],EP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;EP(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof ji.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,It.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Dt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const l=Array.from(i.columns||[]).map(v=>this._columnDefsByName.get(v)),h=l.map(v=>v.sticky),m=l.map(v=>v.stickyEnd);this._stickyStyler.updateStickyColumns(e,h,m,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let l=0;l<e.viewContainer.length;l++){const h=e.viewContainer.get(l);i.push(h.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let l=[];if(this.multiTemplateDataRows)l=this._rowDefs.filter(h=>!h.when||h.when(i,e));else{let h=this._rowDefs.find(m=>m.when&&m.when(i,e))||this._defaultRowDef;h&&l.push(h)}return l}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,l,h={}){const m=e.viewContainer.createEmbeddedView(i.template,h,l);return this._renderCellTemplateForItem(i,h),m}_renderCellTemplateForItem(e,i){for(let l of this._getCellTemplates(e))P_.mostRecentCellOutlet&&P_.mostRecentCellOutlet._viewContainer.createEmbeddedView(l,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,l=e.length;i<l;i++){const m=e.get(i).context;m.count=l,m.first=0===i,m.last=i===l-1,m.even=i%2==0,m.odd=!m.even,this.multiTemplateDataRows?(m.dataIndex=this._renderRows[i].dataIndex,m.renderIndex=i):m.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const l=this._columnDefsByName.get(i);return e.extractCellTemplate(l)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const l of i){const h=this._document.createElement(l.tag);h.setAttribute("role","rowgroup");for(const m of l.outlets)h.appendChild(m.elementRef.nativeElement);e.appendChild(h)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,l)=>i||l.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Xne(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,It.of)()).pipe(Dt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const l=this._noDataRowOutlet.viewContainer;i?l.createEmbeddedView(e.templateRef):l.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(cr,8),a.Y36(fe),a.Y36(Kn),a.Y36(Pb),a.Y36(cG),a.Y36(Ud),a.Y36(gG,12))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,l){if(1&e&&(a.Suo(l,FP,5),a.Suo(l,M_,5),a.Suo(l,NP,5),a.Suo(l,cI,5),a.Suo(l,dI,5)),2&e){let h;a.iGM(h=a.CRH())&&(i._noDataRow=h.first),a.iGM(h=a.CRH())&&(i._contentColumnDefs=h),a.iGM(h=a.CRH())&&(i._contentRowDefs=h),a.iGM(h=a.CRH())&&(i._contentHeaderRowDefs=h),a.iGM(h=a.CRH())&&(i._contentFooterRowDefs=h)}},viewQuery:function(e,i){if(1&e&&(a.Gf(kP,7),a.Gf(LP,7),a.Gf(GP,7),a.Gf(BP,7)),2&e){let l;a.iGM(l=a.CRH())&&(i._rowOutlet=l.first),a.iGM(l=a.CRH())&&(i._headerRowOutlet=l.first),a.iGM(l=a.CRH())&&(i._footerRowOutlet=l.first),a.iGM(l=a.CRH())&&(i._noDataRowOutlet=l.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:cD,useExisting:n},{provide:Pb,useClass:Vj},{provide:cG,useClass:Y6},{provide:gG,useValue:null}])],ngContentSelectors:Wne,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(Une),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0),a.GkF(3,1),a.GkF(4,2),a.GkF(5,3))},directives:[LP,kP,BP,GP],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function HP(n,t){return n.concat(Array.from(t))}let tie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[VL]]}),n})();const nie=[[["caption"]],[["colgroup"],["col"]]],iie=["caption","colgroup, col"];let K6=(()=>{class n extends VP{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:Pb,useClass:Vj},{provide:VP,useExisting:n},{provide:cD,useExisting:n},{provide:cG,useClass:Y6},{provide:gG,useValue:null}]),a.qOj],ngContentSelectors:iie,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(nie),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0),a.GkF(3,1),a.GkF(4,2),a.GkF(5,3))},directives:[LP,kP,BP,GP],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),mG=(()=>{class n extends dD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:dD,useExisting:n}]),a.qOj]}),n})(),_G=(()=>{class n extends hD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:hD,useExisting:n}]),a.qOj]}),n})(),yG=(()=>{class n extends M_{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:M_,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),vG=(()=>{class n extends lG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),CG=(()=>{class n extends uG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),Q6=(()=>{class n extends cI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:cI,useExisting:n}]),a.qOj]}),n})(),J6=(()=>{class n extends NP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:NP,useExisting:n}]),a.qOj]}),n})(),X6=(()=>{class n extends hG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:hG,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[P_],encapsulation:2}),n})(),ez=(()=>{class n extends fG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:fG,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[P_],encapsulation:2}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tie,pi],pi]}),n})();class gie extends class extends class{}{constructor(t=[]){super(),this._renderData=new kr([]),this._filter=new kr(""),this._internalPageChanges=new st.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const l=e[i];if(OM(l)){const h=Number(l);return h<9007199254740991?h:l}return l},this.sortData=(e,i)=>{const l=i.active,h=i.direction;return l&&""!=h?e.sort((m,v)=>{let E=this.sortingDataAccessor(m,l),T=this.sortingDataAccessor(v,l);const M=typeof E,F=typeof T;M!==F&&("number"===M&&(E+=""),"number"===F&&(T+=""));let V=0;return null!=E&&null!=T?E>T?V=1:E<T&&(V=-1):null!=E?V=1:null!=T&&(V=-1),V*("asc"==h?1:-1)}):e},this.filterPredicate=(e,i)=>{const l=Object.keys(e).reduce((m,v)=>m+e[v]+"\u25ec","").toLowerCase(),h=i.trim().toLowerCase();return-1!=l.indexOf(h)},this._data=new kr(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Nr.T)(this._sort.sortChange,this._sort.initialized):(0,It.of)(null),i=this._paginator?(0,Nr.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,It.of)(null),h=po([this._data,this._filter]).pipe((0,Ct.U)(([E])=>this._filterData(E))),m=po([h,e]).pipe((0,Ct.U)(([E])=>this._orderData(E))),v=po([m,i]).pipe((0,Ct.U)(([E])=>this._pageData(E)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=v.subscribe(E=>this._renderData.next(E))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,l=Math.min(e.pageIndex,i);l!==e.pageIndex&&(e.pageIndex=l,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function mie(n,t){1&n&&a._UZ(0,"th",14)}function _ie(n,t){if(1&n&&a._UZ(0,"img",17),2&n){const e=a.oxw().$implicit;a.Q6J("src",e.product.imageURL,a.LSH)("alt",e.product.title)}}function yie(n,t){if(1&n&&(a.TgZ(0,"td",15),a.YNc(1,_ie,1,2,"img",16),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.Q6J("ngIf",e.product.imageURL)}}function vie(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1,"Product"),a.qZA())}function Cie(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.product.title," ")}}function wie(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1,"Quantity"),a.qZA())}function bie(n,t){if(1&n&&(a.TgZ(0,"td",15),a.TgZ(1,"div",18),a._UZ(2,"quantity-box",19),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw(2);a.xp6(2),a.Q6J("product",e.product)("shoppingCard",i.card$)}}function Eie(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1,"Price"),a.qZA())}function Sie(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.totalPrice,"USD")," ")}}function Die(n,t){1&n&&a._UZ(0,"tr",20)}function Tie(n,t){1&n&&a._UZ(0,"tr",21)}function Aie(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).checkOut()}),a._uU(1," Check Out "),a.qZA()}}function Rie(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).clearCard()}),a._uU(1," Clear Shopping Card "),a.qZA()}}function Iie(n,t){if(1&n&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"div"),a.TgZ(4,"table",2),a.ynx(5,3),a.YNc(6,mie,1,0,"th",4),a.YNc(7,yie,2,1,"td",5),a.BQk(),a.ynx(8,6),a.YNc(9,vie,2,0,"th",4),a.YNc(10,Cie,2,1,"td",5),a.BQk(),a.ynx(11,7),a.YNc(12,wie,2,0,"th",4),a.YNc(13,bie,3,2,"td",5),a.BQk(),a.ynx(14,8),a.YNc(15,Eie,2,0,"th",4),a.YNc(16,Sie,3,4,"td",5),a.BQk(),a.YNc(17,Die,1,0,"tr",9),a.YNc(18,Tie,1,0,"tr",10),a.qZA(),a.TgZ(19,"p",11),a._uU(20),a.ALo(21,"currency"),a.qZA(),a.YNc(22,Aie,2,0,"button",12),a.YNc(23,Rie,2,0,"button",13),a.qZA(),a.BQk()),2&n){const e=a.oxw();a.xp6(2),a.hij("you have ",e.card$.totalItemCount||0," items in your shopping card"),a.xp6(2),a.Q6J("dataSource",e.dataSource),a.xp6(13),a.Q6J("matHeaderRowDef",e.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",e.displayedColumns),a.xp6(2),a.hij(" Total price is : ",a.xi3(21,7,e.totalPrice||0,"USD")," "),a.xp6(2),a.Q6J("ngIf",e.dataSource.data.length),a.xp6(1),a.Q6J("ngIf",e.dataSource.data.length)}}const xie=[{path:"",component:j6},{path:"products",component:j6},{path:"shopping-card",component:(()=>{class n{constructor(e,i){this.cardService=e,this.router=i,this.dataSource=new gie,this.displayedColumns=["image","title","quantity","price"]}ngOnInit(){var e=this;return(0,Ve.Z)(function*(){e.cardSubscription=(yield e.cardService.getCard()).subscribe(i=>{e.totalPrice=e.cardService.getTotalPrice(i.items),e.dataSource.data=e.cardService.convertCardObjectToArray(i),e.card$=i})})()}clearCard(){this.cardService.clearShoppingCard()}checkOut(){this.router.navigate(["/check-out"])}ngOnDestroy(){this.cardSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fg),a.Y36(vs))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-shopping-card"]],decls:3,vars:1,consts:[[1,"h1","mt-3"],[4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","quantity"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"h6","mt-3"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["style","width: 80px; height: 80px","class","rounded-circle",3,"src","alt",4,"ngIf"],[1,"rounded-circle",2,"width","80px","height","80px",3,"src","alt"],[2,"margin-left","32px","margin-right","32px"],[3,"product","shoppingCard"],["mat-header-row",""],["mat-row",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"p",0),a._uU(1,"Shopping Card"),a.qZA(),a.YNc(2,Iie,24,10,"ng-container",1)),2&e&&(a.xp6(2),a.Q6J("ngIf",i.card$))},directives:[Pn,K6,yG,_G,mG,Q6,J6,vG,CG,I6,X6,ez,Ug],pipes:[op],styles:["table[_ngcontent-%COMP%]{width:80%}.mat-header-cell[_ngcontent-%COMP%]{text-align:center}"]}),n})()},{path:"login",component:Cne},{path:"order-success/:id",component:Lne,canActivate:[OP]},{path:"my-order",component:kne},{path:"check-out",component:vne,canActivate:[OP]},{path:"admin/orders",component:TX,canActivate:[OP,Nj]},{path:"admin/products/new",component:O6},{path:"admin/products/:id",component:O6},{path:"admin/products",component:rne,canActivate:[OP,Nj]}];let Oie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_M.forRoot(xie)],_M]}),n})(),rz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),oz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[LR,pi,VS,rz],pi,rz]}),n})(),hI=(()=>{class n{constructor(){this.changes=new st.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Cre={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[Qh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[hI,Cre],imports:[[oi,CP,TP,Gg,SP,pi],Nb]}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi,pi,v_,Nb],Nb,pi]}),n})();j(205);let Mz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi],pi]}),n})(),eoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi],pi]}),n})(),Bz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[x3,LR,pi,Vk,oi],x3,pi,Vk,eoe]}),n})(),t$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[oi,pi,SP,LR,VS,Gg],pi]}),n})(),n$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi],pi]}),n})();function Qoe(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const e=a.oxw();a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),a.uIk("r",e._getCircleRadius())}}function Joe(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const e=a.oxw();a.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),a.uIk("r",e._getCircleRadius())}}const nse=Dv(class{constructor(n){this._elementRef=n}},"primary"),r$=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class N_ extends nse{constructor(t,e,i,l,h){super(t),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const m=N_._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),m.has(i.head)||m.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===l&&!!h&&!h._forceAnimations,h&&(h.diameter&&(this.diameter=h.diameter),h.strokeWidth&&(this.strokeWidth=h.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Kr(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Kr(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Kr(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=kM(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=N_._diameters;let l=i.get(t);if(!l||!l.has(e)){const h=this._document.createElement("style");h.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),h.textContent=this._getAnimationText(),t.appendChild(h),l||(l=new Set,i.set(t,l)),l.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}N_.\u0275fac=function(t){return new(t||N_)(a.Y36(a.SBq),a.Y36(Kn),a.Y36(fe,8),a.Y36(Mr,8),a.Y36(r$))},N_.\u0275cmp=a.Xpm({type:N_,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(a.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",0),a.YNc(1,Qoe,1,9,"circle",1),a.YNc(2,Joe,1,7,"circle",2),a.qZA()),2&t&&(a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===e.mode),a.uIk("viewBox",e._getViewBox()),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[ss,rr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),N_._diameters=new WeakMap;let o$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pi,oi],pi]}),n})();function ose(n,t){}class NG{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const sse={dialogContainer:so("dialogContainer",[Ci("void, exit",Vt({opacity:0,transform:"scale(0.7)"})),Ci("enter",Vt({transform:"none"})),ei("* => enter",Xn("150ms cubic-bezier(0, 0, 0.2, 1)",Vt({transform:"none",opacity:1}))),ei("* => void, * => exit",Xn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Vt({opacity:0})))])};let ase=(()=>{class n extends UL{constructor(e,i,l,h,m,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=l,this._config=m,this._focusMonitor=v,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=m.ariaLabelledBy||null,this._document=h}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=wb(),l=this._elementRef.nativeElement;(!i||i===this._document.body||i===l||l.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=wb())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=wb();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(NR),a.Y36(a.sBO),a.Y36(fe,8),a.Y36(NG),a.Y36(tn))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(x_,7),2&e){let l;a.iGM(l=a.CRH())&&(i._portalOutlet=l.first)}},features:[a.qOj]}),n})(),lse=(()=>{class n extends ase{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&a.WFA("@dialogContainer.start",function(h){return i._onAnimationStart(h)})("@dialogContainer.done",function(h){return i._onAnimationDone(h)}),2&e&&(a.Ikx("id",i._id),a.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,ose,0,0,"ng-template",0)},directives:[x_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[sse.dialogContainer]}}),n})(),use=0;class FG{constructor(t,e,i="mat-dialog-"+use++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new st.xQ,this._afterClosed=new st.xQ,this._beforeClosed=new st.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(On(l=>"opened"===l.state),Bn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(On(l=>"closed"===l.state),Bn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(On(l=>27===l.keyCode&&!this.disableClose&&!Qa(l))).subscribe(l=>{l.preventDefault(),kG(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():kG(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(On(e=>"closing"===e.state),Bn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function kG(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const cse=new a.OlP("MatDialogData"),dse=new a.OlP("mat-dialog-default-options"),s$=new a.OlP("mat-dialog-scroll-strategy"),pse={provide:s$,deps:[Qh],useFactory:function(n){return()=>n.scrollStrategies.block()}};let fse=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M){this._overlay=e,this._injector=i,this._defaultOptions=l,this._parentDialog=h,this._overlayContainer=m,this._dialogRefConstructor=E,this._dialogContainerType=T,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new st.xQ,this._afterOpenedAtThisLevel=new st.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=lS(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ar(void 0))),this._scrollStrategy=v}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new NG)).id&&this.getDialogById(i.id);const l=this._createOverlay(i),h=this._attachDialogContainer(l,i),m=this._attachDialogContent(e,h,l,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(m),m.afterClosed().subscribe(()=>this._removeOpenDialog(m)),this.afterOpened.next(m),h._initializeWithAttachedContent(),m}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new DP({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const h=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:NG,useValue:i}]}),m=new rD(this._dialogContainerType,i.viewContainerRef,h,i.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,i,l,h){const m=new this._dialogRefConstructor(l,i,h.id);if(e instanceof a.Rgc)i.attachTemplatePortal(new oD(e,null,{$implicit:h.data,dialogRef:m}));else{const v=this._createInjector(h,m,i),E=i.attachComponentPortal(new rD(e,h.viewContainerRef,v));m.componentInstance=E.instance}return m.updateSize(h.width,h.height).updatePosition(h.position),m}_createInjector(e,i,l){const h=e&&e.viewContainerRef&&e.viewContainerRef.injector,m=[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!h||!h.get(cr,null,a.XFs.Optional))&&m.push({provide:cr,useValue:{value:e.direction,change:(0,It.of)()}}),a.zs3.create({parent:h||this._injector,providers:m})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,h)=>{l?h.setAttribute("aria-hidden",l):h.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let l=i.length-1;l>-1;l--){let h=i[l];h!==e&&"SCRIPT"!==h.nodeName&&"STYLE"!==h.nodeName&&!h.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Qh),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36(nI),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},n.\u0275dir=a.lG2({type:n}),n})(),LG=(()=>{class n extends fse{constructor(e,i,l,h,m,v,E){super(e,i,h,v,E,m,FG,lse,cse)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qh),a.LFG(a.zs3),a.LFG(Ln,8),a.LFG(dse,8),a.LFG(s$),a.LFG(n,12),a.LFG(nI))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[LG,pse],imports:[[TP,SP,pi],pi]}),n})(),_se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[C6,y6,tz,l$,o$,$L,n$,t$,Bz,Mz,V3,CP,oI,T6,oz,vz,A3,Tz],C6,y6,tz,l$,o$,$L,n$,t$,Bz,Mz,V3,CP,oI,T6,oz,vz,A3,Tz]}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Wk]]}),n})(),Gae=(()=>{class n{constructor(e,i){ea(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:mf,useValue:Object.assign(Object.assign({},jk),e)},{provide:zk,useValue:i,multi:!0},{provide:Tb,useValue:!0}]:[{provide:mf,useValue:Object.assign(Object.assign({},jk),e)},{provide:zk,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Tb),a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Zk,gU,m$],Zk,gU,m$]}),n})();var zt,Bae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},F_={},GG=GG||{},$n=Bae||self;function KP(){}function BG(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function fI(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var VG="closure_uid_"+(1e9*Math.random()>>>0),Hae=0;function Uae(n,t,e){return n.call.apply(n.bind,arguments)}function Wae(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),n.apply(t,l)}}return function(){return n.apply(t,arguments)}}function Rl(n,t,e){return(Rl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uae:Wae).apply(null,arguments)}function QP(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Il(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,l,h){for(var m=Array(arguments.length-2),v=2;v<arguments.length;v++)m[v-2]=arguments[v];return t.prototype[l].apply(i,m)}}function kv(){this.s=this.s,this.o=this.o}var zae={};kv.prototype.s=!1,kv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,VG)&&n[VG]||(n[VG]=++Hae)}(this);delete zae[n]}},kv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _$=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},y$=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,l="string"==typeof n?n.split(""):n;for(let h=0;h<i;h++)h in l&&t.call(e,l[h],h,n)};function v$(n){return Array.prototype.concat.apply([],arguments)}function HG(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function JP(n){return/^[\s\xa0]*$/.test(n)}var nc,C$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function tc(n,t){return-1!=n.indexOf(t)}function UG(n,t){return n<t?-1:n>t?1:0}e:{var w$=$n.navigator;if(w$){var b$=w$.userAgent;if(b$){nc=b$;break e}}nc=""}function WG(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function E$(n){const t={};for(const e in n)t[e]=n[e];return t}var S$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D$(n,t){let e,i;for(let l=1;l<arguments.length;l++){for(e in i=arguments[l],i)n[e]=i[e];for(let h=0;h<S$.length;h++)e=S$[h],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function jG(n){return jG[" "](n),n}jG[" "]=KP;var XP,qae=tc(nc,"Opera"),fD=tc(nc,"Trident")||tc(nc,"MSIE"),T$=tc(nc,"Edge"),zG=T$||fD,A$=tc(nc,"Gecko")&&!(tc(nc.toLowerCase(),"webkit")&&!tc(nc,"Edge"))&&!(tc(nc,"Trident")||tc(nc,"MSIE"))&&!tc(nc,"Edge"),Zae=tc(nc.toLowerCase(),"webkit")&&!tc(nc,"Edge");function R$(){var n=$n.document;return n?n.documentMode:void 0}e:{var $G="",YG=function(){var n=nc;return A$?/rv:([^\);]+)(\)|;)/.exec(n):T$?/Edge\/([\d\.]+)/.exec(n):fD?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Zae?/WebKit\/(\S+)/.exec(n):qae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(YG&&($G=YG?YG[1]:""),fD){var qG=R$();if(null!=qG&&qG>parseFloat($G)){XP=String(qG);break e}}XP=$G}var Kae={};function Qae(){return t=Kae,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=C$(String(XP)).split("."),e=C$("9").split("."),i=Math.max(t.length,e.length);for(let m=0;0==n&&m<i;m++){var l=t[m]||"",h=e[m]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;n=UG(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||UG(0==l[2].length,0==h[2].length)||UG(l[2],h[2]),l=l[3],h=h[3]}while(0==n)}return 0<=n}();var t}var Jae=$n.document&&fD&&(R$()||parseInt(XP,10))||void 0,Xae=function(){if(!$n.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$n.addEventListener("test",KP,t),$n.removeEventListener("test",KP,t)}catch(e){}return n}();function fu(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function gI(n,t){if(fu.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(A$){e:{try{jG(t.nodeName);var l=!0;break e}catch(h){}l=!1}l||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ele[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gI.Z.h.call(this)}}fu.prototype.h=function(){this.defaultPrevented=!0},Il(gI,fu);var ele={2:"touch",3:"pen",4:"mouse"};gI.prototype.h=function(){gI.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mI="closure_listenable_"+(1e6*Math.random()|0),tle=0;function nle(n,t,e,i,l){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=l,this.key=++tle,this.ca=this.fa=!1}function e1(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function t1(n){this.src=n,this.g={},this.h=0}function KG(n,t){var e=t.type;if(e in n.g){var h,i=n.g[e],l=_$(i,t);(h=0<=l)&&Array.prototype.splice.call(i,l,1),h&&(e1(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function QG(n,t,e,i){for(var l=0;l<n.length;++l){var h=n[l];if(!h.ca&&h.listener==t&&h.capture==!!e&&h.ia==i)return l}return-1}t1.prototype.add=function(n,t,e,i,l){var h=n.toString();(n=this.g[h])||(n=this.g[h]=[],this.h++);var m=QG(n,t,i,l);return-1<m?(t=n[m],e||(t.fa=!1)):((t=new nle(t,this.src,h,!!i,l)).fa=e,n.push(t)),t};var JG="closure_lm_"+(1e6*Math.random()|0),XG={};function x$(n,t,e,i,l){if(i&&i.once)return M$(n,t,e,i,l);if(Array.isArray(t)){for(var h=0;h<t.length;h++)x$(n,t[h],e,i,l);return null}return e=iB(e),n&&n[mI]?n.N(t,e,fI(i)?!!i.capture:!!i,l):O$(n,t,e,!1,i,l)}function O$(n,t,e,i,l,h){if(!t)throw Error("Invalid event type");var m=fI(l)?!!l.capture:!!l,v=tB(n);if(v||(n[JG]=v=new t1(n)),(e=v.add(t,e,i,m,h)).proxy)return e;if(i=function(){var t=rle;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Xae||(l=m),void 0===l&&(l=!1),n.addEventListener(t.toString(),i,l);else if(n.attachEvent)n.attachEvent(N$(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function M$(n,t,e,i,l){if(Array.isArray(t)){for(var h=0;h<t.length;h++)M$(n,t[h],e,i,l);return null}return e=iB(e),n&&n[mI]?n.O(t,e,fI(i)?!!i.capture:!!i,l):O$(n,t,e,!0,i,l)}function P$(n,t,e,i,l){if(Array.isArray(t))for(var h=0;h<t.length;h++)P$(n,t[h],e,i,l);else i=fI(i)?!!i.capture:!!i,e=iB(e),n&&n[mI]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=QG(h=n.g[t],e,i,l))&&(e1(h[e]),Array.prototype.splice.call(h,e,1),0==h.length&&(delete n.g[t],n.h--))):n&&(n=tB(n))&&(t=n.g[t.toString()],n=-1,t&&(n=QG(t,e,i,l)),(e=-1<n?t[n]:null)&&eB(e))}function eB(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[mI])KG(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(N$(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=tB(t))?(KG(e,n),0==e.h&&(e.src=null,t[JG]=null)):e1(n)}}}function N$(n){return n in XG?XG[n]:XG[n]="on"+n}function rle(n,t){if(n.ca)n=!0;else{t=new gI(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&eB(n),n=e.call(i,t)}return n}function tB(n){return(n=n[JG])instanceof t1?n:null}var nB="__closure_events_fn_"+(1e9*Math.random()>>>0);function iB(n){return"function"==typeof n?n:(n[nB]||(n[nB]=function(t){return n.handleEvent(t)}),n[nB])}function Xa(){kv.call(this),this.i=new t1(this),this.P=this,this.I=null}function xl(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new fu(t,n);else if(t instanceof fu)t.target=t.target||n;else{var l=t;D$(t=new fu(i,n),l)}if(l=!0,e)for(var h=e.length-1;0<=h;h--){var m=t.g=e[h];l=n1(m,i,!0,t)&&l}if(l=n1(m=t.g=n,i,!0,t)&&l,l=n1(m,i,!1,t)&&l,e)for(h=0;h<e.length;h++)l=n1(m=t.g=e[h],i,!1,t)&&l}function n1(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var l=!0,h=0;h<t.length;++h){var m=t[h];if(m&&!m.ca&&m.capture==e){var v=m.listener,E=m.ia||m.src;m.fa&&KG(n.i,m),l=!1!==v.call(E,i)&&l}}return l&&!i.defaultPrevented}Il(Xa,kv),Xa.prototype[mI]=!0,Xa.prototype.removeEventListener=function(n,t,e,i){P$(this,n,t,e,i)},Xa.prototype.M=function(){if(Xa.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)e1(e[i]);delete n.g[t],n.h--}}this.I=null},Xa.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Xa.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var rB=$n.JSON.stringify;function ole(){var n=k$;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var sB,F$=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ale,n=>n.reset());class ale{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function lle(n){$n.setTimeout(()=>{throw n},0)}function oB(n,t){sB||function(){var n=$n.Promise.resolve(void 0);sB=function(){n.then(cle)}}(),aB||(sB(),aB=!0),k$.add(n,t)}var aB=!1,k$=new class{constructor(){this.h=this.g=null}add(t,e){const i=F$.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function cle(){for(var n;n=ole();){try{n.h.call(n.g)}catch(e){lle(e)}var t=F$;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}aB=!1}function i1(n,t){Xa.call(this),this.h=n||1,this.g=t||$n,this.j=Rl(this.kb,this),this.l=Date.now()}function lB(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function uB(n,t,e){if("function"==typeof n)e&&(n=Rl(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rl(n.handleEvent,n)}return 2147483647<Number(t)?-1:$n.setTimeout(n,t||0)}function L$(n){n.g=uB(()=>{n.g=null,n.i&&(n.i=!1,L$(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Il(i1,Xa),(zt=i1.prototype).da=!1,zt.S=null,zt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xl(this,"tick"),this.da&&(lB(this),this.start()))}},zt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zt.M=function(){i1.Z.M.call(this),lB(this),delete this.g};class dle extends kv{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:L$(this)}M(){super.M(),this.g&&($n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _I(n){kv.call(this),this.h=n,this.g={}}Il(_I,kv);var G$=[];function B$(n,t,e,i){Array.isArray(e)||(e&&(G$[0]=e.toString()),e=G$);for(var l=0;l<e.length;l++){var h=x$(t,e[l],i||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function V$(n){WG(n.g,function(t,e){this.g.hasOwnProperty(e)&&eB(t)},n),n.g={}}function r1(){this.g=!0}function gD(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<l.length;m++)l[m]=""}}}return rB(e)}catch(v){return t}}(n,e)+(i?" "+i:"")})}_I.prototype.M=function(){_I.Z.M.call(this),V$(this)},_I.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},r1.prototype.Aa=function(){this.g=!1},r1.prototype.info=function(){};var Bb={},H$=null;function o1(){return H$=H$||new Xa}function U$(n){fu.call(this,Bb.Ma,n)}function yI(n){const t=o1();xl(t,new U$(t,n))}function W$(n,t){fu.call(this,Bb.STAT_EVENT,n),this.stat=t}function ic(n){const t=o1();xl(t,new W$(t,n))}function j$(n,t){fu.call(this,Bb.Na,n),this.size=t}function vI(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $n.setTimeout(function(){n()},t)}Bb.Ma="serverreachability",Il(U$,fu),Bb.STAT_EVENT="statevent",Il(W$,fu),Bb.Na="timingevent",Il(j$,fu);var s1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},z$={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cB(){}function Y$(){}cB.prototype.h=null;var pB,CI={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dB(){fu.call(this,"d")}function hB(){fu.call(this,"c")}function a1(){}function wI(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new _I(this),this.P=mle,this.W=new i1(n=zG?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new q$}function q$(){this.i=null,this.g="",this.h=!1}Il(dB,fu),Il(hB,fu),Il(a1,cB),a1.prototype.g=function(){return new XMLHttpRequest},a1.prototype.i=function(){return{}},pB=new a1;var mle=45e3,fB={},l1={};function gB(n,t,e){n.K=1,n.v=p1(k_(t)),n.s=e,n.U=!0,Z$(n,null)}function Z$(n,t){n.F=Date.now(),bI(n),n.A=k_(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),rY(e.h,"t",i),n.C=0,e=n.l.H,n.h=new q$,n.g=AY(n.l,e?t:null,!n.s),0<n.O&&(n.L=new dle(Rl(n.Ia,n,n.g),n.O)),B$(n.V,n.g,"readystatechange",n.gb),t=n.H?E$(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),yI(1),function(n,t,e,i,l,h){n.info(function(){if(n.g)if(h)for(var m="",v=h.split("&"),E=0;E<v.length;E++){var T=v[E].split("=");if(1<T.length){var M=T[0];T=T[1];var F=M.split("_");m=2<=F.length&&"type"==F[1]?m+(M+"=")+T+"&":m+(M+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+t+"\n"+e+"\n"+m})}(n.j,n.u,n.A,n.m,n.X,n.s)}function K$(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Q$(n,t,e){let l,i=!0;for(;!n.I&&n.C<e.length;){if(l=_le(n,e),l==l1){4==t&&(n.o=4,ic(14),i=!1),gD(n.j,n.m,null,"[Incomplete Response]");break}if(l==fB){n.o=4,ic(15),gD(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}gD(n.j,n.m,l,null),mB(n,l)}K$(n)&&l!=l1&&l!=fB&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ic(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),AB(t),t.L=!0,ic(11))):(gD(n.j,n.m,e,"[Invalid Chunked Response]"),Vb(n),EI(n))}function _le(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?l1:(e=Number(t.substring(e,i)),isNaN(e)?fB:(i+=1)+e>t.length?l1:(t=t.substr(i,e),n.C=i+e,t))}function bI(n){n.Y=Date.now()+n.P,J$(n,n.P)}function J$(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vI(Rl(n.eb,n),t)}function u1(n){n.B&&($n.clearTimeout(n.B),n.B=null)}function EI(n){0==n.l.G||n.I||EY(n.l,n)}function Vb(n){u1(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,lB(n.W),V$(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function mB(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||vB(e.i,n)))if(e.I=n.N,!n.J&&vB(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(T){i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0])e:if(e.u)e.ta=l[1],0<e.ta-e.U&&37500>l[2]&&e.N&&0==e.A&&!e.v&&(e.v=vI(Rl(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;v1(e),_1(e)}TB(e),ic(18)}if(1>=aY(e.i)&&e.ka){try{e.ka()}catch(T){}e.ka=void 0}}else Wb(e,11)}else if((n.J||e.g==n)&&v1(e),!JP(t))for(l=e.Ca.g.parse(t),t=0;t<l.length;t++){let T=l[t];if(e.U=T[0],T=T[1],2==e.G)if("c"==T[0]){e.J=T[1],e.la=T[2];const M=T[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const F=T[4];null!=F&&(e.za=F,e.h.info("SVER="+e.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(e.K=i=1.5*V,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const K=n.g;if(K){const re=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var h=i.i;!h.g&&(tc(re,"spdy")||tc(re,"quic")||tc(re,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(CB(h,h.h),h.h=null))}if(i.D){const me=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(i.sa=me,mo(i.F,i.D,me))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var m=n;if((i=e).oa=TY(i,i.H?i.la:null,i.W),m.J){lY(i.i,m);var v=m,E=i.K;E&&v.setTimeout(E),v.B&&(u1(v),bI(v)),i.g=m}else wY(i);0<e.l.length&&y1(e)}else"stop"!=T[0]&&"close"!=T[0]||Wb(e,7);else 3==e.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Wb(e,7):SB(e):"noop"!=T[0]&&e.j&&e.j.wa(T),e.A=0)}yI(4)}catch(T){}}function _B(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(BG(n)||"string"==typeof n)y$(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(BG(n)||"string"==typeof n){e=[];for(var i=n.length,l=0;l<i;l++)e.push(l)}else for(l in e=[],i=0,n)e[i++]=l;l=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(BG(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var h=0;h<l;h++)t.call(void 0,i[h],e&&e[h],n)}}function mD(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof mD)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function yB(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Hb(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var l={};for(e=t=0;t<n.g.length;)Hb(l,i=n.g[t])||(n.g[e++]=i,l[i]=1),t++;n.g.length=e}}function Hb(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(zt=wI.prototype).setTimeout=function(n){this.P=n},zt.gb=function(n){n=n.target;const t=this.L;t&&3==L_(n)?t.l():this.Ia(n)},zt.Ia=function(n){try{if(n==this.g)e:{const M=L_(this.g);var t=this.g.Da();const F=this.g.ba();if(!(3>M)&&(3!=M||zG||this.g&&(this.h.h||this.g.ga()||mY(this.g)))){this.I||4!=M||7==t||yI(8==t||0>=F?3:2),u1(this);var e=this.g.ba();this.N=e;t:if(K$(this)){var i=mY(this.g);n="";var l=i.length,h=4==L_(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vb(this),EI(this);var m="";break t}this.h.i=new $n.TextDecoder}for(t=0;t<l;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:h&&t==l-1});i.splice(0,l),this.h.g+=n,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==e,function(n,t,e,i,l,h,m){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+t+"\n"+e+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var v,E=this.g;if((v=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!JP(v)){var T=v;break t}}T=null}if(!(e=T)){this.i=!1,this.o=3,ic(12),Vb(this),EI(this);break e}gD(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mB(this,e)}this.U?(Q$(this,M,m),zG&&this.i&&3==M&&(B$(this.V,this.W,"tick",this.fb),this.W.start())):(gD(this.j,this.m,m,null),mB(this,m)),4==M&&Vb(this),this.i&&!this.I&&(4==M?EY(this.l,this):(this.i=!1,bI(this)))}else 400==e&&0<m.indexOf("Unknown SID")?(this.o=3,ic(12)):(this.o=0,ic(13)),Vb(this),EI(this)}}}catch(M){}},zt.fb=function(){if(this.g){var n=L_(this.g),t=this.g.ga();this.C<t.length&&(u1(this),Q$(this,n,t),this.i&&4!=n&&bI(this))}},zt.cancel=function(){this.I=!0,Vb(this)},zt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(yI(3),ic(17)),Vb(this),this.o=2,EI(this)):J$(this,this.Y-n)},(zt=mD.prototype).R=function(){yB(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},zt.T=function(){return yB(this),this.g.concat()},zt.get=function(n,t){return Hb(this.h,n)?this.h[n]:t},zt.set=function(n,t){Hb(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},zt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var l=e[i],h=this.get(l);n.call(t,h,l,this)}};var X$=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ub(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ub){this.g=void 0!==t?t:n.g,c1(this,n.j),this.s=n.s,d1(this,n.i),h1(this,n.m),this.l=n.l,t=n.h;var e=new TI;e.i=t.i,t.g&&(e.g=new mD(t.g),e.h=t.h),eY(this,e),this.o=n.o}else n&&(e=String(n).match(X$))?(this.g=!!t,c1(this,e[1]||"",!0),this.s=SI(e[2]||""),d1(this,e[3]||"",!0),h1(this,e[4]),this.l=SI(e[5]||"",!0),eY(this,e[6]||"",!0),this.o=SI(e[7]||"")):(this.g=!!t,this.h=new TI(null,this.g))}function k_(n){return new Ub(n)}function c1(n,t,e){n.j=e?SI(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function d1(n,t,e){n.i=e?SI(t,!0):t}function h1(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function eY(n,t,e){t instanceof TI?(n.h=t,function(n,t){t&&!n.j&&(Lv(n),n.i=null,n.g.forEach(function(e,i){var l=i.toLowerCase();i!=l&&(nY(this,i),rY(this,l,e))},n)),n.j=t}(n.h,n.g)):(e||(t=DI(t,Dle)),n.h=new TI(t,n.g))}function mo(n,t,e){n.h.set(t,e)}function p1(n){return mo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function SI(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function DI(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,ble),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ble(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ub.prototype.toString=function(){var n=[],t=this.j;t&&n.push(DI(t,tY,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(DI(t,tY,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(DI(e,"/"==e.charAt(0)?Sle:Ele,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",DI(e,Tle)),n.join("")};var tY=/[#\/\?@]/g,Ele=/[#\?:]/g,Sle=/[#\?]/g,Dle=/[#\?@]/g,Tle=/#/g;function TI(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Lv(n){n.g||(n.g=new mD,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),l=null;if(0<=i){var h=n[e].substring(0,i);l=n[e].substring(i+1)}else h=n[e];t(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function nY(n,t){Lv(n),t=_D(n,t),Hb(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Hb((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&yB(n)))}function iY(n,t){return Lv(n),t=_D(n,t),Hb(n.g.h,t)}function rY(n,t,e){nY(n,t),0<e.length&&(n.i=null,n.g.set(_D(n,t),HG(e)),n.h+=e.length)}function _D(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function oY(n){this.l=n||Ile,n=$n.PerformanceNavigationTiming?0<(n=$n.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($n.g&&$n.g.Ea&&$n.g.Ea()&&$n.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zt=TI.prototype).add=function(n,t){Lv(this),this.i=null,n=_D(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},zt.forEach=function(n,t){Lv(this),this.g.forEach(function(e,i){y$(e,function(l){n.call(t,l,i,this)},this)},this)},zt.T=function(){Lv(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var l=n[i],h=0;h<l.length;h++)e.push(t[i]);return e},zt.R=function(n){Lv(this);var t=[];if("string"==typeof n)iY(this,n)&&(t=v$(t,this.g.get(_D(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=v$(t,n[e])}return t},zt.set=function(n,t){return Lv(this),this.i=null,iY(this,n=_D(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},zt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],l=encodeURIComponent(String(i));i=this.R(i);for(var h=0;h<i.length;h++){var m=l;""!==i[h]&&(m+="="+encodeURIComponent(String(i[h]))),n.push(m)}}return this.i=n.join("&")};var Ile=10;function sY(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aY(n){return n.h?1:n.g?n.g.size:0}function vB(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function CB(n,t){n.g?n.g.add(t):n.h=t}function lY(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function uY(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return HG(n.i)}function wB(){}function xle(){this.g=new wB}function Ole(n,t,e){const i=e||"";try{_B(n,function(l,h){let m=l;fI(l)&&(m=rB(l)),t.push(i+h+"="+encodeURIComponent(m))})}catch(l){throw t.push(i+"type="+encodeURIComponent("_badmap")),l}}function f1(n,t,e,i,l){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,l(i)}catch(h){}}function AI(n){this.l=n.$b||null,this.j=n.ib||!1}function g1(n,t){Xa.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=bB,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oY.prototype.cancel=function(){if(this.i=uY(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},wB.prototype.stringify=function(n){return $n.JSON.stringify(n,void 0)},wB.prototype.parse=function(n){return $n.JSON.parse(n,void 0)},Il(AI,cB),AI.prototype.g=function(){return new g1(this.l,this.j)},AI.prototype.i=function(n){return function(){return n}}({}),Il(g1,Xa);var bB=0;function cY(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function RI(n){n.readyState=4,n.l=null,n.j=null,n.A=null,II(n)}function II(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(zt=g1.prototype).open=function(n,t){if(this.readyState!=bB)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,II(this)},zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||$n).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,RI(this)),this.readyState=bB},zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,II(this)),this.g&&(this.readyState=3,II(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$n.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cY(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?RI(this):II(this),3==this.readyState&&cY(this)}},zt.Ua=function(n){this.g&&(this.response=this.responseText=n,RI(this))},zt.Ta=function(n){this.g&&(this.response=n,RI(this))},zt.ha=function(){this.g&&RI(this)},zt.setRequestHeader=function(n,t){this.v.append(n,t)},zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(g1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ple=$n.JSON.parse;function Us(n){Xa.call(this),this.headers=new mD,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dY,this.K=this.L=!1}Il(Us,Xa);var dY="",Nle=/^https?$/i,Fle=["POST","PUT"];function Lle(n){return"content-type"==n.toLowerCase()}function hY(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,pY(n),m1(n)}function pY(n){n.D||(n.D=!0,xl(n,"complete"),xl(n,"error"))}function fY(n){if(n.h&&void 0!==GG&&(!n.C[1]||4!=L_(n)||2!=n.ba()))if(n.v&&4==L_(n))uB(n.Fa,0,n);else if(xl(n,"readystatechange"),4==L_(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===v){var l=String(n.H).match(X$)[1]||null;if(!l&&$n.self&&$n.self.location){var h=$n.self.location.protocol;l=h.substr(0,h.length-1)}i=!Nle.test(l?l.toLowerCase():"")}e=i}if(e)xl(n,"complete"),xl(n,"success");else{n.m=6;try{var m=2<L_(n)?n.g.statusText:""}catch(E){m=""}n.j=m+" ["+n.ba()+"]",pY(n)}}finally{m1(n)}}}function m1(n,t){if(n.g){gY(n);const e=n.g,i=n.C[0]?KP:null;n.g=null,n.C=null,t||xl(n,"ready");try{e.onreadystatechange=i}catch(l){}}}function gY(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($n.clearTimeout(n.A),n.A=null)}function L_(n){return n.g?n.g.readyState:0}function mY(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case dY:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function EB(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return WG(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):mo(n,t,e))}function xI(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function _Y(n){this.za=0,this.l=[],this.h=new r1,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xI("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xI("baseRetryDelayMs",5e3,n),this.$a=xI("retryDelaySeedMs",1e4,n),this.Ya=xI("forwardChannelMaxRetries",2,n),this.ra=xI("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new oY(n&&n.concurrentRequestLimit),this.Ca=new xle,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function SB(n){if(yY(n),3==n.G){var t=n.V++,e=k_(n.F);mo(e,"SID",n.J),mo(e,"RID",t),mo(e,"TYPE","terminate"),OI(n,e),(t=new wI(n,n.h,t,void 0)).K=2,t.v=p1(k_(e)),e=!1,$n.navigator&&$n.navigator.sendBeacon&&(e=$n.navigator.sendBeacon(t.v.toString(),"")),!e&&$n.Image&&((new Image).src=t.v,e=!0),e||(t.g=AY(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bI(t)}DY(n)}function _1(n){n.g&&(AB(n),n.g.cancel(),n.g=null)}function yY(n){_1(n),n.u&&($n.clearTimeout(n.u),n.u=null),v1(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$n.clearTimeout(n.m),n.m=null)}function DB(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&y1(n)}function y1(n){sY(n.i)||n.m||(n.m=!0,oB(n.Ha,n),n.C=0)}function vY(n,t){var e;e=t?t.m:n.V++;const i=k_(n.F);mo(i,"SID",n.J),mo(i,"RID",e),mo(i,"AID",n.U),OI(n,i),n.o&&n.s&&EB(i,n.o,n.s),e=new wI(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=CY(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),CB(n.i,e),gB(e,i,t)}function OI(n,t){n.j&&_B({},function(e,i){mo(t,i,e)})}function CY(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Rl(n.j.Oa,n.j,n):null;e:{var l=n.l;let h=-1;for(;;){const m=["count="+e];-1==h?0<e?(h=l[0].h,m.push("ofs="+h)):h=0:m.push("ofs="+h);let v=!0;for(let E=0;E<e;E++){let T=l[E].h;const M=l[E].g;if(T-=h,0>T)h=Math.max(0,l[E].h-100),v=!1;else try{Ole(M,m,"req"+T+"_")}catch(F){i&&i(M)}}if(v){i=m.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function wY(n){n.g||n.u||(n.Y=1,oB(n.Ga,n),n.A=0)}function TB(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=vI(Rl(n.Ga,n),SY(n,n.A)),n.A++,0))}function AB(n){null!=n.B&&($n.clearTimeout(n.B),n.B=null)}function bY(n){n.g=new wI(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=k_(n.oa);mo(t,"RID","rpc"),mo(t,"SID",n.J),mo(t,"CI",n.N?"0":"1"),mo(t,"AID",n.U),OI(n,t),mo(t,"TYPE","xmlhttp"),n.o&&n.s&&EB(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=p1(k_(t)),e.s=null,e.U=!0,Z$(e,n)}function v1(n){null!=n.v&&($n.clearTimeout(n.v),n.v=null)}function EY(n,t){var e=null;if(n.g==t){v1(n),AB(n),n.g=null;var i=2}else{if(!vB(n.i,t))return;e=t.D,lY(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var l=n.C;xl(i=o1(),new j$(i,e,t,l)),y1(n)}else wY(n);else if(3==(l=t.o)||0==l&&0<n.I||!(1==i&&function(n,t){return!(aY(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=vI(Rl(n.Ha,n,t),SY(n,n.C)),n.C++,0)))}(n,t)||2==i&&TB(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),l){case 1:Wb(n,5);break;case 4:Wb(n,10);break;case 3:Wb(n,6);break;default:Wb(n,2)}}function SY(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Wb(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Rl(n.jb,n);e||(e=new Ub("//www.google.com/images/cleardot.gif"),$n.location&&"http"==$n.location.protocol||c1(e,"https"),p1(e)),function(n,t){const e=new r1;if($n.Image){const i=new Image;i.onload=QP(f1,e,i,"TestLoadImage: loaded",!0,t),i.onerror=QP(f1,e,i,"TestLoadImage: error",!1,t),i.onabort=QP(f1,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=QP(f1,e,i,"TestLoadImage: timeout",!1,t),$n.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ic(2);n.G=0,n.j&&n.j.va(t),DY(n),yY(n)}function DY(n){n.G=0,n.I=-1,n.j&&((0!=uY(n.i).length||0!=n.l.length)&&(n.i.i.length=0,HG(n.l),n.l.length=0),n.j.ua())}function TY(n,t,e){let i=function(n){return n instanceof Ub?k_(n):new Ub(n,void 0)}(e);if(""!=i.i)t&&d1(i,t+"."+i.i),h1(i,i.m);else{const l=$n.location;i=function(n,t,e,i){var l=new Ub(null,void 0);return n&&c1(l,n),t&&d1(l,t),e&&h1(l,e),i&&(l.l=i),l}(l.protocol,t?t+"."+l.hostname:l.hostname,+l.port,e)}return n.aa&&WG(n.aa,function(l,h){mo(i,h,l)}),e=n.sa,(t=n.D)&&e&&mo(i,t,e),mo(i,"VER",n.ma),OI(n,i),i}function AY(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Us(e&&n.Ba&&!n.qa?new AI({ib:!0}):n.qa)).L=n.H,t}function RY(){}function C1(){if(fD&&!(10<=Number(Jae)))throw Error("Environmental error: no available transport.")}function jd(n,t){Xa.call(this),this.g=new _Y(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!JP(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!JP(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new yD(this)}function IY(n){dB.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function xY(){hB.call(this),this.status=1}function yD(n){this.g=n}(zt=Us.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pB.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:pB),this.g.onreadystatechange=Rl(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(h){return void hY(this,h)}n=e||"";const l=new mD(this.headers);i&&_B(i,function(h,m){l.set(m,h)}),i=function(n){e:{var t=Lle;const e=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<e;l++)if(l in i&&t.call(void 0,i[l],l,n)){t=l;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(l.T()),e=$n.FormData&&n instanceof $n.FormData,!(0<=_$(Fle,t))||i||e||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gY(this),0<this.B&&((this.K=function(n){return fD&&Qae()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rl(this.pa,this)):this.A=uB(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){hY(this,h)}},zt.pa=function(){void 0!==GG&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xl(this,"timeout"),this.abort(8))},zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xl(this,"complete"),xl(this,"abort"),m1(this))},zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),m1(this,!0)),Us.Z.M.call(this)},zt.Fa=function(){this.s||(this.F||this.v||this.l?fY(this):this.cb())},zt.cb=function(){fY(this)},zt.ba=function(){try{return 2<L_(this)?this.g.status:-1}catch(n){return-1}},zt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},zt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ple(t)}},zt.Da=function(){return this.m},zt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(zt=_Y.prototype).ma=8,zt.G=1,zt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},zt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const l=new wI(this,this.h,n,void 0);let h=this.s;if(this.P&&(h?(h=E$(h),D$(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=CY(this,l,t),mo(e=k_(this.F),"RID",n),mo(e,"CVER",22),this.D&&mo(e,"X-HTTP-Session-Id",this.D),OI(this,e),this.o&&h&&EB(e,this.o,h),CB(this.i,l),this.Ra&&mo(e,"TYPE","init"),this.ja?(mo(e,"$req",t),mo(e,"SID","null"),l.$=!0,gB(l,e,null)):gB(l,e,t),this.G=2}}else 3==this.G&&(n?vY(this,n):0==this.l.length||sY(this.i)||vY(this))},zt.Ga=function(){if(this.u=null,bY(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=vI(Rl(this.bb,this),n)}},zt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ic(10),_1(this),bY(this))},zt.ab=function(){null!=this.v&&(this.v=null,_1(this),TB(this),ic(19))},zt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ic(2)):(this.h.info("Failed to ping google.com"),ic(1))},(zt=RY.prototype).xa=function(){},zt.wa=function(){},zt.va=function(){},zt.ua=function(){},zt.Oa=function(){},C1.prototype.g=function(n,t){return new jd(n,t)},Il(jd,Xa),jd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),oB(Rl(n.hb,n,t))),ic(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=TY(n,null,n.W),y1(n)},jd.prototype.close=function(){SB(this.g)},jd.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,DB(this.g,t)}else this.v?((t={}).__data__=rB(n),DB(this.g,t)):DB(this.g,n)},jd.prototype.M=function(){this.g.j=null,delete this.j,SB(this.g),delete this.g,jd.Z.M.call(this)},Il(IY,dB),Il(xY,hB),Il(yD,RY),yD.prototype.xa=function(){xl(this.g,"a")},yD.prototype.wa=function(n){xl(this.g,new IY(n))},yD.prototype.va=function(n){xl(this.g,new xY(n))},yD.prototype.ua=function(){xl(this.g,"b")},C1.prototype.createWebChannel=C1.prototype.g,jd.prototype.send=jd.prototype.u,jd.prototype.open=jd.prototype.m,jd.prototype.close=jd.prototype.close,s1.NO_ERROR=0,s1.TIMEOUT=8,s1.HTTP_ERROR=6,z$.COMPLETE="complete",Y$.EventType=CI,CI.OPEN="a",CI.CLOSE="b",CI.ERROR="c",CI.MESSAGE="d",Xa.prototype.listen=Xa.prototype.N,Us.prototype.listenOnce=Us.prototype.O,Us.prototype.getLastError=Us.prototype.La,Us.prototype.getLastErrorCode=Us.prototype.Da,Us.prototype.getStatus=Us.prototype.ba,Us.prototype.getResponseJson=Us.prototype.Qa,Us.prototype.getResponseText=Us.prototype.ga,Us.prototype.send=Us.prototype.ea;var Vle=F_.createWebChannelTransport=function(){return new C1},Hle=F_.getStatEventTarget=function(){return o1()},RB=F_.ErrorCode=s1,Ule=F_.EventType=z$,Wle=F_.Event=Bb,OY=F_.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jle=F_.FetchXmlHttpFactory=AI,w1=F_.WebChannel=Y$,zle=F_.XhrIo=Us;const MY="@firebase/firestore";class Ol{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ol.UNAUTHENTICATED=new Ol(null),Ol.GOOGLE_CREDENTIALS=new Ol("google-credentials-uid"),Ol.FIRST_PARTY=new Ol("first-party-uid"),Ol.MOCK_USER=new Ol("mock-user");let vD="9.3.0";const Gv=new Gu.Yd("@firebase/firestore");function IB(){return Gv.logLevel}function Et(n,...t){if(Gv.logLevel<=Gu.in.DEBUG){const e=t.map(xB);Gv.debug(`Firestore (${vD}): ${n}`,...e)}}function Ws(n,...t){if(Gv.logLevel<=Gu.in.ERROR){const e=t.map(xB);Gv.error(`Firestore (${vD}): ${n}`,...e)}}function MI(n,...t){if(Gv.logLevel<=Gu.in.WARN){const e=t.map(xB);Gv.warn(`Firestore (${vD}): ${n}`,...e)}}function xB(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function cn(n="Unexpected state"){const t=`FIRESTORE (${vD}) INTERNAL ASSERTION FAILED: `+n;throw Ws(t),new Error(t)}function Mn(n,t){n||cn()}function Mt(n,t){return n}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class el{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PY{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class qle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ol.UNAUTHENTICATED))}shutdown(){}}class Zle{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Kle{constructor(t){this.t=t,this.currentUser=Ol.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let l=this.i;const h=T=>this.i!==l?(l=this.i,e(T)):Promise.resolve();let m=new el;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new el,t.enqueueRetryable(()=>h(this.currentUser))};const v=()=>{const T=m;t.enqueueRetryable((0,Ve.Z)(function*(){yield T.promise,yield h(i.currentUser)}))},E=T=>{Et("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(T=>E(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(Et("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new el)}},0),v()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Et("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mn("string"==typeof i.accessToken),new PY(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Mn(null===t||"string"==typeof t),new Ol(t)}}class Qle{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Ol.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class Jle{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new Qle(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ol.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.g(i),this.p=i=>e.writeSequenceNumber(i))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function Xle(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}zd.T=-1;class NY{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const l=Xle(40);for(let h=0;h<l.length;++h)i.length<20&&l[h]<e&&(i+=t.charAt(l[h]%t.length))}return i}}function xi(n,t){return n<t?-1:n>t?1:0}function CD(n,t,e){return n.length===t.length&&n.every((i,l)=>e(i,t[l]))}function FY(n){return n+"\0"}class tl{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new dt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return tl.fromMillis(Date.now())}static fromDate(t){return tl.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new tl(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xi(this.nanoseconds,t.nanoseconds):xi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class si{constructor(t){this.timestamp=t}static fromTimestamp(t){return new si(t)}static min(){return new si(new tl(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function kY(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function jb(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function LY(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class PI{constructor(t,e,i){void 0===e?e=0:e>t.length&&cn(),void 0===i?i=t.length-e:i>t.length-e&&cn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===PI.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof PI?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let l=0;l<i;l++){const h=t.get(l),m=e.get(l);if(h<m)return-1;if(h>m)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class tr extends PI{construct(t,e,i){return new tr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new dt(ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(l=>l.length>0))}return new tr(e)}static emptyPath(){return new tr([])}}const eue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ml extends PI{construct(t,e,i){return new Ml(t,e,i)}static isValidIdentifier(t){return eue.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ml.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ml(["__name__"])}static fromServerFormat(t){const e=[];let i="",l=0;const h=()=>{if(0===i.length)throw new dt(ze.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let m=!1;for(;l<t.length;){const v=t[l];if("\\"===v){if(l+1===t.length)throw new dt(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const E=t[l+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new dt(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=E,l+=2}else"`"===v?(m=!m,l++):"."!==v||m?(i+=v,l++):(h(),l++)}if(h(),m)throw new dt(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ml(e)}static emptyPath(){return new Ml([])}}class wD{constructor(t){this.fields=t,t.sort(Ml.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return CD(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class nl{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new nl(e)}static fromUint8Array(t){const e=function(i){let l="";for(let h=0;h<i.length;++h)l+=String.fromCharCode(i[h]);return l}(t);return new nl(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nl.EMPTY_BYTE_STRING=new nl("");const nue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bv(n){if(Mn(!!n),"string"==typeof n){let t=0;const e=nue.exec(n);if(Mn(!!e),e[1]){let l=e[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:js(n.seconds),nanos:js(n.nanos)}}function js(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bD(n){return"string"==typeof n?nl.fromBase64String(n):nl.fromUint8Array(n)}function OB(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function GY(n){const t=n.mapValue.fields.__previous_value__;return OB(t)?GY(t):t}function NI(n){const t=Bv(n.mapValue.fields.__local_write_time__.timestampValue);return new tl(t.seconds,t.nanos)}function zb(n){return null==n}function b1(n){return 0===n&&1/n==-1/0}function BY(n){return"number"==typeof n&&Number.isInteger(n)&&!b1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class sn{constructor(t){this.path=t}static fromPath(t){return new sn(tr.fromString(t))}static fromName(t){return new sn(tr.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===tr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return tr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new sn(new tr(t.slice()))}}function $b(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OB(n)?4:10:cn()}function jg(n,t){const e=$b(n);if(e!==$b(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return NI(n).isEqual(NI(t));case 3:return function(i,l){if("string"==typeof i.timestampValue&&"string"==typeof l.timestampValue&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const h=Bv(i.timestampValue),m=Bv(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return l=t,bD(n.bytesValue).isEqual(bD(l.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,l){return js(i.geoPointValue.latitude)===js(l.geoPointValue.latitude)&&js(i.geoPointValue.longitude)===js(l.geoPointValue.longitude)}(n,t);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return js(i.integerValue)===js(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const h=js(i.doubleValue),m=js(l.doubleValue);return h===m?b1(h)===b1(m):isNaN(h)&&isNaN(m)}return!1}(n,t);case 9:return CD(n.arrayValue.values||[],t.arrayValue.values||[],jg);case 10:return function(i,l){const h=i.mapValue.fields||{},m=l.mapValue.fields||{};if(kY(h)!==kY(m))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(void 0===m[v]||!jg(h[v],m[v])))return!1;return!0}(n,t);default:return cn()}var l}function FI(n,t){return void 0!==(n.values||[]).find(e=>jg(e,t))}function ED(n,t){const e=$b(n),i=$b(t);if(e!==i)return xi(e,i);switch(e){case 0:return 0;case 1:return xi(n.booleanValue,t.booleanValue);case 2:return function(l,h){const m=js(l.integerValue||l.doubleValue),v=js(h.integerValue||h.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1}(n,t);case 3:return VY(n.timestampValue,t.timestampValue);case 4:return VY(NI(n),NI(t));case 5:return xi(n.stringValue,t.stringValue);case 6:return function(l,h){const m=bD(l),v=bD(h);return m.compareTo(v)}(n.bytesValue,t.bytesValue);case 7:return function(l,h){const m=l.split("/"),v=h.split("/");for(let E=0;E<m.length&&E<v.length;E++){const T=xi(m[E],v[E]);if(0!==T)return T}return xi(m.length,v.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,h){const m=xi(js(l.latitude),js(h.latitude));return 0!==m?m:xi(js(l.longitude),js(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(l,h){const m=l.values||[],v=h.values||[];for(let E=0;E<m.length&&E<v.length;++E){const T=ED(m[E],v[E]);if(T)return T}return xi(m.length,v.length)}(n.arrayValue,t.arrayValue);case 10:return function(l,h){const m=l.fields||{},v=Object.keys(m),E=h.fields||{},T=Object.keys(E);v.sort(),T.sort();for(let M=0;M<v.length&&M<T.length;++M){const F=xi(v[M],T[M]);if(0!==F)return F;const V=ED(m[v[M]],E[T[M]]);if(0!==V)return V}return xi(v.length,T.length)}(n.mapValue,t.mapValue);default:throw cn()}}function VY(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return xi(n,t);const e=Bv(n),i=Bv(t),l=xi(e.seconds,i.seconds);return 0!==l?l:xi(e.nanos,i.nanos)}function MB(n){return PB(n)}function PB(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const l=Bv(i);return`time(${l.seconds},${l.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bD(n.bytesValue).toBase64():"referenceValue"in n?sn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let l="[",h=!0;for(const m of i.values||[])h?h=!1:l+=",",l+=PB(m);return l+"]"}(n.arrayValue):"mapValue"in n?function(i){const l=Object.keys(i.fields||{}).sort();let h="{",m=!0;for(const v of l)m?m=!1:h+=",",h+=`${v}:${PB(i.fields[v])}`;return h+"}"}(n.mapValue):cn();var t}function E1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function NB(n){return!!n&&"integerValue"in n}function FB(n){return!!n&&"arrayValue"in n}function HY(n){return!!n&&"nullValue"in n}function UY(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function S1(n){return!!n&&"mapValue"in n}function kI(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return jb(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=kI(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=kI(n.arrayValue.values[e]);return t}return Object.assign({},n)}class gu{constructor(t){this.value=t}static empty(){return new gu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!S1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=kI(e)}setAll(t){let e=Ml.emptyPath(),i={},l=[];t.forEach((m,v)=>{if(!e.isImmediateParentOf(v)){const E=this.getFieldsMap(e);this.applyChanges(E,i,l),i={},l=[],e=v.popLast()}m?i[v.lastSegment()]=kI(m):l.push(v.lastSegment())});const h=this.getFieldsMap(e);this.applyChanges(h,i,l)}delete(t){const e=this.field(t.popLast());S1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return jg(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=e.mapValue.fields[t.get(i)];S1(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=l),e=l}return e.mapValue.fields}applyChanges(t,e,i){jb(e,(l,h)=>t[l]=h);for(const l of i)delete t[l]}clone(){return new gu(kI(this.value))}}function WY(n){const t=[];return jb(n.fields,(e,i)=>{const l=new Ml([e]);if(S1(i)){const h=WY(i.mapValue).fields;if(0===h.length)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)}),new wD(t)}class _o{constructor(t,e,i,l,h){this.key=t,this.documentType=e,this.version=i,this.data=l,this.documentState=h}static newInvalidDocument(t){return new _o(t,0,si.min(),gu.empty(),0)}static newFoundDocument(t,e,i){return new _o(t,1,e,i,0)}static newNoDocument(t,e){return new _o(t,2,e,gu.empty(),0)}static newUnknownDocument(t,e){return new _o(t,3,e,gu.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _o&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new _o(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iue{constructor(t,e=null,i=[],l=[],h=null,m=null,v=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=l,this.limit=h,this.startAt=m,this.endAt=v,this.A=null}}function jY(n,t=null,e=[],i=[],l=null,h=null,m=null){return new iue(n,t,e,i,l,h,m)}function LI(n){const t=Mt(n);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+MB(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),zb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=A1(t.startAt)),t.endAt&&(e+="|ub:",e+=A1(t.endAt)),t.A=e}return t.A}function D1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let l=0;l<n.orderBy.length;l++)if(!pue(n.orderBy[l],t.orderBy[l]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let l=0;l<n.filters.length;l++)if((e=n.filters[l]).op!==(i=t.filters[l]).op||!e.field.isEqual(i.field)||!jg(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YY(n.startAt,t.startAt)&&YY(n.endAt,t.endAt)}function T1(n){return sn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class rc extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,i):new sue(t,e,i):"array-contains"===e?new uue(t,i):"in"===e?new cue(t,i):"not-in"===e?new due(t,i):"array-contains-any"===e?new hue(t,i):new rc(t,e,i)}static R(t,e,i){return"in"===e?new aue(t,i):new lue(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(ED(e,this.value)):null!==e&&$b(this.value)===$b(e)&&this.P(ED(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return cn()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sue extends rc{constructor(t,e,i){super(t,e,i),this.key=sn.fromName(i.referenceValue)}matches(t){const e=sn.comparator(t.key,this.key);return this.P(e)}}class aue extends rc{constructor(t,e){super(t,"in",e),this.keys=zY(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lue extends rc{constructor(t,e){super(t,"not-in",e),this.keys=zY(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zY(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>sn.fromName(i.referenceValue))}class uue extends rc{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return FB(e)&&FI(e.arrayValue,this.value)}}class cue extends rc{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&FI(this.value.arrayValue,e)}}class due extends rc{constructor(t,e){super(t,"not-in",e)}matches(t){if(FI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!FI(this.value.arrayValue,e)}}class hue extends rc{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!FB(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>FI(this.value.arrayValue,i))}}class GI{constructor(t,e){this.position=t,this.before=e}}function A1(n){return`${n.before?"b":"a"}:${n.position.map(t=>MB(t)).join(",")}`}class SD{constructor(t,e="asc"){this.field=t,this.dir=e}}function pue(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function $Y(n,t,e){let i=0;for(let l=0;l<n.position.length;l++){const h=t[l],m=n.position[l];if(i=h.field.isKeyField()?sn.comparator(sn.fromName(m.referenceValue),e.key):ED(m,e.data.field(h.field)),"desc"===h.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function YY(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!jg(n.position[e],t.position[e]))return!1;return!0}class G_{constructor(t,e=null,i=[],l=[],h=null,m="F",v=null,E=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=E,this.V=null,this.S=null}}function qY(n,t,e,i,l,h,m,v){return new G_(n,t,e,i,l,h,m,v)}function DD(n){return new G_(n)}function R1(n){return!zb(n.limit)&&"F"===n.limitType}function I1(n){return!zb(n.limit)&&"L"===n.limitType}function kB(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LB(n){for(const t of n.filters)if(t.v())return t.field;return null}function GB(n){return null!==n.collectionGroup}function TD(n){const t=Mt(n);if(null===t.V){t.V=[];const e=LB(t),i=kB(t);if(null!==e&&null===i)e.isKeyField()||t.V.push(new SD(e)),t.V.push(new SD(Ml.keyField(),"asc"));else{let l=!1;for(const h of t.explicitOrderBy)t.V.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new SD(Ml.keyField(),h))}}}return t.V}function Jh(n){const t=Mt(n);if(!t.S)if("F"===t.limitType)t.S=jY(t.path,t.collectionGroup,TD(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const h of TD(t))e.push(new SD(h.field,"desc"===h.dir?"asc":"desc"));const i=t.endAt?new GI(t.endAt.position,!t.endAt.before):null,l=t.startAt?new GI(t.startAt.position,!t.startAt.before):null;t.S=jY(t.path,t.collectionGroup,e,t.filters,t.limit,i,l)}return t.S}function ZY(n,t,e){return new G_(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function BI(n,t){return D1(Jh(n),Jh(t))&&n.limitType===t.limitType}function KY(n){return`${LI(Jh(n))}|lt:${n.limitType}`}function BB(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${MB(i.value)}`;var i}).join(", ")}]`),zb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+A1(n.startAt)),n.endAt&&(t+=", endAt: "+A1(n.endAt)),`Target(${t})`}(Jh(n))}; limitType=${n.limitType})`}function VI(n,t){return t.isFoundDocument()&&function(e,i){const l=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(l):sn.isDocumentKey(e.path)?e.path.isEqual(l):e.path.isImmediateParentOf(l)}(n,t)&&function(e,i){for(const l of e.explicitOrderBy)if(!l.field.isKeyField()&&null===i.data.field(l.field))return!1;return!0}(n,t)&&function(e,i){for(const l of e.filters)if(!l.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!$Y(e.startAt,TD(e),i)||e.endAt&&$Y(e.endAt,TD(e),i)));var e,i}function QY(n){return(t,e)=>{let i=!1;for(const l of TD(n)){const h=fue(l,t,e);if(0!==h)return h;i=i||l.field.isKeyField()}return 0}}function fue(n,t,e){const i=n.field.isKeyField()?sn.comparator(t.key,e.key):function(l,h,m){const v=h.data.field(l),E=m.data.field(l);return null!==v&&null!==E?ED(v,E):cn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return cn()}}function JY(n,t){if(n.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b1(t)?"-0":t}}function XY(n){return{integerValue:""+n}}function e5(n,t){return BY(t)?XY(t):JY(n,t)}class x1{constructor(){this._=void 0}}function gue(n,t,e){return n instanceof AD?function(i,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(e,t):n instanceof Yb?n5(n,t):n instanceof qb?i5(n,t):function(i,l){const h=t5(i,l),m=r5(h)+r5(i.C);return NB(h)&&NB(i.C)?XY(m):JY(i.N,m)}(n,t)}function mue(n,t,e){return n instanceof Yb?n5(n,t):n instanceof qb?i5(n,t):e}function t5(n,t){return n instanceof RD?NB(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class AD extends x1{}class Yb extends x1{constructor(t){super(),this.elements=t}}function n5(n,t){const e=o5(t);for(const i of n.elements)e.some(l=>jg(l,i))||e.push(i);return{arrayValue:{values:e}}}class qb extends x1{constructor(t){super(),this.elements=t}}function i5(n,t){let e=o5(t);for(const i of n.elements)e=e.filter(l=>!jg(l,i));return{arrayValue:{values:e}}}class RD extends x1{constructor(t,e){super(),this.N=t,this.C=e}}function r5(n){return js(n.integerValue||n.doubleValue)}function o5(n){return FB(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class HI{constructor(t,e){this.field=t,this.transform=e}}class yue{constructor(t,e){this.version=t,this.transformResults=e}}class zs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zs}static exists(t){return new zs(void 0,t)}static updateTime(t){return new zs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function O1(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class M1{}function vue(n,t,e){n instanceof UI?function(i,l,h){const m=i.value.clone(),v=u5(i.fieldTransforms,l,h.transformResults);m.setAll(v),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,t,e):n instanceof Vv?function(i,l,h){if(!O1(i.precondition,l))return void l.convertToUnknownDocument(h.version);const m=u5(i.fieldTransforms,l,h.transformResults),v=l.data;v.setAll(l5(i)),v.setAll(m),l.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function VB(n,t,e){var l;n instanceof UI?function(i,l,h){if(!O1(i.precondition,l))return;const m=i.value.clone(),v=c5(i.fieldTransforms,h,l);m.setAll(v),l.convertToFoundDocument(a5(l),m).setHasLocalMutations()}(n,t,e):n instanceof Vv?function(i,l,h){if(!O1(i.precondition,l))return;const m=c5(i.fieldTransforms,h,l),v=l.data;v.setAll(l5(i)),v.setAll(m),l.convertToFoundDocument(a5(l),v).setHasLocalMutations()}(n,t,e):O1(n.precondition,l=t)&&l.convertToNoDocument(si.min())}function Cue(n,t){let e=null;for(const i of n.fieldTransforms){const l=t.data.field(i.field),h=t5(i.transform,l||null);null!=h&&(null==e&&(e=gu.empty()),e.set(i.field,h))}return e||null}function s5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&CD(e,i,(l,h)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Yb&&i instanceof Yb||e instanceof qb&&i instanceof qb?CD(e.elements,i.elements,jg):e instanceof RD&&i instanceof RD?jg(e.C,i.C):e instanceof AD&&i instanceof AD);var e,i}(l,h))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function a5(n){return n.isFoundDocument()?n.version:si.min()}class UI extends M1{constructor(t,e,i,l=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=l,this.type=0}}class Vv extends M1{constructor(t,e,i,l,h=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=l,this.fieldTransforms=h,this.type=1}}function l5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function u5(n,t,e){const i=new Map;Mn(n.length===e.length);for(let l=0;l<e.length;l++){const h=n[l],m=h.transform,v=t.data.field(h.field);i.set(h.field,mue(m,v,e[l]))}return i}function c5(n,t,e){const i=new Map;for(const l of n){const h=l.transform,m=e.data.field(l.field);i.set(l.field,gue(h,m,t))}return i}class WI extends M1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class HB extends M1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class wue{constructor(t){this.count=t}}var $s,Ni;function d5(n){switch(n){default:return cn();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function h5(n){if(void 0===n)return Ws("GRPC error has no .code"),ze.UNKNOWN;switch(n){case $s.OK:return ze.OK;case $s.CANCELLED:return ze.CANCELLED;case $s.UNKNOWN:return ze.UNKNOWN;case $s.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case $s.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case $s.INTERNAL:return ze.INTERNAL;case $s.UNAVAILABLE:return ze.UNAVAILABLE;case $s.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case $s.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case $s.NOT_FOUND:return ze.NOT_FOUND;case $s.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case $s.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case $s.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case $s.ABORTED:return ze.ABORTED;case $s.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case $s.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case $s.DATA_LOSS:return ze.DATA_LOSS;default:return cn()}}(Ni=$s||($s={}))[Ni.OK=0]="OK",Ni[Ni.CANCELLED=1]="CANCELLED",Ni[Ni.UNKNOWN=2]="UNKNOWN",Ni[Ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ni[Ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ni[Ni.NOT_FOUND=5]="NOT_FOUND",Ni[Ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ni[Ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ni[Ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ni[Ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ni[Ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ni[Ni.ABORTED=10]="ABORTED",Ni[Ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ni[Ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ni[Ni.INTERNAL=13]="INTERNAL",Ni[Ni.UNAVAILABLE=14]="UNAVAILABLE",Ni[Ni.DATA_LOSS=15]="DATA_LOSS";class wa{constructor(t,e){this.comparator=t,this.root=e||Pl.EMPTY}insert(t,e){return new wa(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Pl.BLACK,null,null))}remove(t){return new wa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pl.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(0===l)return e+i.left.size;l<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new P1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new P1(this.root,t,this.comparator,!1)}getReverseIterator(){return new P1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new P1(this.root,t,this.comparator,!0)}}class P1{constructor(t,e,i,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=e?i(t.key,e):1,l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(0===h){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Pl{constructor(t,e,i,l,h){this.key=t,this.value=e,this.color=null!=i?i:Pl.RED,this.left=null!=l?l:Pl.EMPTY,this.right=null!=h?h:Pl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,l,h){return new Pl(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let l=this;const h=i(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,e,i),null):0===h?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(t,e,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Pl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,l=this;if(e(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,e),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===e(t,l.key)){if(l.right.isEmpty())return Pl.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,e))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Pl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Pl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cn();const t=this.left.check();if(t!==this.right.check())throw cn();return t+(this.isRed()?0:1)}}Pl.EMPTY=null,Pl.RED=!0,Pl.BLACK=!1,Pl.EMPTY=new class{constructor(){this.size=0}get key(){throw cn()}get value(){throw cn()}get color(){throw cn()}get left(){throw cn()}get right(){throw cn()}copy(n,t,e,i,l){return this}insert(n,t,e){return new Pl(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class es{constructor(t){this.comparator=t,this.data=new wa(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;e(l.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new p5(this.data.getIterator())}getIteratorFrom(t){return new p5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof es)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=i.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new es(this.comparator);return e.data=t,e}}class p5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const bue=new wa(sn.comparator);function Xh(){return bue}const Eue=new wa(sn.comparator);function UB(){return Eue}const Sue=new wa(sn.comparator);function f5(){return Sue}const Due=new es(sn.comparator);function yr(...n){let t=Due;for(const e of n)t=t.add(e);return t}const Tue=new es(xi);function N1(){return Tue}class jI{constructor(t,e,i,l,h){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,zI.createSynthesizedTargetChangeForCurrentChange(t,e)),new jI(si.min(),i,N1(),Xh(),yr())}}class zI{constructor(t,e,i,l,h){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,e){return new zI(nl.EMPTY_BYTE_STRING,e,yr(),yr(),yr())}}class F1{constructor(t,e,i,l){this.k=t,this.removedTargetIds=e,this.key=i,this.$=l}}class g5{constructor(t,e){this.targetId=t,this.O=e}}class m5{constructor(t,e,i=nl.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=l}}class _5{constructor(){this.F=0,this.M=v5(),this.L=nl.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=yr(),e=yr(),i=yr();return this.M.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:e=e.add(l);break;case 1:i=i.add(l);break;default:cn()}}),new zI(this.L,this.B,t,e,i)}G(){this.U=!1,this.M=v5()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Aue{constructor(t){this.tt=t,this.et=new Map,this.nt=Xh(),this.st=y5(),this.it=new es(xi)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const i=this.ut(e);switch(t.state){case 0:this.ht(e)&&i.j(t.resumeToken);break;case 1:i.X(),i.q||i.G(),i.j(t.resumeToken);break;case 2:i.X(),i.q||this.removeTarget(e);break;case 3:this.ht(e)&&(i.Z(),i.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),i.j(t.resumeToken));break;default:cn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((i,l)=>{this.ht(l)&&e(l)})}ft(t){const e=t.targetId,i=t.O.count,l=this.dt(e);if(l){const h=l.target;if(T1(h))if(0===i){const m=new sn(h.path);this.ct(e,m,_o.newNoDocument(m,si.min()))}else Mn(1===i);else this.wt(e)!==i&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((h,m)=>{const v=this.dt(m);if(v){if(h.current&&T1(v.target)){const E=new sn(v.target.path);null!==this.nt.get(E)||this.gt(m,E)||this.ct(m,E,_o.newNoDocument(E,t))}h.K&&(e.set(m,h.W()),h.G())}});let i=yr();this.st.forEach((h,m)=>{let v=!0;m.forEachWhile(E=>{const T=this.dt(E);return!T||2===T.purpose||(v=!1,!1)}),v&&(i=i.add(h))});const l=new jI(t,e,this.it,this.nt,i);return this.nt=Xh(),this.st=y5(),this.it=new es(xi),l}ot(t,e){if(!this.ht(t))return;const i=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,i),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,i){if(!this.ht(t))return;const l=this.ut(t);this.gt(t,e)?l.H(e,1):l.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),i&&(this.nt=this.nt.insert(e,i))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new _5,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new es(xi),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Et("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new _5),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function y5(){return new wa(sn.comparator)}function v5(){return new wa(sn.comparator)}const Rue={asc:"ASCENDING",desc:"DESCENDING"},Iue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class xue{constructor(t,e){this.databaseId=t,this.D=e}}function $I(n,t){return n.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function C5(n,t){return n.D?t.toBase64():t.toUint8Array()}function Oue(n,t){return $I(n,t.toTimestamp())}function il(n){return Mn(!!n),si.fromTimestamp(function(t){const e=Bv(t);return new tl(e.seconds,e.nanos)}(n))}function WB(n,t){return(e=n,new tr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function w5(n){const t=tr.fromString(n);return Mn(P5(t)),t}function YI(n,t){return WB(n.databaseId,t.path)}function zg(n,t){const e=w5(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new sn(E5(e))}function jB(n,t){return WB(n.databaseId,t)}function b5(n){const t=w5(n);return 4===t.length?tr.emptyPath():E5(t)}function qI(n){return new tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E5(n){return Mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function S5(n,t,e){return{name:YI(n,t),fields:e.value.mapValue.fields}}function D5(n,t,e){const i=zg(n,t.name),l=il(t.updateTime),h=new gu({mapValue:{fields:t.fields}}),m=_o.newFoundDocument(i,l,h);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function k1(n,t){let e;if(t instanceof UI)e={update:S5(n,t.key,t.value)};else if(t instanceof WI)e={delete:YI(n,t.key)};else if(t instanceof Vv)e={update:S5(n,t.key,t.data),updateMask:Vue(t.fieldMask)};else{if(!(t instanceof HB))return cn();e={verify:YI(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,h){const m=h.transform;if(m instanceof AD)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yb)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof qb)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof RD)return{fieldPath:h.field.canonicalString(),increment:m.C};throw cn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(l=t.precondition).updateTime?{updateTime:Oue(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:cn()),e;var l}function T5(n,t){const e=t.currentDocument?void 0!==(l=t.currentDocument).updateTime?zs.updateTime(il(l.updateTime)):void 0!==l.exists?zs.exists(l.exists):zs.none():zs.none(),i=t.updateTransforms?t.updateTransforms.map(l=>function(h,m){let v=null;"setToServerValue"in m?(Mn("REQUEST_TIME"===m.setToServerValue),v=new AD):"appendMissingElements"in m?v=new Yb(m.appendMissingElements.values||[]):"removeAllFromArray"in m?v=new qb(m.removeAllFromArray.values||[]):"increment"in m?v=new RD(h,m.increment):cn();const E=Ml.fromServerFormat(m.fieldPath);return new HI(E,v)}(n,l)):[];var l;if(t.update){const l=zg(n,t.update.name),h=new gu({mapValue:{fields:t.update.fields}});if(t.updateMask){const m=new wD((t.updateMask.fieldPaths||[]).map(T=>Ml.fromServerFormat(T)));return new Vv(l,h,m,e,i)}return new UI(l,h,e,i)}if(t.delete){const l=zg(n,t.delete);return new WI(l,e)}if(t.verify){const l=zg(n,t.verify);return new HB(l,e)}return cn()}function A5(n,t){return{documents:[jB(n,t.path)]}}function R5(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=jB(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=jB(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const l=function(v){if(0===v.length)return;const E=v.map(T=>function(M){if("=="===M.op){if(UY(M.value))return{unaryFilter:{field:ID(M.field),op:"IS_NAN"}};if(HY(M.value))return{unaryFilter:{field:ID(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(UY(M.value))return{unaryFilter:{field:ID(M.field),op:"IS_NOT_NAN"}};if(HY(M.value))return{unaryFilter:{field:ID(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ID(M.field),op:Lue(M.op),value:M.value}}}(T));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(t.filters);l&&(e.structuredQuery.where=l);const h=function(v){if(0!==v.length)return v.map(E=>{return{field:ID((T=E).field),direction:kue(T.dir)};var T})}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const m=(E=t.limit,n.D||zb(E)?E:{value:E});var E;return null!==m&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=O5(t.startAt)),t.endAt&&(e.structuredQuery.endAt=O5(t.endAt)),e}function I5(n){let t=b5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let l=null;if(i>0){Mn(1===i);const M=e.from[0];M.allDescendants?l=M.collectionId:t=t.child(M.collectionId)}let h=[];e.where&&(h=x5(e.where));let m=[];e.orderBy&&(m=e.orderBy.map(M=>{return new SD(xD((F=M).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let v=null;e.limit&&(v=function(M){let F;return F="object"==typeof M?M.value:M,zb(F)?null:F}(e.limit));let E=null;e.startAt&&(E=M5(e.startAt));let T=null;return e.endAt&&(T=M5(e.endAt)),qY(t,l,m,h,v,"F",E,T)}function x5(n){return n?void 0!==n.unaryFilter?[Bue(n)]:void 0!==n.fieldFilter?[Gue(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>x5(t)).reduce((t,e)=>t.concat(e)):cn():[]}function O5(n){return{before:n.before,values:n.position}}function M5(n){return new GI(n.values||[],!!n.before)}function kue(n){return Rue[n]}function Lue(n){return Iue[n]}function ID(n){return{fieldPath:n.canonicalString()}}function xD(n){return Ml.fromServerFormat(n.fieldPath)}function Gue(n){return rc.create(xD(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cn()}}(n.fieldFilter.op),n.fieldFilter.value)}function Bue(n){switch(n.unaryFilter.op){case"IS_NAN":const t=xD(n.unaryFilter.field);return rc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=xD(n.unaryFilter.field);return rc.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xD(n.unaryFilter.field);return rc.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xD(n.unaryFilter.field);return rc.create(l,"!=",{nullValue:"NULL_VALUE"});default:return cn()}}function Vue(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function P5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Cf(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=N5(t)),t=Hue(n.get(e),t);return N5(t)}function Hue(n,t){let e=t;const i=n.length;for(let l=0;l<i;l++){const h=n.charAt(l);switch(h){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=h}}return e}function N5(n){return n+"\x01\x01"}function B_(n){const t=n.length;if(Mn(t>=2),2===t)return Mn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tr.emptyPath();const e=t-2,i=[];let l="";for(let h=0;h<t;){const m=n.indexOf("\x01",h);switch((m<0||m>e)&&cn(),n.charAt(m+1)){case"\x01":const v=n.substring(h,m);let E;0===l.length?E=v:(l+=v,E=l,l=""),i.push(E);break;case"\x10":l+=n.substring(h,m),l+="\0";break;case"\x11":l+=n.substring(h,m+1);break;default:cn()}h=m+2}return new tr(i)}class Uue{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class $d{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}$d.store="owner",$d.key="owner";class Hv{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}Hv.store="mutationQueues",Hv.keyPath="userId";class Xr{constructor(t,e,i,l,h){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=l,this.mutations=h}}Xr.store="mutations",Xr.keyPath="batchId",Xr.userMutationsIndex="userMutationsIndex",Xr.userMutationsKeyPath=["userId","batchId"];class mu{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Cf(e)]}static key(t,e,i){return[t,Cf(e),i]}}mu.store="documentMutations",mu.PLACEHOLDER=new mu;class Wue{constructor(t,e){this.path=t,this.readTime=e}}class jue{constructor(t,e){this.path=t,this.version=e}}class ts{constructor(t,e,i,l,h,m){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=m}}ts.store="remoteDocuments",ts.readTimeIndex="readTimeIndex",ts.readTimeIndexPath="readTime",ts.collectionReadTimeIndex="collectionReadTimeIndex",ts.collectionReadTimeIndexPath=["parentPath","readTime"];class $g{constructor(t){this.byteSize=t}}$g.store="remoteDocumentGlobal",$g.key="remoteDocumentGlobalKey";class Xc{constructor(t,e,i,l,h,m,v){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=v}}Xc.store="targets",Xc.keyPath="targetId",Xc.queryTargetsIndexName="queryTargetsIndex",Xc.queryTargetsKeyPath=["canonicalId","targetId"];class Nl{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Nl.store="targetDocuments",Nl.keyPath=["targetId","path"],Nl.documentTargetsIndex="documentTargetsIndex",Nl.documentTargetsKeyPath=["path","targetId"];class Yd{constructor(t,e,i,l){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=l}}Yd.key="targetGlobalKey",Yd.store="targetGlobal";class Zb{constructor(t,e){this.collectionId=t,this.parent=e}}Zb.store="collectionParents",Zb.keyPath=["collectionId","parent"];class V_{constructor(t,e,i,l){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=l}}V_.store="clientMetadata",V_.keyPath="clientId";class OD{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}OD.store="bundles",OD.keyPath="bundleId";class MD{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}MD.store="namedQueries",MD.keyPath="name";const zue=[Hv.store,Xr.store,mu.store,ts.store,Xc.store,$d.store,Yd.store,Nl.store,V_.store,$g.store,Zb.store,OD.store,MD.store],F5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&cn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ct((i,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(i,l)},this.catchCallback=h=>{this.wrapFailure(e,h).next(i,l)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ct?e:ct.resolve(e)}catch(e){return ct.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ct.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ct.reject(e)}static resolve(t){return new ct((e,i)=>{e(t)})}static reject(t){return new ct((e,i)=>{i(t)})}static waitFor(t){return new ct((e,i)=>{let l=0,h=0,m=!1;t.forEach(v=>{++l,v.next(()=>{++h,m&&h===l&&e()},E=>i(E))}),m=!0,h===l&&e()})}static or(t){let e=ct.resolve(!1);for(const i of t)e=e.next(l=>l?ct.resolve(l):i());return e}static forEach(t,e){const i=[];return t.forEach((l,h)=>{i.push(e.call(this,l,h))}),this.waitFor(i)}}class L1{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new el,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new ZI(t,e.error)):this.Et.resolve()},this.transaction.onerror=i=>{const l=zB(i.target.error);this.Et.reject(new ZI(t,l))}}static open(t,e,i,l){try{return new L1(e,t.transaction(l,i))}catch(h){throw new ZI(e,h)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Et("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new Yue(e)}}class wf{constructor(t,e,i){this.name=t,this.version=e,this.At=i,12.2===wf.Rt((0,ie.z$)())&&Ws("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Et("SimpleDb","Removing database:",t),Qb(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,ie.hl)())return!1;if(wf.Pt())return!0;const t=(0,ie.z$)(),e=wf.Rt(t),i=0<e&&e<10,l=wf.vt(t),h=0<l&&l<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||h)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Dt(t){var e=this;return(0,Ve.Z)(function*(){return e.db||(Et("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,l)=>{const h=indexedDB.open(e.name,e.version);h.onsuccess=m=>{i(m.target.result)},h.onblocked=()=>{l(new ZI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const v=m.target.error;l("VersionError"===v.name?new dt(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new dt(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new ZI(t,v))},h.onupgradeneeded=m=>{Et("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',m.oldVersion),e.At.Ct(m.target.result,h.transaction,m.oldVersion,e.version).next(()=>{Et("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=i=>e.Nt(i)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,l){var h=this;return(0,Ve.Z)(function*(){const m="readonly"===e;let v=0;for(;;){++v;try{h.db=yield h.Dt(t);const E=L1.open(h.db,t,m?"readonly":"readwrite",i),T=l(E).catch(M=>(E.abort(M),ct.reject(M))).toPromise();return T.catch(()=>{}),yield E.It,T}catch(E){const T="FirebaseError"!==E.name&&v<3;if(Et("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),h.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $ue{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return Qb(this.kt.delete())}}class ZI extends dt{constructor(t,e){super(ze.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Kb(n){return"IndexedDbTransactionError"===n.name}class Yue{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Et("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Qb(i)}add(t){return Et("SimpleDb","ADD",this.store.name,t,t),Qb(this.store.add(t))}get(t){return Qb(this.store.get(t)).next(e=>(void 0===e&&(e=null),Et("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Et("SimpleDb","DELETE",this.store.name,t),Qb(this.store.delete(t))}count(){return Et("SimpleDb","COUNT",this.store.name),Qb(this.store.count())}Lt(t,e){const i=this.cursor(this.options(t,e)),l=[];return this.Bt(i,(h,m)=>{l.push(m)}).next(()=>l)}Ut(t,e){Et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.qt=!1;const l=this.cursor(i);return this.Bt(l,(h,m,v)=>v.delete())}Kt(t,e){let i;e?i=t:(i={},e=t);const l=this.cursor(i);return this.Bt(l,e)}jt(t){const e=this.cursor({});return new ct((i,l)=>{e.onerror=h=>{const m=zB(h.target.error);l(m)},e.onsuccess=h=>{const m=h.target.result;m?t(m.primaryKey,m.value).next(v=>{v?m.continue():i()}):i()}})}Bt(t,e){const i=[];return new ct((l,h)=>{t.onerror=m=>{h(m.target.error)},t.onsuccess=m=>{const v=m.target.result;if(!v)return void l();const E=new $ue(v),T=e(v.primaryKey,v.value,E);if(T instanceof ct){const M=T.catch(F=>(E.done(),ct.reject(F)));i.push(M)}E.isDone?l():null===E.Ft?v.continue():v.continue(E.Ft)}}).next(()=>ct.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.qt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Qb(n){return new ct((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const l=zB(i.target.error);e(l)}})}let L5=!1;function zB(n){const t=wf.Rt((0,ie.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return L5||(L5=!0,setTimeout(()=>{throw i},0)),i}}return n}class G5 extends k5{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function ed(n,t){const e=Mt(n);return wf.St(e.Qt,t)}class $B{constructor(t,e,i,l){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&vue(h,t,i[l])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&VB(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&VB(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),l=i;this.applyToLocalView(l),i.isValidDocument()||l.convertToNoDocument(si.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),yr())}isEqual(t){return this.batchId===t.batchId&&CD(this.mutations,t.mutations,(e,i)=>s5(e,i))&&CD(this.baseMutations,t.baseMutations,(e,i)=>s5(e,i))}}class YB{constructor(t,e,i,l){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=l}static from(t,e,i){Mn(t.mutations.length===i.length);let l=f5();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,i[m].version);return new YB(t,e,i,l)}}class Uv{constructor(t,e,i,l,h=si.min(),m=si.min(),v=nl.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v}withSequenceNumber(t){return new Uv(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Uv(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Uv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class B5{constructor(t){this.Wt=t}}function qB(n,t){if(t.document)return D5(n.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=sn.fromSegments(t.noDocument.path),i=ND(t.noDocument.readTime),l=_o.newNoDocument(e,i);return t.hasCommittedMutations?l.setHasCommittedMutations():l}if(t.unknownDocument){const e=sn.fromSegments(t.unknownDocument.path),i=ND(t.unknownDocument.version);return _o.newUnknownDocument(e,i)}return cn()}function V5(n,t,e){const i=ZB(e),l=t.key.path.popLast().toArray();if(t.isFoundDocument()){const h={name:YI(v=n.Wt,(E=t).key),fields:E.data.value.mapValue.fields,updateTime:$I(v,E.version.toTimestamp())};return new ts(null,null,h,t.hasCommittedMutations,i,l)}var v,E;if(t.isNoDocument()){const h=t.key.path.toArray(),m=PD(t.version),v=t.hasCommittedMutations;return new ts(null,new Wue(h,m),null,v,i,l)}if(t.isUnknownDocument()){const h=t.key.path.toArray(),m=PD(t.version);return new ts(new jue(h,m),null,null,!0,i,l)}return cn()}function ZB(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function H5(n){const t=new tl(n[0],n[1]);return si.fromTimestamp(t)}function PD(n){const t=n.toTimestamp();return new Uue(t.seconds,t.nanoseconds)}function ND(n){const t=new tl(n.seconds,n.nanoseconds);return si.fromTimestamp(t)}function FD(n,t){const e=(t.baseMutations||[]).map(h=>T5(n.Wt,h));for(let h=0;h<t.mutations.length-1;++h){const m=t.mutations[h];h+1<t.mutations.length&&void 0!==t.mutations[h+1].transform&&(m.updateTransforms=t.mutations[h+1].transform.fieldTransforms,t.mutations.splice(h+1,1),++h)}const i=t.mutations.map(h=>T5(n.Wt,h)),l=tl.fromMillis(t.localWriteTimeMs);return new $B(t.batchId,l,e,i)}function KI(n){const t=ND(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ND(n.lastLimboFreeSnapshotVersion):si.min();let i;var l;return void 0!==n.query.documents?(Mn(1===(l=n.query).documents.length),i=Jh(DD(b5(l.documents[0])))):i=Jh(I5(n.query)),new Uv(i,n.targetId,0,n.lastListenSequenceNumber,t,e,nl.fromBase64String(n.resumeToken))}function U5(n,t){const e=PD(t.snapshotVersion),i=PD(t.lastLimboFreeSnapshotVersion);let l;l=T1(t.target)?A5(n.Wt,t.target):R5(n.Wt,t.target);const h=t.resumeToken.toBase64();return new Xc(t.targetId,LI(t.target),e,h,t.sequenceNumber,i,l)}function KB(n){const t=I5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZY(t,t.limit,"L"):t}class que{getBundleMetadata(t,e){return W5(t).get(e).next(i=>{if(i)return{id:(l=i).bundleId,createTime:ND(l.createTime),version:l.version};var l})}saveBundleMetadata(t,e){return W5(t).put({bundleId:(i=e).id,createTime:PD(il(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return j5(t).get(e).next(i=>{if(i)return{name:(l=i).name,query:KB(l.bundledQuery),readTime:ND(l.readTime)};var l})}saveNamedQuery(t,e){return j5(t).put({name:(i=e).name,readTime:PD(il(i.readTime)),bundledQuery:i.bundledQuery});var i}}function W5(n){return ed(n,OD.store)}function j5(n){return ed(n,MD.store)}class Zue{constructor(){this.Gt=new QB}addToCollectionParentIndex(t,e){return this.Gt.add(e),ct.resolve()}getCollectionParents(t,e){return ct.resolve(this.Gt.getEntries(e))}}class QB{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),l=this.index[e]||new es(tr.comparator),h=!l.has(i);return this.index[e]=l.add(i),h}has(t){const e=t.lastSegment(),i=t.popLast(),l=this.index[e];return l&&l.has(i)}getEntries(t){return(this.index[t]||new es(tr.comparator)).toArray()}}class Kue{constructor(){this.zt=new QB}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const i=e.lastSegment(),l=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const h={collectionId:i,parent:Cf(l)};return z5(t).put(h)}return ct.resolve()}getCollectionParents(t,e){const i=[],l=IDBKeyRange.bound([e,""],[FY(e),""],!1,!0);return z5(t).Lt(l).next(h=>{for(const m of h){if(m.collectionId!==e)break;i.push(B_(m.parent))}return i})}}function z5(n){return ed(n,Zb.store)}const $5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class td{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new td(t,td.DEFAULT_COLLECTION_PERCENTILE,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Y5(n,t,e){const i=n.store(Xr.store),l=n.store(mu.store),h=[],m=IDBKeyRange.only(e.batchId);let v=0;const E=i.Kt({range:m},(M,F,V)=>(v++,V.delete()));h.push(E.next(()=>{Mn(1===v)}));const T=[];for(const M of e.mutations){const F=mu.key(t,M.key.path,e.batchId);h.push(l.delete(F)),T.push(M.key)}return ct.waitFor(h).next(()=>T)}function G1(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw cn();t=n.noDocument}return JSON.stringify(t).length}td.DEFAULT_COLLECTION_PERCENTILE=10,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,td.DEFAULT=new td(41943040,td.DEFAULT_COLLECTION_PERCENTILE,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),td.DISABLED=new td(-1,0,0);class JB{constructor(t,e,i,l){this.userId=t,this.N=e,this.Ht=i,this.referenceDelegate=l,this.Jt={}}static Yt(t,e,i,l){Mn(""!==t.uid);const h=t.isAuthenticated()?t.uid:"";return new JB(h,e,i,l)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wv(t).Kt({index:Xr.userMutationsIndex,range:i},(l,h,m)=>{e=!1,m.done()}).next(()=>e)}addMutationBatch(t,e,i,l){const h=kD(t),m=Wv(t);return m.add({}).next(v=>{Mn("number"==typeof v);const E=new $B(v,e,i,l),T=function(V,K,re){const me=re.baseMutations.map(Je=>k1(V.Wt,Je)),Pe=re.mutations.map(Je=>k1(V.Wt,Je));return new Xr(K,re.batchId,re.localWriteTime.toMillis(),me,Pe)}(this.N,this.userId,E),M=[];let F=new es((V,K)=>xi(V.canonicalString(),K.canonicalString()));for(const V of l){const K=mu.key(this.userId,V.key.path,v);F=F.add(V.key.path.popLast()),M.push(m.put(T)),M.push(h.put(K,mu.PLACEHOLDER))}return F.forEach(V=>{M.push(this.Ht.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.Jt[v]=E.keys()}),ct.waitFor(M).next(()=>E)})}lookupMutationBatch(t,e){return Wv(t).get(e).next(i=>i?(Mn(i.userId===this.userId),FD(this.N,i)):null)}Xt(t,e){return this.Jt[e]?ct.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const l=i.keys();return this.Jt[e]=l,l}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,l=IDBKeyRange.lowerBound([this.userId,i]);let h=null;return Wv(t).Kt({index:Xr.userMutationsIndex,range:l},(m,v,E)=>{v.userId===this.userId&&(Mn(v.batchId>=i),h=FD(this.N,v)),E.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wv(t).Kt({index:Xr.userMutationsIndex,range:e,reverse:!0},(l,h,m)=>{i=h.batchId,m.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wv(t).Lt(Xr.userMutationsIndex,e).next(i=>i.map(l=>FD(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=mu.prefixForPath(this.userId,e.path),l=IDBKeyRange.lowerBound(i),h=[];return kD(t).Kt({range:l},(m,v,E)=>{const[T,M,F]=m,V=B_(M);if(T===this.userId&&e.path.isEqual(V))return Wv(t).get(F).next(K=>{if(!K)throw cn();Mn(K.userId===this.userId),h.push(FD(this.N,K))});E.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new es(xi);const l=[];return e.forEach(h=>{const m=mu.prefixForPath(this.userId,h.path),v=IDBKeyRange.lowerBound(m),E=kD(t).Kt({range:v},(T,M,F)=>{const[V,K,re]=T,me=B_(K);V===this.userId&&h.path.isEqual(me)?i=i.add(re):F.done()});l.push(E)}),ct.waitFor(l).next(()=>this.Zt(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,l=i.length+1,h=mu.prefixForPath(this.userId,i),m=IDBKeyRange.lowerBound(h);let v=new es(xi);return kD(t).Kt({range:m},(E,T,M)=>{const[F,V,K]=E,re=B_(V);F===this.userId&&i.isPrefixOf(re)?re.length===l&&(v=v.add(K)):M.done()}).next(()=>this.Zt(t,v))}Zt(t,e){const i=[],l=[];return e.forEach(h=>{l.push(Wv(t).get(h).next(m=>{if(null===m)throw cn();Mn(m.userId===this.userId),i.push(FD(this.N,m))}))}),ct.waitFor(l).next(()=>i)}removeMutationBatch(t,e){return Y5(t.Qt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),ct.forEach(i,l=>this.referenceDelegate.markPotentiallyOrphaned(t,l))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ct.resolve();const i=IDBKeyRange.lowerBound(mu.prefixForUser(this.userId)),l=[];return kD(t).Kt({range:i},(h,m,v)=>{if(h[0]===this.userId){const E=B_(h[1]);l.push(E)}else v.done()}).next(()=>{Mn(0===l.length)})})}containsKey(t,e){return q5(t,this.userId,e)}ee(t){return Z5(t).get(this.userId).next(e=>e||new Hv(this.userId,-1,""))}}function q5(n,t,e){const i=mu.prefixForPath(t,e.path),l=i[1],h=IDBKeyRange.lowerBound(i);let m=!1;return kD(n).Kt({range:h,qt:!0},(v,E,T)=>{const[M,F,V]=v;M===t&&F===l&&(m=!0),T.done()}).next(()=>m)}function Wv(n){return ed(n,Xr.store)}function kD(n){return ed(n,mu.store)}function Z5(n){return ed(n,Hv.store)}class Jb{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new Jb(0)}static ie(){return new Jb(-1)}}class Que{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const i=new Jb(e.highestTargetId);return e.highestTargetId=i.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(e=>si.fromTimestamp(new tl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.re(t).next(l=>(l.highestListenSequenceNumber=e,i&&(l.lastRemoteSnapshotVersion=i.toTimestamp()),e>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=e),this.oe(t,l)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(i=>(i.targetCount+=1,this.ae(e,i),this.oe(t,i))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>LD(t).delete(e.targetId)).next(()=>this.re(t)).next(i=>(Mn(i.targetCount>0),i.targetCount-=1,this.oe(t,i)))}removeTargets(t,e,i){let l=0;const h=[];return LD(t).Kt((m,v)=>{const E=KI(v);E.sequenceNumber<=e&&null===i.get(E.targetId)&&(l++,h.push(this.removeTargetData(t,E)))}).next(()=>ct.waitFor(h)).next(()=>l)}forEachTarget(t,e){return LD(t).Kt((i,l)=>{const h=KI(l);e(h)})}re(t){return K5(t).get(Yd.key).next(e=>(Mn(null!==e),e))}oe(t,e){return K5(t).put(Yd.key,e)}ce(t,e){return LD(t).put(U5(this.N,e))}ae(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.re(t).next(e=>e.targetCount)}getTargetData(t,e){const i=LI(e),l=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let h=null;return LD(t).Kt({range:l,index:Xc.queryTargetsIndexName},(m,v,E)=>{const T=KI(v);D1(e,T.target)&&(h=T,E.done())}).next(()=>h)}addMatchingKeys(t,e,i){const l=[],h=jv(t);return e.forEach(m=>{const v=Cf(m.path);l.push(h.put(new Nl(i,v))),l.push(this.referenceDelegate.addReference(t,i,m))}),ct.waitFor(l)}removeMatchingKeys(t,e,i){const l=jv(t);return ct.forEach(e,h=>{const m=Cf(h.path);return ct.waitFor([l.delete([i,m]),this.referenceDelegate.removeReference(t,i,h)])})}removeMatchingKeysForTargetId(t,e){const i=jv(t),l=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(l)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),l=jv(t);let h=yr();return l.Kt({range:i,qt:!0},(m,v,E)=>{const T=B_(m[1]),M=new sn(T);h=h.add(M)}).next(()=>h)}containsKey(t,e){const i=Cf(e.path),l=IDBKeyRange.bound([i],[FY(i)],!1,!0);let h=0;return jv(t).Kt({index:Nl.documentTargetsIndex,qt:!0,range:l},([m,v],E,T)=>{0!==m&&(h++,T.done())}).next(()=>h>0)}Tt(t,e){return LD(t).get(e).next(i=>i?KI(i):null)}}function LD(n){return ed(n,Xc.store)}function K5(n){return ed(n,Yd.store)}function jv(n){return ed(n,Nl.store)}function Xb(n){return XB.apply(this,arguments)}function XB(){return(XB=(0,Ve.Z)(function*(n){if(n.code!==ze.FAILED_PRECONDITION||n.message!==F5)throw n;Et("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Q5([n,t],[e,i]){const l=xi(n,e);return 0===l?xi(t,i):l}class Jue{constructor(t){this.ue=t,this.buffer=new es(Q5),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Q5(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Xue{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const i=this.de?3e5:6e4;Et("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ve.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(l){Kb(l)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Xb(l)}yield e._e(t)}))}}class ece{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ct.resolve(zd.T);const i=new Jue(e);return this.me.forEachTarget(t,l=>i.fe(l.sequenceNumber)).next(()=>this.me.ye(t,l=>i.fe(l))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.me.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve($5)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$5):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let i,l,h,m,v,E,T;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),l=this.params.maximumSequenceNumbersToCollect):l=F,m=Date.now(),this.nthSequenceNumber(t,l))).next(F=>(i=F,v=Date.now(),this.removeTargets(t,i,e))).next(F=>(h=F,E=Date.now(),this.removeOrphanedDocuments(t,i))).next(F=>(T=Date.now(),IB()<=Gu.in.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-M}ms\n\tDetermined least recently used ${l} in `+(v-m)+`ms\n\tRemoved ${h} targets in `+(E-v)+`ms\n\tRemoved ${F} documents in `+(T-E)+`ms\nTotal Duration: ${T-M}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:F})))}}class tce{constructor(t,e){this.db=t,this.garbageCollector=new ece(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(l=>i+l))}Te(t){let e=0;return this.ye(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(i,l)=>e(l))}addReference(t,e,i){return B1(t,i)}removeReference(t,e,i){return B1(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return B1(t,e)}Ie(t,e){return function(i,l){let h=!1;return Z5(i).jt(m=>q5(i,m,l).next(v=>(v&&(h=!0),ct.resolve(!v)))).next(()=>h)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Ee(t,(m,v)=>{if(v<=e){const E=this.Ie(t,m).next(T=>{if(!T)return h++,i.getEntry(t,m).next(()=>(i.removeEntry(m),jv(t).delete([0,Cf(m.path)])))});l.push(E)}}).next(()=>ct.waitFor(l)).next(()=>i.apply(t)).next(()=>h)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return B1(t,e)}Ee(t,e){const i=jv(t);let l,h=zd.T;return i.Kt({index:Nl.documentTargetsIndex},([m,v],{path:E,sequenceNumber:T})=>{0===m?(h!==zd.T&&e(new sn(B_(l)),h),h=T,l=E):h=zd.T}).next(()=>{h!==zd.T&&e(new sn(B_(l)),h)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function B1(n,t){return jv(n).put((i=n.currentSequenceNumber,new Nl(0,Cf(t.path),i)));var i}class GD{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[l,h]of i)if(this.equalsFn(l,t))return h}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),l=this.inner[i];if(void 0!==l){for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,e]);l.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return 1===i.length?delete this.inner[e]:i.splice(l,1),!0;return!1}forEach(t){jb(this.inner,(e,i)=>{for(const[l,h]of i)t(l,h)})}isEmpty(){return LY(this.inner)}}class J5{constructor(){this.changes=new GD(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:si.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:_o.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ct.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nce{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,i){return zv(t).put(V1(e),i)}removeEntry(t,e){const i=zv(t),l=V1(e);return i.delete(l)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Ae(t,i)))}getEntry(t,e){return zv(t).get(V1(e)).next(i=>this.Re(e,i))}be(t,e){return zv(t).get(V1(e)).next(i=>({document:this.Re(e,i),size:G1(i)}))}getEntries(t,e){let i=Xh();return this.Pe(t,e,(l,h)=>{const m=this.Re(l,h);i=i.insert(l,m)}).next(()=>i)}ve(t,e){let i=Xh(),l=new wa(sn.comparator);return this.Pe(t,e,(h,m)=>{const v=this.Re(h,m);i=i.insert(h,v),l=l.insert(h,G1(m))}).next(()=>({documents:i,Ve:l}))}Pe(t,e,i){if(e.isEmpty())return ct.resolve();const l=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),h=e.getIterator();let m=h.getNext();return zv(t).Kt({range:l},(v,E,T)=>{const M=sn.fromSegments(v);for(;m&&sn.comparator(m,M)<0;)i(m,null),m=h.getNext();m&&m.isEqual(M)&&(i(m,E),m=h.hasNext()?h.getNext():null),m?T.Mt(m.path.toArray()):T.done()}).next(()=>{for(;m;)i(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(t,e,i){let l=Xh();const h=e.path.length+1,m={};if(i.isEqual(si.min())){const v=e.path.toArray();m.range=IDBKeyRange.lowerBound(v)}else{const v=e.path.toArray(),E=ZB(i);m.range=IDBKeyRange.lowerBound([v,E],!0),m.index=ts.collectionReadTimeIndex}return zv(t).Kt(m,(v,E,T)=>{if(v.length!==h)return;const M=qB(this.N,E);e.path.isPrefixOf(M.key.path)?VI(e,M)&&(l=l.insert(M.key,M)):T.done()}).next(()=>l)}newChangeBuffer(t){return new ice(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return X5(t).get($g.key).next(e=>(Mn(!!e),e))}Ae(t,e){return X5(t).put($g.key,e)}Re(t,e){if(e){const i=qB(this.N,e);if(!i.isNoDocument()||!i.version.isEqual(si.min()))return i}return _o.newInvalidDocument(t)}}class ice extends J5{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new GD(i=>i.toString(),(i,l)=>i.isEqual(l))}applyChanges(t){const e=[];let i=0,l=new es((h,m)=>xi(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const v=this.De.get(h);if(m.document.isValidDocument()){const E=V5(this.Se.N,m.document,this.getReadTime(h));l=l.add(h.path.popLast()),i+=G1(E)-v,e.push(this.Se.addEntry(t,h,E))}else if(i-=v,this.trackRemovals){const E=V5(this.Se.N,_o.newNoDocument(h,si.min()),this.getReadTime(h));e.push(this.Se.addEntry(t,h,E))}else e.push(this.Se.removeEntry(t,h))}),l.forEach(h=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,h))}),e.push(this.Se.updateMetadata(t,i)),ct.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(i=>(this.De.set(e,i.size),i.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:i,Ve:l})=>(l.forEach((h,m)=>{this.De.set(h,m)}),i))}}function X5(n){return ed(n,$g.store)}function zv(n){return ed(n,ts.store)}function V1(n){return n.path.toArray()}class rce{constructor(t){this.N=t}Ct(t,e,i,l){Mn(i<l&&i>=0&&l<=11);const h=new L1("createOrUpgrade",e);var v;i<1&&l>=1&&(t.createObjectStore($d.store),(v=t).createObjectStore(Hv.store,{keyPath:Hv.keyPath}),v.createObjectStore(Xr.store,{keyPath:Xr.keyPath,autoIncrement:!0}).createIndex(Xr.userMutationsIndex,Xr.userMutationsKeyPath,{unique:!0}),v.createObjectStore(mu.store),e8(t),function(v){v.createObjectStore(ts.store)}(t));let m=ct.resolve();return i<3&&l>=3&&(0!==i&&(function(v){v.deleteObjectStore(Nl.store),v.deleteObjectStore(Xc.store),v.deleteObjectStore(Yd.store)}(t),e8(t)),m=m.next(()=>function(v){const E=v.store(Yd.store),T=new Yd(0,0,si.min().toTimestamp(),0);return E.put(Yd.key,T)}(h))),i<4&&l>=4&&(0!==i&&(m=m.next(()=>function(v,E){return E.store(Xr.store).Lt().next(T=>{v.deleteObjectStore(Xr.store),v.createObjectStore(Xr.store,{keyPath:Xr.keyPath,autoIncrement:!0}).createIndex(Xr.userMutationsIndex,Xr.userMutationsKeyPath,{unique:!0});const M=E.store(Xr.store),F=T.map(V=>M.put(V));return ct.waitFor(F)})}(t,h))),m=m.next(()=>{!function(v){v.createObjectStore(V_.store,{keyPath:V_.keyPath})}(t)})),i<5&&l>=5&&(m=m.next(()=>this.Ce(h))),i<6&&l>=6&&(m=m.next(()=>(function(v){v.createObjectStore($g.store)}(t),this.Ne(h)))),i<7&&l>=7&&(m=m.next(()=>this.xe(h))),i<8&&l>=8&&(m=m.next(()=>this.ke(t,h))),i<9&&l>=9&&(m=m.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(t),function(v){const E=v.objectStore(ts.store);E.createIndex(ts.readTimeIndex,ts.readTimeIndexPath,{unique:!1}),E.createIndex(ts.collectionReadTimeIndex,ts.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&l>=10&&(m=m.next(()=>this.$e(h))),i<11&&l>=11&&(m=m.next(()=>{(function(v){v.createObjectStore(OD.store,{keyPath:OD.keyPath})})(t),function(v){v.createObjectStore(MD.store,{keyPath:MD.keyPath})}(t)})),m}Ne(t){let e=0;return t.store(ts.store).Kt((i,l)=>{e+=G1(l)}).next(()=>{const i=new $g(e);return t.store($g.store).put($g.key,i)})}Ce(t){const e=t.store(Hv.store),i=t.store(Xr.store);return e.Lt().next(l=>ct.forEach(l,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return i.Lt(Xr.userMutationsIndex,m).next(v=>ct.forEach(v,E=>{Mn(E.userId===h.userId);const T=FD(this.N,E);return Y5(t,h.userId,T).next(()=>{})}))}))}xe(t){const e=t.store(Nl.store),i=t.store(ts.store);return t.store(Yd.store).get(Yd.key).next(l=>{const h=[];return i.Kt((m,v)=>{const E=new tr(m),T=[0,Cf(E)];h.push(e.get(T).next(M=>M?ct.resolve():e.put(new Nl(0,Cf(E),l.highestListenSequenceNumber))))}).next(()=>ct.waitFor(h))})}ke(t,e){t.createObjectStore(Zb.store,{keyPath:Zb.keyPath});const i=e.store(Zb.store),l=new QB,h=m=>{if(l.add(m)){const v=m.lastSegment(),E=m.popLast();return i.put({collectionId:v,parent:Cf(E)})}};return e.store(ts.store).Kt({qt:!0},(m,v)=>{const E=new tr(m);return h(E.popLast())}).next(()=>e.store(mu.store).Kt({qt:!0},([m,v,E],T)=>{const M=B_(v);return h(M.popLast())}))}$e(t){const e=t.store(Xc.store);return e.Kt((i,l)=>{const h=KI(l),m=U5(this.N,h);return e.put(m)})}}function e8(n){n.createObjectStore(Nl.store,{keyPath:Nl.keyPath}).createIndex(Nl.documentTargetsIndex,Nl.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Xc.store,{keyPath:Xc.keyPath}).createIndex(Xc.queryTargetsIndexName,Xc.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Yd.store)}const eV="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tV{constructor(t,e,i,l,h,m,v,E,T,M){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Oe=h,this.window=m,this.document=v,this.Fe=T,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=F=>Promise.resolve(),!tV.bt())throw new dt(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tce(this,l),this.We=e+"main",this.N=new B5(E),this.Ge=new wf(this.We,11,new rce(this.N)),this.ze=new Que(this.referenceDelegate,this.N),this.Ht=new Kue,this.He=new nce(this.N,this.Ht),this.Je=new que,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&Ws("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(ze.FAILED_PRECONDITION,eV);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new zd(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var i=(0,Ve.Z)(function*(l){if(e.started)return t(l)});return function(l){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,Ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,Ve.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>H1(t).put(new V_(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Kb(t))return Et("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return QI(t).get($d.key).next(e=>ct.resolve(this.an(e)))}un(t){return H1(t).delete(this.clientId)}hn(){var t=this;return(0,Ve.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const l=ed(i,V_.store);return l.Lt().next(h=>{const m=t.fn(h,18e5),v=h.filter(E=>-1===m.indexOf(E));return ct.forEach(v,E=>l.delete(E.clientId)).next(()=>v)})}).catch(()=>[]);if(t.Ye)for(const i of e)t.Ye.removeItem(t.dn(i.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?ct.resolve(!0):QI(t).get($d.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new dt(ze.FAILED_PRECONDITION,eV);return!1}}return!(!this.networkEnabled||!this.inForeground)||H1(t).Lt().next(i=>void 0===this.fn(i,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,v=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&v)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Et("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ve.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[$d.store,V_.store],e=>{const i=new G5(e,zd.T);return t.on(i).next(()=>t.un(i))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(i=>this.ln(i.updateTimeMs,e)&&!this.wn(i.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>H1(t).Lt().next(e=>this.fn(e,18e5).map(i=>i.clientId)))}get started(){return this.Be}getMutationQueue(t){return JB.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,i){let h;return Et("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",zue,m=>(h=new G5(m,this.Le?this.Le.next():zd.T),"readwrite-primary"===e?this.sn(h).next(v=>!!v||this.rn(h)).next(v=>{if(!v)throw Ws(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new dt(ze.FAILED_PRECONDITION,F5);return i(h)}).next(v=>this.cn(h).next(()=>v)):this.Tn(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Tn(t){return QI(t).get($d.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new dt(ze.FAILED_PRECONDITION,eV)})}cn(t){const e=new $d(this.clientId,this.allowTabSynchronization,Date.now());return QI(t).put($d.key,e)}static bt(){return wf.bt()}on(t){const e=QI(t);return e.get($d.key).next(i=>this.an(i)?(Et("IndexedDbPersistence","Releasing primary lease."),e.delete($d.key)):ct.resolve())}ln(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ws(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,ie.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const i=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Et("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ws("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){Ws("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function QI(n){return ed(n,$d.store)}function H1(n){return ed(n,V_.store)}function nV(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class oce{constructor(t,e){this.progress=t,this.En=e}}class t8{constructor(t,e,i){this.He=t,this.In=e,this.Ht=i}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Rn(t,e,i))}Rn(t,e,i){return this.He.getEntry(t,e).next(l=>{for(const h of i)h.applyToLocalView(l);return l})}bn(t,e){t.forEach((i,l)=>{for(const h of e)h.applyToLocalView(l)})}Pn(t,e){return this.He.getEntries(t,e).next(i=>this.vn(t,i).next(()=>i))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.bn(e,i))}getDocumentsMatchingQuery(t,e,i){return sn.isDocumentKey((l=e).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(t,e.path):GB(e)?this.Sn(t,e,i):this.Dn(t,e,i);var l}Vn(t,e){return this.An(t,new sn(e)).next(i=>{let l=UB();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}Sn(t,e,i){const l=e.collectionGroup;let h=UB();return this.Ht.getCollectionParents(t,l).next(m=>ct.forEach(m,v=>{const E=(T=e,M=v.child(l),new G_(M,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,M;return this.Dn(t,E,i).next(T=>{T.forEach((M,F)=>{h=h.insert(M,F)})})}).next(()=>h))}Dn(t,e,i){let l,h;return this.He.getDocumentsMatchingQuery(t,e,i).next(m=>(l=m,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(m=>(h=m,this.Cn(t,h,l).next(v=>{l=v;for(const E of h)for(const T of E.mutations){const M=T.key;let F=l.get(M);null==F&&(F=_o.newInvalidDocument(M),l=l.insert(M,F)),VB(T,F,E.localWriteTime),F.isFoundDocument()||(l=l.remove(M))}}))).next(()=>(l.forEach((m,v)=>{VI(e,v)||(l=l.remove(m))}),l))}Cn(t,e,i){let l=yr();for(const m of e)for(const v of m.mutations)v instanceof Vv&&null===i.get(v.key)&&(l=l.add(v.key));let h=i;return this.He.getEntries(t,l).next(m=>(m.forEach((v,E)=>{E.isFoundDocument()&&(h=h.insert(v,E))}),h))}}class iV{constructor(t,e,i,l){this.targetId=t,this.fromCache=e,this.Nn=i,this.xn=l}static kn(t,e){let i=yr(),l=yr();for(const h of e.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new iV(t,e.fromCache,i,l)}}class n8{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,i,l){return 0===(h=e).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||i.isEqual(si.min())?this.Fn(t,e):this.On.Pn(t,l).next(h=>{const m=this.Mn(e,h);return(R1(e)||I1(e))&&this.Ln(e.limitType,m,l,i)?this.Fn(t,e):(IB()<=Gu.in.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),BB(e)),this.On.getDocumentsMatchingQuery(t,e,i).next(v=>(m.forEach(E=>{v=v.insert(E.key,E)}),v)))});var h}Mn(t,e){let i=new es(QY(t));return e.forEach((l,h)=>{VI(t,h)&&(i=i.add(h))}),i}Ln(t,e,i,l){if(i.size!==e.size)return!0;const h="F"===t?e.last():e.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Fn(t,e){return IB()<=Gu.in.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",BB(e)),this.On.getDocumentsMatchingQuery(t,e,si.min())}}class sce{constructor(t,e,i,l){this.persistence=t,this.Bn=e,this.N=l,this.Un=new wa(xi),this.qn=new GD(h=>LI(h),D1),this.Kn=si.min(),this.In=t.getMutationQueue(i),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new t8(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function i8(n,t,e,i){return new sce(n,t,e,i)}function r8(n,t){return rV.apply(this,arguments)}function rV(){return(rV=(0,Ve.Z)(function*(n,t){const e=Mt(n);let i=e.In,l=e.Qn;const h=yield e.persistence.runTransaction("Handle user change","readonly",m=>{let v;return e.In.getAllMutationBatches(m).next(E=>(v=E,i=e.persistence.getMutationQueue(t),l=new t8(e.jn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(m))).next(E=>{const T=[],M=[];let F=yr();for(const V of v){T.push(V.batchId);for(const K of V.mutations)F=F.add(K.key)}for(const V of E){M.push(V.batchId);for(const K of V.mutations)F=F.add(K.key)}return l.Pn(m,F).next(V=>({Wn:V,removedBatchIds:T,addedBatchIds:M}))})});return e.In=i,e.Qn=l,e.Bn.$n(e.Qn),h})).apply(this,arguments)}function ace(n,t){const e=Mt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),h=e.jn.newChangeBuffer({trackRemovals:!0});return function(m,v,E,T){const M=E.batch,F=M.keys();let V=ct.resolve();return F.forEach(K=>{V=V.next(()=>T.getEntry(v,K)).next(re=>{const me=E.docVersions.get(K);Mn(null!==me),re.version.compareTo(me)<0&&(M.applyToRemoteDocument(re,E),re.isValidDocument()&&T.addEntry(re,E.commitVersion))})}),V.next(()=>m.In.removeMutationBatch(v,M))}(e,i,t,h).next(()=>h.apply(i)).next(()=>e.In.performConsistencyCheck(i)).next(()=>e.Qn.Pn(i,l))})}function o8(n){const t=Mt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function lce(n,t){const e=Mt(n),i=t.snapshotVersion;let l=e.Un;return e.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=e.jn.newChangeBuffer({trackRemovals:!0});l=e.Un;const v=[];t.targetChanges.forEach((T,M)=>{const F=l.get(M);if(!F)return;v.push(e.ze.removeMatchingKeys(h,T.removedDocuments,M).next(()=>e.ze.addMatchingKeys(h,T.addedDocuments,M)));const V=T.resumeToken;if(V.approximateByteSize()>0){const K=F.withResumeToken(V,i).withSequenceNumber(h.currentSequenceNumber);l=l.insert(M,K),re=F,Pe=T,Mn((me=K).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&v.push(e.ze.updateTargetData(h,K))}var re,me,Pe});let E=Xh();if(t.documentUpdates.forEach((T,M)=>{t.resolvedLimboDocuments.has(T)&&v.push(e.persistence.referenceDelegate.updateLimboDocument(h,T))}),v.push(s8(h,m,t.documentUpdates,i,void 0).next(T=>{E=T})),!i.isEqual(si.min())){const T=e.ze.getLastRemoteSnapshotVersion(h).next(M=>e.ze.setTargetsMetadata(h,h.currentSequenceNumber,i));v.push(T)}return ct.waitFor(v).next(()=>m.apply(h)).next(()=>e.Qn.vn(h,E)).next(()=>E)}).then(h=>(e.Un=l,h))}function s8(n,t,e,i,l){let h=yr();return e.forEach(m=>h=h.add(m)),t.getEntries(n,h).next(m=>{let v=Xh();return e.forEach((E,T)=>{const M=m.get(E),F=(null==l?void 0:l.get(E))||i;T.isNoDocument()&&T.version.isEqual(si.min())?(t.removeEntry(E,F),v=v.insert(E,T)):!M.isValidDocument()||T.version.compareTo(M.version)>0||0===T.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(T,F),v=v.insert(E,T)):Et("LocalStore","Ignoring outdated watch update for ",E,". Current version:",M.version," Watch version:",T.version)}),v})}function uce(n,t){const e=Mt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.In.getNextMutationBatchAfterBatchId(i,t)))}function BD(n,t){const e=Mt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return e.ze.getTargetData(i,t).next(h=>h?(l=h,ct.resolve(l)):e.ze.allocateTargetId(i).next(m=>(l=new Uv(t,m,0,i.currentSequenceNumber),e.ze.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=e.Un.get(i.targetId);return(null===l||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(e.Un=e.Un.insert(i.targetId,i),e.qn.set(t,i.targetId)),i})}function VD(n,t,e){return oV.apply(this,arguments)}function oV(){return(oV=(0,Ve.Z)(function*(n,t,e){const i=Mt(n),l=i.Un.get(t),h=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",h,m=>i.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!Kb(m))throw m;Et("LocalStore",`Failed to update sequence numbers for target ${t}: ${m}`)}i.Un=i.Un.remove(t),i.qn.delete(l.target)})).apply(this,arguments)}function U1(n,t,e){const i=Mt(n);let l=si.min(),h=yr();return i.persistence.runTransaction("Execute query","readonly",m=>function(v,E,T){const M=Mt(v),F=M.qn.get(T);return void 0!==F?ct.resolve(M.Un.get(F)):M.ze.getTargetData(E,T)}(i,m,Jh(t)).next(v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,i.ze.getMatchingKeysForTargetId(m,v.targetId).next(E=>{h=E})}).next(()=>i.Bn.getDocumentsMatchingQuery(m,t,e?l:si.min(),e?h:yr())).next(v=>({documents:v,Gn:h})))}function a8(n,t){const e=Mt(n),i=Mt(e.ze),l=e.Un.get(t);return l?Promise.resolve(l.target):e.persistence.runTransaction("Get target data","readonly",h=>i.Tt(h,t).next(m=>m?m.target:null))}function l8(n){const t=Mt(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,l,h){const m=Mt(i);let v=Xh(),E=ZB(h);const T=zv(l),M=IDBKeyRange.lowerBound(E,!0);return T.Kt({index:ts.readTimeIndex,range:M},(F,V)=>{const K=qB(m.N,V);v=v.insert(K.key,K),E=V.readTime}).next(()=>({En:v,readTime:H5(E)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:i})=>(t.Kn=i,e))}function sV(){return(sV=(0,Ve.Z)(function*(n){const t=Mt(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const l=zv(i);let h=si.min();return l.Kt({index:ts.readTimeIndex,reverse:!0},(m,v,E)=>{v.readTime&&(h=H5(v.readTime)),E.done()}).next(()=>h)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function aV(){return(aV=(0,Ve.Z)(function*(n,t,e,i){const l=Mt(n);let h=yr(),m=Xh(),v=f5();for(const M of e){const F=t.zn(M.metadata.name);M.document&&(h=h.add(F)),m=m.insert(F,t.Hn(M)),v=v.insert(F,t.Jn(M.metadata.readTime))}const E=l.jn.newChangeBuffer({trackRemovals:!0}),T=yield BD(l,(M=i,Jh(DD(tr.fromString(`__bundle__/docs/${M}`)))));var M;return l.persistence.runTransaction("Apply bundle documents","readwrite",M=>s8(M,E,m,si.min(),v).next(F=>(E.apply(M),F)).next(F=>l.ze.removeMatchingKeysForTargetId(M,T.targetId).next(()=>l.ze.addMatchingKeys(M,h,T.targetId)).next(()=>l.Qn.vn(M,F)).next(()=>F)))})).apply(this,arguments)}function hce(n,t){return lV.apply(this,arguments)}function lV(){return(lV=(0,Ve.Z)(function*(n,t,e=yr()){const i=yield BD(n,Jh(KB(t.bundledQuery))),l=Mt(n);return l.persistence.runTransaction("Save named query","readwrite",h=>{const m=il(t.readTime);if(i.snapshotVersion.compareTo(m)>=0)return l.Je.saveNamedQuery(h,t);const v=i.withResumeToken(nl.EMPTY_BYTE_STRING,m);return l.Un=l.Un.insert(v.targetId,v),l.ze.updateTargetData(h,v).next(()=>l.ze.removeMatchingKeysForTargetId(h,i.targetId)).next(()=>l.ze.addMatchingKeys(h,e,i.targetId)).next(()=>l.Je.saveNamedQuery(h,t))})})).apply(this,arguments)}class pce{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return ct.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var i;return this.Yn.set(e.id,{id:(i=e).id,version:i.version,createTime:il(i.createTime)}),ct.resolve()}getNamedQuery(t,e){return ct.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(i=e).name,query:KB(i.bundledQuery),readTime:il(i.readTime)}),ct.resolve();var i}}class uV{constructor(){this.Zn=new es(rl.ts),this.es=new es(rl.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new rl(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new rl(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}cs(t){const e=new sn(new tr([])),i=new rl(e,t),l=new rl(e,t+1),h=[];return this.es.forEachInRange([i,l],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new sn(new tr([])),i=new rl(e,t),l=new rl(e,t+1);let h=yr();return this.es.forEachInRange([i,l],m=>{h=h.add(m.key)}),h}containsKey(t){const e=new rl(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class rl{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return sn.comparator(t.key,e.key)||xi(t.ls,e.ls)}static ns(t,e){return xi(t.ls,e.ls)||sn.comparator(t.key,e.key)}}class fce{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new es(rl.ts)}checkEmpty(t){return ct.resolve(0===this.In.length)}addMutationBatch(t,e,i,l){const h=this.fs;this.fs++;const m=new $B(h,e,i,l);this.In.push(m);for(const v of l)this.ds=this.ds.add(new rl(v.key,h)),this.Ht.addToCollectionParentIndex(t,v.key.path.popLast());return ct.resolve(m)}lookupMutationBatch(t,e){return ct.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const l=this._s(e+1),h=l<0?0:l;return ct.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return ct.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rl(e,0),l=new rl(e,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([i,l],m=>{const v=this.ws(m.ls);h.push(v)}),ct.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new es(xi);return e.forEach(l=>{const h=new rl(l,0),m=new rl(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],v=>{i=i.add(v.ls)})}),ct.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,l=i.length+1;let h=i;sn.isDocumentKey(h)||(h=h.child(""));const m=new rl(new sn(h),0);let v=new es(xi);return this.ds.forEachWhile(E=>{const T=E.key.path;return!!i.isPrefixOf(T)&&(T.length===l&&(v=v.add(E.ls)),!0)},m),ct.resolve(this.gs(v))}gs(t){const e=[];return t.forEach(i=>{const l=this.ws(i);null!==l&&e.push(l)}),e}removeMutationBatch(t,e){Mn(0===this.ys(e.batchId,"removed")),this.In.shift();let i=this.ds;return ct.forEach(e.mutations,l=>{const h=new rl(l.key,e.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.ds=i})}te(t){}containsKey(t,e){const i=new rl(e,0),l=this.ds.firstAfterOrEqual(i);return ct.resolve(e.isEqual(l&&l.key))}performConsistencyCheck(t){return ct.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class gce{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new wa(sn.comparator),this.size=0}addEntry(t,e,i){const l=e.key,h=this.docs.get(l),m=h?h.size:0,v=this.ps(e);return this.docs=this.docs.insert(l,{document:e.clone(),size:v,readTime:i}),this.size+=v-m,this.Ht.addToCollectionParentIndex(t,l.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ct.resolve(i?i.document.clone():_o.newInvalidDocument(e))}getEntries(t,e){let i=Xh();return e.forEach(l=>{const h=this.docs.get(l);i=i.insert(l,h?h.document.clone():_o.newInvalidDocument(l))}),ct.resolve(i)}getDocumentsMatchingQuery(t,e,i){let l=Xh();const h=new sn(e.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:E,readTime:T}}=m.getNext();if(!e.path.isPrefixOf(v.path))break;T.compareTo(i)<=0||VI(e,E)&&(l=l.insert(E.key,E.clone()))}return ct.resolve(l)}Ts(t,e){return ct.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new mce(this)}getSize(t){return ct.resolve(this.size)}}class mce extends J5{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((i,l)=>{l.document.isValidDocument()?e.push(this.Se.addEntry(t,l.document,this.getReadTime(i))):this.Se.removeEntry(i)}),ct.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class _ce{constructor(t){this.persistence=t,this.Es=new GD(e=>LI(e),D1),this.lastRemoteSnapshotVersion=si.min(),this.highestTargetId=0,this.Is=0,this.As=new uV,this.targetCount=0,this.Rs=Jb.se()}forEachTarget(t,e){return this.Es.forEach((i,l)=>e(l)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Is&&(this.Is=e),ct.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Jb(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,ct.resolve()}updateTargetData(t,e){return this.ce(e),ct.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,e,i){let l=0;const h=[];return this.Es.forEach((m,v)=>{v.sequenceNumber<=e&&null===i.get(v.targetId)&&(this.Es.delete(m),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)}),ct.waitFor(h).next(()=>l)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,e){const i=this.Es.get(e)||null;return ct.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),ct.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const l=this.persistence.referenceDelegate,h=[];return l&&e.forEach(m=>{h.push(l.markPotentiallyOrphaned(t,m))}),ct.waitFor(h)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),ct.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return ct.resolve(i)}containsKey(t,e){return ct.resolve(this.As.containsKey(e))}}class yce{constructor(t,e){this.bs={},this.Le=new zd(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new _ce(this),this.Ht=new Zue,this.He=new gce(this.Ht,i=>this.referenceDelegate.Ps(i)),this.N=new B5(e),this.Je=new pce(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new fce(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,i){Et("MemoryPersistence","Starting transaction:",t);const l=new vce(this.Le.next());return this.referenceDelegate.vs(),i(l).next(h=>this.referenceDelegate.Vs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ss(t,e){return ct.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class vce extends k5{constructor(t){super(),this.currentSequenceNumber=t}}class cV{constructor(t){this.persistence=t,this.Ds=new uV,this.Cs=null}static Ns(t){return new cV(t)}get xs(){if(this.Cs)return this.Cs;throw cn()}addReference(t,e,i){return this.Ds.addReference(i,e),this.xs.delete(i.toString()),ct.resolve()}removeReference(t,e,i){return this.Ds.removeReference(i,e),this.xs.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),ct.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(l=>this.xs.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(l=>{l.forEach(h=>this.xs.add(h.toString()))}).next(()=>i.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.xs,i=>{const l=sn.fromPath(i);return this.ks(t,l).next(h=>{h||e.removeEntry(l)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return ct.or([()=>ct.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function u8(n,t){return`firestore_clients_${n}_${t}`}function c8(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function dV(n,t){return`firestore_targets_${n}_${t}`}class W1{constructor(t,e,i,l){this.user=t,this.batchId=e,this.state=i,this.error=l}static $s(t,e,i){const l=JSON.parse(i);let h,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new dt(l.error.code,l.error.message))),m?new W1(t,e,l.state,h):(Ws("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class JI{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static $s(t,e){const i=JSON.parse(e);let l,h="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(l=new dt(i.error.code,i.error.message))),h?new JI(t,i.state,l):(Ws("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class j1{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const i=JSON.parse(e);let l="object"==typeof i&&i.activeTargetIds instanceof Array,h=N1();for(let m=0;l&&m<i.activeTargetIds.length;++m)l=BY(i.activeTargetIds[m]),h=h.add(i.activeTargetIds[m]);return l?new j1(t,h):(Ws("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class hV{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new hV(e.clientId,e.onlineState):(Ws("SharedClientState",`Failed to parse online state: ${t}`),null)}}class pV{constructor(){this.activeTargetIds=N1()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fV{constructor(t,e,i,l,h){this.window=t,this.Oe=e,this.persistenceKey=i,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new wa(xi),this.started=!1,this.Ks=[];const m=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=u8(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new pV),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ve.Z)(function*(){const e=yield t.syncEngine.pn();for(const l of e){if(l===t.Ls)continue;const h=t.getItem(u8(t.persistenceKey,l));if(h){const m=j1.$s(l,h);m&&(t.qs=t.qs.insert(m.clientId,m))}}t.Ys();const i=t.storage.getItem(t.Hs);if(i){const l=t.Xs(i);l&&t.Zs(l)}for(const l of t.Ks)t.Us(l);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((i,l)=>{l.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,i){this.ei(t,e,i),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(dV(this.persistenceKey,t));if(i){const l=JI.$s(t,i);l&&(e=l.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(dV(this.persistenceKey,t))}updateQueryState(t,e,i){this.ii(t,e,i)}handleUserChange(t,e,i){e.forEach(l=>{this.ni(l)}),this.currentUser=t,i.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Et("SharedClientState","READ",t,e),e}setItem(t,e){Et("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Et("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.js)return void Ws("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ws.test(i.key)){if(null==i.newValue){const l=e.ci(i.key);return e.ai(l,null)}{const l=e.ui(i.key,i.newValue);if(l)return e.ai(l.clientId,l)}}else if(e.Gs.test(i.key)){if(null!==i.newValue){const l=e.hi(i.key,i.newValue);if(l)return e.li(l)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const l=e.fi(i.key,i.newValue);if(l)return e.di(l)}}else if(i.key===e.Hs){if(null!==i.newValue){const l=e.Xs(i.newValue);if(l)return e.Zs(l)}}else if(i.key===e.Qs){const l=function(h){let m=zd.T;if(null!=h)try{const v=JSON.parse(h);Mn("number"==typeof v),m=v}catch(v){Ws("SharedClientState","Failed to read sequence number from WebStorage",v)}return m}(i.newValue);l!==zd.T&&e.sequenceNumberHandler(l)}else if(i.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(i)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,i){const l=new W1(this.currentUser,t,e,i),h=c8(this.persistenceKey,this.currentUser,t);this.setItem(h,l.Os())}ni(t){const e=c8(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,i){const l=dV(this.persistenceKey,t),h=new JI(t,e,i);this.setItem(l,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const i=this.ci(t);return j1.$s(i,e)}hi(t,e){const i=this.Gs.exec(t),l=Number(i[1]);return W1.$s(new Ol(void 0!==i[2]?i[2]:null),l,e)}fi(t,e){const i=this.zs.exec(t),l=Number(i[1]);return JI.$s(l,e)}Xs(t){return hV.$s(t)}li(t){var e=this;return(0,Ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Et("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const i=e?this.qs.insert(t,e):this.qs.remove(t),l=this.ti(this.qs),h=this.ti(i),m=[],v=[];return h.forEach(E=>{l.has(E)||m.push(E)}),l.forEach(E=>{h.has(E)||v.push(E)}),this.syncEngine.gi(m,v).then(()=>{this.qs=i})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=N1();return t.forEach((i,l)=>{e=e.unionWith(l.activeTargetIds)}),e}}class d8{constructor(){this.yi=new pV,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,i){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new pV,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Cce{Ti(t){}shutdown(){}}class h8{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bce{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class Ece extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,i,l){const h=this.Bi(t,e);Et("RestConnection","Sending: ",h,i);const m={};return this.Ui(m,l),this.qi(t,h,m,i).then(v=>(Et("RestConnection","Received: ",v),v),v=>{throw MI("RestConnection",`${t} failed with error: `,v,"url: ",h,"request:",i),v})}Ki(t,e,i,l){return this.Li(t,e,i,l)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+vD,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const i in e.authHeaders)e.authHeaders.hasOwnProperty(i)&&(t[i]=e.authHeaders[i])}Bi(t,e){return`${this.Fi}/v1/${e}:${wce[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,i,l){return new Promise((h,m)=>{const v=new zle;v.listenOnce(Ule.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case RB.NO_ERROR:const T=v.getResponseJson();Et("Connection","XHR received:",JSON.stringify(T)),h(T);break;case RB.TIMEOUT:Et("Connection",'RPC "'+t+'" timed out'),m(new dt(ze.DEADLINE_EXCEEDED,"Request time out"));break;case RB.HTTP_ERROR:const M=v.getStatus();if(Et("Connection",'RPC "'+t+'" failed with status:',M,"response text:",v.getResponseText()),M>0){const F=v.getResponseJson().error;if(F&&F.status&&F.message){const V=function(K){const re=K.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(re)>=0?re:ze.UNKNOWN}(F.status);m(new dt(V,F.message))}else m(new dt(ze.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new dt(ze.UNAVAILABLE,"Connection failed."));break;default:cn()}}finally{Et("Connection",'RPC "'+t+'" completed.')}});const E=JSON.stringify(l);v.send(e,"POST",E,i,15)})}ji(t,e){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Vle(),h=Hle(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new jle({})),this.Ui(m.initMessageHeaders,e),(0,ie.uI)()||(0,ie.b$)()||(0,ie.d)()||(0,ie.w1)()||(0,ie.Mn)()||(0,ie.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Et("Connection","Creating WebChannel: "+v,m);const E=l.createWebChannel(v,m);let T=!1,M=!1;const F=new bce({vi:K=>{M?Et("Connection","Not sending because WebChannel is closed:",K):(T||(Et("Connection","Opening WebChannel transport."),E.open(),T=!0),Et("Connection","WebChannel sending:",K),E.send(K))},Vi:()=>E.close()}),V=(K,re,me)=>{K.listen(re,Pe=>{try{me(Pe)}catch(Je){setTimeout(()=>{throw Je},0)}})};return V(E,w1.EventType.OPEN,()=>{M||Et("Connection","WebChannel transport opened.")}),V(E,w1.EventType.CLOSE,()=>{M||(M=!0,Et("Connection","WebChannel transport closed"),F.$i())}),V(E,w1.EventType.ERROR,K=>{M||(M=!0,MI("Connection","WebChannel transport errored:",K),F.$i(new dt(ze.UNAVAILABLE,"The operation could not be completed")))}),V(E,w1.EventType.MESSAGE,K=>{var re;if(!M){const me=K.data[0];Mn(!!me);const Pe=me,Je=Pe.error||(null===(re=Pe[0])||void 0===re?void 0:re.error);if(Je){Et("Connection","WebChannel received error:",Je);const gt=Je.status;let Ut=function(ki){const Ur=$s[ki];if(void 0!==Ur)return h5(Ur)}(gt),Yt=Je.message;void 0===Ut&&(Ut=ze.INTERNAL,Yt="Unknown error status: "+gt+" with message "+Je.message),M=!0,F.$i(new dt(Ut,Yt)),E.close()}else Et("Connection","WebChannel received:",me),F.Oi(me)}}),V(h,Wle.STAT_EVENT,K=>{K.stat===OY.PROXY?Et("Connection","Detected buffering proxy"):K.stat===OY.NOPROXY&&Et("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.ki()},0),F}}function p8(){return"undefined"!=typeof window?window:null}function z1(){return"undefined"!=typeof document?document:null}function XI(n){return new xue(n,!0)}class gV{constructor(t,e,i=1e3,l=1.5,h=6e4){this.Oe=t,this.timerId=e,this.Qi=i,this.Wi=l,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),i=Math.max(0,Date.now()-this.Ji),l=Math.max(0,e-i);l>0&&Et("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class f8{constructor(t,e,i,l,h,m,v){this.Oe=t,this.er=i,this.nr=l,this.sr=h,this.credentialsProvider=m,this.listener=v,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new gV(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var t=this;return(0,Ve.Z)(function*(){t.ur()&&(yield t.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}_r(){var t=this;return(0,Ve.Z)(function*(){if(t.hr())return t.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var i=this;return(0,Ve.Z)(function*(){i.gr(),i.yr(),i.ar.cancel(),i.ir++,4!==t?i.ar.reset():e&&e.code===ze.RESOURCE_EXHAUSTED?(Ws(e.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),i.ar.Yi()):e&&e.code===ze.UNAUTHENTICATED&&3!==i.state&&i.credentialsProvider.invalidateToken(),null!==i.stream&&(i.pr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ci(e)})()}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(i=>{this.ir===e&&this.Er(i)},i=>{t(()=>{const l=new dt(ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ir(l)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(i=>{e(()=>this.Ir(i))}),this.stream.onMessage(i=>{e(()=>this.onMessage(i))})}lr(){var t=this;this.state=5,this.ar.Xi((0,Ve.Z)(function*(){t.state=0,t.start()}))}Ir(t){return Et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sce extends f8{constructor(t,e,i,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,h),this.N=l}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(E=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:cn(),l=t.targetChange.targetIds||[],h=function(E,T){return E.D?(Mn(void 0===T||"string"==typeof T),nl.fromBase64String(T||"")):(Mn(void 0===T||T instanceof Uint8Array),nl.fromUint8Array(T||new Uint8Array))}(n,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&function(E){const T=void 0===E.code?ze.UNKNOWN:h5(E.code);return new dt(T,E.message||"")}(m);e=new m5(i,l,h,v||null)}else if("documentChange"in t){const i=t.documentChange,l=zg(n,i.document.name),h=il(i.document.updateTime),m=new gu({mapValue:{fields:i.document.fields}}),v=_o.newFoundDocument(l,h,m);e=new F1(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const i=t.documentDelete,l=zg(n,i.document),h=i.readTime?il(i.readTime):si.min(),m=_o.newNoDocument(l,h);e=new F1([],i.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){const i=t.documentRemove,l=zg(n,i.document);e=new F1([],i.removedTargetIds||[],l,null)}else{if(!("filter"in t))return cn();{const i=t.filter,h=new wue(i.count||0);e=new g5(i.targetId,h)}}var E;return e}(this.N,t),i=function(l){if(!("targetChange"in l))return si.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?si.min():h.readTime?il(h.readTime):si.min()}(t);return this.listener.Rr(e,i)}br(t){const e={};e.database=qI(this.N),e.addTarget=function(l,h){let m;const v=h.target;return m=T1(v)?{documents:A5(l,v)}:{query:R5(l,v)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=C5(l,h.resumeToken):h.snapshotVersion.compareTo(si.min())>0&&(m.readTime=$I(l,h.snapshotVersion.toTimestamp())),m}(this.N,t);const i=function(n,t){const e=function(i,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cn()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.mr(e)}Pr(t){const e={};e.database=qI(this.N),e.removeTarget=t,this.mr(e)}}class Dce extends f8{constructor(t,e,i,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,h),this.N=l,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(Mn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(n,t){return n&&n.length>0?(Mn(void 0!==t),n.map(e=>function(i,l){let h=il(i.updateTime?i.updateTime:l);return h.isEqual(si.min())&&(h=il(l)),new yue(h,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=il(t.commitTime);return this.listener.Dr(i,e)}return Mn(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=qI(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>k1(this.N,i))};this.mr(e)}}class Tce extends class{}{constructor(t,e,i){super(),this.credentials=t,this.sr=e,this.N=i,this.kr=!1}$r(){if(this.kr)throw new dt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,i){return this.$r(),this.credentials.getToken().then(l=>this.sr.Li(t,e,i,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ze.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new dt(ze.UNKNOWN,l.toString())})}Ki(t,e,i){return this.$r(),this.credentials.getToken().then(l=>this.sr.Ki(t,e,i,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ze.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new dt(ze.UNKNOWN,l.toString())})}terminate(){this.kr=!0}}class Ace{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Ws(e),this.Mr=!1):Et("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Rce{constructor(t,e,i,l,h){var m=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=h,this.zr.Ti(v=>{i.enqueueAndForget((0,Ve.Z)(function*(){var E;$v(m)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Ve.Z)(function*(T){const M=Mt(T);M.Wr.add(4),yield HD(M),M.Hr.set("Unknown"),M.Wr.delete(4),yield ex(M)}),function(T){return E.apply(this,arguments)})(m))}))}),this.Hr=new Ace(i,l)}}function ex(n){return mV.apply(this,arguments)}function mV(){return(mV=(0,Ve.Z)(function*(n){if($v(n))for(const t of n.Gr)yield t(!0)})).apply(this,arguments)}function HD(n){return _V.apply(this,arguments)}function _V(){return(_V=(0,Ve.Z)(function*(n){for(const t of n.Gr)yield t(!1)})).apply(this,arguments)}function $1(n,t){const e=Mt(n);e.Qr.has(t.targetId)||(e.Qr.set(t.targetId,t),CV(e)?vV(e):WD(e).hr()&&yV(e,t))}function tx(n,t){const e=Mt(n),i=WD(e);e.Qr.delete(t),i.hr()&&g8(e,t),0===e.Qr.size&&(i.hr()?i.wr():$v(e)&&e.Hr.set("Unknown"))}function yV(n,t){n.Jr.Y(t.targetId),WD(n).br(t)}function g8(n,t){n.Jr.Y(t),WD(n).Pr(t)}function vV(n){n.Jr=new Aue({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>n.Qr.get(t)||null}),WD(n).start(),n.Hr.Lr()}function CV(n){return $v(n)&&!WD(n).ur()&&n.Qr.size>0}function $v(n){return 0===Mt(n).Wr.size}function m8(n){n.Jr=void 0}function Ice(n){return wV.apply(this,arguments)}function wV(){return(wV=(0,Ve.Z)(function*(n){n.Qr.forEach((t,e)=>{yV(n,t)})})).apply(this,arguments)}function xce(n,t){return bV.apply(this,arguments)}function bV(){return(bV=(0,Ve.Z)(function*(n,t){m8(n),CV(n)?(n.Hr.qr(t),vV(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function Oce(n,t,e){return EV.apply(this,arguments)}function EV(){return(EV=(0,Ve.Z)(function*(n,t,e){if(n.Hr.set("Online"),t instanceof m5&&2===t.state&&t.cause)try{yield(i=(0,Ve.Z)(function*(l,h){const m=h.cause;for(const v of h.targetIds)l.Qr.has(v)&&(yield l.remoteSyncer.rejectListen(v,m),l.Qr.delete(v),l.Jr.removeTarget(v))}),function(l,h){return i.apply(this,arguments)})(n,t)}catch(i){Et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Y1(n,i)}else if(t instanceof F1?n.Jr.rt(t):t instanceof g5?n.Jr.ft(t):n.Jr.at(t),!e.isEqual(si.min()))try{const i=yield o8(n.localStore);e.compareTo(i)>=0&&(yield function(l,h){const m=l.Jr._t(h);return m.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const T=l.Qr.get(E);T&&l.Qr.set(E,T.withResumeToken(v.resumeToken,h))}}),m.targetMismatches.forEach(v=>{const E=l.Qr.get(v);if(!E)return;l.Qr.set(v,E.withResumeToken(nl.EMPTY_BYTE_STRING,E.snapshotVersion)),g8(l,v);const T=new Uv(E.target,v,1,E.sequenceNumber);yV(l,T)}),l.remoteSyncer.applyRemoteEvent(m)}(n,e))}catch(i){Et("RemoteStore","Failed to raise snapshot:",i),yield Y1(n,i)}var i})).apply(this,arguments)}function Y1(n,t,e){return SV.apply(this,arguments)}function SV(){return(SV=(0,Ve.Z)(function*(n,t,e){if(!Kb(t))throw t;n.Wr.add(1),yield HD(n),n.Hr.set("Offline"),e||(e=()=>o8(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ve.Z)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield e(),n.Wr.delete(1),yield ex(n)}))})).apply(this,arguments)}function _8(n,t){return t().catch(e=>Y1(n,e,t))}function UD(n){return DV.apply(this,arguments)}function DV(){return(DV=(0,Ve.Z)(function*(n){const t=Mt(n),e=Yv(t);let i=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;Mce(t);)try{const l=yield uce(t.localStore,i);if(null===l){0===t.jr.length&&e.wr();break}i=l.batchId,Pce(t,l)}catch(l){yield Y1(t,l)}y8(t)&&v8(t)})).apply(this,arguments)}function Mce(n){return $v(n)&&n.jr.length<10}function Pce(n,t){n.jr.push(t);const e=Yv(n);e.hr()&&e.Vr&&e.Sr(t.mutations)}function y8(n){return $v(n)&&!Yv(n).ur()&&n.jr.length>0}function v8(n){Yv(n).start()}function Nce(n){return TV.apply(this,arguments)}function TV(){return(TV=(0,Ve.Z)(function*(n){Yv(n).Nr()})).apply(this,arguments)}function Fce(n){return AV.apply(this,arguments)}function AV(){return(AV=(0,Ve.Z)(function*(n){const t=Yv(n);for(const e of n.jr)t.Sr(e.mutations)})).apply(this,arguments)}function kce(n,t,e){return RV.apply(this,arguments)}function RV(){return(RV=(0,Ve.Z)(function*(n,t,e){const i=n.jr.shift(),l=YB.from(i,t,e);yield _8(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),yield UD(n)})).apply(this,arguments)}function Lce(n,t){return IV.apply(this,arguments)}function IV(){return(IV=(0,Ve.Z)(function*(n,t){var e;t&&Yv(n).Vr&&(yield(e=(0,Ve.Z)(function*(i,l){if(d5(h=l.code)&&h!==ze.ABORTED){const m=i.jr.shift();Yv(i).dr(),yield _8(i,()=>i.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield UD(i)}var h}),function(i,l){return e.apply(this,arguments)})(n,t)),y8(n)&&v8(n)})).apply(this,arguments)}function xV(n,t){return OV.apply(this,arguments)}function OV(){return(OV=(0,Ve.Z)(function*(n,t){const e=Mt(n);t?(e.Wr.delete(2),yield ex(e)):t||(e.Wr.add(2),yield HD(e),e.Hr.set("Unknown"))})).apply(this,arguments)}function WD(n){return n.Yr||(n.Yr=function(t,e,i){const l=Mt(t);return l.$r(),new Sce(e,l.sr,l.credentials,l.N,i)}(n.datastore,n.asyncQueue,{Si:Ice.bind(null,n),Ci:xce.bind(null,n),Rr:Oce.bind(null,n)}),n.Gr.push(function(){var t=(0,Ve.Z)(function*(e){e?(n.Yr.dr(),CV(n)?vV(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),m8(n))});return function(e){return t.apply(this,arguments)}}())),n.Yr}function Yv(n){return n.Xr||(n.Xr=function(t,e,i){const l=Mt(t);return l.$r(),new Dce(e,l.sr,l.credentials,l.N,i)}(n.datastore,n.asyncQueue,{Si:Nce.bind(null,n),Ci:Lce.bind(null,n),Cr:Fce.bind(null,n),Dr:kce.bind(null,n)}),n.Gr.push(function(){var t=(0,Ve.Z)(function*(e){e?(n.Xr.dr(),yield UD(n)):(yield n.Xr.stop(),n.jr.length>0&&(Et("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Xr}class MV{constructor(t,e,i,l,h){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=l,this.removalCallback=h,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(t,e,i,l,h){const m=Date.now()+i,v=new MV(t,e,m,l,h);return v.start(i),v}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(ze.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jD(n,t){if(Ws("AsyncQueue",`${t}: ${n}`),Kb(n))return new dt(ze.UNAVAILABLE,`${t}: ${n}`);throw n}class zD{constructor(t){this.comparator=t?(e,i)=>t(e,i)||sn.comparator(e.key,i.key):(e,i)=>sn.comparator(e.key,i.key),this.keyedMap=UB(),this.sortedSet=new wa(this.comparator)}static emptySet(t){return new zD(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zD)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=i.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new zD;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class C8{constructor(){this.Zr=new wa(sn.comparator)}track(t){const e=t.doc.key,i=this.Zr.get(e);i?0!==t.type&&3===i.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==i.type?this.Zr=this.Zr.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Zr=this.Zr.remove(e):1===t.type&&2===i.type?this.Zr=this.Zr.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):cn():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,i)=>{t.push(i)}),t}}class $D{constructor(t,e,i,l,h,m,v,E){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=E}static fromInitialDocuments(t,e,i,l){const h=[];return e.forEach(m=>{h.push({type:0,doc:m})}),new $D(t,e,zD.emptySet(e),h,i,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&BI(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let l=0;l<e.length;l++)if(e[l].type!==i[l].type||!e[l].doc.isEqual(i[l].doc))return!1;return!0}}class Gce{constructor(){this.no=void 0,this.listeners=[]}}class Bce{constructor(){this.queries=new GD(t=>KY(t),BI),this.onlineState="Unknown",this.so=new Set}}function PV(n,t){return NV.apply(this,arguments)}function NV(){return(NV=(0,Ve.Z)(function*(n,t){const e=Mt(n),i=t.query;let l=!1,h=e.queries.get(i);if(h||(l=!0,h=new Gce),l)try{h.no=yield e.onListen(i)}catch(m){const v=jD(m,`Initialization of query '${BB(t.query)}' failed`);return void t.onError(v)}e.queries.set(i,h),h.listeners.push(t),t.io(e.onlineState),h.no&&t.ro(h.no)&&LV(e)})).apply(this,arguments)}function FV(n,t){return kV.apply(this,arguments)}function kV(){return(kV=(0,Ve.Z)(function*(n,t){const e=Mt(n),i=t.query;let l=!1;const h=e.queries.get(i);if(h){const m=h.listeners.indexOf(t);m>=0&&(h.listeners.splice(m,1),l=0===h.listeners.length)}if(l)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function Vce(n,t){const e=Mt(n);let i=!1;for(const l of t){const m=e.queries.get(l.query);if(m){for(const v of m.listeners)v.ro(l)&&(i=!0);m.no=l}}i&&LV(e)}function Hce(n,t,e){const i=Mt(n),l=i.queries.get(t);if(l)for(const h of l.listeners)h.onError(e);i.queries.delete(t)}function LV(n){n.so.forEach(t=>{t.next()})}class GV{constructor(t,e,i){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=i||{}}ro(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)3!==l.type&&i.push(l);t=new $D(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=$D.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class Uce{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class w8{constructor(t){this.N=t}zn(t){return zg(this.N,t)}Hn(t){return t.metadata.exists?D5(this.N,t.document,!1):_o.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return il(t)}}class Wce{constructor(t,e,i){this._o=t,this.localStore=e,this.N=i,this.queries=[],this.documents=[],this.progress=b8(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,i=new w8(this.N);for(const l of t)if(l.metadata.queries){const h=i.zn(l.metadata.name);for(const m of l.metadata.queries){const v=(e.get(m)||yr()).add(h);e.set(m,v)}}return e}complete(){var t=this;return(0,Ve.Z)(function*(){const e=yield function(n,t,e,i){return aV.apply(this,arguments)}(t.localStore,new w8(t.N),t.documents,t._o.id),i=t.yo(t.documents);for(const l of t.queries)yield hce(t.localStore,l,i.get(l.name));return t.progress.taskState="Success",new oce(Object.assign({},t.progress),e)})()}}function b8(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class E8{constructor(t){this.key=t}}class S8{constructor(t){this.key=t}}class D8{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=yr(),this.mutatedKeys=yr(),this.Io=QY(t),this.Ao=new zD(this.Io)}get Ro(){return this.po}bo(t,e){const i=e?e.Po:new C8,l=e?e.Ao:this.Ao;let h=e?e.mutatedKeys:this.mutatedKeys,m=l,v=!1;const E=R1(this.query)&&l.size===this.query.limit?l.last():null,T=I1(this.query)&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((M,F)=>{const V=l.get(M),K=VI(this.query,F)?F:null,re=!!V&&this.mutatedKeys.has(V.key),me=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Pe=!1;V&&K?V.data.isEqual(K.data)?re!==me&&(i.track({type:3,doc:K}),Pe=!0):this.vo(V,K)||(i.track({type:2,doc:K}),Pe=!0,(E&&this.Io(K,E)>0||T&&this.Io(K,T)<0)&&(v=!0)):!V&&K?(i.track({type:0,doc:K}),Pe=!0):V&&!K&&(i.track({type:1,doc:V}),Pe=!0,(E||T)&&(v=!0)),Pe&&(K?(m=m.add(K),h=me?h.add(M):h.delete(M)):(m=m.delete(M),h=h.delete(M)))}),R1(this.query)||I1(this.query))for(;m.size>this.query.limit;){const M=R1(this.query)?m.last():m.first();m=m.delete(M.key),h=h.delete(M.key),i.track({type:1,doc:M})}return{Ao:m,Po:i,Ln:v,mutatedKeys:h}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const l=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const h=t.Po.eo();h.sort((T,M)=>function(F,V){const K=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cn()}};return K(F)-K(V)}(T.type,M.type)||this.Io(T.doc,M.doc)),this.Vo(i);const m=e?this.So():[],v=0===this.Eo.size&&this.current?1:0,E=v!==this.To;return this.To=v,0!==h.length||E?{snapshot:new $D(this.query,t.Ao,l,h,t.mutatedKeys,0===v,E,!1),Do:m}:{Do:m}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new C8,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(e=>this.po=this.po.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=yr(),this.Ao.forEach(i=>{this.Co(i.key)&&(this.Eo=this.Eo.add(i.key))});const e=[];return t.forEach(i=>{this.Eo.has(i)||e.push(new S8(i))}),this.Eo.forEach(i=>{t.has(i)||e.push(new E8(i))}),e}No(t){this.po=t.Gn,this.Eo=yr();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return $D.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class jce{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zce{constructor(t){this.key=t,this.ko=!1}}class $ce{constructor(t,e,i,l,h,m){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.$o={},this.Oo=new GD(v=>KY(v),BI),this.Fo=new Map,this.Mo=new Set,this.Lo=new wa(sn.comparator),this.Bo=new Map,this.Uo=new uV,this.qo={},this.Ko=new Map,this.jo=Jb.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Yce(n,t){return BV.apply(this,arguments)}function BV(){return(BV=(0,Ve.Z)(function*(n,t){const e=lH(n);let i,l;const h=e.Oo.get(t);if(h)i=h.targetId,e.sharedClientState.addLocalQueryTarget(i),l=h.view.xo();else{const m=yield BD(e.localStore,Jh(t)),v=e.sharedClientState.addLocalQueryTarget(m.targetId);i=m.targetId,l=yield VV(e,t,i,"current"===v),e.isPrimaryClient&&$1(e.remoteStore,m)}return l})).apply(this,arguments)}function VV(n,t,e,i){return HV.apply(this,arguments)}function HV(){return(HV=(0,Ve.Z)(function*(n,t,e,i){n.Wo=(M,F,V)=>{return(K=(0,Ve.Z)(function*(re,me,Pe,Je){let gt=me.view.bo(Pe);gt.Ln&&(gt=yield U1(re.localStore,me.query,!1).then(({documents:ki})=>me.view.bo(ki,gt)));const Ut=Je&&Je.targetChanges.get(me.targetId),Yt=me.view.applyChanges(gt,re.isPrimaryClient,Ut);return QV(re,me.targetId,Yt.Do),Yt.snapshot}),function(re,me,Pe,Je){return K.apply(this,arguments)})(n,M,F,V);var K};const l=yield U1(n.localStore,t,!0),h=new D8(t,l.Gn),m=h.bo(l.documents),v=zI.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),E=h.applyChanges(m,n.isPrimaryClient,v);QV(n,e,E.Do);const T=new jce(t,e,h);return n.Oo.set(t,T),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),E.snapshot})).apply(this,arguments)}function qce(n,t){return UV.apply(this,arguments)}function UV(){return(UV=(0,Ve.Z)(function*(n,t){const e=Mt(n),i=e.Oo.get(t),l=e.Fo.get(i.targetId);if(l.length>1)return e.Fo.set(i.targetId,l.filter(h=>!BI(h,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield VD(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),tx(e.remoteStore,i.targetId),YD(e,i.targetId)}).catch(Xb))):(YD(e,i.targetId),yield VD(e.localStore,i.targetId,!0))})).apply(this,arguments)}function WV(){return(WV=(0,Ve.Z)(function*(n,t,e){const i=uH(n);try{const l=yield function(h,m){const v=Mt(h),E=tl.now(),T=m.reduce((F,V)=>F.add(V.key),yr());let M;return v.persistence.runTransaction("Locally write mutations","readwrite",F=>v.Qn.Pn(F,T).next(V=>{M=V;const K=[];for(const re of m){const me=Cue(re,M.get(re.key));null!=me&&K.push(new Vv(re.key,me,WY(me.value.mapValue),zs.exists(!0)))}return v.In.addMutationBatch(F,E,K,m)})).then(F=>(F.applyToLocalDocumentSet(M),{batchId:F.batchId,changes:M}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,v){let E=h.qo[h.currentUser.toKey()];E||(E=new wa(xi)),E=E.insert(m,v),h.qo[h.currentUser.toKey()]=E}(i,l.batchId,e),yield H_(i,l.changes),yield UD(i.remoteStore)}catch(l){const h=jD(l,"Failed to persist write");e.reject(h)}})).apply(this,arguments)}function T8(n,t){return jV.apply(this,arguments)}function jV(){return(jV=(0,Ve.Z)(function*(n,t){const e=Mt(n);try{const i=yield lce(e.localStore,t);t.targetChanges.forEach((l,h)=>{const m=e.Bo.get(h);m&&(Mn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.ko=!0:l.modifiedDocuments.size>0?Mn(m.ko):l.removedDocuments.size>0&&(Mn(m.ko),m.ko=!1))}),yield H_(e,i,t)}catch(i){yield Xb(i)}})).apply(this,arguments)}function A8(n,t,e){const i=Mt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const l=[];i.Oo.forEach((h,m)=>{const v=m.view.io(t);v.snapshot&&l.push(v.snapshot)}),function(h,m){const v=Mt(h);v.onlineState=m;let E=!1;v.queries.forEach((T,M)=>{for(const F of M.listeners)F.io(m)&&(E=!0)}),E&&LV(v)}(i.eventManager,t),l.length&&i.$o.Rr(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Kce(n,t,e){return zV.apply(this,arguments)}function zV(){return(zV=(0,Ve.Z)(function*(n,t,e){const i=Mt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const l=i.Bo.get(t),h=l&&l.key;if(h){let m=new wa(sn.comparator);m=m.insert(h,_o.newNoDocument(h,si.min()));const v=yr().add(h),E=new jI(si.min(),new Map,new es(xi),m,v);yield T8(i,E),i.Lo=i.Lo.remove(h),i.Bo.delete(t),JV(i)}else yield VD(i.localStore,t,!1).then(()=>YD(i,t,e)).catch(Xb)})).apply(this,arguments)}function Qce(n,t){return $V.apply(this,arguments)}function $V(){return($V=(0,Ve.Z)(function*(n,t){const e=Mt(n),i=t.batch.batchId;try{const l=yield ace(e.localStore,t);KV(e,i,null),ZV(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield H_(e,l)}catch(l){yield Xb(l)}})).apply(this,arguments)}function Jce(n,t,e){return YV.apply(this,arguments)}function YV(){return(YV=(0,Ve.Z)(function*(n,t,e){const i=Mt(n);try{const l=yield function(h,m){const v=Mt(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return v.In.lookupMutationBatch(E,m).next(M=>(Mn(null!==M),T=M.keys(),v.In.removeMutationBatch(E,M))).next(()=>v.In.performConsistencyCheck(E)).next(()=>v.Qn.Pn(E,T))})}(i.localStore,t);KV(i,t,e),ZV(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield H_(i,l)}catch(l){yield Xb(l)}})).apply(this,arguments)}function qV(){return(qV=(0,Ve.Z)(function*(n,t){const e=Mt(n);$v(e.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(h){const m=Mt(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>m.In.getHighestUnacknowledgedBatchId(v))}(e.localStore);if(-1===i)return void t.resolve();const l=e.Ko.get(i)||[];l.push(t),e.Ko.set(i,l)}catch(i){const l=jD(i,"Initialization of waitForPendingWrites() operation failed");t.reject(l)}})).apply(this,arguments)}function ZV(n,t){(n.Ko.get(t)||[]).forEach(e=>{e.resolve()}),n.Ko.delete(t)}function KV(n,t,e){const i=Mt(n);let l=i.qo[i.currentUser.toKey()];if(l){const h=l.get(t);h&&(e?h.reject(e):h.resolve(),l=l.remove(t)),i.qo[i.currentUser.toKey()]=l}}function YD(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Oo.delete(i),e&&n.$o.Go(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.Uo.cs(t).forEach(i=>{n.Uo.containsKey(i)||R8(n,i)})}function R8(n,t){n.Mo.delete(t.path.canonicalString());const e=n.Lo.get(t);null!==e&&(tx(n.remoteStore,e),n.Lo=n.Lo.remove(t),n.Bo.delete(e),JV(n))}function QV(n,t,e){for(const i of e)i instanceof E8?(n.Uo.addReference(i.key,t),ede(n,i)):i instanceof S8?(Et("SyncEngine","Document no longer in limbo: "+i.key),n.Uo.removeReference(i.key,t),n.Uo.containsKey(i.key)||R8(n,i.key)):cn()}function ede(n,t){const e=t.key,i=e.path.canonicalString();n.Lo.get(e)||n.Mo.has(i)||(Et("SyncEngine","New document in limbo: "+e),n.Mo.add(i),JV(n))}function JV(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const t=n.Mo.values().next().value;n.Mo.delete(t);const e=new sn(tr.fromString(t)),i=n.jo.next();n.Bo.set(i,new zce(e)),n.Lo=n.Lo.insert(e,i),$1(n.remoteStore,new Uv(Jh(DD(e.path)),i,2,zd.T))}}function H_(n,t,e){return XV.apply(this,arguments)}function XV(){return(XV=(0,Ve.Z)(function*(n,t,e){const i=Mt(n),l=[],h=[],m=[];var v;i.Oo.isEmpty()||(i.Oo.forEach((v,E)=>{m.push(i.Wo(E,t,e).then(T=>{if(T){i.isPrimaryClient&&i.sharedClientState.updateQueryState(E.targetId,T.fromCache?"not-current":"current"),l.push(T);const M=iV.kn(E.targetId,T);h.push(M)}}))}),yield Promise.all(m),i.$o.Rr(l),yield(v=(0,Ve.Z)(function*(E,T){const M=Mt(E);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>ct.forEach(T,V=>ct.forEach(V.Nn,K=>M.persistence.referenceDelegate.addReference(F,V.targetId,K)).next(()=>ct.forEach(V.xn,K=>M.persistence.referenceDelegate.removeReference(F,V.targetId,K)))))}catch(F){if(!Kb(F))throw F;Et("LocalStore","Failed to update sequence numbers: "+F)}for(const F of T){const V=F.targetId;if(!F.fromCache){const K=M.Un.get(V),me=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);M.Un=M.Un.insert(V,me)}}}),function(E,T){return v.apply(this,arguments)})(i.localStore,h))})).apply(this,arguments)}function tde(n,t){return eH.apply(this,arguments)}function eH(){return(eH=(0,Ve.Z)(function*(n,t){const e=Mt(n);if(!e.currentUser.isEqual(t)){Et("SyncEngine","User change. New user:",t.toKey());const i=yield r8(e.localStore,t);e.currentUser=t,(l=e).Ko.forEach(m=>{m.forEach(v=>{v.reject(new dt(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ko.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield H_(e,i.Wn)}var l})).apply(this,arguments)}function nde(n,t){const e=Mt(n),i=e.Bo.get(t);if(i&&i.ko)return yr().add(i.key);{let l=yr();const h=e.Fo.get(t);if(!h)return l;for(const m of h){const v=e.Oo.get(m);l=l.unionWith(v.view.Ro)}return l}}function ide(n,t){return tH.apply(this,arguments)}function tH(){return(tH=(0,Ve.Z)(function*(n,t){const e=Mt(n),i=yield U1(e.localStore,t.query,!0),l=t.view.No(i);return e.isPrimaryClient&&QV(e,t.targetId,l.Do),l})).apply(this,arguments)}function rde(n){return nH.apply(this,arguments)}function nH(){return(nH=(0,Ve.Z)(function*(n){const t=Mt(n);return l8(t.localStore).then(e=>H_(t,e))})).apply(this,arguments)}function ode(n,t,e,i){return iH.apply(this,arguments)}function iH(){return(iH=(0,Ve.Z)(function*(n,t,e,i){const l=Mt(n),h=yield function(m,v){const E=Mt(m),T=Mt(E.In);return E.persistence.runTransaction("Lookup mutation documents","readonly",M=>T.Xt(M,v).next(F=>F?E.Qn.Pn(M,F):ct.resolve(null)))}(l.localStore,t);var v;null!==h?("pending"===e?yield UD(l.remoteStore):"acknowledged"===e||"rejected"===e?(KV(l,t,i||null),ZV(l,t),v=t,Mt(Mt(l.localStore).In).te(v)):cn(),yield H_(l,h)):Et("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function rH(){return(rH=(0,Ve.Z)(function*(n,t){const e=Mt(n);if(lH(e),uH(e),!0===t&&!0!==e.Qo){const i=e.sharedClientState.getAllActiveQueryTargets(),l=yield I8(e,i.toArray());e.Qo=!0,yield xV(e.remoteStore,!0);for(const h of l)$1(e.remoteStore,h)}else if(!1===t&&!1!==e.Qo){const i=[];let l=Promise.resolve();e.Fo.forEach((h,m)=>{e.sharedClientState.isLocalQueryTarget(m)?i.push(m):l=l.then(()=>(YD(e,m),VD(e.localStore,m,!0))),tx(e.remoteStore,m)}),yield l,yield I8(e,i),function(h){const m=Mt(h);m.Bo.forEach((v,E)=>{tx(m.remoteStore,E)}),m.Uo.us(),m.Bo=new Map,m.Lo=new wa(sn.comparator)}(e),e.Qo=!1,yield xV(e.remoteStore,!1)}})).apply(this,arguments)}function I8(n,t,e){return oH.apply(this,arguments)}function oH(){return(oH=(0,Ve.Z)(function*(n,t,e){const i=Mt(n),l=[],h=[];for(const m of t){let v;const E=i.Fo.get(m);if(E&&0!==E.length){v=yield BD(i.localStore,Jh(E[0]));for(const T of E){const M=i.Oo.get(T),F=yield ide(i,M);F.snapshot&&h.push(F.snapshot)}}else{const T=yield a8(i.localStore,m);v=yield BD(i.localStore,T),yield VV(i,x8(T),m,!1)}l.push(v)}return i.$o.Rr(h),l})).apply(this,arguments)}function x8(n){return qY(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ade(n){const t=Mt(n);return Mt(Mt(t.localStore).persistence).pn()}function lde(n,t,e,i){return sH.apply(this,arguments)}function sH(){return(sH=(0,Ve.Z)(function*(n,t,e,i){const l=Mt(n);if(l.Qo)Et("SyncEngine","Ignoring unexpected query state notification.");else if(l.Fo.has(t))switch(e){case"current":case"not-current":{const h=yield l8(l.localStore),m=jI.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield H_(l,h,m);break}case"rejected":yield VD(l.localStore,t,!0),YD(l,t,i);break;default:cn()}})).apply(this,arguments)}function ude(n,t,e){return aH.apply(this,arguments)}function aH(){return(aH=(0,Ve.Z)(function*(n,t,e){const i=lH(n);if(i.Qo){for(const l of t){if(i.Fo.has(l)){Et("SyncEngine","Adding an already active target "+l);continue}const h=yield a8(i.localStore,l),m=yield BD(i.localStore,h);yield VV(i,x8(h),m.targetId,!1),$1(i.remoteStore,m)}for(const l of e)i.Fo.has(l)&&(yield VD(i.localStore,l,!1).then(()=>{tx(i.remoteStore,l),YD(i,l)}).catch(Xb))}})).apply(this,arguments)}function lH(n){const t=Mt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=T8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nde.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kce.bind(null,t),t.$o.Rr=Vce.bind(null,t.eventManager),t.$o.Go=Hce.bind(null,t.eventManager),t}function uH(n){const t=Mt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qce.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jce.bind(null,t),t}class O8{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ve.Z)(function*(){e.N=XI(t.databaseInfo.databaseId),e.sharedClientState=e.Ho(t),e.persistence=e.Jo(t),yield e.persistence.start(),e.gcScheduler=e.Yo(t),e.localStore=e.Xo(t)})()}Yo(t){return null}Xo(t){return i8(this.persistence,new n8,t.initialUser,this.N)}Jo(t){return new yce(cV.Ns,this.N)}Ho(t){return new d8}terminate(){var t=this;return(0,Ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class M8 extends O8{constructor(t,e,i){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ve.Z)(function*(){yield e().call(i,t),yield function(n){return sV.apply(this,arguments)}(i.localStore),yield i.Zo.initialize(i,t),yield uH(i.Zo.syncEngine),yield UD(i.Zo.remoteStore),yield i.persistence.nn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Xo(t){return i8(this.persistence,new n8,t.initialUser,this.N)}Yo(t){return new Xue(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=nV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?td.withCacheSize(this.cacheSizeBytes):td.DEFAULT;return new tV(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,p8(),z1(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new d8}}class dde extends M8{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ve.Z)(function*(){yield e().call(i,t);const l=i.Zo.syncEngine;i.sharedClientState instanceof fV&&(i.sharedClientState.syncEngine={_i:ode.bind(null,l),mi:lde.bind(null,l),gi:ude.bind(null,l),pn:ade.bind(null,l),wi:rde.bind(null,l)},yield i.sharedClientState.start()),yield i.persistence.nn(function(){var h=(0,Ve.Z)(function*(m){yield function(n,t){return rH.apply(this,arguments)}(i.Zo.syncEngine,m),i.gcScheduler&&(m&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):m||i.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Ho(t){const e=p8();if(!fV.bt(e))throw new dt(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=nV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new fV(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class cH{initialize(t,e){var i=this;return(0,Ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=l=>A8(i.syncEngine,l,1),i.remoteStore.remoteSyncer.handleCredentialChange=tde.bind(null,i.syncEngine),yield xV(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Bce}createDatastore(t){const e=XI(t.databaseInfo.databaseId),i=new Ece(t.databaseInfo);return new Tce(t.credentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,l=t.asyncQueue,h=v=>A8(this.syncEngine,v,0),m=h8.bt()?new h8:new Cce,new Rce(e,i,l,h,m);var e,i,l,h,m}createSyncEngine(t,e){return function(i,l,h,m,v,E,T){const M=new $ce(i,l,h,m,v,E);return T&&(M.Qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ve.Z)(function*(e){const i=Mt(e);Et("RemoteStore","RemoteStore shutting down."),i.Wr.add(5),yield HD(i),i.zr.shutdown(),i.Hr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function P8(n,t=10240){let e=0;return{read:()=>(0,Ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class q1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class hde{constructor(t,e){this.nc=t,this.N=e,this.metadata=new el,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(i=>{i&&i.wo()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.nc.cancel()}getMetadata(){var t=this;return(0,Ve.Z)(function*(){return t.metadata.promise})()}zo(){var t=this;return(0,Ve.Z)(function*(){return yield t.getMetadata(),t.ic()})()}ic(){var t=this;return(0,Ve.Z)(function*(){const e=yield t.rc();if(null===e)return null;const i=t.sc.decode(e),l=Number(i);isNaN(l)&&t.oc(`length string (${i}) is not valid number`);const h=yield t.cc(l);return new Uce(JSON.parse(h),e.length+l)})()}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}rc(){var t=this;return(0,Ve.Z)(function*(){for(;t.ac()<0&&!(yield t.uc()););if(0===t.buffer.length)return null;const e=t.ac();e<0&&t.oc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}cc(t){var e=this;return(0,Ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.uc())&&e.oc("Reached the end of bundle when more is expected.");const i=e.sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}uc(){var t=this;return(0,Ve.Z)(function*(){const e=yield t.nc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class pde{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new dt(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(l=(0,Ve.Z)(function*(h,m){const v=Mt(h),E=qI(v.N)+"/documents",T={documents:m.map(K=>YI(v.N,K))},M=yield v.Ki("BatchGetDocuments",E,T),F=new Map;M.forEach(K=>{const re=function(n,t){return"found"in t?function(e,i){Mn(!!i.found);const l=zg(e,i.found.name),h=il(i.found.updateTime),m=new gu({mapValue:{fields:i.found.fields}});return _o.newFoundDocument(l,h,m)}(n,t):"missing"in t?function(e,i){Mn(!!i.missing),Mn(!!i.readTime);const l=zg(e,i.missing),h=il(i.readTime);return _o.newNoDocument(l,h)}(n,t):cn()}(v.N,K);F.set(re.key.toString(),re)});const V=[];return m.forEach(K=>{const re=F.get(K.toString());Mn(!!re),V.push(re)}),V}),function(h,m){return l.apply(this,arguments)})(e.datastore,t);var l;return i.forEach(l=>e.recordVersion(l)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new WI(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,l)=>{const h=sn.fromPath(l);t.mutations.push(new HB(h,t.precondition(h)))}),yield(i=(0,Ve.Z)(function*(l,h){const m=Mt(l),v=qI(m.N)+"/documents",E={writes:h.map(T=>k1(m.N,T))};yield m.Li("Commit",v,E)}),function(l,h){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw cn();e=si.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new dt(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?zs.updateTime(e):zs.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(si.min()))throw new dt(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zs.updateTime(e)}return zs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class fde{constructor(t,e,i,l){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=l,this.hc=5,this.ar=new gV(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var t=this;this.ar.Xi((0,Ve.Z)(function*(){const e=new pde(t.datastore),i=t.fc(e);i&&i.then(l=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(l)}).catch(h=>{t.dc(h)}))}).catch(l=>{t.dc(l)})}))}fc(t){try{const e=this.updateFunction(t);return!zb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!d5(e)}return!1}}class gde{constructor(t,e,i){var l=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=i,this.user=Ol.UNAUTHENTICATED,this.clientId=NY.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var h=(0,Ve.Z)(function*(m){Et("FirestoreClient","Received user=",m.uid),yield l.credentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,Ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(i){const l=jD(i,"Failed to shutdown persistence");e.reject(l)}})),e.promise}}function N8(n,t){return dH.apply(this,arguments)}function dH(){return(dH=(0,Ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var l=(0,Ve.Z)(function*(h){i.isEqual(h)||(yield r8(t.localStore,h),i=h)});return function(h){return l.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function F8(n,t){return hH.apply(this,arguments)}function hH(){return(hH=(0,Ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield pH(n);Et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(l=>{return(h=(0,Ve.Z)(function*(m,v){const E=Mt(m);E.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const T=$v(E);E.Wr.add(3),yield HD(E),T&&E.Hr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(v),E.Wr.delete(3),yield ex(E)}),function(m,v){return h.apply(this,arguments)})(t.remoteStore,l);var h}),n.onlineComponents=t})).apply(this,arguments)}function pH(n){return fH.apply(this,arguments)}function fH(){return(fH=(0,Ve.Z)(function*(n){return n.offlineComponents||(Et("FirestoreClient","Using default OfflineComponentProvider"),yield N8(n,new O8)),n.offlineComponents})).apply(this,arguments)}function Z1(n){return gH.apply(this,arguments)}function gH(){return(gH=(0,Ve.Z)(function*(n){return n.onlineComponents||(Et("FirestoreClient","Using default OnlineComponentProvider"),yield F8(n,new cH)),n.onlineComponents})).apply(this,arguments)}function k8(n){return pH(n).then(t=>t.persistence)}function mH(n){return pH(n).then(t=>t.localStore)}function L8(n){return Z1(n).then(t=>t.remoteStore)}function _H(n){return Z1(n).then(t=>t.syncEngine)}function qD(n){return yH.apply(this,arguments)}function yH(){return(yH=(0,Ve.Z)(function*(n){const t=yield Z1(n),e=t.eventManager;return e.onListen=Yce.bind(null,t.syncEngine),e.onUnlisten=qce.bind(null,t.syncEngine),e})).apply(this,arguments)}function G8(n,t,e={}){const i=new el;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(l,h,m,v,E){const T=new q1({next:F=>{h.enqueueAndForget(()=>FV(l,M));const V=F.docs.has(m);!V&&F.fromCache?E.reject(new dt(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&F.fromCache&&v&&"server"===v.source?E.reject(new dt(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(F)},error:F=>E.reject(F)}),M=new GV(DD(m.path),T,{includeMetadataChanges:!0,fo:!0});return PV(l,M)}(yield qD(n),n.asyncQueue,t,e,i)})),i.promise}function B8(n,t,e={}){const i=new el;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(l,h,m,v,E){const T=new q1({next:F=>{h.enqueueAndForget(()=>FV(l,M)),F.fromCache&&"server"===v.source?E.reject(new dt(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(F)},error:F=>E.reject(F)}),M=new GV(m,T,{includeMetadataChanges:!0,fo:!0});return PV(l,M)}(yield qD(n),n.asyncQueue,t,e,i)})),i.promise}class Sde{constructor(t,e,i,l,h,m,v,E){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.useFetchStreams=E}}class ZD{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ZD&&t.projectId===this.projectId&&t.database===this.database}}const V8=new Map;function vH(n,t,e){if(!e)throw new dt(ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function H8(n,t,e,i){if(!0===t&&!0===i)throw new dt(ze.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function U8(n){if(!sn.isDocumentKey(n))throw new dt(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W8(n){if(sn.isDocumentKey(n))throw new dt(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function K1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":cn()}function Fi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=K1(n);throw new dt(ze.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function j8(n,t){if(t<=0)throw new dt(ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class z8{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new dt(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dt(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,H8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nx{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z8({}),this._settingsFrozen=!1,t instanceof ZD?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new dt(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ZD(i.options.projectId)}(t))}get app(){if(!this._app)throw new dt(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new dt(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z8(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new qle;switch(e.type){case"gapi":const i=e.client;return Mn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Jle(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new dt(ze.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=V8.get(t);e&&(Et("ComponentProvider","Removing Datastore"),V8.delete(t),e.terminate())}(this),Promise.resolve()}}class eo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new eo(this.firestore,t,this._key)}}class _u{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _u(this.firestore,t,this._query)}}class Yg extends _u{constructor(t,e,i){super(t,e,DD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new eo(this.firestore,null,new sn(t))}withConverter(t){return new Yg(this.firestore,t,this._path)}}function $8(n,t,...e){if(n=(0,ie.m9)(n),vH("collection","path",t),n instanceof nx){const i=tr.fromString(t,...e);return W8(i),new Yg(n,null,i)}{if(!(n instanceof eo||n instanceof Yg))throw new dt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tr.fromString(t,...e));return W8(i),new Yg(n.firestore,null,i)}}function Q1(n,t,...e){if(n=(0,ie.m9)(n),1===arguments.length&&(t=NY.I()),vH("doc","path",t),n instanceof nx){const i=tr.fromString(t,...e);return U8(i),new eo(n,null,new sn(i))}{if(!(n instanceof eo||n instanceof Yg))throw new dt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tr.fromString(t,...e));return U8(i),new eo(n.firestore,n instanceof Yg?n.converter:null,new sn(i))}}function Y8(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),(n instanceof eo||n instanceof Yg)&&(t instanceof eo||t instanceof Yg)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function q8(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),n instanceof _u&&t instanceof _u&&n.firestore===t.firestore&&BI(n._query,t._query)&&n.converter===t.converter}class Ade{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new gV(this,"async_queue_retry"),this.Rc=()=>{const e=z1();e&&Et("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const t=z1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=z1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new el;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}vc(){var t=this;return(0,Ve.Z)(function*(){if(0!==t.mc.length){try{yield t.mc[0](),t.mc.shift(),t.ar.reset()}catch(e){if(!Kb(e))throw e;Et("AsyncQueue","Operation failed with retryable error: "+e)}t.mc.length>0&&t.ar.Xi(()=>t.vc())}})()}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(i=>{throw this.Tc=i,this.Ec=!1,Ws("INTERNAL UNHANDLED ERROR: ",function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),m}(i)),i}).then(i=>(this.Ec=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const l=MV.createAndSchedule(this,t,e,i,h=>this.Vc(h));return this.yc.push(l),l}bc(){this.Tc&&cn()}verifyOperationInProgress(){}Sc(){var t=this;return(0,Ve.Z)(function*(){let e;do{e=t._c,yield e}while(e!==t._c)})()}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function CH(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const l of["next","error","complete"])if(l in i&&"function"==typeof i[l])return!0;return!1}(n)}class Rde{constructor(){this._progressObserver={},this._taskCompletionResolver=new el,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Mo extends nx{constructor(t,e){super(t,e),this.type="firestore",this._queue=new Ade,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Z8(this),this._firestoreClient.terminate()}}function ba(n){return n._firestoreClient||Z8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z8(n){var t;const e=n._freezeSettings(),i=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Sde(n._databaseId,h,n._persistenceKey,(v=e).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var h,v;n._firestoreClient=new gde(n._credentials,n._queue,i)}function K8(n,t,e){const i=new el;return n.asyncQueue.enqueue((0,Ve.Z)(function*(){try{yield N8(n,e),yield F8(n,t),i.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===ze.FAILED_PRECONDITION||h.code===ze.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),i.reject(l)}var h})).then(()=>i.promise)}function Q8(n){if(n._initialized||n._terminated)throw new dt(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class U_{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new dt(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ml(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qg(nl.fromBase64String(t))}catch(e){throw new dt(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qg(nl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class eE{constructor(t){this._methodName=t}}class J1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xi(this._lat,t._lat)||xi(this._long,t._long)}}const Gde=/^__.*__$/;class Bde{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Vv(t,this.data,this.fieldMask,e,this.fieldTransforms):new UI(t,this.data,e,this.fieldTransforms)}}class J8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Vv(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function X8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cn()}}class X1{constructor(t,e,i,l,h,m){this.settings=t,this.databaseId=e,this.N=i,this.ignoreUndefinedProperties=l,void 0===h&&this.xc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new X1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),l=this.$c({path:i,Fc:!1});return l.Mc(t),l}Lc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),l=this.$c({path:i,Fc:!1});return l.xc(),l}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return tN(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(X8(this.kc)&&Gde.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class Vde{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=i||XI(t)}jc(t,e,i,l=!1){return new X1({kc:t,methodName:e,Kc:i,path:Ml.emptyPath(),Fc:!1,qc:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function tE(n){const t=n._freezeSettings(),e=XI(n._databaseId);return new Vde(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eN(n,t,e,i,l,h={}){const m=n.jc(h.merge||h.mergeFields?2:0,t,e,l);SH("Data must be an object, but it was:",m,i);const v=nq(i,m);let E,T;if(h.merge)E=new wD(m.fieldMask),T=m.fieldTransforms;else if(h.mergeFields){const M=[];for(const F of h.mergeFields){const V=DH(t,F,e);if(!m.contains(V))throw new dt(ze.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);rq(M,V)||M.push(V)}E=new wD(M),T=m.fieldTransforms.filter(F=>E.covers(F.field))}else E=null,T=m.fieldTransforms;return new Bde(new gu(v),E,T)}class ix extends eE{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ix}}function eq(n,t,e){return new X1({kc:3,Kc:t.settings.Kc,methodName:n._methodName,Fc:e},t.databaseId,t.N,t.ignoreUndefinedProperties)}class wH extends eE{_toFieldTransform(t){return new HI(t.path,new AD)}isEqual(t){return t instanceof wH}}class Hde extends eE{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=eq(this,t,!0),i=this.Qc.map(h=>nE(h,e)),l=new Yb(i);return new HI(t.path,l)}isEqual(t){return this===t}}class Ude extends eE{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=eq(this,t,!0),i=this.Qc.map(h=>nE(h,e)),l=new qb(i);return new HI(t.path,l)}isEqual(t){return this===t}}class Wde extends eE{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new RD(t.N,e5(t.N,this.Wc));return new HI(t.path,e)}isEqual(t){return this===t}}function bH(n,t,e,i){const l=n.jc(1,t,e);SH("Data must be an object, but it was:",l,i);const h=[],m=gu.empty();jb(i,(E,T)=>{const M=TH(t,E,e);T=(0,ie.m9)(T);const F=l.Lc(M);if(T instanceof ix)h.push(M);else{const V=nE(T,F);null!=V&&(h.push(M),m.set(M,V))}});const v=new wD(h);return new J8(m,v,l.fieldTransforms)}function EH(n,t,e,i,l,h){const m=n.jc(1,t,e),v=[DH(t,i,e)],E=[l];if(h.length%2!=0)throw new dt(ze.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)v.push(DH(t,h[V])),E.push(h[V+1]);const T=[],M=gu.empty();for(let V=v.length-1;V>=0;--V)if(!rq(T,v[V])){const K=v[V];let re=E[V];re=(0,ie.m9)(re);const me=m.Lc(K);if(re instanceof ix)T.push(K);else{const Pe=nE(re,me);null!=Pe&&(T.push(K),M.set(K,Pe))}}const F=new wD(T);return new J8(M,F,m.fieldTransforms)}function tq(n,t,e,i=!1){return nE(e,n.jc(i?4:3,t))}function nE(n,t){if(iq(n=(0,ie.m9)(n)))return SH("Unsupported field value:",t,n),nq(n,t);if(n instanceof eE)return function(e,i){if(!X8(i.kc))throw i.Uc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Uc(`${e._methodName}() is not currently supported inside arrays`);const l=e._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,i){const l=[];let h=0;for(const m of e){let v=nE(m,i.Bc(h));null==v&&(v={nullValue:"NULL_VALUE"}),l.push(v),h++}return{arrayValue:{values:l}}}(n,t)}return function(e,i){if(null===(e=(0,ie.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return e5(i.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const l=tl.fromDate(e);return{timestampValue:$I(i.N,l)}}if(e instanceof tl){const l=new tl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$I(i.N,l)}}if(e instanceof J1)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qg)return{bytesValue:C5(i.N,e._byteString)};if(e instanceof eo){const l=i.databaseId,h=e.firestore._databaseId;if(!h.isEqual(l))throw i.Uc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:WB(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Uc(`Unsupported field value: ${K1(e)}`)}(n,t)}function nq(n,t){const e={};return LY(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jb(n,(i,l)=>{const h=nE(l,t.Oc(i));null!=h&&(e[i]=h)}),{mapValue:{fields:e}}}function iq(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tl||n instanceof J1||n instanceof qg||n instanceof eo||n instanceof eE)}function SH(n,t,e){if(!iq(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=K1(e);throw t.Uc("an object"===i?n+" a custom object":n+" "+i)}var i}function DH(n,t,e){if((t=(0,ie.m9)(t))instanceof U_)return t._internalPath;if("string"==typeof t)return TH(n,t);throw tN("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const jde=new RegExp("[~\\*/\\[\\]]");function TH(n,t,e){if(t.search(jde)>=0)throw tN(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new U_(...t.split("."))._internalPath}catch(i){throw tN(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tN(n,t,e,i,l){const h=i&&!i.isEmpty(),m=void 0!==l;let v=`Function ${t}() called with invalid data`;e&&(v+=" (via `toFirestore()`)"),v+=". ";let E="";return(h||m)&&(E+=" (found",h&&(E+=` in field ${i}`),m&&(E+=` in document ${l}`),E+=")"),new dt(ze.INVALID_ARGUMENT,v+n+E)}function rq(n,t){return n.some(e=>e.isEqual(t))}class rx{constructor(t,e,i,l,h){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new eo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new zde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(nN("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class zde extends rx{data(){return super.data()}}function nN(n,t){return"string"==typeof t?TH(n,t):t instanceof U_?t._internalPath:t._delegate._internalPath}class iE{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class W_ extends rx{constructor(t,e,i,l,h,m){super(t,e,i,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(nN("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ox extends W_{data(t={}){return super.data(t)}}class qv{constructor(t,e,i,l){this._firestore=t,this._userDataWriter=e,this._snapshot=l,this.metadata=new iE(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ox(this._firestore,this._userDataWriter,i.key,i,new iE(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let h=0;return i._snapshot.docChanges.map(m=>({type:"added",doc:new ox(i._firestore,i._userDataWriter,m.doc.key,m.doc,new iE(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:h++}))}{let h=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const v=new ox(i._firestore,i._userDataWriter,m.doc.key,m.doc,new iE(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let E=-1,T=-1;return 0!==m.type&&(E=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:$de(m.type),doc:v,oldIndex:E,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $de(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cn()}}function oq(n,t){return n instanceof W_&&t instanceof W_?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof qv&&t instanceof qv&&n._firestore===t._firestore&&q8(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function sq(n){if(I1(n)&&0===n.explicitOrderBy.length)throw new dt(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}function Zv(n,...t){for(const e of t)n=e._apply(n);return n}class Yde extends sx{constructor(t,e,i){super(),this.Gc=t,this.zc=e,this.Hc=i,this.type="where"}_apply(t){const e=tE(t.firestore),i=function(l,h,m,v,E,T,M){let F;if(E.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new dt(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){hq(M,T);const K=[];for(const re of M)K.push(dq(v,l,re));F={arrayValue:{values:K}}}else F=dq(v,l,M)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||hq(M,T),F=tq(m,"where",M,"in"===T||"not-in"===T);const V=rc.create(E,T,F);return function(K,re){if(re.v()){const Pe=LB(K);if(null!==Pe&&!Pe.isEqual(re.field))throw new dt(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${re.field.toString()}'`);const Je=kB(K);null!==Je&&pq(0,re.field,Je)}const me=function(Pe,Je){for(const gt of Pe.filters)if(Je.indexOf(gt.op)>=0)return gt.op;return null}(K,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==me)throw new dt(ze.INVALID_ARGUMENT,me===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${me.toString()}' filters.`)}(l,V),V}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new _u(t.firestore,t.converter,function(l,h){const m=l.filters.concat([h]);return new G_(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(t._query,i))}}class Zde extends sx{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(i,l,h){if(null!==i.startAt)throw new dt(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new dt(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new SD(l,h);return function(v,E){if(null===kB(v)){const T=LB(v);null!==T&&pq(0,T,E.field)}}(i,m),m}(t._query,this.Gc,this.Jc);return new _u(t.firestore,t.converter,function(i,l){const h=i.explicitOrderBy.concat([l]);return new G_(i.path,i.collectionGroup,h,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class aq extends sx{constructor(t,e,i){super(),this.type=t,this.Yc=e,this.Xc=i}_apply(t){return new _u(t.firestore,t.converter,ZY(t._query,this.Yc,this.Xc))}}class lq extends sx{constructor(t,e,i){super(),this.type=t,this.Zc=e,this.ta=i}_apply(t){const e=cq(t,this.type,this.Zc,this.ta);return new _u(t.firestore,t.converter,(l=e,new G_((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)));var i,l}}class uq extends sx{constructor(t,e,i){super(),this.type=t,this.Zc=e,this.ta=i}_apply(t){const e=cq(t,this.type,this.Zc,this.ta);return new _u(t.firestore,t.converter,(l=e,new G_((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,l)));var i,l}}function cq(n,t,e,i){if(e[0]=(0,ie.m9)(e[0]),e[0]instanceof rx)return function(l,h,m,v,E){if(!v)throw new dt(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const T=[];for(const M of TD(l))if(M.field.isKeyField())T.push(E1(h,v.key));else{const F=v.data.field(M.field);if(OB(F))throw new dt(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const V=M.field.canonicalString();throw new dt(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(F)}return new GI(T,E)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const l=tE(n.firestore);return function(h,m,v,E,T,M){const F=h.explicitOrderBy;if(T.length>F.length)throw new dt(ze.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let K=0;K<T.length;K++){const re=T[K];if(F[K].field.isKeyField()){if("string"!=typeof re)throw new dt(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof re}`);if(!GB(h)&&-1!==re.indexOf("/"))throw new dt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${E}() must be a plain document ID, but '${re}' contains a slash.`);const me=h.path.child(tr.fromString(re));if(!sn.isDocumentKey(me))throw new dt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${E}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Pe=new sn(me);V.push(E1(m,Pe))}else{const me=tq(v,E,re);V.push(me)}}return new GI(V,M)}(n._query,n.firestore._databaseId,l,t,e,i)}}function dq(n,t,e){if("string"==typeof(e=(0,ie.m9)(e))){if(""===e)throw new dt(ze.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!GB(t)&&-1!==e.indexOf("/"))throw new dt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(tr.fromString(e));if(!sn.isDocumentKey(i))throw new dt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return E1(n,new sn(i))}if(e instanceof eo)return E1(n,e._key);throw new dt(ze.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${K1(e)}.`)}function hq(n,t){if(!Array.isArray(n)||0===n.length)throw new dt(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new dt(ze.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function pq(n,t,e){if(!e.isEqual(t))throw new dt(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class AH{convertValue(t,e="none"){switch($b(t)){case 0:return null;case 1:return t.booleanValue;case 2:return js(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bD(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw cn()}}convertObject(t,e){const i={};return jb(t.fields,(l,h)=>{i[l]=this.convertValue(h,e)}),i}convertGeoPoint(t){return new J1(js(t.latitude),js(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=GY(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(NI(t));default:return null}}convertTimestamp(t){const e=Bv(t);return new tl(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=tr.fromString(t);Mn(P5(i));const l=new ZD(i.get(1),i.get(3)),h=new sn(i.popFirst(5));return l.isEqual(e)||Ws(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),h}}function iN(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class ihe extends AH{constructor(t){super(),this.firestore=t}convertBytes(t){return new qg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new eo(this.firestore,null,e)}}class fq{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=tE(t)}set(t,e,i){this._verifyNotCommitted();const l=Kv(t,this._firestore),h=iN(l.converter,e,i),m=eN(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,i);return this._mutations.push(m.toMutation(l._key,zs.none())),this}update(t,e,i,...l){this._verifyNotCommitted();const h=Kv(t,this._firestore);let m;return m="string"==typeof(e=(0,ie.m9)(e))||e instanceof U_?EH(this._dataReader,"WriteBatch.update",h._key,e,i,l):bH(this._dataReader,"WriteBatch.update",h._key,e),this._mutations.push(m.toMutation(h._key,zs.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Kv(t,this._firestore);return this._mutations=this._mutations.concat(new WI(e._key,zs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kv(n,t){if((n=(0,ie.m9)(n)).firestore!==t)throw new dt(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rE extends AH{constructor(t){super(),this.firestore=t}convertBytes(t){return new qg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new eo(this.firestore,null,e)}}function gq(n,t,e){n=Fi(n,eo);const i=Fi(n.firestore,Mo),l=iN(n.converter,t,e);return KD(i,[eN(tE(i),"setDoc",n._key,l,null!==n.converter,e).toMutation(n._key,zs.none())])}function mq(n,t,e,...i){n=Fi(n,eo);const l=Fi(n.firestore,Mo),h=tE(l);let m;return m="string"==typeof(t=(0,ie.m9)(t))||t instanceof U_?EH(h,"updateDoc",n._key,t,e,i):bH(h,"updateDoc",n._key,t),KD(l,[m.toMutation(n._key,zs.exists(!0))])}function _q(n,...t){var e,i,l;n=(0,ie.m9)(n);let h={includeMetadataChanges:!1},m=0;"object"!=typeof t[m]||CH(t[m])||(h=t[m],m++);const v={includeMetadataChanges:h.includeMetadataChanges};if(CH(t[m])){const F=t[m];t[m]=null===(e=F.next)||void 0===e?void 0:e.bind(F),t[m+1]=null===(i=F.error)||void 0===i?void 0:i.bind(F),t[m+2]=null===(l=F.complete)||void 0===l?void 0:l.bind(F)}let E,T,M;if(n instanceof eo)T=Fi(n.firestore,Mo),M=DD(n._key.path),E={next:F=>{t[m]&&t[m](RH(T,n,F))},error:t[m+1],complete:t[m+2]};else{const F=Fi(n,_u);T=Fi(F.firestore,Mo),M=F._query;const V=new rE(T);E={next:K=>{t[m]&&t[m](new qv(T,V,F,K))},error:t[m+1],complete:t[m+2]},sq(n._query)}return function(F,V,K,re){const me=new q1(re),Pe=new GV(V,me,K);return F.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return PV(yield qD(F),Pe)})),()=>{me.ec(),F.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return FV(yield qD(F),Pe)}))}}(ba(T),M,v,E)}function KD(n,t){return function(e,i){const l=new el;return e.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(n,t,e){return WV.apply(this,arguments)}(yield _H(e),i,l)})),l.promise}(ba(n),t)}function RH(n,t,e){const i=e.docs.get(t._key),l=new rE(n);return new W_(n,l,t._key,i,new iE(e.hasPendingWrites,e.fromCache),t.converter)}class phe extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=tE(t)}get(t){const e=Kv(t,this._firestore),i=new ihe(this._firestore);return this._transaction.lookup([e._key]).then(l=>{if(!l||1!==l.length)return cn();const h=l[0];if(h.isFoundDocument())return new rx(this._firestore,i,h.key,h,e.converter);if(h.isNoDocument())return new rx(this._firestore,i,e._key,null,e.converter);throw cn()})}set(t,e,i){const l=Kv(t,this._firestore),h=iN(l.converter,e,i),m=eN(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,i);return this._transaction.set(l._key,m),this}update(t,e,i,...l){const h=Kv(t,this._firestore);let m;return m="string"==typeof(e=(0,ie.m9)(e))||e instanceof U_?EH(this._dataReader,"Transaction.update",h._key,e,i,l):bH(this._dataReader,"Transaction.update",h._key,e),this._transaction.update(h._key,m),this}delete(t){const e=Kv(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Kv(t,this._firestore),i=new rE(this._firestore);return super.get(t).then(l=>new W_(this._firestore,i,e._key,l._document,new iE(!1,!1),e.converter))}}function IH(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function yq(){if("undefined"==typeof Uint8Array)throw new dt("unimplemented","Uint8Arrays are not available in this environment.")}function vq(){if("undefined"==typeof atob)throw new dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){vD=Lu.SDK_VERSION,(0,Lu._registerComponent)(new Sd.wA("firestore",(e,{options:i})=>{const l=e.getProvider("app").getImmediate(),h=new Mo(l,new Kle(e.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:t},i),h._setSettings(i),h},"PUBLIC")),(0,Lu.registerVersion)(MY,"3.2.1",n),(0,Lu.registerVersion)(MY,"3.2.1","esm2017")}();class ax{constructor(t){this._delegate=t}static fromBase64String(t){return vq(),new ax(qg.fromBase64String(t))}static fromUint8Array(t){return yq(),new ax(qg.fromUint8Array(t))}toBase64(){return vq(),this._delegate.toBase64()}toUint8Array(){return yq(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xH(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class Ehe{enableIndexedDbPersistence(t,e){return function(n,t){Q8(n=Fi(n,Mo));const e=ba(n),i=n._freezeSettings(),l=new cH;return K8(e,l,new M8(l,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){Q8(n=Fi(n,Mo));const t=ba(n),e=n._freezeSettings(),i=new cH;return K8(t,i,new dde(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new dt(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new el;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{yield(e=(0,Ve.Z)(function*(i){if(!wf.bt())return Promise.resolve();const l=i+"main";yield wf.delete(l)}),function(i){return e.apply(this,arguments)})(nV(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Cq{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ZD||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&MI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var l;const h=(n=Fi(n,nx))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==t&&MI("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},h),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=Ol.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(l=n._app)||void 0===l?void 0:l.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new dt(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ol(E)}n._credentials=new Zle(new PY(m,v))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){const t=yield k8(n),e=yield L8(n);return t.setNetworkEnabled(!0),function(i){const l=Mt(i);return l.Wr.delete(0),ex(l)}(e)}))}(ba(n=Fi(n,Mo)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){const t=yield k8(n),e=yield L8(n);return t.setNetworkEnabled(!1),(i=(0,Ve.Z)(function*(l){const h=Mt(l);h.Wr.add(0),yield HD(h),h.Hr.set("Offline")}),function(l){return i.apply(this,arguments)})(e);var i}))}(ba(n=Fi(n,Mo)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,H8("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new el;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(n,t){return qV.apply(this,arguments)}(yield _H(t),e)})),e.promise}(ba(n=Fi(n,Mo)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new q1(t);return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return i=yield qD(n),l=e,Mt(i).so.add(l),void l.next();var i,l})),()=>{e.ec(),n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return i=yield qD(n),l=e,void Mt(i).so.delete(l);var i,l}))}}(ba(n=Fi(n,Mo)),CH(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new QD(this,$8(this._delegate,t))}catch(e){throw oc(e,"collection()","Firestore.collection()")}}doc(t){try{return new ep(this,Q1(this._delegate,t))}catch(e){throw oc(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new sc(this,function(n,t){if(n=Fi(n,nx),vH("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dt(ze.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _u(n,null,(e=t,new G_(tr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw oc(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new el;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){const i=yield(l=n,Z1(l).then(h=>h.datastore));var l;new fde(n.asyncQueue,i,t,e).run()})),e.promise}(ba(n=Fi(n,Mo)),e=>t(new phe(n,e)))}(this._delegate,e=>t(new wq(this,e)))}batch(){return ba(this._delegate),new bq(new fq(this._delegate,t=>KD(this._delegate,t)))}loadBundle(t){return function(n,t){const e=ba(n=Fi(n,Mo)),i=new Rde;return function(n,t,e,i){const l=function(h,m){let v;return v="string"==typeof h?(new TextEncoder).encode(h):h,E=function(E,T){if(E instanceof Uint8Array)return P8(E,T);if(E instanceof ArrayBuffer)return P8(new Uint8Array(E),T);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new hde(E,m);var E}(e,XI(t));n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){!function(n,t,e){const i=Mt(n);var l;(l=(0,Ve.Z)(function*(h,m,v){try{const E=yield m.getMetadata();if(yield function(V,K){const re=Mt(V),me=il(K.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Pe=>re.Je.getBundleMetadata(Pe,K.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(me)>=0)}(h.localStore,E))return yield m.close(),void v._completeWith((V=E,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));v._updateProgress(b8(E));const T=new Wce(E,h.localStore,m.N);let M=yield m.zo();for(;M;){const V=yield T.mo(M);V&&v._updateProgress(V),M=yield m.zo()}const F=yield T.complete();yield H_(h,F.En,void 0),yield function(V,K){const re=Mt(V);return re.persistence.runTransaction("Save bundle","readwrite",me=>re.Je.saveBundleMetadata(me,K))}(h.localStore,E),v._completeWith(F.progress)}catch(E){MI("SyncEngine",`Loading bundle failed with ${E}`),v._failWith(E)}var V}),function(h,m,v){return l.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield _H(n),l,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){return function(e,i){const l=Mt(e);return l.persistence.runTransaction("Get named query","readonly",h=>l.Je.getNamedQuery(h,i))}(yield mH(n),t)}))}(ba(n=Fi(n,Mo)),t).then(e=>e?new _u(n,null,e.query):null)}(this._delegate,t).then(e=>e?new sc(this,e):null)}}class rN extends AH{constructor(t){super(),this.firestore=t}convertBytes(t){return new ax(new qg(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ep.forKey(e,this.firestore,null)}}class wq{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new rN(t)}get(t){const e=sE(t);return this._delegate.get(e).then(i=>new lx(this._firestore,new W_(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const l=sE(t);return i?(IH("Transaction.set",i),this._delegate.set(l,e,i)):this._delegate.set(l,e),this}update(t,e,i,...l){const h=sE(t);return 2===arguments.length?this._delegate.update(h,e):this._delegate.update(h,e,i,...l),this}delete(t){const e=sE(t);return this._delegate.delete(e),this}}class bq{constructor(t){this._delegate=t}set(t,e,i){const l=sE(t);return i?(IH("WriteBatch.set",i),this._delegate.set(l,e,i)):this._delegate.set(l,e),this}update(t,e,i,...l){const h=sE(t);return 2===arguments.length?this._delegate.update(h,e):this._delegate.update(h,e,i,...l),this}delete(t){const e=sE(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class oE{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new ox(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ux(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=oE.INSTANCES;let l=i.get(t);l||(l=new WeakMap,i.set(t,l));let h=l.get(e);return h||(h=new oE(t,new rN(t),e),l.set(e,h)),h}}oE.INSTANCES=new WeakMap;class ep{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rN(t)}static forPath(t,e,i){if(t.length%2!=0)throw new dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ep(e,new eo(e._delegate,i,new sn(t)))}static forKey(t,e,i){return new ep(e,new eo(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new QD(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new QD(this.firestore,$8(this._delegate,t))}catch(e){throw oc(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ie.m9)(t))instanceof eo&&Y8(this._delegate,t)}set(t,e){e=IH("DocumentReference.set",e);try{return e?gq(this._delegate,t,e):gq(this._delegate,t)}catch(i){throw oc(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?mq(this._delegate,t):mq(this._delegate,t,e,...i)}catch(l){throw oc(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return KD(Fi(n.firestore,Mo),[new WI(n._key,zs.none())])}(this._delegate)}onSnapshot(...t){const e=Eq(t),i=Sq(t,l=>new lx(this.firestore,new W_(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return _q(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Fi(n,eo);const t=Fi(n.firestore,Mo),e=ba(t),i=new rE(t);return function(n,t){const e=new el;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(i=(0,Ve.Z)(function*(l,h,m){try{const v=yield function(E,T){const M=Mt(E);return M.persistence.runTransaction("read document","readonly",F=>M.Qn.An(F,T))}(l,h);v.isFoundDocument()?m.resolve(v):v.isNoDocument()?m.resolve(null):m.reject(new dt(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const E=jD(v,`Failed to get document '${h} from cache`);m.reject(E)}}),function(l,h,m){return i.apply(this,arguments)})(yield mH(n),t,e);var i})),e.promise}(e,n._key).then(l=>new W_(t,i,n._key,l,new iE(null!==l&&l.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Fi(n,eo);const t=Fi(n.firestore,Mo);return G8(ba(t),n._key,{source:"server"}).then(e=>RH(t,n,e))}(this._delegate):function(n){n=Fi(n,eo);const t=Fi(n.firestore,Mo);return G8(ba(t),n._key).then(e=>RH(t,n,e))}(this._delegate),e.then(i=>new lx(this.firestore,new W_(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ep(this.firestore,this._delegate.withConverter(t?oE.getInstance(this.firestore,t):null))}}function oc(n,t,e){return n.message=n.message.replace(t,e),n}function Eq(n){for(const t of n)if("object"==typeof t&&!xH(t))return t;return{}}function Sq(n,t){var e,i;let l;return l=xH(n[0])?n[0]:xH(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:h=>{l.next&&l.next(t(h))},error:null===(e=l.error)||void 0===e?void 0:e.bind(l),complete:null===(i=l.complete)||void 0===i?void 0:i.bind(l)}}class lx{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ep(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return oq(this._delegate,t._delegate)}}class ux extends lx{data(t){const e=this._delegate.data(t);return function(n,t){n||cn()}(void 0!==e),e}}class sc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rN(t)}where(t,e,i){try{return new sc(this.firestore,Zv(this._delegate,function(n,t,e){const i=t,l=nN("where",n);return new Yde(l,i,e)}(t,e,i)))}catch(l){throw oc(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new sc(this.firestore,Zv(this._delegate,function(n,t="asc"){const e=t,i=nN("orderBy",n);return new Zde(i,e)}(t,e)))}catch(i){throw oc(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new sc(this.firestore,Zv(this._delegate,function(n){return j8("limit",n),new aq("limit",n,"F")}(t)))}catch(e){throw oc(e,"limit()","Query.limit()")}}limitToLast(t){try{return new sc(this.firestore,Zv(this._delegate,function(n){return j8("limitToLast",n),new aq("limitToLast",n,"L")}(t)))}catch(e){throw oc(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new sc(this.firestore,Zv(this._delegate,function(...n){return new lq("startAt",n,!0)}(...t)))}catch(e){throw oc(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new sc(this.firestore,Zv(this._delegate,function(...n){return new lq("startAfter",n,!1)}(...t)))}catch(e){throw oc(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new sc(this.firestore,Zv(this._delegate,function(...n){return new uq("endBefore",n,!0)}(...t)))}catch(e){throw oc(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new sc(this.firestore,Zv(this._delegate,function(...n){return new uq("endAt",n,!1)}(...t)))}catch(e){throw oc(e,"endAt()","Query.endAt()")}}isEqual(t){return q8(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Fi(n,_u);const t=Fi(n.firestore,Mo),e=ba(t),i=new rE(t);return function(n,t){const e=new el;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(i=(0,Ve.Z)(function*(l,h,m){try{const v=yield U1(l,h,!0),E=new D8(h,v.Gn),T=E.bo(v.documents),M=E.applyChanges(T,!1);m.resolve(M.snapshot)}catch(v){const E=jD(v,`Failed to execute query '${h} against cache`);m.reject(E)}}),function(l,h,m){return i.apply(this,arguments)})(yield mH(n),t,e);var i})),e.promise}(e,n._query).then(l=>new qv(t,i,n,l))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Fi(n,_u);const t=Fi(n.firestore,Mo),e=ba(t),i=new rE(t);return B8(e,n._query,{source:"server"}).then(l=>new qv(t,i,n,l))}(this._delegate):function(n){n=Fi(n,_u);const t=Fi(n.firestore,Mo),e=ba(t),i=new rE(t);return sq(n._query),B8(e,n._query).then(l=>new qv(t,i,n,l))}(this._delegate),e.then(i=>new OH(this.firestore,new qv(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Eq(t),i=Sq(t,l=>new OH(this.firestore,new qv(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return _q(this._delegate,e,i)}withConverter(t){return new sc(this.firestore,this._delegate.withConverter(t?oE.getInstance(this.firestore,t):null))}}class Dhe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ux(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OH{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new sc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ux(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Dhe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ux(this._firestore,i))})}isEqual(t){return oq(this._delegate,t._delegate)}}class QD extends sc{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ep(this.firestore,t):null}doc(t){try{return new ep(this.firestore,void 0===t?Q1(this._delegate):Q1(this._delegate,t))}catch(e){throw oc(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Fi(n.firestore,Mo),i=Q1(n),l=iN(n.converter,t);return KD(e,[eN(tE(n.firestore),"addDoc",i._key,l,null!==n.converter,{}).toMutation(i._key,zs.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ep(this.firestore,e))}isEqual(t){return Y8(this._delegate,t._delegate)}withConverter(t){return new QD(this.firestore,this._delegate.withConverter(t?oE.getInstance(this.firestore,t):null))}}function sE(n){return Fi(n,eo)}class MH{constructor(...t){this._delegate=new U_(...t)}static documentId(){return new MH(Ml.keyField().canonicalString())}isEqual(t){return(t=(0,ie.m9)(t))instanceof U_&&this._delegate._internalPath.isEqual(t._internalPath)}}class aE{constructor(t){this._delegate=t}static serverTimestamp(){const t=new wH("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new aE(t)}static delete(){const t=new ix("deleteField");return t._methodName="FieldValue.delete",new aE(t)}static arrayUnion(...t){const e=function(...n){return new Hde("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new aE(e)}static arrayRemove(...t){const e=function(...n){return new Ude("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new aE(e)}static increment(t){const e=function(n){return new Wde("increment",n)}(t);return e._methodName="FieldValue.increment",new aE(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const The={Firestore:Cq,GeoPoint:J1,Timestamp:tl,Blob:ax,Transaction:wq,WriteBatch:bq,DocumentReference:ep,DocumentSnapshot:lx,Query:sc,QueryDocumentSnapshot:ux,QuerySnapshot:OH,CollectionReference:QD,FieldPath:MH,FieldValue:aE,setLogLevel:function(n){!function(n){Gv.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Dq(n,t){return function(n,t=bh.z){return new ji.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function PH(n,t){return Dq(n,t).pipe((0,Ct.U)(e=>({payload:e,type:"query"})))}function oN(n,t){return PH(n,t).pipe(Ar(void 0),bP(),(0,Ct.U)(([e,i])=>{const l=i.payload.docChanges(),h=l.map(m=>({type:m.type,payload:m}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((m,v)=>{const E=l.find(M=>M.doc.ref.isEqual(m.ref)),T=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(m.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(m.metadata)||!E&&T&&JSON.stringify(T.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:m}})}),h}))}function Tq(n,t,e){return oN(n,e).pipe(_s((i,l)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return NH(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return NH(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return NH(n,t.oldIndex,1)}return n}(n,i))}),n}(i,l.map(h=>h.payload),t),[]),Lc(),(0,Ct.U)(i=>i.map(l=>({type:l.type,payload:l}))))}function NH(n,t,e,...i){const l=n.slice();return l.splice(t,e,...i),l}function Aq(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new Sd.wA("firestore-compat",e=>((t,e)=>new Cq(t,e,new Ehe))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},The)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.6")}(KC.Z);class Rq{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=oN(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ct.U)(i=>i.filter(l=>t.indexOf(l.type)>-1)))),e.pipe(Ar(void 0),bP(),On(([i,l])=>l.length>0||!i),(0,Ct.U)(([i,l])=>l),ar.iC)}auditTrail(t){return this.stateChanges(t).pipe(_s((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Aq(t);return Tq(this.query,e,this.afs.schedulers.outsideAngular).pipe(ar.iC)}valueChanges(t={}){return PH(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ar.iC)}get(t){return(0,Ii.D)(this.query.get(t)).pipe(ar.iC)}add(t){return this.ref.add(t)}doc(t){return new Iq(this.ref.doc(t),this.afs)}}class Iq{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:l,query:h}=Mq(i,e);return new Rq(l,h,this.afs)}snapshotChanges(){return function(n,t){return Dq(n,t).pipe(Ar(void 0),bP(),(0,Ct.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ar.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Ii.D)(this.ref.get(t)).pipe(ar.iC)}}class Phe{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?oN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),On(e=>e.length>0),ar.iC):oN(this.query,this.afs.schedulers.outsideAngular).pipe(ar.iC)}auditTrail(t){return this.stateChanges(t).pipe(_s((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Aq(t);return Tq(this.query,e,this.afs.schedulers.outsideAngular).pipe(ar.iC)}valueChanges(t={}){return PH(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(i=>i.payload.docs.map(l=>t.idField?Object.assign({[t.idField]:l.id},l.data()):l.data())),ar.iC)}get(t){return(0,Ii.D)(this.query.get(t)).pipe(ar.iC)}}const xq=new a.OlP("angularfire2.enableFirestorePersistence"),Oq=new a.OlP("angularfire2.firestore.persistenceSettings"),Nhe=new a.OlP("angularfire2.firestore.settings"),Fhe=new a.OlP("angularfire2.firestore.use-emulator");function Mq(n,t=(e=>e)){return{query:t(n),ref:n}}let khe=(()=>{class n{constructor(e,i,l,h,m,v,E,T,M,F,V,K,re,me,Pe,Je,gt){this.schedulers=E;const Ut=(0,Ns.on)(e,v,i),Yt=M;F&&UC(Ut,v,V,re,me,Pe,K,Je),[this.firestore,this.persistenceEnabled$]=(0,Ns.cc)(`${Ut.name}.firestore`,"AngularFirestore",Ut.name,()=>{const ki=v.runOutsideAngular(()=>Ut.firestore());if(h&&ki.settings(h),Yt&&ki.useEmulator(...Yt),l&&!ea(m)){const Ur=()=>{try{return(0,Ii.D)(ki.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Ys){return"undefined"!=typeof console&&console.warn(Ys),(0,It.of)(!1)}};return[ki,v.runOutsideAngular(Ur)]}return[ki,(0,It.of)(!1)]},[h,Yt,l])}collection(e,i){let l;l="string"==typeof e?this.firestore.collection(e):e;const{ref:h,query:m}=Mq(l,i),v=this.schedulers.ngZone.run(()=>h);return new Rq(v,m,this)}collectionGroup(e,i){const l=i||(m=>m),h=this.firestore.collectionGroup(e);return new Phe(l(h),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const l=this.schedulers.ngZone.run(()=>i);return new Iq(l,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ns.Dh),a.LFG(Ns.xv,8),a.LFG(xq,8),a.LFG(Nhe,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ar.HU),a.LFG(Oq,8),a.LFG(Fhe,8),a.LFG(Bp,8),a.LFG(GC,8),a.LFG(BC,8),a.LFG(VC,8),a.LFG(Gp,8),a.LFG(HC,8),a.LFG(kc,8),a.LFG(Tm,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Lhe=(()=>{class n{constructor(){Vu.Z.registerVersion("angularfire",ar.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:xq,useValue:!0},{provide:Oq,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[khe]}),n})(),Ghe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[DX]}),n.\u0275inj=a.cJS({providers:[],imports:[[Nne,uD.withComponents([w6]),oh,vW,nT,yW,Ns.hO.initializeApp(Pj_firebase),Oie,_se,Zk,Gae,yX,li,Lhe,YH]]}),n})();(0,a.G48)(),Ui().bootstrapModule(Ghe).catch(n=>console.error(n))},3394:(kt,q,j)=>{"use strict";j.d(q,{Z:()=>rt});var a=j(3854),Q=j(3910),Z=j(8026),Re=j(5422);class Ae{constructor(Ue,xe){this._delegate=Ue,this.firebase=xe,(0,Z._addComponent)(Ue,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(Ue,xe=Z._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Ue);return!pt.isInitialized()&&"EXPLICIT"===(null===(ke=pt.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:xe})}_removeServiceInstance(Ue,xe=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(xe)}_addComponent(Ue){(0,Z._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,Z._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function we(){const qe=function(qe){const Ue={},xe={__esModule:!0,initializeApp:function(Wt,Oi={}){const gn=Z.initializeApp(Wt,Oi);if((0,a.r3)(Ue,gn.name))return Ue[gn.name];const fn=new qe(gn,xe);return Ue[gn.name]=fn,fn},app:pt,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function(Wt){const Oi=Wt.name,gn=Oi.replace("-compat","");if(Z._registerComponent(Wt)&&"PUBLIC"===Wt.type){const fn=(In=pt())=>{if("function"!=typeof In[gn])throw fe.create("invalid-app-argument",{appName:Oi});return In[gn]()};void 0!==Wt.serviceProps&&(0,a.ZB)(fn,Wt.serviceProps),xe[gn]=fn,qe.prototype[gn]=function(...In){return this._getService.bind(this,Oi).apply(this,Wt.multipleInstances?In:[])}}return"PUBLIC"===Wt.type?xe[gn]:null},removeApp:function(Wt){delete Ue[Wt]},useAsService:function(Wt,Oi){return"serverAuth"===Oi?null:Oi},modularAPIs:Z}};function pt(Wt){if(!(0,a.r3)(Ue,Wt=Wt||Z._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Wt});return Ue[Wt]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function(){return Object.keys(Ue).map(Wt=>Ue[Wt])}}),pt.App=qe,xe}(Ae);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function(xe){(0,a.ZB)(qe,xe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),qe}(),de=new Re.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=oe;(0,Z.registerVersion)("@firebase/app-compat","0.1.7",undefined)},8026:(kt,q,j)=>{"use strict";j.r(q),j.d(q,{FirebaseError:()=>Re.ZR,SDK_VERSION:()=>Ks,_DEFAULT_ENTRY_NAME:()=>Es,_addComponent:()=>qs,_addOrOverwriteComponent:()=>Zs,_apps:()=>Un,_clearComponents:()=>Li,_components:()=>$t,_getProvider:()=>fi,_registerComponent:()=>Po,_removeServiceInstance:()=>Fl,deleteApp:()=>hr,getApp:()=>vo,getApps:()=>lt,initializeApp:()=>yo,onLog:()=>en,registerVersion:()=>Rt,setLogLevel:()=>Ai});var a=j(8239),Q=j(3910),Z=j(5422),Re=j(3854);class Ae{constructor(Qt){this.container=Qt}getPlatformInfoString(){return this.container.getProviders().map(bn=>{if(function(qt){const Qt=qt.getComponent();return"VERSION"===(null==Qt?void 0:Qt.type)}(bn)){const En=bn.getImmediate();return`${En.library}/${En.version}`}return null}).filter(bn=>bn).join(" ")}}const fe="@firebase/app",we=new Z.Yd("@firebase/app"),Es="[DEFAULT]",Ss={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Un=new Map,$t=new Map;function qs(qt,Qt){try{qt.container.addComponent(Qt)}catch(bn){we.debug(`Component ${Qt.name} failed to register with FirebaseApp ${qt.name}`,bn)}}function Zs(qt,Qt){qt.container.addOrOverwriteComponent(Qt)}function Po(qt){const Qt=qt.name;if($t.has(Qt))return we.debug(`There were multiple attempts to register component ${Qt}.`),!1;$t.set(Qt,qt);for(const bn of Un.values())qs(bn,qt);return!0}function fi(qt,Qt){return qt.container.getProvider(Qt)}function Fl(qt,Qt,bn=Es){fi(qt,Qt).clearInstance(bn)}function Li(){$t.clear()}const ii=new Re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class dr{constructor(Qt,bn,En){this._isDeleted=!1,this._options=Object.assign({},Qt),this._config=Object.assign({},bn),this._name=bn.name,this._automaticDataCollectionEnabled=bn.automaticDataCollectionEnabled,this._container=En,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qt){this._isDeleted=Qt}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}const Ks="9.3.0";function yo(qt,Qt={}){"object"!=typeof Qt&&(Qt={name:Qt});const bn=Object.assign({name:Es,automaticDataCollectionEnabled:!1},Qt),En=bn.name;if("string"!=typeof En||!En)throw ii.create("bad-app-name",{appName:String(En)});const Lr=Un.get(En);if(Lr){if((0,Re.vZ)(qt,Lr.options)&&(0,Re.vZ)(bn,Lr.config))return Lr;throw ii.create("duplicate-app",{appName:En})}const Gn=new Q.H0(En);for(const jt of $t.values())Gn.addComponent(jt);const yt=new dr(qt,bn,Gn);return Un.set(En,yt),yt}function vo(qt=Es){const Qt=Un.get(qt);if(!Qt)throw ii.create("no-app",{appName:qt});return Qt}function lt(){return Array.from(Un.values())}function hr(qt){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(qt){const Qt=qt.name;Un.has(Qt)&&(Un.delete(Qt),yield Promise.all(qt.container.getProviders().map(bn=>bn.delete())),qt.isDeleted=!0)})).apply(this,arguments)}function Rt(qt,Qt,bn){var En;let Lr=null!==(En=Ss[qt])&&void 0!==En?En:qt;bn&&(Lr+=`-${bn}`);const Gn=Lr.match(/\s|\//),yt=Qt.match(/\s|\//);if(Gn||yt){const jt=[`Unable to register library "${Lr}" with version "${Qt}":`];return Gn&&jt.push(`library name "${Lr}" contains illegal characters (whitespace or "/")`),Gn&&yt&&jt.push("and"),yt&&jt.push(`version name "${Qt}" contains illegal characters (whitespace or "/")`),void we.warn(jt.join(" "))}Po(new Q.wA(`${Lr}-version`,()=>({library:Lr,version:Qt}),"VERSION"))}function en(qt,Qt){if(null!==qt&&"function"!=typeof qt)throw ii.create("invalid-log-argument");(0,Z.Am)(qt,Qt)}function Ai(qt){(0,Z.Ub)(qt)}Po(new Q.wA("platform-logger",Qt=>new Ae(Qt),"PRIVATE")),Rt(fe,"0.7.6",""),Rt(fe,"0.7.6","esm2017"),Rt("fire-js","")},3910:(kt,q,j)=>{"use strict";j.d(q,{wA:()=>Z,H0:()=>ye,zt:()=>Ae});var a=j(8239),Q=j(3854);class Z{constructor(oe,de,he){this.name=oe,this.instanceFactory=de,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const Re="[DEFAULT]";class Ae{constructor(oe,de){this.name=oe,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const de=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(de)){const he=new Q.BH;if(this.instancesDeferred.set(de,he),this.isInitialized(de)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:de});Ne&&he.resolve(Ne)}catch(Ne){}}return this.instancesDeferred.get(de).promise}getImmediate(oe){var de;const he=this.normalizeInstanceIdentifier(null==oe?void 0:oe.identifier),Ne=null!==(de=null==oe?void 0:oe.optional)&&void 0!==de&&de;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Xe){if(Ne)return null;throw Xe}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if("EAGER"===oe.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Re})}catch(de){}for(const[de,he]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(de);try{const Xe=this.getOrInitializeService({instanceIdentifier:Ne});he.resolve(Xe)}catch(Xe){}}}}clearInstance(oe=Re){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,a.Z)(function*(){const de=Array.from(oe.instances.values());yield Promise.all([...de.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...de.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=Re){return this.instances.has(oe)}getOptions(oe=Re){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:de={}}=oe,he=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:he,options:de});for(const[Xe,rt]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Xe)&&rt.resolve(Ne);return Ne}onInit(oe,de){var he;const Ne=this.normalizeInstanceIdentifier(de),Xe=null!==(he=this.onInitCallbacks.get(Ne))&&void 0!==he?he:new Set;Xe.add(oe),this.onInitCallbacks.set(Ne,Xe);const rt=this.instances.get(Ne);return rt&&oe(rt,Ne),()=>{Xe.delete(oe)}}invokeOnInitCallbacks(oe,de){const he=this.onInitCallbacks.get(de);if(he)for(const Ne of he)try{Ne(oe,de)}catch(Xe){}}getOrInitializeService({instanceIdentifier:oe,options:de={}}){let he=this.instances.get(oe);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(we=oe,we===Re?void 0:we),options:de}),this.instances.set(oe,he),this.instancesOptions.set(oe,de),this.invokeOnInitCallbacks(he,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,he)}catch(Ne){}var we;return he||null}normalizeInstanceIdentifier(oe=Re){return this.component?this.component.multipleInstances?oe:Re:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const de=this.getProvider(oe.name);if(de.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);de.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const de=new Ae(oe,this);return this.providers.set(oe,de),de}getProviders(){return Array.from(this.providers.values())}}},5422:(kt,q,j)=>{"use strict";j.d(q,{in:()=>Q,Yd:()=>fe,Ub:()=>ye,Am:()=>we});const a=[];var Q=(()=>{return(oe=Q||(Q={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",Q;var oe})();const Z={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Re=Q.INFO,Ae={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},be=(oe,de,...he)=>{if(de<oe.logLevel)return;const Ne=(new Date).toISOString(),Xe=Ae[de];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Xe](`[${Ne}]  ${oe.name}:`,...he)};class fe{constructor(de){this.name=de,this._logLevel=Re,this._logHandler=be,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in Q))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?Z[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...de),this._logHandler(this,Q.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...de),this._logHandler(this,Q.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...de),this._logHandler(this,Q.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...de),this._logHandler(this,Q.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...de),this._logHandler(this,Q.ERROR,...de)}}function ye(oe){a.forEach(de=>{de.setLogLevel(oe)})}function we(oe,de){for(const he of a){let Ne=null;de&&de.level&&(Ne=Z[de.level]),he.userLogHandler=null===oe?null:(Xe,rt,...qe)=>{const Ue=qe.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch(ke){return null}}).filter(xe=>xe).join(" ");rt>=(null!=Ne?Ne:Xe.logLevel)&&oe({level:Q[rt].toLowerCase(),message:Ue,args:qe,type:Xe.name})}}}},8239:(kt,q,j)=>{"use strict";function a(Z,Re,Ae,be,fe,ye,we){try{var oe=Z[ye](we),de=oe.value}catch(he){return void Ae(he)}oe.done?Re(de):Promise.resolve(de).then(be,fe)}function Q(Z){return function(){var Re=this,Ae=arguments;return new Promise(function(be,fe){var ye=Z.apply(Re,Ae);function we(de){a(ye,be,fe,we,oe,"next",de)}function oe(de){a(ye,be,fe,we,oe,"throw",de)}we(void 0)})}}j.d(q,{Z:()=>Q})}},kt=>{kt(kt.s=9770)}]);